!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.CamundaTasklistUi=a()}}(function(){var define,module,exports;return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";b.exports=["$animate","$rootScope",function(a,b){return{transclude:"element",priority:1e3,terminal:!0,restrict:"A",compile:function(c,d,e){return function(c,d){function f(b){g&&(a.leave(g),g=void 0),h&&(h.$destroy(),h=void 0),b&&(h=c.$new(),e(h,function(b){g=b,a.enter(b,d.parent(),d)}))}var g,h;c.$on("authentication.changed",function(a,b){f(b)}),f(b.authentication)}}}}]},{}],2:[function(a,b,c){"use strict";b.exports=["$animate","$rootScope",function(a,b){return{transclude:"element",priority:1e3,terminal:!0,restrict:"A",compile:function(c,d,e){return function(c,d){function f(b){g&&(a.leave(g),g=void 0),h&&(h.$destroy(),h=void 0),b&&(h=c.$new(),e(h,function(b){g=b,a.enter(b,d.parent(),d)}))}var g,h;c.$on("authentication.changed",function(a,b){f(!b)}),f(!b.authentication)}}}}]},{}],3:[function(a,b,c){"use strict";var d=a("camunda-bpm-sdk-js/vendor/angular");a("angular-route"),a("angular-resource"),a("angular-translate");var e=a("../util/index"),f=a("./page/login"),g=a("./directives/camIfLoggedIn"),h=a("./directives/camIfLoggedOut"),i=a("./service/authenticationService"),j=d.module("cam.commons.auth",[d.module("ngRoute").name,e.name,"pascalprecht.translate"]);j.config(f).run(["$rootScope","$location",function(a,b){var c;a.$on("authentication.login.required",function(d){a.$evalAsync(function(){var a=b.url();"/login"===a||d.defaultPrevented||(c=a,b.url("/login"))})}),a.$on("authentication.login.success",function(d){a.$evalAsync(function(){d.defaultPrevented||(b.url(c||"/").replace(),c=null)})})}]).run(["$cacheFactory","$rootScope","$location","$timeout","Notifications","$translate",function(a,b,c,d,e,f){b.$on("authentication.logout.success",function(g){b.$evalAsync(function(){g.defaultPrevented||(a.get("$http").removeAll(),c.url("/login"))}),d(function(){var a=function(){var a=new Date;if(a.getDay()>=5)return"AUTH_DAY_CONTEXT_WEEKEND";var b=a.getHours();switch(!0){case b>=4&&b<7:return"AUTH_DAY_CONTEXT_MORNING";case b>=7&&b<12:return"AUTH_DAY_CONTEXT_DAY";case b>=12&&b<17:return"AUTH_DAY_CONTEXT_AFTERNOON";case b>=17&&b<22:return"AUTH_DAY_CONTEXT_EVENING";case b>=22||b<4:return"AUTH_DAY_CONTEXT_NIGHT"}return"AUTH_DAY_CONTEXT_DAY"};e.addMessage({status:f.instant("AUTH_LOGOUT_SUCCESSFUL"),message:f.instant("AUTH_LOGOUT_THANKS",{dayContext:f.instant(a())}),exclusive:!0})})})}]).run(["$rootScope","Notifications","$translate","shouldDisplayAuthenticationError",function(a,b,c,d){a.$on("authentication.login.required",function(){d()&&b.addError({status:c.instant("AUTH_FAILED_TO_DISPLAY_RESOURCE"),message:c.instant("AUTH_AUTHENTICATION_FAILED"),http:!0,exclusive:["http"]})})}]).run(["AuthenticationService",function(){}]).directive("camIfLoggedIn",g).directive("camIfLoggedOut",h).service("AuthenticationService",i),b.exports=j},{"../util/index":41,"./directives/camIfLoggedIn":1,"./directives/camIfLoggedOut":2,"./page/login":4,"./service/authenticationService":5,"angular-resource":"angular-resource","angular-route":"angular-route","angular-translate":"angular-translate","camunda-bpm-sdk-js/vendor/angular":114}],4:[function(a,b,c){"use strict";var d='<!-- # CE - camunda-commons-ui/lib/auth/page/login.html -->\n<div class="form-signin-container">\n  <form class="form-signin"\n        ng-submit="login()"\n        name="signinForm"\n        request-aware>\n    <h2 class="form-signin-heading">\n      {{ \'PAGE_LOGIN_PLEASE_SIGN_IN\' | translate }}\n    </h2>\n\n    <div notifications-panel\n         ng-if="signinForm.$dirty"\n         class="notifications-panel"></div>\n\n    <input autofocus\n           tabindex="1"\n           type="text"\n           class="form-control"\n           placeholder="{{ \'PAGE_LOGIN_USERNAME\' | translate }}"\n           auto-fill\n           required\n           ng-model="username"></input>\n    <input tabindex="2"\n           type="password"\n           class="form-control"\n           placeholder="{{ \'PAGE_LOGIN_PASSWORD\' | translate }}"\n           auto-fill\n           required\n           ng-model="password"></input>\n    <button tabindex="3"\n            class="btn btn-lg btn-primary"\n            type="submit">{{ \'PAGE_LOGIN_SIGN_IN_ACTION\' | translate }}</button>\n  </form>\n</div>\n<!-- / CE - camunda-commons-ui/lib/auth/page/login.html -->\n',e=a("jquery"),f=["$scope","$rootScope","AuthenticationService","Notifications","$location","$translate",function(a,b,c,d,f,g){if(b.authentication)return f.path("/");b.showBreadcrumbs=!1;var h=e('form[name="signinForm"] [autofocus]')[0];h&&h.focus(),a.login=function(){return c.login(a.username,a.password).then(function(){d.clearAll()})["catch"](function(b){delete a.username,delete a.password,d.addError({status:g.instant("PAGE_LOGIN_FAILED"),message:b.data&&b.data.message||g.instant("PAGE_LOGIN_ERROR_MSG"),scope:a,exclusive:!0})})}}];b.exports=["$routeProvider",function(a){a.when("/login",{template:d,controller:f})}]},{jquery:"jquery"}],5:[function(a,b,c){"use strict";a("camunda-bpm-sdk-js/vendor/angular");var d=a("jquery"),e=a("../util/authentication");b.exports=["$rootScope","$q","$http","Uri",function(a,b,c,f){function g(b,c,d){a.$broadcast(b,c,d)}function h(a){if(200!==a.status)return b.reject(a);var c=a.data;return new e({name:c.userId,authorizedApps:c.authorizedApps})}function i(b){a.authentication=b,g("authentication.changed",b)}this.updateAuthentication=i,this.login=function(a,e){function j(a){return i(a),g("authentication.login.success",a),a}function k(a){return g("authentication.login.failure",a),b.reject(a)}var l=d.param({username:a,password:e});return c({method:"POST",url:f.appUri("admin://auth/user/:engine/login/:appName"),data:l,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(h).then(j,k)},this.logout=function(){function a(a){i(null),g("authentication.logout.success",a)}function d(a){return g("authentication.logout.failure",a),b.reject(a)}return c.post(f.appUri("admin://auth/user/:engine/logout")).then(a,d)};var j;a.$on("authentication.changed",function(a,c){j=b[c?"when":"reject"](c)}),this.getAuthentication=function(){function d(a){return i(a),a}return j||(j=a.authentication?b.when(a.authentication):c.get(f.appUri("admin://auth/user/:engine")).then(h).then(d)),j},a.$on("$routeChangeStart",function(a,c){c.authentication&&(c.resolve||(c.resolve={}),c.resolve.authentication||(c.resolve.authentication=["AuthenticationService",function(a){return a.getAuthentication()["catch"](function(a){return"optional"===c.authentication?null:(g("authentication.login.required",c),b.reject(a))})}]))})}]},{"../util/authentication":6,"camunda-bpm-sdk-js/vendor/angular":114,jquery:"jquery"}],6:[function(a,b,c){"use strict";function d(a){e.extend(this,a)}var e=a("camunda-bpm-sdk-js/vendor/angular");d.prototype.canAccess=function(a){return this.authorizedApps&&this.authorizedApps.indexOf(a)!==-1},b.exports=d},{"camunda-bpm-sdk-js/vendor/angular":114}],7:[function(a,b,c){"use strict";function d(a,b){var c=Math.ceil(a/b),d=""+c;return c=(parseInt(d[0],10)+1)*Math.pow(10,d.length-1),c*b}function e(){}function f(a){this.moment=a.moment,this.abbreviateNumber=a.abbreviateNumber,this.resize(a.width,a.height,a.disableSelection),this.lineColors=a.lineColors,this.rulersColor=a.rulersColor||"#666",this.selectingColor=a.selectingColor||"rgba(0,0,64,0.1)",this.unselectedColor=a.unselectedColor||"rgba(0,0,0,0.1)",this.handleColorHover=a.handleColorHover||"#999",this.handleColor=a.handleColor||"#aaa",this.fontSize=a.fontSize||12,this.fontFamily=a.fontFamily||"Arial",this.lineWidth=a.lineWidth||1,this.isLogScale=a.isLogScale||!1,this.valueLabelsCount=a.valueLabelsCount||8,this.timespan=a.timespan||"day",this.interval=a.interval||900,this.handleWidth=a.handleWidth||4,this.timestampFormat=a.timestampFormat||"YYYY-MM-DDTHH:mm:ss",this.timeLabelFormats=a.timeLabelFormats||{day:"HH:mm",week:"dd DD",month:"DD MMM"},this.tickSize=a.tickSize||10,this.textPadding=a.textPadding||3,this.onselection=a.onselection||e}b.exports=f;var g=f.prototype;g._mouseIsDown=!1,g._selectedIn=null,g._selectedOut=null,g._eventHandlers={},g._eventHandlers.mouseout=function(a){this.drawMouseHint().drawSelection(a)},g._eventHandlers.mousemove=function(a){var b=this.cursorPosition(a);this._hoveredSelectionHandle=this.hoveredSelectionHandle(a),this.canvas.style.cursor=this._hoveredSelectionHandle?"ew-resize":"default","in"===this._grabbedSelectionHandle?this._selectedIn=b.left:"out"===this._grabbedSelectionHandle&&(this._selectedOut=b.left),this.drawMouseHint(b.left,b.top).drawSelection(a)},g._eventHandlers.mousedown=function(a){var b=this.cursorPosition(a),c=this.verticalScaleX(),d=this.innerW();this._hoveredSelectionHandle=this.hoveredSelectionHandle(a),this.canvas.style.cursor=this._hoveredSelectionHandle?"ew-resize":"default",this._hoveredSelectionHandle?this._grabbedSelectionHandle=this._hoveredSelectionHandle:(this._mouseIsDown||(this._selectedIn=Math.min(Math.max(b.left,c),c+d),this._selectedOut=null),this._mouseIsDown=!0),this.drawMouseHint(b.left,b.top).drawSelection(a)},g._eventHandlers.mouseup=function(a){var b=this.cursorPosition(a),c=this.verticalScaleX(),d=this.innerW();this._grabbedSelectionHandle&&(this._grabbedSelectionHandle=!1),this._mouseIsDown&&(this._selectedOut=Math.max(Math.min(b.left,c+d),c)),this._mouseIsDown=!1,Math.abs(this._selectedIn-this._selectedOut)<=1&&(this._selectedIn=this._selectedOut=null,this.onselection({start:null,end:null,"in":null,out:null})),this.drawMouseHint(b.left,b.top).drawSelection(a),this._selectedIn&&this._selectedOut&&this.onselection({start:this.momentAtX(this._selectedIn),end:this.momentAtX(this._selectedOut),"in":this._selectedIn,out:this._selectedOut})},g._eventHandlers.wheel=function(a){if(this._selectedIn&&this._selectedOut){a.preventDefault();var b=this.cursorPosition(a),c=this.ctx;c.clearRect(0,0,this.canvas.width,this.canvas.height);var d=Math.max(Math.round(Math.abs(this._selectedOut-this._selectedIn)/10),1);a.deltaY>0?(this._selectedIn+=d,this._selectedOut-=d):(this._selectedIn-=d,this._selectedOut+=d),this.drawMouseHint(b.left,b.top).drawSelection(a),this.onselection({start:this.momentAtX(this._selectedIn),end:this.momentAtX(this._selectedOut),"in":this._selectedIn,out:this._selectedOut})}},g.cursorPosition=function(a){var b=this.canvas.getBoundingClientRect();return{left:a.clientX-b.left,top:a.clientY-b.top}},g.bindEvents=function(){return Object.keys(g._eventHandlers).forEach(function(a){this.canvas.addEventListener(a,g._eventHandlers[a].bind(this),!1)},this),this},g.unbindEvents=function(){return Object.keys(g._eventHandlers).forEach(function(a){this.canvas.removeEventListener(a,g._eventHandlers[a].bind(this),!1)},this),this},g._clearCache=function(){this._verticalLabels=null,this._verticalScaleX=null,this._horizontalScaleY=null,this._innerW=null,this._innerH=null,this._selectedIn=null,this._selectedOut=null},g.resize=function(a,b,c){return this._clearCache(),this.canvas||(this.canvas=document.createElement("canvas"),this.offCanvas=document.createElement("canvas"),!c&&this.bindEvents()),this.canvas.width=this.offCanvas.width=a,this.canvas.height=this.offCanvas.height=b,this.ctx=this.canvas.getContext("2d"),this.offCtx=this.offCanvas.getContext("2d"),this._selectedIn=null,this._selectedOut=null,"function"==typeof this.onselection&&this.onselection({start:null,end:null,"in":null,out:null}),this},g.max=function(a){var b=0;return arguments.length?((this.data[a]||[]).forEach(function(a){b=Math.max(a.value,b)},this),b):((this.data||[]).forEach(function(a,c){b=Math.max(b,this.max(c))},this),b)},g.min=function(a){var b=this.max();return arguments.length?(b=this.max(a),(this.data[a]||[]).forEach(function(a){b=Math.min(a.value,b)},this),b):((this.data||[]).forEach(function(a,c){b=Math.min(b,this.min(c))},this),b)},g.momentAtX=function(a){var b=this.moment,c=this.labelFrom,d=this.labelTo,e=d-c,f=e/this.innerW();return b(f*(a-this.verticalScaleX())+this.labelFrom)},g.valueAtY=function(a){return a},g.setData=function(a,b,c){this._clearCache();var e=this.moment,f=this.abbreviateNumber;this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.offCtx.clearRect(0,0,this.offCanvas.width,this.offCanvas.height),b&&(this.timespan=b),c&&(this.interval=c);var g=e(),h=[[{value:0,timestamp:g.format(this.dateformat)}]];a&&a.length&&a[0]||(a=h),this.data=a;var i,j,k=this.timespan,l=this.timestampFormat,m=this.max(),n=d(m,this.valueLabelsCount),o=this.timeLabelFormats;this.isLogScale&&(this.valueLabelsCount=this.maxLog()+1),this.valueLabels=[];for(var p=this.valueLabelsCount;p>=0;p--)j=this.isLogScale?p&&Math.pow(10,p-1):f(p*n/this.valueLabelsCount)||0,this.valueLabels.push(j);if(this.timeLabels=[],a.length&&a[0]&&a[0].length&&a[0][0].timestamp){var q=e(),r=this.labelTo=q.clone();"day"===k?r.startOf("hour").add(1,"hour"):"week"===k?r.startOf("day").add(1,"day"):"month"===k&&r.startOf("week").add(1,"week");var s,t,u=this.labelFrom=r.clone().subtract(1,k),v=1;"day"===k?(s=12,t="hour",v=2):"week"===k?(s=7,t="day"):"month"===k&&(s=4,t="week");for(var w=0;w<=s;w++)this.timeLabels.push(u.clone().add(w*v,t).format(o[k]))}return this.data=a.map(function(a){a&&a.length||(a=[{value:0}]),1===a.length&&(a=[a[0],a[0]]);var b=e(a[a.length-1].timestamp,l),c=b-i;return a.map(function(a){var d=e(a.timestamp,l);return a.positionPercent=(b-d)/c,a})}),this.draw()},g._verticalLabels=null,g.verticalLabels=function(){if(this._verticalLabels)return this._verticalLabels;var a=this.ctx,b=this.timeLabels,c=this.textPadding,d=0,e=this.innerW();return b.forEach(function(b){d+=a.measureText(b).width+2*c}),this._verticalLabels=d>e,this._verticalLabels},g._innerW=null,g.innerW=function(){if(this._innerW)return this._innerW;var a=this.lineWidth,b=Math.max(2*a,10),c=this.ctx,d=c.canvas.width,e=0,f=this.textPadding,g=this.timeLabels;return g.forEach(function(a){e=Math.max(e,c.measureText(a).width+2*f)}),this._innerW=d-(b+this.verticalScaleX()),this.verticalLabels()||(this._innerW-=e/2),this._innerW},g._innerH=null,g.innerH=function(){if(this._innerH)return this._innerH;var a=this.lineWidth,b=Math.max(2*a,10),c=this.ctx,d=c.canvas.height;return this._innerH=d-(b+this.horizontalScaleY()),this._innerH},g._verticalScaleX=null,g.verticalScaleX=function(){if(this._verticalScaleX)return this._verticalScaleX;var a=0,b=this.ctx,c=this.valueLabels,d=this.textPadding,e=this.tickSize;return c.forEach(function(c){a=Math.max(a,b.measureText(c||"0").width+4*d+e)}),a=Math.round(Math.max(a,e+d))+.5,this._verticalScaleX=a,a},g._horizontalScaleY=null,g.horizontalScaleY=function(){if(this._horizontalScaleY)return this._horizontalScaleY;var a=this.ctx,b=this.timeLabels,c=this.fontSize,d=this.tickSize,e=this.textPadding,f=this.verticalLabels(),g=0;return f?(b.forEach(function(b){g=Math.max(g,a.measureText(b).width+4*e+d)}),g=Math.round(Math.max(g,d+e))):g=c+2*e+d,this._horizontalScaleY=g,g},g.drawMouseHint=function(a,b){var c=this.ctx,d=this.innerW(),e=c.canvas.height,f=c.canvas.width,g=Math.max(2*this.lineWidth,10),h=this.verticalScaleX(),i=this.horizontalScaleY(),j=this.tickSize;if(c.strokeStyle=this.rulersColor,c.fillStyle=this.rulersColor,c.lineWidth=1,c.lineCap="round",c.lineJoin="round",c.font=this.fontSize+"px "+this.fontFamily,c.clearRect(0,0,f,e),c.drawImage(this.offCanvas,0,0,f,e,0,0,f,e),a&&a>h&&a<=h+d){var k=this.momentAtX(a).format(this.timestampFormat),l=c.measureText(k).width+2*g,m=a+l>f-g?f-(g+l):a,n=b>g?b:g;c.fillText(k,m,n),c.beginPath(),c.moveTo(a+.5,e-(i+j)),c.lineTo(a+.5,e-i),c.stroke(),c.closePath()}return this},g.drawSelection=function(a){var b=this.ctx,c=this.innerH(),d=this.innerW(),e=this.verticalScaleX(),f=Math.max(2*this.lineWidth,10),g=this.cursorPosition(a),h=this.handleWidth,i=this.selectingColor,j=this.unselectedColor,k=b.fillStyle;if(this._mouseIsDown)return b.fillStyle=i,this._selectedIn<g.left?b.fillRect(this._selectedIn,f,Math.min(g.left-this._selectedIn,e+d-this._selectedIn),c):b.fillRect(Math.max(g.left,e),f,Math.min(this._selectedIn-g.left,d),c),b.fillStyle=k,this;if(this._selectedIn&&this._selectedOut){var l=b.lineWidth,m=b.strokeStyle;if(this._selectedIn<e&&(this._selectedIn=e),this._selectedOut>e+d&&(this._selectedOut=e+d),b.fillStyle=j,this._selectedOut&&this._selectedIn>this._selectedOut){var n=this._selectedOut;this._selectedOut=this._selectedIn,this._selectedIn=n}b.fillRect(e,f,this._selectedIn-e,c),b.fillRect(this._selectedOut,f,d+e-this._selectedOut,c),b.beginPath(),b.moveTo(this._selectedIn+.5,c+f),b.lineTo(this._selectedIn+.5,f+.5),b.lineTo(this._selectedOut+.5,f+.5),b.lineTo(this._selectedOut+.5,c+f),b.stroke(),b.lineWidth=h+2,b.strokeStyle=this.rulersColor,b.beginPath(),b.moveTo(this._selectedIn,f+10),b.lineTo(this._selectedIn,80),b.stroke(),b.closePath(),b.lineWidth=h,b.strokeStyle="in"===this._hoveredSelectionHandle?this.handleColorHover:this.handleColor,b.beginPath(),b.moveTo(this._selectedIn,f+10),b.lineTo(this._selectedIn,80),b.stroke(),b.lineWidth=h+2,b.strokeStyle="#333",b.beginPath(),b.moveTo(this._selectedOut,f+10),b.lineTo(this._selectedOut,80),b.stroke(),b.closePath(),b.lineWidth=h,b.strokeStyle="out"===this._hoveredSelectionHandle?this.handleColorHover:this.handleColor,b.beginPath(),b.moveTo(this._selectedOut,f+10),b.lineTo(this._selectedOut,80),b.stroke(),b.lineWidth=l,b.fillStyle=k,b.strokeStyle=m}return this},g.hoveredSelectionHandle=function(a){if(!this._selectedIn||!this._selectedOut)return!1;var b=this.cursorPosition(a),c=this.ctx,d=Math.max(2*this.lineWidth,10),e=!1,f=this.handleWidth+4,g=c.lineWidth,h=c.strokeStyle;return c.lineWidth=1,c.strokeStyle="rgba(0,0,0,0)",c.beginPath(),c.rect(this._selectedIn-f/2,d+10,f,80),c.stroke(),c.closePath(),c.isPointInPath(b.left,b.top)&&(e="in"),c.beginPath(),c.rect(this._selectedOut-f/2,d+10,f,80),c.stroke(),c.closePath(),c.isPointInPath(b.left,b.top)&&(e="out"),c.lineWidth=g,c.strokeStyle=h,e},g.maxLog=function(){var a=this.max()||1;return Math.ceil(Math.log10(a))},g.drawRulers=function(){var a,b,c,d,e,f,g=this.offCtx,h=this.lineWidth,i=Math.max(2*h,10),j=this.abbreviateNumber,k=this.timeLabels,l=this.valueLabels,m=g.canvas.height,n=this.textPadding,o=this.tickSize,p=this.verticalScaleX(),q=this.horizontalScaleY(),r=this.innerW(),s=this.innerH(),t=this.verticalLabels();g.strokeStyle=this.rulersColor,g.fillStyle=this.rulersColor,g.lineWidth=1,g.lineCap="round",g.lineJoin="round",g.font=this.fontSize+"px "+this.fontFamily;var u=m-q+.5;for(g.beginPath(),g.moveTo(p-o,u),g.lineTo(p+r,u),g.stroke(),g.beginPath(),g.moveTo(p,i),g.lineTo(p,u+o),g.stroke(),t?(g.textAlign="right",g.textBaseline="middle"):(g.textAlign="center",g.textBaseline="top"),k.forEach(function(a,b){var c=p+b*(r/(k.length-1));g.beginPath(),g.moveTo(c,u),g.lineTo(c,u+o),g.stroke(),t?(g.save(),g.translate(c,m-(q-(o+n))),g.rotate(-Math.PI/2),g.fillText(k[b],0,0),g.restore()):g.fillText(k[b],c,m-(q-(o+n)))}),a=s/(l.length-1),d=this.maxLog(),g.textAlign="right",g.textBaseline="middle",b=0;b<l.length;b++)c=l[b],this.isLogScale?(e=c&&s/(d+1)*(Math.log10(c)+1),f=s-e+i):f=Math.round(i+a*b)-.5,g.fillText(j(c)||0,p-(o+n),f),b<l.length-1&&(g.beginPath(),g.moveTo(p-o,f),g.lineTo(p,f),g.stroke());return this},g.draw=function(){function a(a){if(!a)return q;var b=a&&l/(t+1)*(Math.log10(a)+1);return r?l-b+f:l-l/u*a+f}function b(a){return i+(a-m)/o*k}var c=this.offCtx,e=this.lineWidth,f=Math.max(2*e,10),g=c.canvas.width,h=c.canvas.height,i=this.verticalScaleX(),j=this.horizontalScaleY(),k=this.innerW(),l=this.innerH();c.clearRect(0,0,g,h);var m=this.labelFrom,n=this.labelTo,o=n-m,p=this.interval,q=h-j+.5,r=this.isLogScale,s=this.max(),t=this.maxLog(),u=d(s,this.valueLabelsCount);return this.data.forEach(function(d,f){var g,k,l,n,o=this.moment,q=this.lineColors[f];c.lineWidth=e,c.strokeStyle=q,c.beginPath(),d.forEach(function(d,e){return l=o(d.timestamp),l<=m?void(n=d):(0===e&&l>m&&(c.moveTo(i,h-j),c.lineTo(b(l.clone().subtract(p,"seconds")),h-j)),n&&(g=i,k=a(n.value),c.lineTo(g,k),n=null),g=b(l),k=a(d.value),void c.lineTo(g,k))}),o()-l>=1e3*p&&(g=b(l.clone().add(p,"seconds")),k=h-j,c.lineTo(g,k),g=b(o()),c.lineTo(g,k)),c.stroke(),c.closePath(),d.length>=1&&(c.beginPath(),c.fillStyle=q,c.arc(g,k,2*e,0,2*Math.PI),c.fill(),c.closePath())},this),this.ctx.drawImage(this.offCanvas,0,0,g,h,0,0,g,h),this.drawRulers().drawMouseHint()},g.remove=function(){this.unbindEvents(),this.canvas.parentNode.removeChild(this.canvas)}},{}],8:[function(a,b,c){"use strict";b.exports=["$interval",function(a){return{restrict:"A",require:"ngModel",link:function(b,c,d,e){var f=a(function(){var b=c.val();b!==e.$viewValue&&(e.$setViewValue(b),e.$setPristine()),"function"!=typeof document.contains||document.contains(c[0])?"function"!=typeof document.contains&&a.cancel(f):a.cancel(f)},500)}}}]},{}],9:[function(a,b,c){"use strict";b.exports=["$compile","$parse",function(a,b){return{restrict:"A",link:function(c,d,e){function f(){return(g(c)||"").toString()}var g=b(e.ngBindHtml);c.$watch(f,function(){a(d.contents())(c)})}}}]},{}],10:[function(a,b,c){"use strict";b.exports=function(){return{restrict:"A",require:"ngModel",link:function(a,b,c,d){var e=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;d.$parsers.unshift(function(a){return e.test(a)||!a?(d.$setValidity("email",!0),a):(d.$setValidity("email",!1),null)})}}}},{}],11:[function(a,b,c){"use strict";var d=a("camunda-bpm-sdk-js/vendor/angular"),e='<li class="dropdown engine-select"\n    ng-show="engines.length > 1 && currentEngine">\n<!-- # CE - camunda-commons-ui/lib/directives/engineSelect.html -->\n  <a href\n     class="dropdown-toggle"\n     data-toggle="dropdown">\n    <span class="glyphicon glyphicon-info-sign glyphicon glyphicon-info-sign "\n          tooltip="{{ \'DIRECTIVE_ENGINE_SELECT_TOOLTIP\' | translate }}"\n          tooltip-placement="bottom"></span>\n    {{ currentEngine.name }}\n  </a>\n  <ul class="dropdown-menu dropdown-menu-right">\n    <li ng-repeat="(id, engine) in engines"\n        ng-class="{ active: currentEngine.name === engine.name }">\n      <a ng-href="{{ \'app://../\' + engine.name + \'/\' | uri }}">\n        {{ engine.name }}\n      </a>\n    </li>\n  </ul>\n<!-- / CE - camunda-commons-ui/lib/directives/engineSelect.html -->\n</li>\n',f=a("jquery"),g=["$scope","$http","$location","$window","Uri","Notifications","$translate",function(a,b,c,e,f,g,h){var i=f.appUri(":engine"),j={};b.get(f.appUri("engine://engine/")).then(function(b){a.engines=b.data,d.forEach(a.engines,function(a){j[a.name]=a}),a.currentEngine=j[i],a.currentEngine||(g.addError({status:h.instant("DIRECTIVE_ENGINE_SELECT_STATUS_NOT_FOUND"),message:h.instant("DIRECTIVE_ENGINE_SELECT_MESSAGE_NOT_FOUND"),scope:a}),c.path("/dashboard"))})}];b.exports=function(){return{template:e,replace:!0,controller:g,link:function(a,b,c){var d;a.$watch(c.ngShow,function(a){a&&!d&&(d=f('<li class="divider-vertical"></li>').insertAfter(b)),!a&&d&&(d.remove(),d=null)}),a.$on("$destroy",function(){d&&d.remove()})}}}},{"camunda-bpm-sdk-js/vendor/angular":114,jquery:"jquery"}],12:[function(a,b,c){"use strict";var d=a("camunda-bpm-sdk-js/vendor/angular"),e='<!-- # CE - camunda-commons-ui/lib/directives/inPlaceTextField.html -->\n<div in-place-text-field-root>\n  <div ng-if="!editing">\n    {{ context[property] }}\n    <span class="edit-toggle"\n          ng-click="enter()">\n      <span class="glyphicon glyphicon-pencil"></span>\n    </span>\n  </div>\n\n  <form ng-if="editing"\n        ng-submit="submit()"\n        class="inline-edit"\n        name="inPlaceTextFieldForm"\n        novalidate\n        request-aware>\n\n    <fieldset>\n      <!-- {{ value }} -->\n      <input name="value"\n             ng-model="value"\n             type="text"\n             class="in-place-edit form-control"\n             placeholder="{{ placeholder }}"\n             autofocus\n             ng-required="isRequired">\n    </fieldset>\n\n    <div class="inline-edit-footer">\n\n      <p class="error" ng-show="error">\n        {{ error.message }}\n      </p>\n\n      <div class="btn-group">\n        <button type="submit"\n                class="btn btn-sm btn-primary"\n                ng-disabled="inPlaceTextFieldForm.$invalid">\n          <span class="glyphicon glyphicon-ok "></span>\n        </button>\n        <button type="button"\n                class="btn btn-sm btn-default"\n                ng-click="leave()">\n          <span class="glyphicon glyphicon-ban-circle"></span>\n        </button>\n      </div>\n    </div>\n\n  </form>\n</div>\n<!-- / CE - camunda-commons-ui/lib/directives/inPlaceTextField.html -->\n';b.exports=["$translate",function(a){function b(a){a.value=a.context[a.property]||a.defaultValue||null,a.enter=function(){a.editing=!0,a.value=a.context[a.property]},a.submit=function(){var b=this;return a.context[a.property]===b.value?void a.leave():(a.context[a.property]=b.value,d.isFunction(a.$parent[a.submitCallback])&&a.$parent[a.submitCallback](b),void a.leave())},a.leave=function(){a.editing=!1}}return{restrict:"E",scope:{unserializeCallback:"@unserialize",serializeCallback:"@serialize",initializeCallback:"@initialize",enterCallback:"@enter",validateCallback:"@validate",submitCallback:"@submit",successCallback:"@success",errorCallback:"@error",leaveCallback:"@leave",context:"=",property:"@",defaultValue:"@default"},template:e,link:function(c,d,e){if(c.isRequired=null!==e.required&&void 0!==e.required,!c.property)throw new Error(a.instant("DIRECTIVE_INPLACE_TEXTFIELD_ERROR_MSG"));var f=c.initializeCallback?c.$parent[c.initializeCallback]:function(a,b){b()};f(c,function(){b(c)})}}}]},{"camunda-bpm-sdk-js/vendor/angular":114}],13:[function(a,b,c){"use strict";var d=a("camunda-bpm-sdk-js/vendor/angular"),e=a("./email"),f=a("./engineSelect"),g=a("./autoFill"),h=a("./inPlaceTextField"),i=a("./notificationsPanel"),j=a("./passwordRepeat"),k=a("./showIfAuthorized"),l=a("./compileTemplate"),m=a("./nl2br"),n=a("./instantTypeahead"),o=a("../util/index");a("../../vendor/ui-bootstrap-tpls-0.11.2-camunda");var p=d.module("camunda.common.directives",["ui.bootstrap",o.name]);p.directive("email",e),p.directive("autoFill",g),p.directive("engineSelect",f),p.directive("camInPlaceTextField",h),p.directive("notificationsPanel",i),p.directive("passwordRepeat",j),p.directive("showIfAuthorized",k),p.directive("compileTemplate",l),p.directive("nl2br",m),p.directive("instantTypeahead",n),p.config(["$modalProvider","$tooltipProvider",function(a,b){a.options={backdrop:!0,keyboard:!0},b.options({animation:!0,popupDelay:100,appendToBody:!0})}]),b.exports=p},{"../../vendor/ui-bootstrap-tpls-0.11.2-camunda":304,"../util/index":41,"./autoFill":8,"./compileTemplate":9,"./email":10,"./engineSelect":11,"./inPlaceTextField":12,"./instantTypeahead":14,"./nl2br":15,"./notificationsPanel":16,"./passwordRepeat":17,"./showIfAuthorized":18,"camunda-bpm-sdk-js/vendor/angular":114}],14:[function(a,b,c){"use strict";var d="[$empty$]";b.exports=["$timeout",function(a){return{restrict:"A",require:"ngModel",link:function(b,c,e,f){a(function(){f.$parsers.unshift(function(a){var b=a?a:d;return f.$viewValue=b,b}),f.$parsers.push(function(a){return a===d?"":a}),b.instantTypeahead=function(a,b){return b===d||(""+a).toLowerCase().indexOf((""+b).toLowerCase())>-1},c.bind("click",function(){f.$setViewValue(f.$viewValue),c.triggerHandler("input")}),c.bind("input",function(){f.$setViewValue(f.$viewValue)})})}}}]},{}],15:[function(a,b,c){"use strict";b.exports=[function(){return{scope:{original:"=nl2br"},link:function(a,b){b.text(a.original||"");var c=b.html().replace(/\n/g,"<br/>");b.html(c)}}}]},{}],16:[function(a,b,c){"use strict";a("angular-sanitize");var d='<div class="notifications">  <div ng-repeat="notification in notifications" class="alert" ng-class="notificationClass(notification)">    <button type="button" class="close" ng-click="removeNotification(notification)">&times;</button>    <strong class="status" ng-bind-html="trustHTML(notification.status)" compile-template></strong>     <strong ng-if="notification.message">:</strong>    <span class="message" ng-bind-html="trustHTML(notification.message)" compile-template></span>  </div></div>';b.exports=["Notifications","$filter","$sce",function(a,b,c){return{restrict:"EA",scope:{filter:"=notificationsFilter"},template:d,link:function(d){function e(a){return!f||!!b("filter")([a],f).length}var f=d.filter,g=d.notifications=[],h={add:function(a){return!!e(a)&&(g.push(a),!0)},remove:function(a){var b=g.indexOf(a);b!=-1&&g.splice(b,1)}};a.registerConsumer(h),d.removeNotification=function(a){g.splice(g.indexOf(a),1)},d.notificationClass=function(a){var b=["danger","error","success","warning","info"],c="info";return b.indexOf(a.type)>-1&&(c=a.type),"alert-"+c},d.trustHTML=function(a){return c.trustAsHtml(a)},d.$on("$destroy",function(){a.unregisterConsumer(h)})}}}]},{"angular-sanitize":"angular-sanitize"}],17:[function(a,b,c){"use strict";b.exports=function(){return{restrict:"A",require:"ngModel",link:function(a,b,c,d){var e=c.passwordRepeat;d.$parsers.unshift(function(b){var c=a.$eval(e),f=b==c;return d.$setValidity("passwordRepeat",f),b}),a.$watch(e,function(a){var b=a==d.$viewValue;d.$setValidity("passwordRepeat",b),b||d.$setViewValue(d.$viewValue)})}}}},{}],18:[function(a,b,c){"use strict";var d={application:0,user:1,group:2,"group membership":3,authorization:4},e=function(a,b,c){var e={};return e.permissionName=a,e.resourceName=b,e.resourceType=d[b],c&&(e.resourceId=c),e};b.exports=["$animate","AuthorizationResource",function(a,b){return{transclude:"element",priority:1e3,terminal:!0,restrict:"A",compile:function(c,d,f){return function(c,g){var h,i,j=d.authPermission,k=d.authResourceName,l=c.$eval(d.authResourceId),m="true"===d.authInverse;b.check(e(j,k,l)).$promise.then(function(b){h&&(a.leave(h),h=void 0),i&&(i.$destroy(),i=void 0),(b.authorized&&!m||!b.authorized&&m)&&(i=c.$new(),f(i,function(b){h=b,a.enter(b,g.parent(),g)}))})}}}}]},{}],19:[function(a,b,c){"use strict";var d=function(){function a(a,b){b=Math.pow(10,b);for(var c=["k","M","G","T","P","E","Z","Y"],d=c.length-1;d>=0;d--){var e=Math.pow(10,3*(d+1));if(e<=a)return a=Math.round(a*b/e)/b,1e3==a&&d<c.length-1&&(a=1,d++),a+=c[d]}return a}return function(b,c){if(b)return b<950?b:(c||(c=1),a(b,c))}};b.exports=d},{}],20:[function(a,b,c){"use strict";var d=a("camunda-bpm-sdk-js/vendor/angular"),e=a("camunda-bpm-sdk-js/vendor/moment");a("angular-translate");var f=d.module("cam.commons.filter.date",["pascalprecht.translate"]);f.provider("camDateFormat",function(){var a={normal:"LLL","short":"LL","long":"LLLL"};this.setDateFormat=function(b,c){c=c||"normal",a[c]=b},this.$get=function(){return function(b){return b=b||"normal",a[b]}}}),f.config(["$filterProvider",function(a){a.register("camDate",["$translate","camDateFormat",function(a,b){return function(a,c){return a?e(a).format(b(c)):""}}])}]),b.exports=f},{"angular-translate":"angular-translate","camunda-bpm-sdk-js/vendor/angular":114,"camunda-bpm-sdk-js/vendor/moment":115}],21:[function(a,b,c){"use strict";var d=a("camunda-bpm-sdk-js/vendor/angular"),e=a("./auth/index"),f=a("./util/index"),g=a("./pages/index"),h=a("./plugin/index"),i=a("./directives/index"),j=a("./resources/index"),k=a("./search/index"),l=a("./services/index"),m=a("./widgets/index"),n=a("./filter/date/index");
a("../vendor/ui-bootstrap-tpls-0.11.2-camunda"),a("angular-translate"),b.exports=d.module("cam.commons",[e.name,f.name,g.name,h.name,i.name,j.name,k.name,l.name,m.name,n.name,"ui.bootstrap","pascalprecht.translate"])},{"../vendor/ui-bootstrap-tpls-0.11.2-camunda":304,"./auth/index":3,"./directives/index":13,"./filter/date/index":20,"./pages/index":22,"./plugin/index":23,"./resources/index":27,"./search/index":28,"./services/index":36,"./util/index":41,"./widgets/index":55,"angular-translate":"angular-translate","camunda-bpm-sdk-js/vendor/angular":114}],22:[function(a,b,c){"use strict";function d(a){var b="camunda Login";a.indexOf("/cockpit/")!==-1?b="camunda Cockpit":a.indexOf("/tasklist/")!==-1?b="camunda Tasklist":a.indexOf("/admin/")!==-1&&(b="camunda Admin"),f("head title").text(b)}var e=a("camunda-bpm-sdk-js/vendor/angular");a("angular-route");var f=a("jquery"),g=e.module("camunda.common.pages",["ngRoute"]),h=["$rootScope","$location","Notifications","AuthenticationService","shouldDisplayAuthenticationError","$translate",function(a,b,c,e,f,g){function h(a){a.http=!0,a.exclusive=["http"],c.addError(a)}function i(c,i){var j=i.status,k=i.data;switch(j){case 500:h(k&&k.message?{status:g.instant("PAGES_STATUS_SERVER_ERROR"),message:k.message,exceptionType:k.exceptionType}:{status:g.instant("PAGES_STATUS_SERVER_ERROR"),message:g.instant("PAGES_MSG_SERVER_ERROR")});break;case 0:h({status:g.instant("PAGES_STATUS_REQUEST_TIMEOUT"),message:g.instant("PAGES_MSG_REQUEST_TIMEOUT")});break;case 401:b.absUrl().indexOf("/setup/#")!==-1?b.path("/setup"):(d(b.absUrl()),e.updateAuthentication(null),a.$broadcast("authentication.login.required"));break;case 403:if("AuthorizationException"==k.type){var l;l=k.resourceId?g.instant("PAGES_MSG_ACCESS_DENIED_RESOURCE_ID",{permissionName:k.permissionName.toLowerCase(),resourceName:k.resourceName.toLowerCase(),resourceId:k.resourceId}):g.instant("PAGES_MSG_ACCESS_DENIED",{permissionName:k.permissionName.toLowerCase(),resourceName:k.resourceName.toLowerCase()}),h({status:g.instant("PAGES_STATUS_ACCESS_DENIED"),message:l})}else h({status:g.instant("PAGES_STATUS_ACCESS_DENIED"),message:g.instant("PAGES_MSG_ACTION_DENIED")});break;case 404:f()&&h({status:g.instant("PAGES_STATUS_NOT_FOUND"),message:g.instant("PAGES_MSG_NOT_FOUND")});break;default:h({status:g.instant("PAGES_STATUS_COMMUNICATION_ERROR"),message:g.instant("PAGES_MSG_COMMUNICATION_ERROR",{status:j})})}}a.$on("httpError",i)}],i=["$scope","$http","$location","$window","Uri","Notifications","$translate",function(a,b,c,d,f,g,h){var i=f.appUri(":engine"),j={};b.get(f.appUri("engine://engine/")).then(function(b){a.engines=b.data,e.forEach(a.engines,function(a){j[a.name]=a}),a.currentEngine=j[i],a.currentEngine||(g.addError({status:h.instant("PAGES_STATUS_NOT_FOUND"),message:h.instant("PAGES_MSG_ENGINE_NOT_EXISTS"),scope:a}),c.path("/"))}),a.$watch("currentEngine",function(a){a&&i!==a.name&&(d.location.href=f.appUri("app://../"+a.name+"/"))})}],j=["$scope","$location",function(a,b){a.activeClass=function(a){var c=b.absUrl();return c.indexOf(a)!=-1?"active":""}}],k=["$scope","$window","$cacheFactory","$location","Notifications","AuthenticationService",function(a,b,c,d,e,f){a.logout=function(){f.logout()}}];b.exports=g.run(h).controller("ProcessEngineSelectionController",i).controller("AuthenticationController",k).controller("NavigationController",j)},{"angular-route":"angular-route","camunda-bpm-sdk-js/vendor/angular":114,jquery:"jquery"}],23:[function(a,b,c){"use strict";var d=a("camunda-bpm-sdk-js/vendor/angular"),e=a("./view"),f=a("./service"),g=d.module("cockpit.plugin",[]);e(g),f(g),b.exports=g},{"./service":24,"./view":25,"camunda-bpm-sdk-js/vendor/angular":114}],24:[function(a,b,c){"use strict";var d=a("camunda-bpm-sdk-js/vendor/angular"),e=a("jquery");b.exports=function(a){function b(a){return String.prototype.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}a._camPlugins={};var c,f=[],g=e("base").attr("cam-exclude-plugins")||"";g&&(d.forEach(g.split(","),function(a){a=a.split(":");var c="*";a.length>=2&&b(a[1])&&(c=b(a.pop())),a=b(a.shift()),a&&f.push(a+":"+c)}),c=new RegExp("("+f.join("|")+")","i"));var h=[function(){function b(a,b){for(var c,d="undefined"!=typeof b.priority?b.priority:-(1/0),e=0;c=a[e];e++)if("undefined"==typeof c.priority||c.priority<d)return void a.splice(e,0,b);a.push(b)}function d(a,c,d){var e=d[a]=d[a]||[];b(e,c)}var e={};this.registerPlugin=function(b,f,g){if(a._camPlugins[f+":"+g.id]=!1,!c||!c.test(f+":"+g.id)){a._camPlugins[f+":"+g.id]=!0;var h=e[b]=e[b]||{};d(f,g,h)}},this.$get=["$filter",function(a){var b={getAllProviders:function(a){return e[a]||{}},getProviders:function(b,c){if(!b)throw new Error("No type given");var d=c.component;if(!d)throw new Error("No component given");var f=(e[b]||{})[d];return c.id&&(f=a("filter")(f,{id:c.id})),f||[]},getProvider:function(a,b){var c=this.getProviders(a,b);return(c||[])[0]}};return b}]}];a.provider("Plugins",h);var i=["PluginsProvider",function(a){this.registerDefaultView=function(b,d){c&&c.test(b+":"+d.id)||a.registerPlugin("view",b,d)},this.registerView=function(b,c){a.registerPlugin("view",b,c)},this.$get=["Uri","Plugins",function(a,b){function c(b){d.forEach(b,function(b){d.forEach(b,function(b){b.url&&(b.url=a.appUri(b.url))})})}function e(){f||(c(b.getAllProviders("view")),f=!0)}var f=!1,g={getProviders:function(a){return e(),b.getProviders("view",a)},getProvider:function(a){var b=this.getProviders(a);return(b||[])[0]}};return g}]}];a.provider("Views",i);var j=["PluginsProvider",function(a){this.registerData=function(b,c){a.registerPlugin("data",b,c)},this.$get=["Plugins","$injector",function(a,b){var c={getProviders:function(b){return a.getProviders("data",b)},getProvider:function(a){var b=this.getProviders(a);return(b||[])[0]},instantiateProviders:function(a,c){var e=this.getProviders({component:a});d.forEach(e,function(a){b.instantiate(a.controller,c)})}};return c}]}];a.provider("Data",j)}},{"camunda-bpm-sdk-js/vendor/angular":114,jquery:"jquery"}],25:[function(a,b,c){"use strict";var d=a("camunda-bpm-sdk-js/vendor/angular");b.exports=function(a){a.directive("view",["$q","$http","$templateCache","$anchorScroll","$compile","$controller",function(a,b,c,e,f,g){return{restrict:"ECA",terminal:!0,link:function(h,i,j){function k(){o&&(o.$destroy(),o=null)}function l(){i.html(""),k()}function m(a){var d=a.template;if(d)return d;var e=a.url;return b.get(e,{cache:c}).then(function(a){return a.data})}function n(){var b=h.$eval(j.provider),c=h.$eval(j.vars)||{};return b?void a.when(m(b)).then(function(a){i.html(a),k();var j,l=f(i.contents()),m={};o=h.$new(!0),c&&(c.read&&d.forEach(c.read,function(a){o[a]=h[a],h.$watch(a,function(b){o[a]=b})}),c.write&&d.forEach(c.write,function(a){o.$watch(a,function(b){h[a]=b})})),b.controller&&(m.$scope=o,j=g(b.controller,m),i.children().data("$ngControllerController",j)),l(o),o.$emit("$pluginContentLoaded"),e()},function(a){throw l(),a}):void l()}var o;h.$watch(j.provider,n)}}}])}},{"camunda-bpm-sdk-js/vendor/angular":114}],26:[function(a,b,c){"use strict";b.exports=["$resource","Uri",function(a,b){return a(b.appUri("engine://engine/:engine/authorization/:action"),{action:"@action"},{check:{method:"GET",params:{action:"check"},cache:!0},count:{method:"GET",params:{action:"count"}},create:{method:"POST",params:{action:"create"}}})}]},{}],27:[function(a,b,c){"use strict";var d=a("camunda-bpm-sdk-js/vendor/angular"),e=a("./authorizationResource"),f=d.module("camunda.common.resources",[]);f.factory("AuthorizationResource",e),b.exports=f},{"./authorizationResource":26,"camunda-bpm-sdk-js/vendor/angular":114}],28:[function(a,b,c){"use strict";var d=a("camunda-bpm-sdk-js/vendor/angular"),e=["$location","$rootScope",function(a,b){var c=!1;b.$on("$routeUpdate",function(a,d){c?c=!1:b.$broadcast("$routeChanged",d)}),b.$on("$routeChangeSuccess",function(){c=!1});var e=function(){return a.search.apply(a,arguments)};return e.updateSilently=function(b,e){var f=a.absUrl();d.forEach(b,function(b,c){a.search(c,b)});var g=a.absUrl();g!=f&&(c=!0),e&&a.replace()},e}],f=d.module("camunda.common.search",[]);f.factory("search",e),b.exports=f},{"camunda-bpm-sdk-js/vendor/angular":114}],29:[function(a,b,c){"use strict";var d=a("camunda-bpm-sdk-js/vendor/angular"),e=a("camunda-bpm-sdk-js/lib/angularjs/index");b.exports=["$rootScope","$timeout","$q",function(a,b,c){function f(a){this._wrapped=new e.Client.HttpClient(a)}return d.forEach(["post","get","load","put","del","options","head"],function(e){f.prototype[e]=function(f,g){var h=b(function(){},1e5),i=d.isFunction(g.done)?g.done:d.noop;return g.done=function(c,d){function e(){return c&&401===c.status?(a.$broadcast("authentication.changed",null),a.authentication=null,void a.$broadcast("authentication.login.required")):void i(c,d)}var f=a.$$phase;"$apply"!==f&&"$digest"!==f?a.$apply(e):e(),b.cancel(h)},c.when(this._wrapped[e](f,g))}}),d.forEach(["on","once","off","trigger"],function(a){f.prototype[a]=function(){this._wrapped[a].apply(this,arguments)}}),f}]},{"camunda-bpm-sdk-js/lib/angularjs/index":68,"camunda-bpm-sdk-js/vendor/angular":114}],30:[function(a,b,c){"use strict";b.exports=["$rootScope",function(a){var b=0;return{logStarted:function(){b||a.$broadcast("requestStarted"),b++},logFinished:function(){b--,b||a.$broadcast("requestFinished")}}}]},{}],31:[function(a,b,c){"use strict";b.exports=["$route","$q","$location","Notifications","$translate",function(a,b,c,d,e){function f(f,g){function h(a){j.resolve(a)}function i(a){var b,f,h,i=!1;404===a.status?(b=e.instant("SERVICES_RESOURCE_RESOLVER_ID_NOT_FOUND",{resourceName:m,id:k}),f=!0,h=g.redirectTo||"/dashboard","function"==typeof h&&(i=!0,h(a))):401===a.status?(b=e.instant("SERVICES_RESOURCE_RESOLVER_AUTH_FAILED"),h="/login"):(b=e.instant("SERVICES_RESOURCE_RESOLVER_RECEIVED_STATUS",{status:a.status}),h="/dashboard"),i||(c.path(h),f&&c.replace(),d.addError({status:e.instant("SERVICES_RESOURCE_RESOLVER_DISPLAY_FAILED",{resourceName:m}),message:b,http:!0,exclusive:["http"]})),j.reject(b)}var j=b.defer(),k=a.current.params[f],l=g.resolve,m=g.name||"entity",n=l(k);if(n.$promise&&n.$promise.then)n=n.$promise.then(function(a){h(a)},i);else{if(!n.then)throw new Error(e.instant("SERVICES_RESOURCE_RESOLVER_NO_PROMISE"));n=n.then(h,i)}return j.promise}return{getByRouteParam:f}}]},{}],32:[function(a,b,c){"use strict";b.exports=["$window",function(a){var b=a.localStorage,c=JSON.parse(b.getItem("camunda")||"{}");return{get:function(a,b){return"undefined"!=typeof c[a]?c[a]:b},set:function(a,d){c[a]=d,b.setItem("camunda",JSON.stringify(c))},remove:function(a){delete c[a],b.setItem("camunda",JSON.stringify(c))}}}]},{}],33:[function(a,b,c){"use strict";b.exports=["$timeout",function(a){return function(b,c){var d,e=function(){var f=this,g=arguments;e.$loading=!0,d&&a.cancel(d),d=a(function(){d=null,e.$loading=!1,b.apply(f,g)},c)};return e}}]},{}],34:[function(a,b,c){"use strict";b.exports=function(){return function(a){return encodeURIComponent(a).replace(/%2F/g,"%252F").replace(/\*/g,"%2A").replace(/%5C/g,"%255C")}}},{}],35:[function(a,b,c){"use strict";var d=a("camunda-bpm-sdk-js/vendor/moment");b.exports=function(){return function(a){return a?d(a).format("YYYY-MM-DDTHH:mm:ss.SSSZZ"):a}}},{"camunda-bpm-sdk-js/vendor/moment":115}],36:[function(a,b,c){"use strict";var d=a("camunda-bpm-sdk-js/vendor/angular"),e=a("./../util/index"),f=a("./escape"),g=a("./debounce"),h=a("./RequestLogger"),i=a("./ResourceResolver"),j=a("./HttpClient"),k=a("./unescape"),l=a("./fixDate"),m=a("./unfixDate"),n=a("./shouldDisplayAuthenticationError"),o=d.module("camunda.common.services",[e.name]);o.filter("escape",f),o.factory("debounce",g),o.factory("RequestLogger",h),o.factory("ResourceResolver",i),o.factory("camAPIHttpClient",j),o.factory("unescape",k),o.factory("fixDate",l),o.factory("unfixDate",m),o.factory("shouldDisplayAuthenticationError",n),o.config(["$httpProvider",function(a){a.responseInterceptors.push(["$rootScope","$q","RequestLogger",function(a,b,c){return function(d){function e(a){return c.logFinished(),a}function f(d){c.logFinished();var e={status:parseInt(d.status),response:d,data:d.data};return a.$broadcast("httpError",e),b.reject(d)}return c.logStarted(),d.then(e,f)}}])}]),o.config(["$httpProvider","$windowProvider",function(a,b){var c=b.$get(),d=c.location.href,e=d.match(/\/app\/([\w-]+)\/([\w-]+)\//);if(!e)throw new Error("no process engine selected");a.defaults.headers.get={"X-Authorized-Engine":e[2]}}]),b.exports=o},{"./../util/index":41,"./HttpClient":29,"./RequestLogger":30,"./ResourceResolver":31,"./debounce":33,"./escape":34,"./fixDate":35,"./shouldDisplayAuthenticationError":37,"./unescape":38,"./unfixDate":39,"camunda-bpm-sdk-js/vendor/angular":114}],37:[function(a,b,c){"use strict";b.exports=["$location",function(a){return function(){var b=a.path();return"/login"!==b&&"/dashboard"!==b&&"/"!==b&&"/welcome"!==b}}]},{}],38:[function(a,b,c){"use strict";b.exports=function(){return function(a){var b=a.replace(/%252F/g,"%2F").replace(/%255C/g,"%5C").replace(/%2A/g,"*");return decodeURIComponent(b)}}},{}],39:[function(a,b,c){"use strict";var d=a("camunda-bpm-sdk-js/vendor/moment");b.exports=function(){return function(a){return a?d(a).format("YYYY-MM-DDTHH:mm:ss"):a}}},{"camunda-bpm-sdk-js/vendor/moment":115}],40:[function(a,b,c){"use strict";function d(a,b){return a.replace('xmlns="'+b+'"','xmlns="'+f+'"')}var e=["http://www.omg.org/spec/DMN/20151101/dmn11.xsd"],f="http://www.omg.org/spec/DMN/20151101/dmn.xsd";b.exports=function(a){return e.reduce(d,a)}},{}],41:[function(a,b,c){"use strict";var d=a("camunda-bpm-sdk-js/vendor/angular"),e=a("./uriFilter"),f=a("./uriProvider"),g=a("./notifications");b.exports=d.module("cam.commons.util",[]).filter("uri",e).provider("Uri",f).service("Notifications",g)},{"./notifications":42,"./uriFilter":43,"./uriProvider":44,"camunda-bpm-sdk-js/vendor/angular":114}],42:[function(a,b,c){"use strict";function d(a){var b=document.createTextNode(a),c=document.createElement("div");return c.appendChild(b),c.innerHTML}var e=a("camunda-bpm-sdk-js/vendor/angular");b.exports=["$filter","$timeout",function(a,b){return{notifications:[],consumers:[],addError:function(a){a.type||(a.type="danger"),this.add(a)},addMessage:function(a){a.type||(a.type="info"),this.add(a)},add:function(a){var c=this,f=this.notifications,g=this.consumers,h=a.exclusive;if(a.unsafe||(a.status=d(a.status),a.message=d(a.message||"")),h)if("boolean"==typeof h)this.clearAll();else{var i={};e.forEach(h,function(b){i[b]=a[b]}),c.clear(i)}f.push(a);for(var j,k=g.length-1;(j=g[k])&&!j.add(a);k--);a.duration&&b(function(){a.scope&&delete a.scope,c.clear(a)},a.duration),a.scope&&a.scope.$on("$destroy",function(){delete a.scope,c.clear(a)})},clear:function(b){var c=this.notifications,d=this.consumers,f=[];"string"==typeof b&&(b={status:b}),f=a("filter")(c,b),f.push(b),e.forEach(f,function(a){var b=c.indexOf(a);b!=-1&&c.splice(b,1),e.forEach(d,function(b){b.remove(a)})})},clearAll:function(){for(var a=this.notifications;a.length;){var b=a.pop();this.clear(b)}},registerConsumer:function(a){this.consumers.push(a)},unregisterConsumer:function(a){var b=this.consumers,c=b.indexOf(a);c!=-1&&b.splice(c,1)}}}]},{"camunda-bpm-sdk-js/vendor/angular":114}],43:[function(a,b,c){"use strict";var d=["Uri",function(a){return function(b){return a.appUri(b)}}];b.exports=d},{}],44:[function(a,b,c){"use strict";var d=a("camunda-bpm-sdk-js/vendor/angular");b.exports=function(){var a=/[\w]+:\/\/|:[\w]+/g,b={};this.replace=function(a,c){b[a]=c},this.$get=["$injector",function(c){return{appUri:function(e){var f=e.replace(a,function(a){var e=b[a];return void 0===e?a:((d.isFunction(e)||d.isArray(e))&&(e=c.invoke(e)),e)});return f}}}]}},{"camunda-bpm-sdk-js/vendor/angular":114}],45:[function(a,b,c){"use strict";function d(a){var b=a.key&&g[a.key];if(b)return b.cached=!0,b;var c=f;return a.disableNavigation&&(c=Object.getPrototypeOf(f.prototype).constructor),new c(a)}function e(a){return a.key&&(g[a.key]=a.viewer)}var f=a("bpmn-js/lib/NavigatedViewer"),g={};b.exports={generateViewer:d,cacheViewer:e}},{"bpmn-js/lib/NavigatedViewer":"bpmn-js/lib/NavigatedViewer"}],46:[function(a,b,c){"use strict";var d=a("camunda-bpm-sdk-js/vendor/angular"),e=a("../../util/viewer"),f='<div class="alert alert-danger"\n     ng-if="error">\n  <span>\n    <strong>{{ \'CAM_WIDGET_BPMN_VIEWER_ERROR\' | translate }}</strong>\n  </span>\n  <span>\n   {{ error.message }}\n  </span>\n</div>\n\n<div ng-show="!error">\n\n  <div ng-if="!loaded" class="placeholder-container">\n    <div class="placeholder-content">\n      <span class="glyphicon glyphicon-refresh animate-spin"></span>\n      <span class="loading-text">{{ \'CAM_WIDGET_BPMN_VIEWER_LOADING\' | translate }}</span>\n    </div>\n  </div>\n\n  <div class="diagram-holder" ng-class=\'{"diagram-holder": true, "grab-cursor": !disableNavigation && !grabbing, "djs-cursor-move": !disableNavigation && grabbing}\'></div>\n\n  <div class="actions"></div>\n\n  <div ng-if="!disableNavigation"\n       class="navigation zoom">\n    <button class="btn btn-default in"\n            title="zoom in"\n            ng-click="zoomIn()">\n      <span class="glyphicon glyphicon-plus"></span>\n    </button>\n    <button class="btn btn-default out"\n            title="zoom out"\n            ng-click="zoomOut()">\n      <span class="glyphicon glyphicon-minus"></span>\n    </button>\n  </div>\n\n  <div ng-if="!disableNavigation"\n       class="navigation reset">\n    <button class="btn btn-default"\n            title="reset zoom"\n            ng-click="resetZoom()">\n      <span class="glyphicon glyphicon-screenshot"></span>\n    </button>\n  </div>\n</div>\n';b.exports=["$q","$document","$compile","$location","$rootScope","search","debounce",function(a,b,c,g,h,i,j){return{scope:{diagramData:"=",key:"@",control:"=?",disableNavigation:"&",onLoad:"&",onClick:"&",onMouseEnter:"&",onMouseLeave:"&"},template:f,link:function(f,k){function l(){y.appendChild(A.container)}function m(){y.removeChild(A.container)}function n(c){var e=b[0].body,f=a.defer(),g=d.element("<img>").css("position","absolute").css("left","-9999em").css("top","-9999em").attr("src",c)[0];return g.onload=function(){f.resolve(g)},g.onerror=function(){f.reject(g)},e.appendChild(g),f.promise}function o(){H=A.get("canvas"),x=A.definitions,v(),q(),f.loaded=!0}function p(){if(A.cached)return l(),o(),f.onLoad();if(G){f.loaded=!1;var a="object"==typeof G,b=(a?A.importDefinitions:A.importXML).bind(A);b(G,function(b,c){var d=a?function(a){a()}:f.$apply.bind(f);d(function(){return b?void(f.error=b):(f.warn=c,o(),f.onLoad())})})}}function q(){if(H){var a=JSON.parse((g.search()||{}).viewbox||"{}")[x.id];a?H.viewbox(a):H.zoom("fit-viewport","auto")}}function r(a){f.onClick({element:a.element,$event:a.originalEvent})}function s(a){f.onMouseEnter({element:a.element,$event:a.originalEvent})}function t(a){f.onMouseLeave({element:a.element,$event:a.originalEvent})}function u(){f.grabbing=!0,document.addEventListener("mouseup",I),f.$apply()}function v(){var a=A.get("eventBus");a.on("element.click",r),a.on("element.hover",s),a.on("element.out",t),a.on("element.mousedown",u),a.on("canvas.viewbox.changed",J)}function w(){var a=A.get("eventBus");a.off("element.click",r),a.off("element.hover",s),a.off("element.out",t),a.off("element.mousedown",u),a.off("canvas.viewbox.changed",J)}var x,y=k[0].querySelector(".diagram-holder");f.grabbing=!1,f.disableNavigation=f.$eval(f.disableNavigation),f.control=f.control||{},f.control.highlight=function(a){H.addMarker(a,"highlight"),k.find('[data-element-id="'+a+'"]>.djs-outline').attr({rx:"14px",ry:"14px"})},f.control.clearHighlight=function(a){H.removeMarker(a,"highlight")},f.control.isHighlighted=function(a){return H.hasMarker(a,"highlight")},f.control.createBadge=function(a,b){var d,e=A.get("overlays");b.html?d=b.html:(d=document.createElement("span"),b.color&&(d.style["background-color"]=b.color),b.tooltip&&(d.setAttribute("tooltip",b.tooltip),d.setAttribute("tooltip-placement","top")),b.text&&d.appendChild(document.createTextNode(b.text)));var g=e.add(a,{position:b.position||{bottom:0,right:0},show:{minZoom:-(1/0),maxZoom:+(1/0)},html:d});return c(d)(f),g},f.control.removeBadges=function(a){A.get("overlays").remove({element:a})},f.control.removeBadge=function(a){A.get("overlays").remove(a)},f.control.getViewer=function(){return A},f.control.scrollToElement=function(a){var b,c,d,e,f=A.get("elementRegistry").get(a),g=H.viewbox();b=Math.max(g.height,f.height),c=Math.max(g.width,f.width),d=Math.min(Math.max(g.x,f.x-g.width+f.width),f.x),e=Math.min(Math.max(g.y,f.y-g.height+f.height),f.y),H.viewbox({x:d,y:e,width:c,height:b})},f.control.getElement=function(a){return A.get("elementRegistry").get(a)},f.control.getElements=function(a){return A.get("elementRegistry").filter(a)},f.loaded=!1,f.control.isLoaded=function(){return f.loaded},f.control.addAction=function(a){var b=k.find(".actions"),d=a.html;b.append(d),c(d)(f)};var z;f.control.addImage=function(a,c,e){return n(a).then(function(f){var g=f.offsetWidth,h=f.offsetHeight,i=b[0].createElementNS("http://www.w3.org/2000/svg","image");return i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a),i.setAttributeNS(null,"width",g),i.setAttributeNS(null,"height",h),i.setAttributeNS(null,"x",c),i.setAttributeNS(null,"y",e),b[0].body.removeChild(f),H._viewport.appendChild(i),z=d.element(i)},function(a){b[0].body.removeChild(a)})};var A=e.generateViewer({width:"100%",height:"100%",canvas:{deferUpdate:!1},key:f.key,disableNavigation:f.disableNavigation});A.cached||l();var B=A.get("overlays").show.bind(A.get("overlays"));A.get("overlays").show=function(){A.get("eventBus").fire("overlays.show"),B()};var C=A.get("overlays").hide.bind(A.get("overlays"));A.get("overlays").hide=function(){A.get("eventBus").fire("overlays.hide"),C()};var D=j(function(){A.get("overlays").show()},300),E=A.get("canvas")._viewboxChanged.bind(A.get("canvas")),F=j(function(){E(),A.get("overlays").hide(),D()},0);A.get("canvas")._viewboxChanged=function(){F()};var G=null,H=null;f.$watch("diagramData",function(a){a&&(G=a,p())});var I=function(){f.grabbing=!1,document.removeEventListener("mouseup",I),f.$apply()},J=j(function(a){var b=JSON.parse((g.search()||{}).viewbox||"{}");b[x.id]={x:a.viewbox.x,y:a.viewbox.y,width:a.viewbox.width,height:a.viewbox.height},i.updateSilently({viewbox:JSON.stringify(b)});var c=h.$$phase;"$apply"!==c&&"$digest"!==c?f.$apply(function(){g.replace()}):g.replace()},500);f.zoomIn=function(){A.get("zoomScroll").zoom(1,{x:k[0].offsetWidth/2,y:k[0].offsetHeight/2})},f.zoomOut=function(){A.get("zoomScroll").zoom(-1,{x:k[0].offsetWidth/2,y:k[0].offsetHeight/2})},f.resetZoom=function(){H.resized(),H.zoom("fit-viewport","auto")},f.control.resetZoom=f.resetZoom,f.control.refreshZoom=function(){H.resized(),H.zoom(H.zoom(),"auto")},f.$on("$destroy",function(){m(),w(),A.get("overlays").clear(),e.cacheViewer({key:f.key,viewer:A})})}}}]},{"../../util/viewer":45,"camunda-bpm-sdk-js/vendor/angular":114}],47:[function(a,b,c){"use strict";var d='<div cam-widget-clipboard="getLink()" icon="glyphicon-link" tooltip-text="{{ \'CAM_WIDGET_COPY_LINK\' | translate }}">\n</div>\n';b.exports=["$location",function(a){return{restrict:"A",template:d,link:function(b){b.getLink=a.absUrl.bind(a)}}}]},{}],48:[function(a,b,c){"use strict";var d=a("lodash").throttle,e=a("./../../chart/line"),f=a("camunda-bpm-sdk-js/vendor/moment"),g=a("./../../filter/abbreviateNumber")();b.exports=["$window",function(a){return{restrict:"A",scope:{fontFamily:"=?",fontSize:"=?",handleColor:"=?",handleColorHover:"=?",handleWidth:"=?",interval:"=?",lineColors:"=?",lineWidth:"=?",rulersColor:"=?",selectingColor:"=?",selection:"&onSelection",textPadding:"=?",tickSize:"=?",timeLabelFormats:"=?",timespan:"=?",timestampFormat:"=?",unselectedColor:"=?",valueLabelsCount:"=?",values:"=",disableSelection:"=",isLogScale:"="},link:function(b,c){function h(){return Math.min(Math.max(.75*i.clientWidth,180),300)}var i=c[0],j=a.getComputedStyle(i);b.timespan=b.timespan||"day",b.interval=b.interval||900;var k=b.chart=new e({moment:f,abbreviateNumber:g,onselection:function(a){b.$apply(function(){b.selection({info:a})})},width:i.clientWidth,height:h(),fontFamily:b.fontFamily||j.fontFamily,fontSize:b.fontSize,handleColor:b.handleColor,handleColorHover:b.handleColorHover,handleWidth:b.handleWidth,lineColors:b.lineColors,lineWidth:b.lineWidth,rulersColor:b.rulersColor||j.color,selectingColor:b.selectingColor,textPadding:b.textPadding,tickSize:b.tickSize,timeLabelFormats:b.timeLabelFormats,timestampFormat:b.timestampFormat,unselectedColor:b.unselectedColor,valueLabelsCount:b.valueLabelsCount,disableSelection:b.disableSelection,isLogScale:b.isLogScale});b.$watch("values",function(){var a=i.className.replace("no-data","");b.values&&b.values.length&&b.values[0]&&b.values[0].length?k.setData(b.values,b.timespan,b.interval):(a+=" no-data",k.setData([[]],b.timespan,b.interval)),i.className=a}),i.appendChild(k.canvas);var l=d(function(){k.resize(i.clientWidth,h()).draw()},100);a.addEventListener("resize",l),b.$on("$destroy",function(){a.removeEventListener("resize",l)})},template:"<!-- keule!! pech jehabt! -->"}}]},{"./../../chart/line":7,"./../../filter/abbreviateNumber":19,"camunda-bpm-sdk-js/vendor/moment":115,lodash:"lodash"}],49:[function(a,b,c){"use strict";var d=a("clipboard"),e='<span ng-transclude></span>\n<a ng-if="!noTooltip"\n   tooltip="{{ tooltipText }}"\n   tooltip-append-to-body="true"\n   ng-class="{\'copy-ok\': copyStatus === true, \'copy-error\': copyStatus === false}"\n   class="glyphicon {{icon}}"></a>\n<a ng-if="noTooltip"\n   ng-class="{\'copy-ok\': copyStatus === true, \'copy-error\': copyStatus === false}"\n   class="glyphicon {{icon}}"></a>\n';b.exports=["$timeout","$translate",function(a,b){return{transclude:!0,template:e,scope:{value:"=camWidgetClipboard"},link:function(c,e,f){function g(){c.$apply(),i=a(function(){c.copyStatus=null},1200,!0)}var h;c.noTooltip="undefined"!=typeof f.noTooltip,c.copyStatus=null,c.icon=f.icon||"glyphicon-copy",c.$watch("value",function(){c.tooltipText=f.tooltipText||b.instant("CAM_WIDGET_COPY",{value:c.value})});var i;a(function(){var a=e[0].querySelector("a."+c.icon);a&&(h=new d(a,{text:function(){return c.value}}),h.on("success",function(){c.copyStatus=!0,g()}),h.on("error",function(){c.copyStatus=!1,g()}))}),c.$on("$destroy",function(){h&&h.destroy&&h.destroy(),i&&a.cancel(top)})}}}]},{clipboard:"clipboard"}],50:[function(a,b,c){"use strict";var d=a("cmmn-js/lib/NavigatedViewer"),e='<div class="alert alert-danger"\n     ng-if="error">\n  <span>\n    <strong>{{ \'CAM_WIDGET_CMMN_VIEWER_ERROR\' | translate }}</strong>\n  </span>\n  <span>\n   {{ error.message }}\n  </span>\n</div>\n\n<div ng-show="!error">\n\n  <div ng-if="!loaded" class="placeholder-container">\n    <div class="placeholder-content">\n      <span class="glyphicon glyphicon-refresh animate-spin"></span>\n      <span class="loading-text">{{ \'CAM_WIDGET_CMMN_VIEWER_LOADING\' | translate }}</span>\n    </div>\n  </div>\n\n  <div class="diagram-holder" ng-class=\'{"diagram-holder": true, "grab-cursor": !disableNavigation && !grabbing, "djs-cursor-move": !disableNavigation && grabbing}\'></div>\n\n  <div class="actions"></div>\n\n  <div ng-if="!disableNavigation"\n       class="navigation zoom">\n    <button class="btn btn-default in"\n            title="zoom in"\n            ng-click="zoomIn()">\n      <span class="glyphicon glyphicon-plus"></span>\n    </button>\n    <button class="btn btn-default out"\n            title="zoom out"\n            ng-click="zoomOut()">\n      <span class="glyphicon glyphicon-minus"></span>\n    </button>\n  </div>\n\n  <div ng-if="!disableNavigation"\n       class="navigation reset">\n    <button class="btn btn-default"\n            title="reset zoom"\n            ng-click="resetZoom()">\n      <span class="glyphicon glyphicon-screenshot"></span>\n    </button>\n  </div>\n</div>\n';b.exports=["$compile","$location","$rootScope","search","debounce",function(a,b,c,f,g){return{scope:{diagramData:"=",control:"=?",disableNavigation:"&",onLoad:"&",onClick:"&",onMouseEnter:"&",onMouseLeave:"&"},template:e,link:function(e,h){function i(){if(t){e.loaded=!1;var a="object"==typeof t,b=(a?n.importDefinitions:n.importXML).bind(n);b(t,function(b,c){var d=a?function(a){a()}:e.$apply.bind(e);d(function(){return b?void(e.error=b):(e.warn=c,u=n.get("canvas"),l=n.definitions,j(),k(),e.loaded=!0,void e.onLoad())})})}}function j(){if(u){var a=JSON.parse((b.search()||{}).viewbox||"{}")[l.id];a?u.viewbox(a):u.zoom("fit-viewport","auto")}}function k(){var a=n.get("eventBus");a.on("element.click",function(a){e.onClick({element:a.element,$event:a.originalEvent})}),a.on("element.hover",function(a){e.onMouseEnter({element:a.element,$event:a.originalEvent})}),a.on("element.out",function(a){e.onMouseLeave({element:a.element,$event:a.originalEvent})}),a.on("element.mousedown",function(){e.grabbing=!0,document.addEventListener("mouseup",v),e.$apply()}),a.on("canvas.viewbox.changed",g(function(a){var d=JSON.parse((b.search()||{}).viewbox||"{}");d[l.id]={x:a.viewbox.x,y:a.viewbox.y,width:a.viewbox.width,height:a.viewbox.height},f.updateSilently({viewbox:JSON.stringify(d)});var g=c.$$phase;"$apply"!==g&&"$digest"!==g?e.$apply(function(){b.replace()}):b.replace()},500))}var l;e.grabbing=!1,e.disableNavigation=e.$eval(e.disableNavigation),e.control=e.control||{},e.control.highlight=function(a){e.control.addMarker(a,"highlight");var b=a.id||a;h.find('[data-element-id="'+b+'"]>.djs-outline').attr({rx:"14px",ry:"14px"})},e.control.clearHighlight=function(a){e.control.removeMarker(a,"highlight")},e.control.isHighlighted=function(a){return e.control.hasMarker(a,"highlight")},e.control.addMarker=function(a,b){u.addMarker(a,b)},e.control.removeMarker=function(a,b){u.removeMarker(a,b)},e.control.hasMarker=function(a,b){return u.hasMarker(a,b)},e.control.createBadge=function(b,c){var d,f=n.get("overlays");c.html?d=c.html:(d=document.createElement("span"),c.color&&(d.style["background-color"]=c.color),c.tooltip&&(d.setAttribute("tooltip",c.tooltip),d.setAttribute("tooltip-placement","top")),c.text&&d.appendChild(document.createTextNode(c.text)));var g=f.add(b,{position:c.position||{bottom:0,right:0},show:{minZoom:-(1/0),maxZoom:+(1/0)},html:d});return a(d)(e),g},e.control.removeBadges=function(a){n.get("overlays").remove({element:a})},e.control.removeBadge=function(a){n.get("overlays").remove(a)},e.control.getViewer=function(){return n},e.control.scrollToElement=function(a){var b,c,d,e,f=n.get("elementRegistry").get(a),g=u.viewbox();b=Math.max(g.height,f.height),c=Math.max(g.width,f.width),d=Math.min(Math.max(g.x,f.x-g.width+f.width),f.x),e=Math.min(Math.max(g.y,f.y-g.height+f.height),f.y),u.viewbox({x:d,y:e,width:c,height:b})},e.control.getElement=function(a){return n.get("elementRegistry").get(a)},e.control.getElements=function(a){return n.get("elementRegistry").filter(a)},e.loaded=!1,e.control.isLoaded=function(){return e.loaded},e.control.addAction=function(b){var c=h.find(".actions"),d=b.html;c.append(d),a(d)(e)},e.control.addImage=function(a,b,c){var d=u._viewport.image(a,b,c);return d};var m=d;e.disableNavigation&&(m=Object.getPrototypeOf(d.prototype).constructor);var n=new m({container:h[0].querySelector(".diagram-holder"),width:"100%",height:"100%",canvas:{deferUpdate:!1}}),o=n.get("overlays").show.bind(n.get("overlays"));n.get("overlays").show=function(){n.get("eventBus").fire("overlays.show"),o()};var p=n.get("overlays").hide.bind(n.get("overlays"));n.get("overlays").hide=function(){n.get("eventBus").fire("overlays.hide"),p()};var q=g(function(){n.get("overlays").show()},300),r=n.get("canvas")._viewboxChanged.bind(n.get("canvas")),s=g(function(){r(),n.get("overlays").hide(),q()},0);n.get("canvas")._viewboxChanged=function(){s()};var t=null,u=null;e.$watch("diagramData",function(a){a&&(t=a,i())});var v=function(){e.grabbing=!1,document.removeEventListener("mouseup",v),
e.$apply()};e.zoomIn=function(){n.get("zoomScroll").zoom(1,{x:h[0].offsetWidth/2,y:h[0].offsetHeight/2})},e.zoomOut=function(){n.get("zoomScroll").zoom(-1,{x:h[0].offsetWidth/2,y:h[0].offsetHeight/2})},e.resetZoom=function(){u.resized(),u.zoom("fit-viewport","auto")},e.control.resetZoom=e.resetZoom,e.control.refreshZoom=function(){u.resized(),u.zoom(u.zoom(),"auto")}}}}]},{"cmmn-js/lib/NavigatedViewer":116}],51:[function(a,b,c){"use strict";var d='<div class="debug">\n  <div class="col-xs-2">\n    <button class="btn btn-default btn-round"\n            ng-click="toggleOpen()"\n            tooltip="{{tooltip}}">\n      <span class="glyphicon"\n            ng-class="{\'glyphicon-eye-open\': !open, \'glyphicon-eye-close\': open}"></span>\n    </button>\n  </div>\n  <div class="col-xs-10"\n       ng-show="open">\n    <span ng-show="extended" cam-widget-clipboard="extendedInfo"\n          no-tooltip>\n      <code>{{ extensionName }}</code>\n    </span>\n    <pre ng-show="extended">{{ extendedInfo }}</pre>\n    <span cam-widget-clipboard="debugged | json "\n          no-tooltip>\n      <code>{{ varName }}</code>\n    </span>\n    <pre>{{ debugged | json }}</pre>\n  </div>\n</div>\n';b.exports=[function(){return{template:d,scope:{debugged:"=",displayName:"=?",extensionName:"@extensionName",open:"@",extendedInfo:"=",tooltip:"@camWidgetDebugTooltip"},link:function(a,b,c){a.varName=c.displayName||c.debugged,a.extended=void 0!==c.extended,a.toggleOpen=function(){a.open=!a.open}}}}]},{}],52:[function(a,b,c){"use strict";var d=a("camunda-bpm-sdk-js/vendor/angular"),e=a("dmn-js/lib/NavigatedViewer"),f=a("dmn-js/lib/Modeler"),g=a("../../util/change-dmn-namespace"),h='<div class="alert alert-danger"\n     ng-if="error">\n  <strong>{{ \'CAM_WIDGET_DMN_VIEWER_ERROR\' | translate }}</strong><br/>\n  {{ error.message }}\n</div>\n\n<div ng-show="!error"\n     ng-if="!loaded && !disableLoader"\n     class="placeholder-container">\n  <div class="placeholder-content">\n    {{ \'CAM_WIDGET_DMN_VIEWER_LOADING\' | translate }}<br />\n    <span class="glyphicon glyphicon-refresh animate-spin"></span>\n  </div>\n</div>\n\n<div ng-show="!error"\n     ng-class="{\n      \'grab-cursor\': isDrd && !grabbing,\n      \'cursor-move\': isDrd && grabbing\n     }"\n     class="table-holder">\n</div>\n\n<div ng-if="!error && !disableNavigation && isDrd">\n  <div class="navigation zoom">\n    <button class="btn btn-default in"\n            title="zoom in"\n            ng-click="zoomIn()">\n      <span class="glyphicon glyphicon-plus"></span>\n    </button>\n    <button class="btn btn-default out"\n            title="zoom out"\n            ng-click="zoomOut()">\n      <span class="glyphicon glyphicon-minus"></span>\n    </button>\n  </div>\n\n  <div class="navigation reset">\n    <button class="btn btn-default"\n            title="reset zoom"\n            ng-click="resetZoom()">\n      <span class="glyphicon glyphicon-screenshot"></span>\n    </button>\n  </div>\n</div>\n';b.exports=["$window",function(a){return{scope:{xml:"=",table:"@",width:"=",height:"=",control:"=?",editMode:"=",showDetails:"=",disableNavigation:"=",enableDrdNavigation:"=",disableLoader:"=",onLoad:"&",onClick:"&",onDblClick:"&"},template:h,link:function(b,c){function h(a,b){var c=p.get("overlays"),d=c.add(a,{position:b.position||{bottom:10,right:10},show:{minZoom:-(1/0),maxZoom:+(1/0)},html:b.html});return d}function i(){if(q){var a=g(q);b.loaded=!1,p.importXML(a,function(a){if(b.isDrd=p.getDecisions().length>1&&!b.table,b.isDrd&&(l=p.get("canvas"),l.zoom("fit-viewport","auto"),b.control.getElements(function(a){return"dmn:Decision"===a.type}).forEach(function(a){l.addMarker(a.id,"decision-element")})),b.table){var c=p.getDecisions(),d=/^[0-9]+$/.test(b.table);b.table=d?+b.table:b.table,c.forEach(function(a,b){j(a,b)&&p.showDecision(a)})}b.$apply(function(){return a?void(b.error=a):(b.loaded=!0,void b.onLoad())})})}}function j(a,c){return!!(d.isString(b.table)&&a.id===b.table||a.name===b.table)||b.table===c}function k(){l&&(l.resized(),l.zoom("fit-viewport","auto"))}var l,m=a.document;b.isDrd=!1,b.grabbing=!1,b.control=b.control||{},b.control.getViewer=function(){return p},b.control.getElement=function(a){return p.get("elementRegistry").get(a)},b.loaded=!1,b.control.isLoaded=function(){return b.loaded},b.control.highlightRow=function(a,b){var c=p.table,e=c.get("elementRegistry");c.get("eventBus").on("row.render",function(c){c.data.id===a&&d.element(c.gfx).addClass(b)}),c.get("graphicsFactory").update("row",e.get(a),e.getGraphics(a))},b.control.highlightElement=function(a){l&&p.get("elementRegistry").get(a)&&(l.addMarker(a,"highlight"),c.find('[data-element-id="'+a+'"]>.djs-outline').attr({rx:"14px",ry:"14px"}))},b.control.clearAllElementsHighlight=function(){if(l){var a=l.getRootElement().children;a.forEach(function(a){var b=a.id;l.hasMarker(b,"highlight")&&l.removeMarker(b,"highlight")})}},b.control.clearElementHighlight=function(a){l&&l.removeMarker(a,"highlight")},b.control.isElementHighlighted=function(a){if(l)return l.hasMarker(a,"highlight")},b.control.getElements=function(a){if(l)return p.get("elementRegistry").filter(a)},b.control.createBadge=function(a,b){l&&h(a,b)},b.control.resetZoom=k,b.control.refreshZoom=function(){l.resized(),l.zoom(l.zoom(),"auto")};var n;n=b.editMode?f:e;var o=c[0].querySelector(".table-holder"),p=new n({container:o,width:b.width,height:b.height,hideDetails:!b.showDetails,disableDrdInteraction:!b.enableDrdNavigation}),q=null;b.$watch("xml",function(a){a&&(q=a,i())}),p.on("element.click",function(a){b.$apply(function(){b.onClick({element:a.element,$event:a.originalEvent})})}),p.on("element.dblclick",function(a){b.$apply(function(){b.onDblClick({element:a.element,$event:a.originalEvent})})}),p.on("view.switch",function(a){b.$apply(function(){b.isDrd=a.fromTable})});var r=b.$apply.bind(b,function(){b.grabbing=!1,m.removeEventListener("mouseup",r)});p.on("element.mousedown",b.$apply.bind(b,function(){b.grabbing=!0,m.addEventListener("mouseup",r)})),b.zoomIn=function(){p.get("zoomScroll").zoom(1,{x:c[0].offsetWidth/2,y:c[0].offsetHeight/2})},b.zoomOut=function(){p.get("zoomScroll").zoom(-1,{x:c[0].offsetWidth/2,y:c[0].offsetHeight/2})},b.resetZoom=k,a.addEventListener("resize",b.resetZoom),b.$on("destroy",function(){a.removeEventListener("resize",b.resetZoom),m.removeEventListener("mouseup",r)})}}}]},{"../../util/change-dmn-namespace":40,"camunda-bpm-sdk-js/vendor/angular":114,"dmn-js/lib/Modeler":"dmn-js/lib/Modeler","dmn-js/lib/NavigatedViewer":481}],53:[function(a,b,c){"use strict";var d='<div class="container-fluid">\n  <div class="row">\n    <div class="col-xs-6" style="text-align: left;">\n      {{ \'CAM_WIDGET_FOOTER_TIMEZONE\' | translate }} <i>{{timezoneName}}</i>\n    </div>\n    <div class="col-xs-6">\n      {{ \'CAM_WIDGET_FOOTER_POWERED_BY\' | translate }} <a href="http://camunda.org">camunda BPM</a> /\n      <span class="version">{{version}}</span>\n    </div>\n  </div>\n</div>\n';b.exports=[function(){return{template:d,scope:{version:"@"},link:function(a){a.timezoneName=Intl.DateTimeFormat().resolvedOptions().timeZone}}}]},{}],54:[function(a,b,c){"use strict";var d=a("camunda-bpm-sdk-js/vendor/angular"),e='<div class="navbar-header">\n  <button type="button"\n          class="navbar-toggle"\n          ng-class="{open: !!navbarOpen}"\n          ng-click="navbarOpen = !navbarOpen">\n    <em class="sr-only">{{ toggleNavigation }}</em>\n    <span></span>\n    <span></span>\n    <span></span>\n  </button>\n\n  <a class="navbar-brand"\n     href="#/"\n     title="{{ brandName }} {{ appName }}">\n    <span class="brand-logo"></span>\n    <span class="brand-name" ng-cloak>{{ brandName }}</span>\n  </a>\n\n  <div class="small-screen-warning">\n    <span class="glyphicon glyphicon-exclamation-sign"\n          tooltip="{{ smallScreenWarning }}"\n          tooltip-placement="bottom"></span>\n  </div>\n</div>\n\n<nav class="cam-nav app-menu">\n  <ul ng-class="{collapse: !navbarOpen}">\n\n    <li engine-select></li>   <li class="divider-vertical"\n        ng-if="authentication.name"\n        ng-cloak></li>\n\n    <li class="app-switch dropdown"\n        ng-if="showAppDropDown">\n      <a href\n         class="dropdown-toggle">\n        <span class="glyphicon glyphicon-home"></span>\n        <span class="caret"></span>\n      </a>\n\n      <ul class="dropdown-menu dropdown-menu-right">\n        <li ng-repeat="(appName, app) in apps"\n            ng-class="appName">\n          <a ng-href="{{ (\'../../\' + appName + \'/:engine/\' | uri) + getTargetRoute() }}">\n            {{ app.label }}\n          </a>\n        </li>\n      </ul>\n    </li>\n  </ul>\n</nav>\n\n<div ng-transclude\n     class="sections-menu"\n     ng-class="{collapse: !navbarOpen}"></div>\n',f={welcome:{label:"Welcome"},admin:{label:"Admin"},cockpit:{label:"Cockpit"},tasklist:{label:"Tasklist"}};b.exports=["$translate",function(a){return{transclude:!0,template:e,scope:{authentication:"=",userName:"=?",currentApp:"@",signOut:"@?",toggleNavigation:"@?",myProfile:"@?",smallScreenWarning:"@?",brandName:"@"},compile:function(b,c){c.toggleNavigation||(c.toggleNavigation=a.instant("CAM_WIDGET_HEADER_TOGGLE_NAVIGATION")),c.myProfile||(c.myProfile=a.instant("CAM_WIDGET_HEADER_MY_PROFILE")),c.signOut||(c.signOut=a.instant("CAM_WIDGET_HEADER_SIGN_OUT")),c.brandName||(c.brandName="Camunda"),c.smallScreenWarning||(c.smallScreenWarning=a.instant("CAM_WIDGET_HEADER_SMALL_SCREEN_WARNING"))},controller:["$scope","AuthenticationService",function(a,b){function c(){var b=d.copy(f);a.currentApp&&("welcome"===a.currentApp&&a.authentication?b={}:delete b[a.currentApp]),a.authentication&&a.authentication.name&&(delete b.welcome,Object.keys(b).forEach(function(c){a.authentication.authorizedApps.indexOf(c)<0&&delete b[c]})),a.showAppDropDown=Object.keys(b).length>0,a.apps=b}a.logout=b.logout,a.getTargetRoute=function(){return a.authentication?"":"#/login"},a.$watch("currentApp",c),a.$watch("authentication",c)}]}}]},{"camunda-bpm-sdk-js/vendor/angular":114}],55:[function(a,b,c){"use strict";var d=a("camunda-bpm-sdk-js/vendor/angular"),e=a("./inline-field/cam-widget-inline-field"),f=a("./search-pill/cam-widget-search-pill"),g=a("./search-pill/cam-query-component"),h=a("./header/cam-widget-header"),i=a("./footer/cam-widget-footer"),j=a("./loader/cam-widget-loader"),k=a("./chart-line/cam-widget-chart-line"),l=a("./debug/cam-widget-debug"),m=a("./clipboard/cam-widget-clipboard"),n=a("./variable/cam-widget-variable"),o=a("./variables-table/cam-widget-variables-table"),p=a("./variables-table/cam-render-var-template"),q=a("./search/cam-widget-search"),r=a("./bpmn-viewer/cam-widget-bpmn-viewer"),s=a("./cmmn-viewer/cam-widget-cmmn-viewer"),t=a("./dmn-viewer/cam-widget-dmn-viewer"),u=a("../filter/date/index"),v=a("../directives/index"),w=a("../search/index"),x=a("./variable/cam-variable-validator"),y=a("./../services/cam-local-configuration"),z=a("./cam-share-link/cam-share-link");a("../../vendor/ui-bootstrap-tpls-0.11.2-camunda");var A=d.module("camunda.common.widgets",[u.name,v.name,w.name,"ui.bootstrap"]);A.factory("widgetLocalConf",y),A.directive("camWidgetInlineField",e),A.directive("camWidgetSearchPill",f),A.directive("camWidgetHeader",h),A.directive("camWidgetFooter",i),A.directive("camWidgetLoader",j),A.directive("camWidgetChartLine",k),A.directive("camWidgetDebug",l),A.directive("camWidgetClipboard",m),A.directive("camWidgetVariable",n),A.directive("camWidgetVariablesTable",o),A.directive("camRenderVarTemplate",p),A.directive("camWidgetSearch",q),A.directive("camWidgetBpmnViewer",r),A.directive("camWidgetCmmnViewer",s),A.directive("camWidgetDmnViewer",t),A.directive("camShareLink",z),A.directive("camVariableValidator",x),A.filter("camQueryComponent",g),b.exports=A},{"../../vendor/ui-bootstrap-tpls-0.11.2-camunda":304,"../directives/index":13,"../filter/date/index":20,"../search/index":28,"./../services/cam-local-configuration":32,"./bpmn-viewer/cam-widget-bpmn-viewer":46,"./cam-share-link/cam-share-link":47,"./chart-line/cam-widget-chart-line":48,"./clipboard/cam-widget-clipboard":49,"./cmmn-viewer/cam-widget-cmmn-viewer":50,"./debug/cam-widget-debug":51,"./dmn-viewer/cam-widget-dmn-viewer":52,"./footer/cam-widget-footer":53,"./header/cam-widget-header":54,"./inline-field/cam-widget-inline-field":56,"./loader/cam-widget-loader":57,"./search-pill/cam-query-component":58,"./search-pill/cam-widget-search-pill":59,"./search/cam-widget-search":60,"./variable/cam-variable-validator":62,"./variable/cam-widget-variable":63,"./variables-table/cam-render-var-template":64,"./variables-table/cam-widget-variables-table":65,"camunda-bpm-sdk-js/vendor/angular":114}],56:[function(a,b,c){"use strict";var d=a("camunda-bpm-sdk-js/vendor/angular"),e=a("jquery"),f='<span ng-show="!editing"\n      ng-click="startEditing()"\n      ng-transclude\n      class="view-value">\n</span>\n\n<span ng-if="editing && (varType === \'datetime\' || varType === \'date\' || varType === \'time\')"\n      class="preview">\n  {{ dateValue | camDate }}\n</span>\n\n<span ng-if="editing"\n      ng-form\n      name="inlineForm"\n      class="edit">\n\n  <input ng-if="simpleField && !isNumber"\n         class="form-control"\n         type="{{ varType }}"\n         ng-model="editValue"\n         ng-keydown="handleKeydown($event)"\n         placeholder="{{ placeholder }}" />\n\n   <input ng-if="isNumber"\n          name="numberField"\n          class="form-control"\n          ng-pattern="/^[0-9]{1,7}$/"\n          ng-model="editValue"\n          ng-keydown="handleKeydown($event)"\n          placeholder="{{ placeholder }}" />\n\n\n  <span ng-show="varType === \'datetime\' || varType === \'date\' || varType === \'time\'"\n        class="cam-widget-inline-field field-control">\n\n    <datepicker class="datepicker"\n                ng-if="varType === \'datetime\' || varType === \'date\'"\n                type="text"\n                ng-required="true"\n                is-open="datePickerOptions.isOpen"\n                show-button-bar="false"\n                ng-keydown="trapKeyboard($event, true); cancelOnEsc($event);"\n\n                ng-model="dateValue"\n                ng-change="changeDate(this)"></datepicker>\n\n    <timepicker class="timepicker"\n                ng-if="varType === \'datetime\' || varType === \'time\'"\n                show-meridian="false"\n\n                ng-model="dateValue"\n                ng-keydown="cancelOnEsc($event);"\n                ng-change="changeDate(this)"></timepicker>\n  </span>\n\n  <input ng-if="varType === \'option\' && options[0].value"\n         class="form-control"\n         type="text"\n         ng-model="editValue"\n         ng-keydown="handleKeydown($event)"\n         typeahead="option as option.value for option in options | filter:$viewValue:instantTypeahead"\n         typeahead-on-select="saveSelection($item)"\n         instant-typeahead />\n  <input ng-if="varType === \'option\' && !options[0].value"\n         class="form-control"\n         type="text"\n         ng-model="editValue"\n         ng-keydown="handleKeydown($event)"\n         typeahead="option for option in options | filter:$viewValue:instantTypeahead"\n         typeahead-on-select="saveSelection($item)"\n         instant-typeahead />\n\n  <span ng-show="varType !== \'option\'"\n        class="cam-widget-inline-field btn-group">\n    <button type="button"\n            class="btn btn-xs btn-default"\n            ng-click="changeType()"\n            ng-if="flexible">\n      <span class="glyphicon"\n            ng-class="\'glyphicon-\' + (varType === \'text\' ? \'calendar\' : \'pencil\')"></span>\n    </button>\n\n    <button type="button"\n            class="btn btn-xs btn-default"\n            ng-style="{visibility: !isNumber || inlineForm.numberField.$valid ? \'visible\' : \'hidden\'}"\n            ng-click="applyChange($event);"\n            ng-keydown="cancelOnEsc($event);">\n      <span class="glyphicon glyphicon-ok"></span>\n    </button>\n\n    <button type="button"\n            class="btn btn-xs btn-default"\n            ng-click="cancelChange($event)"\n            ng-keydown="trapKeyboard($event); cancelOnEsc($event);">\n      <span class="glyphicon glyphicon-remove"></span>\n    </button>\n  </span>\n</span>\n';b.exports=["$timeout","$filter","$document",function(a,b,c){return{scope:{varValue:"=value",varType:"@type",validator:"&validate",change:"&",onStart:"&onStartEditing",onCancel:"&onCancelEditing",placeholder:"@",options:"=?",allowNonOptions:"@",flexible:"@"},template:f,link:function(f,g){function h(a){var b,c,d,e,f,g,h,i=x.exec(a);if(i)return b=parseInt(i[1]||0,10),c=parseInt(i[2]||0,10)-1,d=parseInt(i[3]||0,10),e=parseInt(i[4]||0,10),f=parseInt(i[5]||0,10),g=parseInt(i[6]||0,10),h=parseInt(i[7]||0,10),new Date(b,c,d,e,f,g,h)}function i(){return["datetime","date","time"].indexOf(f.varType)>-1}function j(){return["color","email","month","number","range","tel","text","time","url","week"].indexOf(f.varType)>-1}function k(){if(f.editing=!1,f.invalid=!1,f.editValue=f.varValue,f.validator=f.validator||function(){},f.onStart=f.onStart||function(){},f.onCancel=f.onCancel||function(){},f.change=f.change||function(){},f.options=f.options||[],f.allowNonOptions=f.allowNonOptions||!1,f.flexible=f.flexible||!1,f.varType=f.varType?f.varType:"text",f.simpleField=j(),i()){var a=f.varValue,b=null;b=a?h(a):Date.now(),f.dateValue=b}}function l(a){if(!a||!a.length)return!1;var b=a.parent();return!(!b||!b.length)&&"body"===b[0].tagName.toLowerCase()}function m(){var a=e(g).offset();if(i()?s.addClass("datepicker-control").show().css({left:a.left+(t.outerWidth()-s.outerWidth()),top:a.top+t.outerHeight()}):s.removeClass("datepicker-control").show().css({left:a.left+(e(g).outerWidth()-s.outerWidth()),top:a.top-s.outerHeight()}),t.show().css({left:a.left,top:a.top+e(g).outerHeight()}),i()){var b=t[0].querySelector(".cam-widget-inline-field.field-control > .datepicker > table");b&&b.focus()}}function n(){t=(t&&t.length?t:e(g[0].querySelector(".field-control"))).hide(),l(t)||u.append(t),s=(s&&s.length?s:e(g[0].querySelector(".btn-group"))).hide(),l(s)||u.append(s),a(m,50)}function o(b){a(function(){f.editing&&!b||(s&&s.remove&&s.remove(),s=null,t&&t.remove&&t.remove(),t=null)},50)}function p(a){return g[0].contains(a.target)||s&&s.length&&s[0].contains(a.target)||t&&t.length&&t[0].contains(a.target)}function q(a){if(f.editing&&!p(a)){var b=e(a.target),c="ng-binding text-muted";if(!b.hasClass(c)){var d=b.children();d.hasClass(c)||f.$apply(f.cancelChange)}}}function r(a){return"number"===f.varType?a.length>0?+a:null:a}var s,t,u=e("body"),v=b("date"),w="yyyy-MM-dd'T'HH:mm:ss",x=/(\d\d\d\d)-(\d\d)-(\d\d)T(\d\d):(\d\d):(\d\d)(?:.(\d\d\d)| )?$/;f.editing=!1,f.isNumber="number"===f.varType,f.$on("$locationChangeSuccess",function(){f.cancelChange()}),f.$on("$destroy",function(){o(!0)}),f.$watch("editing",function(a,b){a!==b&&(f.editing?(n(),g.addClass("inline-editing")):(o(),g.removeClass("inline-editing")))}),f.changeType=function(){"datetime"===f.varType?f.varType="text":f.varType="datetime",k(),f.editing=!0,g[0].attributes.type.value=f.varType,f.simpleField=j()},f.startEditing=function(){if(!f.editing){k(),f.editing=!0,f.onStart(f);var b=f.editValue;f.simpleField||(f.editValue=""),a(function(){a(function(){d.element(g[0].querySelector('[ng-model="editValue"]')).triggerHandler("input"),f.editValue=b,b&&a(function(){for(var a="object"==typeof b?b.value:b,c=e(g[0].querySelector("li[ng-mouseenter]")),d=0;d<c.length;d++){var f=c[d];if(0===f.innerText.indexOf(a))return void e(f).trigger("mouseenter")}})})}),a(function(){e('[ng-model="editValue"]').focus(),e('[ng-model="editValue"]').select(),c.bind("click",q)},50)}},f.applyChange=function(a,b){if(f.invalid=f.validator(f),!f.invalid){if(f.simpleField)f.editValue=r(e('[ng-model="editValue"]').val()),f.varValue=f.editValue;else if("option"===f.varType){if(f.options.indexOf(a)===-1&&!f.allowNonOptions)return void f.cancelChange();f.editValue=a||e('[ng-model="editValue"]').val(),f.varValue=f.editValue}else i()&&(f.varValue=v(f.dateValue,w));f.$event=b,f.change(f),f.editing=!1,c.unbind("click",q)}},f.cancelChange=function(){f.editing&&(f.editing=!1,f.onCancel(f),c.unbind("click",q))},f.changeDate=function(a){f.editValue=f.dateValue=a.dateValue},f.selectNextInlineField=function(b){for(var c=e("[cam-widget-inline-field][type='text'], [cam-widget-inline-field][type='option']"),d=b*(c.length-1);d!==!b*(c.length-1);d+=2*!b-1)if(c[d]===g[0])return void a(function(){var f=e(c[d+2*!b-1]);f.find(".view-value").click(),a(function(){f.find("input").select()})});a(function(){e(c[b*c.length-1]).find(".view-value").click()})},f.trapKeyboard=function(a,b){i()&&9===a.keyCode&&(b||a.shiftKey?b&&a.shiftKey&&(e('.cam-widget-inline-field.btn-group > button[ng-click="cancelChange($event)"]')[0].focus(),a.preventDefault()):(e(".cam-widget-inline-field.field-control > .datepicker > table")[0].focus(),a.preventDefault()))},f.cancelOnEsc=function(a){i()&&27===a.keyCode&&f.cancelChange()},f.handleKeydown=function(a){13===a.keyCode?(f.applyChange(f.selection,a),a.preventDefault()):27===a.keyCode?(f.cancelChange(a),a.preventDefault()):9===a.keyCode&&(f.applyChange(f.selection,a),f.selectNextInlineField(a.shiftKey),a.preventDefault()),f.selection=null},f.selection=null,f.saveSelection=function(b){f.selection=b,a(function(){f.selection===b&&f.applyChange(b)})}},transclude:!0}}]},{"camunda-bpm-sdk-js/vendor/angular":114,jquery:"jquery"}],57:[function(a,b,c){"use strict";var d=a("camunda-bpm-sdk-js/vendor/angular"),e='<div class="loader-state loaded"\n     ng-show="loadingState === \'LOADED\'"\n     ng-transclude></div>\n\n<div class="loader-state loading"\n     ng-if="loadingState === \'LOADING\'">\n  <span class="glyphicon glyphicon-refresh animate-spin"></span>\n  {{ textLoading }}\n</div>\n\n<div class="loader-state empty"\n     ng-if="loadingState === \'EMPTY\'">\n  {{ textEmpty }}\n</div>\n\n<div class="loader-state alert alert-danger"\n     ng-if="loadingState === \'ERROR\'">\n  {{ textError }}\n</div>\n';b.exports=[function(){return{transclude:!0,template:e,scope:{loadingState:"@",textEmpty:"@",textError:"@",textLoading:"@"},compile:function(a,b){d.isDefined(b.textLoading)||(b.textLoading="Loading…"),d.isDefined(b.loadingState)||(b.loadingState="INITIAL")}}}]},{"camunda-bpm-sdk-js/vendor/angular":114}],58:[function(a,b,c){"use strict";b.exports=["$filter",function(a){function b(a){return a.match(c)}var c=/(\d\d\d\d)-(\d\d)-(\d\d)T(\d\d):(\d\d):(\d\d)(?:.(\d\d\d)| )?$/,d=a("camDate");return function(a){return a&&b(a)?d(a):a?a:"??"}}]},{}],59:[function(a,b,c){"use strict";var d=a("jquery"),e='<!-- CE # camunda-commons-ui/lib/widgets/search-pill/search-pill.html -->\n<span class="search-label"\n      ng-class="{\'invalid\': !valid}">\n  <a href\n     ng-click="onDelete()"\n     tooltip-placement="top"\n     tooltip="{{ deleteText | translate }}"\n     class="remove-search glyphicon glyphicon-remove">\n  </a>\n\n  <span cam-widget-inline-field\n        class="set-value type-field"\n        tabindex="0"\n        ng-keydown="onKeydown($event, \'type\')"\n        type="option"\n        options="type.values"\n        change="changeSearch(\'type\', varValue, $event)"\n        on-start-editing="clearEditTrigger(\'type\')"\n        value="type.value">\n    <span ng-if="type.tooltip"\n          tooltip-placement="top"\n          tooltip="{{ type.tooltip | translate }}">\n      {{ type.value.value | camQueryComponent }}\n    </span>\n    <span ng-if="!type.tooltip">\n      {{ type.value.value | camQueryComponent }}\n    </span>\n  </span>\n\n  <span ng-if="extended">:</span>\n\n  <span ng-if="extended && potentialNames.length <= 0 && !!name.value.value"\n        cam-widget-inline-field\n        class="set-value name-field"\n        type="text"\n        tabindex="0"\n        ng-keydown="onKeydown($event,\'name\')"\n        change="changeSearch(\'name\', varValue, $event)"\n        on-start-editing="clearEditTrigger(\'name\')"\n        value="name.value.value">\n    <span ng-if="name.tooltip"\n          tooltip-placement="top"\n          tooltip="{{name.tooltip | translate }}">\n        {{ name.value.value | camQueryComponent }}\n    </span>\n    <span ng-if="!name.tooltip">\n        {{ name.value.value | camQueryComponent }}\n    </span>\n  </span>\n\n  <span ng-if="extended && potentialNames.length <= 0 && !name.value.value"\n        cam-widget-inline-field\n        class="set-value name-field"\n        tabindex="0"\n        ng-keydown="onKeydown($event, \'name\')"\n        type="text"\n        change="changeSearch(\'name\', varValue, $event)"\n        on-start-editing="clearEditTrigger(\'name\')"\n        value="name.value">\n    <span ng-if="name.tooltip"\n          tooltip-placement="top"\n          tooltip="{{name.tooltip | translate }}">\n        {{ name.value | camQueryComponent }}\n    </span>\n    <span ng-if="!name.tooltip">\n        {{ name.value | camQueryComponent }}\n    </span>\n  </span>\n\n  <span ng-if="extended && potentialNames.length > 0"\n        cam-widget-inline-field\n        class="set-value name-field"\n        tabindex="0"\n        ng-keydown="onKeydown($event, \'name\')"\n        type="option"\n        options="potentialNames"\n        allow-non-options="true"\n        change="changeSearch(\'name\', varValue, $event)"\n        on-start-editing="clearEditTrigger(\'name\')"\n        value="name.value">\n    <span ng-if="extended && name.tooltip && name.value.key">\n      {{ name.value.value | camQueryComponent }}\n    </span>\n    <span ng-if="extended && name.tooltip && !name.value.key">\n      {{ name.value | camQueryComponent }}\n    </span>\n    <span ng-if="extended && !name.tooltip && name.value.key">\n      {{ name.value.value | camQueryComponent }}\n    </span>\n    <span ng-if="extended && !name.tooltip && !name.value.key">\n      {{ name.value | camQueryComponent }}\n    </span>\n  </span>\n\n  <span ng-if="!basic && operator.values.length > 1"\n        cam-widget-inline-field\n        class="set-value operator-field"\n        tabindex="0"\n        ng-keydown="onKeydown($event, \'operator\')"\n        type="option"\n        options="operator.values"\n        change="changeSearch(\'operator\', varValue, $event)"\n        on-start-editing="clearEditTrigger(\'operator\')"\n        value="operator.value">\n    <span ng-if="operator.tooltip"\n          tooltip-placement="top"\n          tooltip="{{operator.tooltip | translate }}">\n      {{ operator.value.value | camQueryComponent }}\n    </span>\n    <span ng-if="!operator.tooltip">\n      {{ operator.value.value | camQueryComponent }}\n    </span>\n  </span>\n\n  <span ng-if="operator.values.length < 2 && operator.tooltip"\n        tooltip-placement="top"\n        tooltip="{{operator.tooltip | translate }}"\n        class="operator-field">\n    {{ operator.value.value | camQueryComponent }}\n  </span>\n  <span ng-if="operator.values.length < 2 && !operator.tooltip"\n        class="operator-field">\n    {{ operator.value.value | camQueryComponent }}\n  </span>\n\n  <span cam-widget-inline-field\n        class="set-value value-field"\n        tabindex="0"\n        ng-keydown="onKeydown($event, \'value\')"\n        type="{{ valueType }}"\n        change="changeSearch(\'value\', varValue, $event)"\n        on-start-editing="clearEditTrigger(\'value\')"\n        ng-if="!basic"\n        options="options"\n        value="value.value"\n        flexible="{{ allowDates }}">\n    <span class="visible-whitespace"\n          ng-if="value.tooltip"\n          tooltip-placement="top"\n          tooltip="{{value.tooltip | translate }}">{{ value.value | camQueryComponent }}</span>\n    <span class="visible-whitespace"\n          ng-if="!value.tooltip">{{ value.value | camQueryComponent }}</span>\n  </span>\n</span>\n<!-- CE / camunda-commons-ui/lib/widgets/search-pill/search-pill.html -->\n';b.exports=["$timeout",function(a){return{restrict:"A",scope:{valid:"=",extended:"=",basic:"=",allowDates:"=",enforceDates:"=",enforceString:"=",options:"=",invalidText:"@",deleteText:"@",type:"=",name:"=",potentialNames:"=?",operator:"=",value:"=",onChange:"&",onDelete:"&"},link:function(b,c){function e(){return b.options?"option":b.enforceDates?"datetime":"text"}b.valueType=e(),b.potentialNames=b.potentialNames||[],b.changeSearch=function(a,c,d){var e=b[a].value;b[a].value=c,b[a].inEdit=!1,"function"==typeof b.onChange&&b.onChange({field:a,before:e,value:c,$event:d})},b.clearEditTrigger=function(a){b[a].inEdit=!1},b.onKeydown=function(a,c){13===a.keyCode&&a.target===a.currentTarget&&(b[c].inEdit=!0)},b.$watch("allowDates",function(a){a||(b.valueType=e())}),b.$watch("enforceDates",function(a){a&&(b.valueType=e())}),b.$watch("enforceString",function(a){a&&(b.valueType=e())});var f=function(b){a(function(){d(c[0].querySelectorAll("[cam-widget-inline-field][value='"+b+".value']")).find(".view-value").click()})};b.$watch("value",function(a){return a&&a.inEdit&&f("value")},!0),b.$watch("name",function(a){return a&&a.inEdit&&f("name")},!0),b.$watch("type",function(a){return a&&a.inEdit&&f("type")},!0),b.$watch("operator",function(a){return a&&!a.value&&1===a.values.length&&(a.value=a.values[0]),a&&a.inEdit&&f("operator")},!0)},template:e}}]},{jquery:"jquery"}],60:[function(a,b,c){"use strict";function d(a){return a&&"string"==typeof a&&a.match(i)?"date":typeof a}var e=a("camunda-bpm-sdk-js/vendor/angular"),f=e.copy,g=a("jquery"),h='<div class="search-field">\n  <form ng-submit="createSearch()"\n        ng-class="{\'has-search\': searches.length, \'focused\': focused}">\n\n    <div class="form-container search-container"\n         ng-style="{\'padding-right\': getRightPadding()}"\n         ng-class="{\'has-icon\': !!mode}">\n      <div ng-if="isMatchAnyActive && searches.length > 0"\n           class="match-any">\n        <button ng-click="switchMatchType()"\n                type="button"\n                class="btn btn-default btn-xs"\n                ng-disabled="searches.length < 2">\n          {{ (matchAny ? \'CAM_WIDGET_SEARCH_MATCH_TYPE_ANY\' : \'CAM_WIDGET_SEARCH_MATCH_TYPE_ALL\') | translate }}\n        </button>\n        <span ng-disabled="searches.length < 2">{{ \'CAM_WIDGET_SEARCH_MATCH_TYPE\' | translate }}</span>\n      </div>\n      <span ng-if="mode"\n            class="search-type glyphicon"\n            ng-class="\'glyphicon-\' + mode"></span>\n      <span cam-widget-search-pill\n            ng-repeat="search in searches"\n            extended="search.extended"\n            basic="search.basic"\n            allow-dates="search.allowDates"\n            enforce-dates="search.enforceDates"\n            valid="search.valid"\n            name="search.name"\n            potential-names="search.potentialNames"\n            type="search.type"\n            operator="search.operator"\n            value="search.value"\n            options="search.options"\n            invalid-text="{{ translations.invalid }}"\n            delete-text="{{ translations.deleteSearch }}"\n            on-change="handleChange($index, field, before, value, $event)"\n            on-delete="deleteSearch($index)"></span>\n      <input class="form-control main-field"\n             type="text"\n             ng-model="inputQuery"\n             ng-keydown="onKeydown($event)"\n             typeahead="type as type.value for type in dropdownTypes | filter:$viewValue:instantTypeahead"\n             typeahead-on-select="createSearch($item)"\n             instant-typeahead />\n    </div>\n  </form>\n  <div class="controls">\n    <span ng-if="total"\n          class="total-results"\n          tooltip="{{ \'CAM_WIDGET_SEARCH_TOTAL_NUMBER_RESULTS\' | translate }}">\n      {{total}}\n    </span>\n\n    <span cam-share-link></span>\n\n    <span class="dropdown stored-criteria">\n      <button ng-disabled="!searches.length && !hasCriteriaSets()"\n              class="dropdown-toggle btn btn-default">\n        <span class="glyphicon glyphicon-floppy-disk"></span>\n        <span class="caret"></span>\n      </button>\n\n      <ul class="dropdown-menu dropdown-menu-right"\n          ng-if="searchCriteriaStorage.group || hasCriteriaSets()">\n        <li ng-if="searchCriteriaStorage.group">\n          <div class="input-group input-group-sm">\n            <input type="text"\n                   class="form-control"\n                   ng-model="searchCriteriaStorage.nameInput"\n                   ng-click="storedCriteriaInputClick($event)"\n                   ng-keydown="searchCriteriaInputKeydown($event)" />\n            <span class="input-group-btn">\n              <button ng-disabled="!searchCriteriaStorage.nameInput"\n                      ng-click="storedCriteriaSaveClick($event)"\n                      class="btn btn-default"\n                      type="button">\n                <span class="glyphicon glyphicon-ok"></span>\n              </button>\n            </span>\n          </div>\n        </li>\n\n        <li role="separator"\n            class="divider"\n            ng-if="searchCriteriaStorage.group && hasCriteriaSets()"></li>\n\n        <li class="stored-criteria-set"\n            ng-if="hasCriteriaSets()"\n            ng-repeat="(key, value) in searchCriteriaStorage.available">\n          <div>\n            <a class="glyphicon glyphicon-remove-sign"\n               ng-click="dropCriteriaSet($event, key)"\n               href></a>\n\n            <a href\n               ng-click="loadCriteriaSet($event, key)">{{ key }}</a>\n          </div>\n        </li>\n      </ul>\n    </span>\n  </div>\n</div>\n',i=/(\d\d\d\d)-(\d\d)-(\d\d)T(\d\d):(\d\d):(\d\d)(?:.(\d\d\d)| )?$/,j=function(a){
return a.type.value&&(!a.extended||a.name.value)&&(a.basic||a.operator.value)&&(a.basic||a.value.value)&&("date"===d(a.value.value)||!a.enforceDates)},k=function(a){if(!a.value)return void(a.value=a.values[0]);var b=a.values.map(function(a){return a.key}).indexOf(a.value.key);a.value=a.values[b===-1?0:b]},l=function(a,b){return b?""+a:isNaN(a)||""===a.trim()?"true"===a||"false"!==a&&("NULL"===a?null:a):+a},m=!1;b.exports=["$timeout","$location","search","widgetLocalConf",function(a,b,c,i){var n=function(b){a(function(){var c=document.createElement("input");c.setAttribute("type","text"),c.setAttribute("placeholder","set");var d=!1;c.addEventListener("input",function(){d=!0}),document.body.appendChild(c),c.focus(),document.body.removeChild(c),a(function(){b(d)})},0,!1)};return{restrict:"A",scope:{types:"=camWidgetSearchTypes",translations:"=camWidgetSearchTranslations",operators:"=camWidgetSearchOperators",searches:"=?camWidgetSearchSearches",validSearches:"=?camWidgetSearchValidSearches",storageGroup:"=?camWidgetSearchStorageGroup",searchId:"@camWidgetSearchId",total:"=?camWidgetSearchTotal",matchAny:"=?camWidgetSearchMatchAny"},link:function(h,o){function p(){return E.available={},E.group?void(E.available=f(F[E.group])):void H.forEach(function(a){Object.keys(F[a]||{}).forEach(function(b){E.available[a+": "+b]=F[a][b]})})}function q(a){if(a.indexOf(":")>0){var b=a.split(":").map(function(a){return a.trim()});return{group:b[0],name:b[1]}}if(E.group)return{group:E.group,name:a}}h.isMatchAnyActive="undefined"!=typeof h.matchAny,h.switchMatchType=function(){h.isMatchAnyActive&&(h.matchAny=!h.matchAny)},h.focused=!1;var r=e.element(o).find("form")[0];r.addEventListener("focus",function(){a(function(){h.focused=!0})},!0),r.addEventListener("blur",function(){a(function(){h.focused=!1})},!0),n(function(a){if(a){var b=document.createElement("div");b.textContent=h.translations.inputPlaceholder+":",o[0].insertBefore(b,o[0].firstChild),h.$root.$broadcast("plugin:search:change")}else o[0].querySelector("input.main-field").setAttribute("placeholder",h.translations.inputPlaceholder)}),h.searchTypes=h.types.map(function(a){return a.id}),h.getRightPadding=function(){return o.width()>400?"125px":"12px"};var s=h.types.reduce(function(a,b){return a||(b["default"]?b:null)},null),t=function(){var a=h.searches.map(function(a){return a.type.value.key}).reduce(function(a,b){return a.indexOf(b)===-1&&a.push(b),a},[]),b=a.map(function(a){return u(a).groups}).filter(function(a){return!!a}).reduce(function(a,b){if(a){if(0===a.length)return e.copy(b);for(var c=0;c<a.length;c++)b.indexOf(a[c])===-1&&(a.splice(c,1),c--);return 0===a.length?null:a}return null},[]);return null===b?[]:0===b.length?h.searchTypes:h.searchTypes.filter(function(a){var c=u(a.key).groups;if(!c)return!0;for(var d=0;d<c.length;d++)if(b.indexOf(c[d])>-1)return!0;return!1})},u=function(a){return h.types.reduce(function(b,c){return b||(c.id.key===a?c:null)},null)},v=function(a,b){return a.operators||h.operators[d(l(b,a.enforceString))]},w=function(a){return a.map(function(a){var b=u(a.type);if(b){var c={extended:b.extended,basic:b.basic,type:{values:t(),value:t().reduce(function(b,c){return b||(c.key===a.type?c:null)},null),tooltip:h.translations.type},name:{value:a.name,tooltip:h.translations.name},options:b.options,operator:{tooltip:h.translations.operator},value:{value:a.value,tooltip:h.translations.value},allowDates:b.allowDates,enforceDates:b.enforceDates,potentialNames:b.potentialNames||[],enforceString:b.enforceString};return c.operator.values=v(b,c.value.value),c.operator.value=c.operator.values.reduce(function(b,c){return b||(c.key===a.operator?c:null)},null),c.valid=j(c),c}}).filter(function(a){return a})},x=h.searchId||"search",y=function(){var a=JSON.parse((b.search()||{})[x+"Query"]||"[]");return w(a)};h.searches=h.searches||[],h.searches=y(),h.validSearchesBuffer=h.searches.reduce(function(a,b){return b.valid&&a.push(b),a},[]),h.validSearches=e.copy(h.validSearchesBuffer);var z=function(a,b){var c=h.searches[a];if(!c.valid){if(c.extended&&!c.name.value&&"name"!==b)return void(c.name.inEdit=!0);if("value"!==b)return void(c.value.inEdit=!0)}for(var d=1;d<h.searches.length;d++){var e=(d+a)%h.searches.length;if(c=h.searches[e],!c.valid)return void(c.extended&&!c.name.value?c.name.inEdit=!0:c.value.inEdit=!0)}};h.createSearch=function(b){if(b||h.inputQuery){var c=b?"":h.inputQuery;b=b&&u(b.key)||s;var d=v(b,c);h.searches.push({extended:b.extended,basic:b.basic,type:{values:t(),value:b.id,tooltip:h.translations.type},name:{value:"",inEdit:b.extended,tooltip:h.translations.name},operator:{value:d[0],values:d,tooltip:h.translations.operator},options:b.options,value:{value:c,inEdit:!b.extended&&!c,tooltip:h.translations.value},allowDates:b.allowDates,enforceDates:b.enforceDates,potentialNames:b.potentialNames,enforceString:b.enforceString});var e=h.searches[h.searches.length-1];e.valid=j(e),c?h.inputQuery="":a(function(){a(function(){h.inputQuery="",g(o[0].querySelector(".search-container > input")).blur()})})}},h.deleteSearch=function(b){h.searches.splice(b,1),a(function(){g(o[0].querySelector(".search-container > input")).focus()})},h.handleChange=function(b,c,d,e,f){var i,l=h.searches[b];"type"===c?(i=u(e.key),l.extended=i.extended,l.basic=i.basic,l.allowDates=i.allowDates,!l.enforceDates&&i.enforceDates&&(l.value.value=""),l.enforceDates=i.enforceDates,l.operator.values=v(i,l.value.value),k(l.operator)):"value"===c&&(b===h.searches.length-1&&a(function(){g(o[0].querySelector(".search-container > input")).focus()}),i=u(l.type.value.key),i.operators||(l.operator.values=v(i,l.value.value),k(l.operator))),l.valid=j(l),f&&13===f.keyCode&&z(b,c)},h.onKeydown=function(b){if([38,40,13].indexOf(b.keyCode)!==-1){var c=g(o[0].querySelectorAll('.dropdown-menu[id^="typeahead"]'));0===c.length&&a(function(){e.element(b.target).triggerHandler("input")})}};var A=function(a){var b=[];return e.forEach(a,function(a){b.push({type:a.type.value.key,operator:a.operator.value.key,value:a.value.value,name:a.name.value})}),b},B=function(){var d=h.searches;e.forEach(d,function(a){a.valid&&h.validSearchesBuffer.indexOf(a)===-1&&h.validSearchesBuffer.push(a)}),e.forEach(h.validSearchesBuffer,function(a,b){a.valid&&d.indexOf(a)!==-1||h.validSearchesBuffer.splice(b,1)});var f={};if(f[x+"Query"]=JSON.stringify(A(h.validSearchesBuffer)),h.isMatchAnyActive){var g;h.matchAny&&!b.search().hasOwnProperty(x+"OrQuery")?g=b.url()+"&"+x+"OrQuery":h.matchAny||(g=b.url().replace("&"+x+"OrQuery","")),b.url(g),b.replace()}m=!0,c.updateSilently(f,!b.search()[x+"Query"]),a(function(){m=!1}),D()};h.$watch("[searches, matchAny]",B,!0),h.$on("$locationChangeSuccess",function(){if(h.matchAny=b.search().hasOwnProperty(x+"OrQuery"),!m&&b.search().hasOwnProperty(x+"Query")){var a=y();e.equals(a,h.validSearchesBuffer)||(e.forEach(h.searches,function(b){b.valid||a.push(b)}),h.validSearchesBuffer=[],h.searches=a)}});var C;h.$watch("validSearchesBuffer",function(){a.cancel(C),C=a(function(){h.validSearches=e.copy(h.validSearchesBuffer)})},!0);var D=function(){var a=t();h.dropdownTypes=a;for(var b=0;b<h.searches.length;b++)h.searches[b].type.values=a};h.$watch("types",function(){h.searchTypes=h.types.map(function(a){return a.id}),h.dropdownTypes=t(),e.forEach(h.searches,function(a){a.potentialNames=u(a.type.value.key).potentialNames||[]})},!0),h.dropdownTypes=t();for(var E=h.searchCriteriaStorage={group:null,nameInput:"",available:{}},F={},G=h.storageGroup?[h.storageGroup]:h.types.map(function(a){return a.groups}).reduce(function(a,b){return(a||[]).concat(b)}).filter(function(a){return a}),H=[],I=0;I<G.length;I++)H.indexOf(G[I])<0&&G[I]&&H.push(G[I]);!H.length&&h.storageGroup&&H.push(h.storageGroup),H.forEach(function(a){F[a]={}}),h.$watch("validSearches",function(){if(h.storageGroup)return E.group=h.storageGroup,void p();var a=null;h.validSearches.forEach(function(b){if(!a){var c=b.type.value.key;h.types.forEach(function(b){a||b.id.key===c&&1===(b.groups||[]).length&&(a=(b.groups||[])[0])})}}),E.group=a,p()},!0),F=i.get("searchCriteria",F),p(),h.$watch("storageGroup",function(){h.storageGroup&&H.indexOf(h.storageGroup)<0||(E.group=h.storageGroup,p())}),h.storedCriteriaInputClick=function(a){a.stopPropagation()},h.searchCriteriaInputKeydown=function(a){if(13===a.keyCode)return h.storedCriteriaSaveClick(a)},h.hasCriteriaSets=function(){return!!Object.keys(E.available||{}).length},h.loadCriteriaSet=function(a,b){var c=q(b);if(c){var d=F[c.group][c.name];h.searches=w(d),h.isMatchAnyActive&&(h.matchAny=d[d.length-1].matchAny),B()}},h.dropCriteriaSet=function(a,b){a.stopPropagation();var c=q(b);c&&(delete F[c.group][c.name],i.set("searchCriteria",F),p())},h.storedCriteriaSaveClick=function(a){a.stopPropagation();var b=E.nameInput;b&&(F[E.group]=F[E.group]||{},F[E.group][b]=A(h.validSearchesBuffer),h.isMatchAnyActive&&F[E.group][b].push({matchAny:h.matchAny}),i.set("searchCriteria",F),p(),E.nameInput="")}},template:h}}]},{"camunda-bpm-sdk-js/vendor/angular":114,jquery:"jquery"}],61:[function(a,b,c){"use strict";function d(a){return a=a||new Date,a.toISOString().slice(0,-5)}var e=a("camunda-bpm-sdk-js/vendor/angular"),f=a("camunda-bpm-sdk-js/lib/forms/type-util"),g='<!-- # CE - camunda-commons-ui/lib/widgets/variable/cam-widget-variable-dialog.html -->\n<div class="modal-header">\n  <h3>{{ \'CAM_WIDGET_VARIABLE_DIALOG_INSPECT\' | translate:\'{ name: variable.name }\' }}</h3>\n</div>\n\n<div class="modal-body">\n  <div ng-if="readonly"\n       class="form-group">\n    <label>{{ \'CAM_WIDGET_VARIABLE_DIALOG_LABEL_OBJECT_TYPE\' | translate }}</label>\n    <code class="form-control-static"\n          cam-widget-clipboard="variable.valueInfo.objectTypeName">{{ variable.valueInfo.objectTypeName }}</code>\n  </div>\n\n  <div ng-if="readonly"\n       class="form-group">\n    <label>{{ \'CAM_WIDGET_VARIABLE_DIALOG_LABEL_SERIALIZATION\' | translate }}</label>\n    <code class="form-control-static"\n          cam-widget-clipboard="variable.valueInfo.serializationDataFormat">{{ variable.valueInfo.serializationDataFormat }}</code>\n  </div>\n\n  <div ng-if="!readonly"\n       class="form-group">\n    <label for="object-type-name"\n           cam-widget-clipboard="variable.valueInfo.objectTypeName">{{ \'CAM_WIDGET_VARIABLE_DIALOG_LABEL_OBJECT_TYPE\' | translate }}</label>\n    <input type="text"\n           id="object-type-name"\n           class="form-control"\n           ng-model="variable.valueInfo.objectTypeName" />\n  </div>\n\n  <div ng-if="!readonly"\n       class="form-group">\n    <label for="serialization-data-format"\n           cam-widget-clipboard="variable.valueInfo.serializationDataFormat">{{ \'CAM_WIDGET_VARIABLE_DIALOG_LABEL_SERIALIZATION\' | translate }}</label>\n    <input type="text"\n           id="serialization-data-format"\n           class="form-control"\n           ng-model="variable.valueInfo.serializationDataFormat" />\n  </div>\n\n  <div class="form-group">\n    <label for="serialized-value"\n           cam-widget-clipboard="variable.value"\n           no-tooltip\n           ng-class="{hovered: hovered === \'var-value\'}">{{ \'CAM_WIDGET_VARIABLE_DIALOG_LABEL_SERIALIZED_VALUE\' | translate }}</label>\n    <textarea ng-model="variable.value"\n              id="serialized-value"\n              rows="10"\n              class="form-control"\n              ng-readonly="readonly"\n              ng-mouseenter="toggleHover(\'var-value\')"\n              ng-mouseleave="toggleHover()"></textarea>\n  </div>\n</div>\n\n<div class="modal-footer">\n  <button class="btn btn-default"\n          ng-click="$dismiss(\'close\')">\n    {{ \'CAM_WIDGET_VARIABLE_DIALOG_BTN_CLOSE\' | translate }}\n  </button>\n\n  <button class="btn btn-primary"\n          ng-if="!readonly"\n          ng-readonly="!hasChanged(\'serialized\')"\n          ng-click="$close(variable)">\n    {{ \'CAM_WIDGET_VARIABLE_DIALOG_BTN_CHANGE\' | translate }}\n  </button>\n</div>\n<!-- / CE - camunda-commons-ui/lib/widgets/variable/cam-widget-variable-dialog.html -->\n',h='<!-- # CE - camunda-commons-ui/lib/widgets/variable/cam-widget-variable-dialog.html -->\n<div class="modal-header">\n  <h3>{{ \'CAM_WIDGET_STRING_DIALOG_TITLE\' | translate:\'{name: variable.name}\' }}</h3>\n</div>\n\n<div class="modal-body">\n  <div class="form-group">\n    <label for="value"\n           cam-widget-clipboard="variable.value"\n           no-tooltip\n           ng-class="{hovered: hovered === \'var-value\'}">\n      {{ \'CAM_WIDGET_STRING_DIALOG_LABEL_VALUE\' | translate }}\n    </label>\n    <textarea ng-model="variable.value"\n              id="value"\n              rows="10"\n              class="form-control cam-string-variable"\n              ng-readonly="readonly"\n              ng-mouseenter="toggleHover(\'var-value\')"\n              ng-mouseleave="toggleHover()"></textarea>\n  </div>\n</div>\n\n<div class="modal-footer">\n  <button class="btn btn-default"\n          ng-click="$dismiss(\'close\')">\n    {{ \'CAM_WIDGET_STRING_DIALOG_LABEL_CLOSE\' | translate }}\n  </button>\n</div>\n<!-- / CE - camunda-commons-ui/lib/widgets/variable/cam-widget-variable-dialog.html -->\n',i={};i.camundaFormattedDate=d,i.templateDialog=g,i.templateStringDialog=h,i.modalCtrl=["$scope","variable","readonly",function(a,b,c){a.hovered=!1,a.toggleHover=function(b){a.hovered=b},a.variable=b,a.readonly=c;var d=e.copy(b);a.hasChanged=function(){return d.valueInfo=d.valueInfo||{},b.valueInfo=b.valueInfo||{},d.value!==b.value||d.valueInfo.serializationDataFormat!==b.valueInfo.serializationDataFormat||d.valueInfo.objectTypeName!==b.valueInfo.objectTypeName}}],i.typeUtils=f,i.types=["Boolean","Bytes","File","Date","Double","Integer","Long","Null","Object","Short","String","Json","Xml"],i.defaultValues={Boolean:!1,Bytes:null,File:null,Date:d(),Double:0,Integer:0,Long:0,Null:"",Short:0,String:"",Object:{},Json:"",Xml:""},i.isPrimitive=function(a){return function(b){return!b&&!a.variable||(b=b||a.variable.type,!b||["Boolean","Date","Double","Integer","Long","Short","String"].indexOf(b)>=0)}},i.isBinary=function(a){return function(b){return!(!b&&!a.variable)&&(b=b||a.variable.type,!!b&&["Bytes","File"].indexOf(b)>=0)}},i.useCheckbox=function(a){return function(b){return!(!b&&!a.variable)&&(b=b||a.variable.type,"Boolean"===b)}},i.validate=function(a){return function(){if(a.variable.name&&a.variable.type?null===a.variable.value||["String","Object","Null"].indexOf(a.variable.type)>-1?a.valid=!0:a.valid=f.isType(a.variable.value,a.variable.type):a.valid=!1,a.valid&&a.variable.type&&null!==a.variable.value&&a.isPrimitive(a.variable.type)){var b;b="Boolean"!==a.variable.type?f.convertToType(a.variable.value,a.variable.type):!!a.variable.value&&"false"!==a.variable.value,typeof a.variable.value!=typeof b&&(a.variable.value=b)}}},b.exports=i},{"camunda-bpm-sdk-js/lib/forms/type-util":108,"camunda-bpm-sdk-js/vendor/angular":114}],62:[function(a,b,c){"use strict";var d=a("camunda-bpm-sdk-js/lib/forms/type-util");b.exports=[function(){return{require:"ngModel",link:function(a,b,c,e){var f=function(a){var b=c.camVariableValidator;return["String","Object","Null"].indexOf(b)!==-1?e.$setValidity("camVariableValidator",!0):e.$setValidity("camVariableValidator",d.isType(a,b)),a};e.$parsers.unshift(f),e.$formatters.push(f),c.$observe("camVariableValidator",function(){return f(e.$viewValue)})}}}]},{"camunda-bpm-sdk-js/lib/forms/type-util":108}],63:[function(a,b,c){"use strict";var d=a("camunda-bpm-sdk-js/vendor/angular"),e=a("./cam-variable-utils"),f='<div ng-if="display && isShown(\'type\')"\n     class="type">{{ variable.type }}</div>\n<div ng-if="display && isShown(\'name\')"\n     class="name">{{ variable.name }}</div>\n<div ng-if="display && isShown(\'value\') && isPrimitive()"\n     ng-class="{null: isNull()}"\n     class="value">\n  <span ng-if="isNull()"\n        class="null-symbol">{{ \'CAM_WIDGET_VARIABLE_NULL\' | translate }}</span>\n  {{ (variable.value === null ? \'\' : variable.value.toString()) }}\n</div>\n<div ng-if="display && isShown(\'value\') && variable.type === \'Object\'"\n     ng-class="{null: isNull()}"\n     class="value">\n  <a ng-click="editVariableValue()">\n    {{ variable.valueInfo.objectTypeName }}\n  </a>\n</div>\n\n\n<div ng-if="!display"\n     class="input-group editing">\n  <div ng-if="isShown(\'type\')"\n       class="input-group-btn type">\n    <select class="form-control"\n            ng-model="variable.type"\n            ng-options="variableType for variableType in variableTypes track by variableType"\n            ng-disabled="isDisabled(\'type\')"\n            required>\n    </select>\n  </div><!-- /btn-group -->\n\n  <input ng-if="isShown(\'name\')"\n         type="text"\n         class="form-control name"\n         ng-model="variable.name"\n         placeholder="varName"\n         ng-disabled="isDisabled(\'name\')"\n         required />\n\n  <div ng-if="isShown(\'value\') && !isNull()"\n       class="value-wrapper input-group"\n       ng-class="{checkbox: useCheckbox()}">\n    <div ng-if="variable.type !== \'Null\'"\n         class="input-group-btn">\n      <a ng-click="setNull()"\n         class="btn btn-default set-null"\n         ng-disabled="isDisabled(\'value\')"\n         tooltip="{{ \'CAM_WIDGET_VARIABLE_SET_VALUE_NULL\' | translate }}">\n        <span class="glyphicon glyphicon-remove"></span>\n      </a>\n    </div>\n\n    <input ng-if="isPrimitive() && !useCheckbox()"\n           type="text"\n           class="form-control value"\n           ng-model="variable.value"\n           ng-disabled="isDisabled(\'value\')"\n           placeholder="{{ \'CAM_WIDGET_VARIABLE_VALUE\' | translate }}"\n           cam-variable-validator="{{variable.type}}" />\n\n    <input ng-if="useCheckbox()"\n           type="checkbox"\n           class="value"\n           ng-model="variable.value"\n           ng-disabled="isDisabled(\'value\')"\n           placeholder="{{ \'CAM_WIDGET_VARIABLE_VALUE\' | translate }}"\n           cam-variable-validator="{{variable.type}}" />\n\n    <div ng-if="variable.type === \'Object\'"\n         class="value form-control-static">\n      <a ng-click="editVariableValue()" ng-disabled="isDisabled(\'value\')">\n        {{ (variable.valueInfo.objectTypeName || \'CAM_WIDGET_VARIABLE_UNDEFINED\') | translate }}\n      </a>\n    </div>\n  </div>\n\n  <div ng-if="variable.type !== \'Null\' && isShown(\'value\') && isNull()"\n       ng-click="setNonNull()"\n       class="value-wrapper value null-value btn btn-default"\n       ng-disabled="isDisabled(\'value\')"\n       tooltip="{{ \'CAM_WIDGET_VARIABLE_RESET\' | translate }}">\n    <span class="null-symbol">{{ \'CAM_WIDGET_VARIABLE_NULL\' | translate }}</span>\n  </div>\n\n  <div ng-if="variable.type === \'Null\'"\n       ng-disabled="isDisabled(\'value\')"\n       class="value-wrapper value btn no-click null-value">\n    <span class="null-symbol">{{ \'CAM_WIDGET_VARIABLE_NULL\' | translate }}</span>\n  </div>\n</div>\n',g=e.types,h=e.modalCtrl;b.exports=["$modal",function(a){return{template:f,scope:{variable:"=camVariable",display:"@?",shown:"=?",disabled:"=?",hiddenTypes:"=?"},link:function(b,c){function f(a){return!Array.isArray(b.hiddenTypes)||!b.hiddenTypes.length||b.hiddenTypes.indexOf(a)===-1}b.variableTypes=g.filter(f);var i=e.defaultValues;b.isPrimitive=e.isPrimitive(b),b.useCheckbox=e.useCheckbox(b),b.isShown=function(a){return!Array.isArray(b.shown)||!b.shown.length||b.shown.indexOf(a)>-1},b.isDisabled=function(a){return!(!Array.isArray(b.disabled)||!b.disabled.length)&&b.disabled.indexOf(a)>-1},b.shownClasses=function(){return Array.isArray(b.shown)&&b.shown.length?b.shown.map(function(a){return"show-"+a}).join(" "):""},b.$watch("shown",function(){c.removeClass("show-type show-name show-value").addClass(b.shownClasses())});var j=e.validate(b);b.valid=!0,b.$watch("variable.value",j),b.$watch("variable.name",j),b.$watch("variable.type",j),j();var k=b.variable.value;b.$watch("variable.type",function(a,d){"Boolean"===a?null!==b.variable.value&&(k=b.variable.value,b.variable.value="false"!==b.variable.value&&!!b.variable.value):"Boolean"===d&&(b.variable.value=k);var e=c[0].classList;d&&e.remove("var-type-"+d.toLowerCase()),a&&e.add("var-type-"+a.toLowerCase())}),b.isNull=function(){return null===b.variable.value},b.setNonNull=function(){b.variable.value=k||i[b.variable.type]},b.setNull=function(){k=b.variable.value,b.variable.value=null},b.editVariableValue=function(){a.open({template:e.templateDialog,controller:h,windowClass:"cam-widget-variable-dialog",resolve:{variable:function(){return d.copy(b.variable)},readonly:function(){return b.display}}}).result.then(function(a){b.variable.value=a.value,b.variable.valueInfo=a.valueInfo})}}}}]},{"./cam-variable-utils":61,"camunda-bpm-sdk-js/vendor/angular":114}],64:[function(a,b,c){"use strict";var d=a("jquery");b.exports=["$compile",function(a){return{template:"<div></div>",scope:{info:"=",headerName:"="},link:function(b,c){var e=b.info.additions[b.headerName]||{};e.scopeVariables=e.scopeVariables||{};for(var f in e.scopeVariables)b[f]=e.scopeVariables[f];b.variable=b.info.variable,c.html("<div>"+e.html+"</div>"),a(d("div",c)[0])(b)}}}]},{jquery:"jquery"}],65:[function(a,b,c){"use strict";function d(a){return JSON.parse(JSON.stringify(a))}function e(a){return{then:function(b){b(f.copy(a.variable))}}}var f=a("camunda-bpm-sdk-js/vendor/angular"),g=a("../variable/cam-variable-utils"),h='<table class="cam-table">\n  <thead>\n    <tr>\n      <td ng-repeat="headerName in headerNames" ng-class="\'col-\' + headerName">\n        {{ headers[headerName] }}\n      </td>\n\n      <td class="actions"\n          ng-if="editable.length">\n        Actions\n      </td>\n    </tr>\n  </thead>\n\n  <tbody>\n    <tr ng-repeat="(v, info) in variables"\n        ng-class="rowClasses(info, v)">\n      <td ng-repeat="headerName in headerNames"\n          ng-init="variable=info.variable"\n          ng-class="colClasses(info, headerName, v)"\n          ng-switch on="headerName">\n        <!-- ................................................................................... -->\n        <div ng-switch-when="type"\n             ng-if="!isEditable(\'type\', info)">\n          {{ variable.type }}\n        </div>\n        <select class="form-control"\n                ng-switch-when="type"\n                ng-if="isEditable(\'type\', info)"\n                ng-model="variable.type"\n                ng-options="variableType for variableType in variableTypes track by variableType"\n                required>\n        </select>\n        <!-- ................................................................................... -->\n\n\n        <!-- ................................................................................... -->\n        <div ng-switch-when="name"\n             ng-if="!isEditable(\'name\', info)">\n          <span cam-widget-clipboard="variable.name">{{ variable.name }}</span>\n        </div>\n\n        <input class="form-control"\n               ng-switch-when="name"\n               ng-model="variable.name"\n               ng-if="isEditable(\'name\', info)" />\n        <!-- ................................................................................... -->\n\n\n        <!-- ................................................................................... -->\n        <a ng-switch-when="value"\n           ng-if="!isEditable(\'value\', info) && isBinary(variable.type)"\n           ng-href="{{ downloadLink(info) }}"\n           download="{{ variable.name }}-data">\n          Download\n        </a>\n\n        <div ng-switch-when="value"\n             ng-if="!isEditable(\'value\', info) && variable.type === \'Object\'"\n             class="read-only value-wrapper">\n          <span ng-if="variable.valueInfo.objectTypeName"\n                cam-widget-clipboard="variable.valueInfo.objectTypeName">\n            <a ng-click="editVariableValue(v)"\n               href>{{ variable.valueInfo.objectTypeName }}</a>\n          </span>\n          <a ng-if="!variable.valueInfo.objectTypeName"\n             ng-click="editVariableValue(v)"\n             href>&lt;undefined&gt;</a>\n        </div>\n\n        <div ng-switch-when="value"\n             ng-if="!isEditable(\'value\', info) && variable.type === \'String\'"\n             class="read-only value-wrapper">\n          <span cam-widget-clipboard="variable.value">\n            <span ng-click="readStringVar(v)">{{ variable.value }}</span>\n          </span>\n        </div>\n\n        <div ng-switch-when="value"\n             ng-if="!isEditable(\'value\', info) && variable.type !== \'Object\' && variable.type !== \'String\'"\n             class="read-only value-wrapper">\n          <span ng-if="variable.type !== \'Bytes\' && variable.type !== \'Date\'"\n                cam-widget-clipboard="variable.value">{{ variable.value }}</span>\n          <span ng-if="variable.type === \'Bytes\'">{{ variable.value }}</span>\n          <span ng-if="variable.type === \'Date\'"\n                cam-widget-clipboard="variable.value">{{ variable.value | camDate }}</span>\n        </div>\n\n        <div class="value-wrapper"\n             ng-switch-when="value"\n             ng-if="isEditable(\'value\', info)">\n          <a ng-click="setNull(v)"\n             ng-if="!isNull(v)"\n             class="set-null"\n             tooltip-append-to-body="true"\n             tooltip="{{ \'CAM_WIDGET_VARIABLES_TABLE_TOOLTIP_SET_NULL\' | translate }}">\n            <span class="glyphicon glyphicon-remove"></span>\n          </a>\n\n          <input ng-if="isEditableType(variable.type) && !useCheckbox(variable.type) && !isNull(v)"\n                 type="text"\n                 class="form-control"\n                 ng-model="variable.value"\n                 placeholder="{{ \'CAM_WIDGET_VARIABLES_TABLE_PLACEHOLDER_VALUE\' | translate }}" />\n\n          <input ng-if="useCheckbox(variable.type)"\n                 type="checkbox"\n                 ng-model="variable.value"\n                 placeholder="{{ \'CAM_WIDGET_VARIABLES_TABLE_PLACEHOLDER_VALUE\' | translate }}" />\n\n          <a ng-if="variable.type === \'Object\' && !isNull(v)"\n             ng-click="editVariableValue(v)">\n            {{ variable.valueInfo.objectTypeName || \'&lt;undefined&gt;\' }}\n          </a>\n\n          <a ng-if="variable.type !== \'Null\' && !isBinary(variable.type) && isNull(v)"\n             ng-click="setNonNull(v)"\n             class="null-value"\n             tooltip-append-to-body="true"\n             tooltip="{{ \'CAM_WIDGET_VARIABLES_TABLE_TOOLTIP_DEFAULT_VALUE\' | translate }}">\n            <span class="null-symbol">&lt;null&gt;</span>\n          </a>\n\n          <a ng-if="isBinary(variable.type)"\n             ng-click="uploadVariable(v)"\n             tooltip-append-to-body="true"\n             tooltip="{{ \'CAM_WIDGET_VARIABLES_TABLE_TOOLTIP_UPLOAD\' | translate }}">\n            Upload\n          </a>\n\n          <span ng-if="variable.type === \'Null\'"\n                class="null-value">\n            <span class="null-symbol">{{ \'CAM_WIDGET_VARIABLES_TABLE_NULL\' | translate }}</span>\n          </span>\n        </div><!-- / value-wrapper -->\n        <!-- ................................................................................... -->\n\n\n        <div ng-switch-default\n             cam-render-var-template\n             info="info"\n             header-name="headerName">\n        </div>\n      </td>\n\n      <td class="actions"\n          ng-if="editable.length">\n        <div ng-if="!info.editMode"\n             class="btn-group">\n          <button class="btn btn-xs btn-primary"\n                  ng-disabled="!canEditVariable(info, v)"\n                  ng-click="info.editMode = true"\n                  tooltip-append-to-body="true"\n                  tooltip="{{ \'CAM_WIDGET_VARIABLES_TABLE_EDIT_VARIABLE\' | translate }}">\n            <span class="glyphicon glyphicon-pencil"></span>\n          </button>\n          <button class="btn btn-xs btn-default"\n                  ng-disabled="!canEditVariable(info, v)"\n                  ng-click="deleteVariable(v)"\n                  tooltip-append-to-body="true"\n                  tooltip="{{ \'CAM_WIDGET_VARIABLES_TABLE_DELETE_VARIABLE\' | translate }}">\n            <span class="glyphicon glyphicon glyphicon-trash"></span>\n          </button>\n        </div>\n\n        <div ng-if="info.editMode"\n             class="btn-group">\n          <button class="btn btn-xs btn-primary"\n                  ng-disabled="!info.valid || !info.changed"\n                  ng-click="saveVariable(v)"\n                  tooltip-append-to-body="true"\n                  tooltip="{{ \'CAM_WIDGET_VARIABLES_TABLE_SAVE_VARIABLE\' | translate }}">\n            <span class="glyphicon glyphicon-ok"></span>\n          </button>\n          <button class="btn btn-xs btn-default"\n                  ng-click="info.editMode = false"\n                  tooltip-append-to-body="true"\n                  tooltip="{{ \'CAM_WIDGET_VARIABLES_TABLE_REVERT_VARIABLE\' | translate }}">\n            <span class="glyphicon glyphicon-remove"></span>\n          </button>\n        </div>\n      </td>\n    </tr>\n  </tbody>\n</table>\n',i=g.typeUtils,j={variable:{name:null,type:null,value:null,valueInfo:{}},additions:{}};b.exports=["$modal","$translate",function(a,b){return{template:h,scope:{variables:"=camVariables",headers:"=?camHeaders",editable:"=?camEditable",isVariableEditable:"=?",deleteVar:"=?onDelete",saveVar:"=?onSave",editVar:"=?onEdit",downloadVar:"=?onDownload",uploadVar:"=?onUpload"},link:function(c){function h(a){return(c.variables[a]||{}).variable}function k(a){if(!c.variables||!c.variables[a]||!c.variables[a]._copy)return!1;var b,d=h(a),e=c.variables[a]._copy;return b=!d||!e,b=b||d.name!==e.name,b=b||d.type!==e.type,b=b||d.value!==e.value}function l(a,b){if(a.variable.name&&a.variable.type?null===a.variable.value||["String","Object","Null"].indexOf(a.variable.type)>-1?a.valid=!0:a.valid=i.isType(a.variable.value,a.variable.type):a.valid=!1,a.valid&&a.variable.type&&null!==a.variable.value&&c.isPrimitive(a.variable.type)){var d;d="Boolean"!==a.variable.type?i.convertToType(a.variable.value,a.variable.type):!!a.variable.value&&"false"!==a.variable.value,typeof a.variable.value!=typeof d&&(a.variable.value=d)}a.changed=k(b)}function m(){(c.variables||[]).forEach(function(a,b){function e(){l(a,b)}a.valid=!0;var g="variables["+b+"].variable";c.$watch(g+".value",e),c.$watch(g+".name",e),c.$watch(g+".type",e),c.$watch("variables["+b+"].editMode",function(b,c){f.isUndefined(b)||(b===!0?a._copy=d(a.variable):b===!1&&c===!0&&a._copy&&(a.variable.type=a._copy.type,a.variable.name=a._copy.name,a.variable.value=a._copy.value,delete a._copy))}),l(a,b),n[b]=a.variable.value})}var n=[];c.editable=c.editable||["type","name","value"],c.headers=c.headers||{name:b.instant("CAM_WIDGET_VARIABLES_TABLE_NAME"),type:b.instant("CAM_WIDGET_VARIABLES_TABLE_TYPE"),value:b.instant("CAM_WIDGET_VARIABLES_TABLE_VALUE")},c.headerNames=Object.keys(c.headers),c.variableTypes=f.copy(g.types),c.defaultValues=g.defaultValues,c.isPrimitive=g.isPrimitive(c),c.isBinary=g.isBinary(c),c.useCheckbox=g.useCheckbox(c),c.headers=c.headers||{name:b.instant("CAM_WIDGET_VARIABLES_TABLE_NAME"),type:b.instant("CAM_WIDGET_VARIABLES_TABLE_TYPE"),value:b.instant("CAM_WIDGET_VARIABLES_TABLE_VALUE")},c.headerNames=Object.keys(c.headers),["uploadVar","deleteVar","saveVar"].forEach(function(a){c[a]=f.isFunction(c[a])?c[a]:e});var o=function(a,b,c){return{template:b,controller:g.modalCtrl,windowClass:"cam-widget-variable-dialog",resolve:{variable:function(){return f.copy(h(a))},readonly:c}}};c.editVar=f.isFunction(c.editVar)?c.editVar:function(b,d){var e=function(){return!c.isEditable("value",c.variables[d])};return a.open(o(d,g.templateDialog,e)).result},c.readStringVar=f.isFunction(c.readStringVar)?c.readStringVar:function(b){var c=function(){return!0};return a.open(o(b,g.templateStringDialog,c)).result;
},c.downloadLink=f.isFunction(c.downloadVar)?c.downloadVar:function(a){return"/camunda/api/engine/engine/default/variable-instance/"+a.variable.id+"/data"},c.$watch("variables",m),m(),c.canEditVariable=f.isFunction(c.isVariableEditable)?c.isVariableEditable:function(){return!0},c.isEditable=function(a,b){return b.editMode&&c.editable.indexOf(a)>-1},c.isEditableType=function(a){return c.isPrimitive(a)||["Json","Xml"].indexOf(a)>=0},c.rowClasses=function(a){return[a.editMode?"editing":null,a.valid?null:"ng-invalid",a.valid?null:"ng-invalid-cam-variable-validator"]},c.colClasses=function(a,b){return[c.isEditable(b,a)?"editable":null,"type-"+(a.variable.type||"").toLowerCase(),"col-"+b]},c.isNull=function(a){return null===c.variables[a].variable.value},c.setNull=function(a){var b=h(a);n[a]=b.value,b.value=null},c.setNonNull=function(a){var b=h(a);b.value=n[a]||c.defaultValues[b.type]},c.editVariableValue=function(a){var b=c.variables[a];c.editVar(b,a).then(function(b){h(a).value=b.value,h(a).valueInfo=b.valueInfo})},c.addVariable=function(){c.variables.push(f.copy(j))},c.deleteVariable=function(a){var b=c.variables[a];c.deleteVar(b,a).then(function(){c.variables.splice(c.variables.indexOf(b),1)},function(){})},c.saveVariable=function(a){var b=c.variables[a];b.editMode=!1,c.saveVar(b,a).then(function(a){b.variable.name=a.name,b.variable.type=a.type,b.variable.value=a.value,b.variable.valueInfo=a.valueInfo,delete b._copy},function(){b.editMode=!0})},c.uploadVariable=function(a){var b=c.variables[a];c.uploadVar(b,a).then(function(){delete b._copy,b.editMode=!1},function(){b.editMode=!1})}}}}]},{"../variable/cam-variable-utils":61,"camunda-bpm-sdk-js/vendor/angular":114}],66:[function(require,module,exports){"use strict";var CamundaForm=require("./../../forms/camunda-form"),angular=require("angular"),$=CamundaForm.$,constants=require("./../../forms/constants"),CamundaFormAngular=CamundaForm.extend({renderForm:function(){function a(a,b){var c=$(b);if(!c.attr("ng-model")){var d=c.attr(constants.DIRECTIVE_CAM_VARIABLE_NAME);d&&c.attr("ng-model",d)}}var b=this;this.formElement=angular.element(this.formElement),CamundaForm.prototype.renderForm.apply(this,arguments);for(var c=0;c<this.formFieldHandlers.length;c++){var d=this.formFieldHandlers[c],e=d.selector;$(e,b.formElement).each(a)}this.formElement=angular.element(this.formElement);var f=b.formElement.injector();if(f){var g=b.formElement.scope();f.invoke(["$compile",function(a){a(b.formElement)(g)}]),g.camForm=this}},executeFormScript:function(script){this.formElement=angular.element(this.formElement);var moment=require("moment"),injector=this.formElement.injector(),scope=this.formElement.scope();!function(camForm,$scope,moment){var inject=function(a){if(!angular.isFunction(a)&&!angular.isArray(a))throw new Error("Must call inject(array|fn)");injector.instantiate(a,{$scope:scope})};eval(script)}(this,scope,moment)},fireEvent:function(){this.formElement=angular.element(this.formElement);var a=this,b=arguments,c=this.formElement.scope(),d=function(){CamundaForm.prototype.fireEvent.apply(a,b)},e=a.formElement.injector();e&&e.invoke(["$rootScope",function(a){var b=a.$$phase;"$apply"!==b&&"$digest"!==b?c.$apply(function(){d()}):d()}])}});module.exports=CamundaFormAngular},{"./../../forms/camunda-form":101,"./../../forms/constants":102,angular:"angular",moment:"moment"}],67:[function(a,b,c){"use strict";var d=a("angular"),e=a("./camunda-form-angular"),f=a("./../../forms/type-util").isType,g=a("./../../forms/type-util").dateToString,h=d.module("cam.embedded.forms",[]);h.directive("camVariableName",["$rootScope",function(a){return{require:"ngModel",link:function(b,c,d,e){c.on("camFormVariableApplied",function(c,d){var f=a.$$phase;"$apply"!==f&&"$digest"!==f?b.$apply(function(){e.$setViewValue(d)}):e.$setViewValue(d)})}}}]),h.directive("camVariableType",[function(){return{require:"ngModel",link:function(a,b,c,d){var e=function(a){var e=c.camVariableType;return d.$setValidity("camVariableType",!0),(a||a===!1||"Bytes"===e)&&(d.$pristine&&(d.$pristine=!1,d.$dirty=!0,b.addClass("ng-dirty"),b.removeClass("ng-pristine")),"Date"===e&&(d.$viewValue=a=g(a)),["Boolean","String","Bytes"].indexOf(e)!==-1||f(a,e)||d.$setValidity("camVariableType",!1),"file"===c.type&&"Bytes"===e&&b[0].files&&b[0].files[0]&&b[0].files[0].size>(c.camMaxFilesize||5e6)&&d.$setValidity("camVariableType",!1)),a};d.$parsers.unshift(e),d.$formatters.push(e),c.$observe("camVariableType",function(){return e(d.$viewValue)}),b.bind("change",function(){e(d.$viewValue),a.$apply()})}}}]),b.exports=e},{"./../../forms/type-util":108,"./camunda-form-angular":66,angular:"angular"}],68:[function(a,b,c){b.exports={Client:a("./../api-client"),Form:a("./forms"),utils:a("./../utils")}},{"./../api-client":72,"./../utils":110,"./forms":67}],69:[function(a,b,c){"use strict";function d(){}var e=a("q"),f=a("./../events"),g=a("./../base-class"),h=g.extend({initialize:function(){this.http=this.constructor.http}},{path:"",http:{},create:function(){},list:function(a,b){"function"==typeof a&&(b=a,a={}),a=a||{},b=b||d;var c=this,f={count:0,items:[]},g=e.defer(),h=!1,i=!1,j=function(){i&&h&&(c.trigger("loaded",f),g.resolve(f),b(null,f))};return c.count(a,function(a,d){a?(c.trigger("error",a),g.reject(a),b(a)):(f.count=d,h=!0,j())}),c.http.get(c.path,{data:a,done:function(d,e){d?(c.trigger("error",d),g.reject(d),b(d)):(f.items=e,f.firstResult=parseInt(a.firstResult||0,10),f.maxResults=f.firstResult+parseInt(a.maxResults||10,10),i=!0,j())}}),g.promise},count:function(a,b){"function"==typeof a&&(b=a,a={}),a=a||{},b=b||d;var c=this,f=e.defer();return this.http.get(this.path+"/count",{data:a,done:function(a,d){a?(c.trigger("error",a),f.reject(a),b(a)):(f.resolve(d.count),b(null,d.count))}}),f.promise},update:function(){},"delete":function(){}});f.attach(h),b.exports=h},{"./../base-class":99,"./../events":100,q:"q"}],70:[function(a,b,c){c.createSimpleGetQueryFunction=function(a){return function(b,c){var d=this.path+a;return"function"==typeof b&&(c=b,b={}),this.http.get(d,{data:b,done:c})}}},{}],71:[function(a,b,c){(function(c){"use strict";function d(){}function e(a,b,c){return b=b||d,function(d,e){return d||!e.ok&&!e.noContent?(d=d||e.error||new Error("The "+e.req.method+" request on "+e.req.url+" failed"),e&&e.body&&e.body.message&&(d.message=e.body.message),a.trigger("error",d),c&&c.reject(d),b(d)):("application/hal+json"===e.type&&(e.body&&0!==Object.keys(e.body).length||(e.body=JSON.parse(e.text)),e.body=i.solveHALEmbedded(e.body)),c&&c.resolve(e.body?e.body:e.text?e.text:""),void b(null,e.body?e.body:e.text?e.text:""))}}var f=a("superagent"),g=a("q"),h=a("./../events"),i=a("./../utils"),j=function(a){if(a=a||{},a.headers=a.headers||{},a.headers.Accept||(a.headers.Accept="application/hal+json, application/json; q=0.5"),!a.baseUrl)throw new Error("HttpClient needs a `baseUrl` configuration property.");h.attach(this),this.config=a};j.prototype.post=function(a,b){b=b||{};var h=b.done||d,i=this,j=g.defer(),k=this.config.baseUrl+(a?"/"+a:""),l=f.post(k);if("undefined"!=typeof c)Object.keys(b.fields||{}).forEach(function(a){l.field(a,b.fields[a])}),(b.attachments||[]).forEach(function(a,b){l.attach("data_"+b,new c(a.content),a.name)});else if(b.fields||b.attachments){var m=new Error("Multipart request is only supported in node.js environement.");return h(m),j.reject(m)}return l.set(this.config.headers).send(b.data||{}).query(b.query||{}),l.end(e(i,h,j)),j.promise},j.prototype.get=function(a,b){var c=this.config.baseUrl+(a?"/"+a:"");return this.load(c,b)},j.prototype.load=function(a,b){b=b||{};var c=b.done||d,h=this,i=g.defer(),j=b.accept||this.config.headers.Accept,k=f.get(a).set(b.headers||this.config.headers).set("Accept",j).query(b.data||{});return k.end(e(h,c,i)),i.promise},j.prototype.put=function(a,b){b=b||{};var c=b.done||d,h=this,i=g.defer(),j=this.config.baseUrl+(a?"/"+a:""),k=f.put(j).set(b.headers||this.config.headers).send(b.data||{});return k.end(e(h,c,i)),i.promise},j.prototype.del=function(a,b){b=b||{};var c=b.done||d,h=this,i=g.defer(),j=this.config.baseUrl+(a?"/"+a:""),k=f.del(j).set(b.headers||this.config.headers).send(b.data||{});return k.end(e(h,c,i)),i.promise},j.prototype.options=function(a,b){b=b||{};var c=b.done||d,h=this,i=g.defer(),j=this.config.baseUrl+(a?"/"+a:""),k=f("OPTIONS",j).set(b.headers||this.config.headers);return k.end(e(h,c,i)),i.promise},b.exports=j}).call(this,a("buffer").Buffer)},{"./../events":100,"./../utils":110,buffer:272,q:"q",superagent:"superagent"}],72:[function(a,b,c){"use strict";function d(a){if(!a)throw new Error("Needs configuration");if(!a.apiUri)throw new Error("An apiUri is required");e.attach(this),a.engine="undefined"!=typeof a.engine?a.engine:"default",a.mock="undefined"==typeof a.mock||a.mock,a.resources=a.resources||{},this.HttpClient=a.HttpClient||d.HttpClient,this.baseUrl=a.apiUri,a.engine&&(this.baseUrl+="/"!==this.baseUrl.slice(-1)?"/":"",this.baseUrl+="engine/"+a.engine),this.config=a,this.initialize()}var e=a("./../events");d.HttpClient=a("./http-client"),function(b){b.config={};var c={};b.initialize=function(){function b(a){d.trigger("error",a)}c.authorization=a("./resources/authorization"),c.batch=a("./resources/batch"),c.deployment=a("./resources/deployment"),c["external-task"]=a("./resources/external-task"),c.filter=a("./resources/filter"),c.history=a("./resources/history"),c["process-definition"]=a("./resources/process-definition"),c["process-instance"]=a("./resources/process-instance"),c.task=a("./resources/task"),c["task-report"]=a("./resources/task-report"),c.variable=a("./resources/variable"),c["case-execution"]=a("./resources/case-execution"),c["case-instance"]=a("./resources/case-instance"),c["case-definition"]=a("./resources/case-definition"),c.user=a("./resources/user"),c.group=a("./resources/group"),c.tenant=a("./resources/tenant"),c.incident=a("./resources/incident"),c["job-definition"]=a("./resources/job-definition"),c.job=a("./resources/job"),c.metrics=a("./resources/metrics"),c["decision-definition"]=a("./resources/decision-definition"),c.execution=a("./resources/execution"),c.migration=a("./resources/migration"),c.drd=a("./resources/drd"),c.modification=a("./resources/modification");var d=this;this.http=new this.HttpClient({baseUrl:this.baseUrl,headers:this.config.headers});var e,f,g,h;for(e in c){f={name:e,mock:this.config.mock,baseUrl:this.baseUrl,headers:this.config.headers},g=this.config.resources[e]||{};for(h in g)f[h]=g[h];c[e].http=new this.HttpClient(f),c[e].http.on("error",b)}},b.resource=function(a){return c[a]}}(d.prototype),b.exports=d},{"./../events":100,"./http-client":71,"./resources/authorization":73,"./resources/batch":74,"./resources/case-definition":75,"./resources/case-execution":76,"./resources/case-instance":77,"./resources/decision-definition":78,"./resources/deployment":79,"./resources/drd":80,"./resources/execution":81,"./resources/external-task":82,"./resources/filter":83,"./resources/group":84,"./resources/history":85,"./resources/incident":86,"./resources/job":88,"./resources/job-definition":87,"./resources/metrics":89,"./resources/migration":90,"./resources/modification":91,"./resources/process-definition":92,"./resources/process-instance":93,"./resources/task":95,"./resources/task-report":94,"./resources/tenant":96,"./resources/user":97,"./resources/variable":98}],73:[function(a,b,c){"use strict";var d=a("./../abstract-client-resource"),e=d.extend();e.path="authorization",e.list=function(a,b){return this.http.get(this.path,{data:a,done:b})},e.get=function(a,b){return this.http.get(this.path+"/"+a,{done:b})},e.create=function(a,b){return this.http.post(this.path+"/create",{data:a,done:b})},e.update=function(a,b){return this.http.put(this.path+"/"+a.id,{data:a,done:b})},e.save=function(a,b){return e[a.id?"update":"create"](a,b)},e["delete"]=function(a,b){return this.http.del(this.path+"/"+a,{done:b})},e.check=function(a,b){return this.http.get(this.path+"/check",{data:a,done:b})},b.exports=e},{"./../abstract-client-resource":69}],74:[function(a,b,c){"use strict";var d=a("./../abstract-client-resource"),e=d.extend();e.path="batch",e.get=function(a,b){return this.http.get(this.path+"/"+a,{done:b})},e.suspended=function(a,b){return this.http.put(this.path+"/"+a.id+"/suspended",{data:{suspended:!!a.suspended},done:b})},e.statistics=function(a,b){return this.http.get(this.path+"/statistics/",{data:a,done:b})},e.statisticsCount=function(a,b){return this.http.get(this.path+"/statistics/count",{data:a,done:b})},e["delete"]=function(a,b){var c=this.path+"/"+a.id;return a.cascade&&(c+="?cascade=true"),this.http.del(c,{done:b})},b.exports=e},{"./../abstract-client-resource":69}],75:[function(a,b,c){"use strict";function d(){}var e=a("./../abstract-client-resource"),f=e.extend();f.path="case-definition",f.get=function(a,b){return this.http.get(this.path+"/"+a,{done:b})},f.getByKey=function(a,b){return this.http.get(this.path+"/key/"+a,{done:b})},f.list=function(a,b){return this.http.get(this.path,{data:a,done:b})},f.create=function(a,b){var c=this.path+"/";return a.id?c+=a.id:(c=c+"key/"+a.key,a.tenantId&&(c=c+"/tenant-id/"+a.tenantId)),this.http.post(c+"/create",{data:a,done:b})},f.xml=function(a,b){var c=this.path+"/"+(a.id?a.id:"key/"+a.key)+"/xml";return this.http.get(c,{done:b||d})},f.updateHistoryTimeToLive=function(a,b,c){var d=this.path+"/"+a+"/history-time-to-live";return this.http.put(d,{data:b,done:c})},b.exports=f},{"./../abstract-client-resource":69}],76:[function(a,b,c){"use strict";function d(){}var e=a("./../abstract-client-resource"),f=a("../../utils"),g=e.extend();g.path="case-execution",g.list=function(a,b){return b=b||d,this.http.get(this.path,{data:a,done:b})},g.disable=function(a,b,c){return this.http.post(this.path+"/"+a+"/disable",{data:b,done:c})},g.reenable=function(a,b,c){return this.http.post(this.path+"/"+a+"/reenable",{data:b,done:c})},g.manualStart=function(a,b,c){return this.http.post(this.path+"/"+a+"/manual-start",{data:b,done:c})},g.complete=function(a,b,c){return this.http.post(this.path+"/"+a+"/complete",{data:b,done:c})},g.deleteVariable=function(a,b){return this.http.del(this.path+"/"+a.id+"/localVariables/"+f.escapeUrl(a.varId),{done:b})},g.modifyVariables=function(a,b){return this.http.post(this.path+"/"+a.id+"/localVariables",{data:a,done:b})},b.exports=g},{"../../utils":110,"./../abstract-client-resource":69}],77:[function(a,b,c){"use strict";var d=a("./../abstract-client-resource"),e=a("../../utils"),f=d.extend();f.path="case-instance",f.get=function(a,b){return this.http.get(this.path+"/"+a,{done:b})},f.list=function(a,b){return this.http.get(this.path,{data:a,done:b})},f.close=function(a,b,c){return this.http.post(this.path+"/"+a+"/close",{data:b,done:c})},f.terminate=function(a,b,c){return this.http.post(this.path+"/"+a+"/terminate",{data:b,done:c})},f.setVariable=function(a,b,c){var d=this.path+"/"+a+"/variables/"+e.escapeUrl(b.varId);return this.http.put(d,{data:b,done:c})},b.exports=f},{"../../utils":110,"./../abstract-client-resource":69}],78:[function(a,b,c){"use strict";var d=a("./../abstract-client-resource"),e=d.extend();e.path="decision-definition",e.list=function(a,b){return this.http.get(this.path,{data:a,done:b})},e.get=function(a,b){return this.http.get(this.path+"/"+a,{done:b})},e.getXml=function(a,b){return this.http.get(this.path+"/"+a+"/xml",{done:b})},e.evaluate=function(a,b){return this.http.post(this.path+"/"+(a.id?a.id:"key/"+a.key)+"/evaluate",{data:a,done:b})},e.updateHistoryTimeToLive=function(a,b,c){var d=this.path+"/"+a+"/history-time-to-live";return this.http.put(d,{data:b,done:c})},b.exports=e},{"./../abstract-client-resource":69}],79:[function(a,b,c){"use strict";var d=a("./../abstract-client-resource"),e=d.extend();e.path="deployment",e.create=function(a,b){var c={"deployment-name":a.deploymentName},d=Array.isArray(a.files)?a.files:[a.files];return a.deploymentSource&&(c["deployment-source"]=a.deploymentSource),a.enableDuplicateFiltering&&(c["enable-duplicate-filtering"]="true"),a.deployChangedOnly&&(c["deploy-changed-only"]="true"),a.tenantId&&(c["tenant-id"]=a.tenantId),this.http.post(this.path+"/create",{data:{},fields:c,attachments:d,done:b})},e["delete"]=function(a,b,c){var d=this.path+"/"+a;if(b){var e=[];for(var f in b){var g=b[f];e.push(f+"="+g)}e.length&&(d+="?"+e.join("&"))}return this.http.del(d,{done:c})},e.list=function(){return d.list.apply(this,arguments)},e.get=function(a,b){return this.http.get(this.path+"/"+a,{done:b})},e.getResources=function(a,b){return this.http.get(this.path+"/"+a+"/resources",{done:b})},e.getResource=function(a,b,c){return this.http.get(this.path+"/"+a+"/resources/"+b,{done:c})},e.getResourceData=function(a,b,c){return this.http.get(this.path+"/"+a+"/resources/"+b+"/data",{accept:"*/*",done:c})},e.redeploy=function(a,b){var c=a.id;return delete a.id,this.http.post(this.path+"/"+c+"/redeploy",{data:a,done:b||function(){}})},b.exports=e},{"./../abstract-client-resource":69}],80:[function(a,b,c){"use strict";function d(a,b){return a+"/"+g.escapeUrl(b)}function e(a,b,c){var d=a+"/key/"+g.escapeUrl(b);return"function"!=typeof c&&(d+="/tenant-id/"+g.escapeUrl(c)),d}var f=a("../abstract-client-resource"),g=a("../../utils"),h=f.extend();h.path="decision-requirements-definition",h.count=function(a,b){return"function"==typeof a&&(b=a,a={}),this.http.get(this.path+"/count",{data:a,done:b})},h.list=function(a,b){return"function"==typeof a&&(b=a,a={}),this.http.get(this.path,{data:a,done:b})},h.get=function(a,b){return this.http.get(d(this.path,a),{done:b})},h.getByKey=function(a,b,c){var d=e(this.path,a,b);return"function"==typeof b&&(c=b),this.http.get(d,{done:c})},h.getXML=function(a,b){return this.http.get(d(this.path,a)+"/xml",{done:b})},h.getXMLByKey=function(a,b,c){var d=e(this.path,a,b)+"/xml";return"function"==typeof b&&(c=b),this.http.get(d,{done:c})},b.exports=h},{"../../utils":110,"../abstract-client-resource":69}],81:[function(a,b,c){"use strict";var d=a("./../abstract-client-resource"),e=a("../../utils"),f=d.extend();f.path="execution",f.deleteVariable=function(a,b){return this.http.del(this.path+"/"+a.id+"/localVariables/"+e.escapeUrl(a.varId),{done:b})},f.modifyVariables=function(a,b){return this.http.post(this.path+"/"+a.id+"/localVariables",{data:a,done:b})},b.exports=f},{"../../utils":110,"./../abstract-client-resource":69}],82:[function(a,b,c){"use strict";var d=a("./../abstract-client-resource"),e=d.extend();e.path="external-task",e.get=function(a,b){return this.http.get(this.path+"/"+a.id,{data:a,done:b})},e.list=function(a,b){var c=this.path+"/";return c+="?firstResult="+(a.firstResult||0),c+="&maxResults="+(a.maxResults||15),this.http.post(c,{data:a,done:b})},e.count=function(a,b){return this.http.post(this.path+"/count",{data:a,done:b})},e.fetchAndLock=function(a,b){return this.http.post(this.path+"/fetchAndLock",{data:a,done:b})},e.complete=function(a,b){return this.http.post(this.path+"/"+a.id+"/complete",{data:a,done:b})},e.failure=function(a,b){return this.http.post(this.path+"/"+a.id+"/failure",{data:a,done:b})},e.unlock=function(a,b){return this.http.post(this.path+"/"+a.id+"/unlock",{data:a,done:b})},e.retries=function(a,b){return this.http.put(this.path+"/"+a.id+"/retries",{data:a,done:b})},e.retriesAsync=function(a,b){return this.http.post(this.path+"/retries-async",{data:a,done:b})},b.exports=e},{"./../abstract-client-resource":69}],83:[function(a,b,c){"use strict";var d=a("./../abstract-client-resource"),e=d.extend();e.path="filter",e.get=function(a,b){return this.http.get(this.path+"/"+a,{done:b})},e.list=function(a,b){return this.http.get(this.path,{data:a,done:b})},e.getTasks=function(a,b){var c=this.path+"/";return"string"==typeof a?(c=c+a+"/list",a={}):(c=c+a.id+"/list",delete a.id),c+="?firstResult="+(a.firstResult||0),c+="&maxResults="+(a.maxResults||15),this.http.post(c,{data:a,done:b})},e.create=function(a,b){return this.http.post(this.path+"/create",{data:a,done:b})},e.update=function(a,b){return this.http.put(this.path+"/"+a.id,{data:a,done:b})},e.save=function(a,b){return e[a.id?"update":"create"](a,b)},e["delete"]=function(a,b){return this.http.del(this.path+"/"+a,{done:b})},e.authorizations=function(a,b){return 1===arguments.length?this.http.options(this.path,{done:a,headers:{Accept:"application/json"}}):this.http.options(this.path+"/"+a,{done:b,headers:{Accept:"application/json"}})},b.exports=e},{"./../abstract-client-resource":69}],84:[function(a,b,c){"use strict";function d(){}var e=a("./../abstract-client-resource"),f=a("../../utils"),g=e.extend();g.path="group",g.options=function(a,b){var c;return 1===arguments.length?(b=a,c=""):(c="string"==typeof a?a:a.id,void 0===c&&(c="")),this.http.options(this.path+"/"+f.escapeUrl(c),{done:b||d,headers:{Accept:"application/json"}})},g.create=function(a,b){return this.http.post(this.path+"/create",{data:a,done:b||d})},g.count=function(a,b){return 1===arguments.length?(b=a,a={}):a=a||{},this.http.get(this.path+"/count",{data:a,done:b||d})},g.get=function(a,b){var c="string"==typeof a?a:a.id;return this.http.get(this.path+"/"+f.escapeUrl(c),{data:a,done:b||d})},g.list=function(a,b){return 1===arguments.length?(b=a,a={}):a=a||{},this.http.get(this.path,{data:a,done:b||d})},g.createMember=function(a,b){return this.http.put(this.path+"/"+f.escapeUrl(a.id)+"/members/"+f.escapeUrl(a.userId),{data:a,done:b||d})},g.deleteMember=function(a,b){return this.http.del(this.path+"/"+f.escapeUrl(a.id)+"/members/"+f.escapeUrl(a.userId),{data:a,done:b||d})},g.update=function(a,b){return this.http.put(this.path+"/"+f.escapeUrl(a.id),{data:a,done:b||d})},g["delete"]=function(a,b){return this.http.del(this.path+"/"+f.escapeUrl(a.id),{data:a,done:b||d})},b.exports=g},{"../../utils":110,"./../abstract-client-resource":69}],85:[function(a,b,c){"use strict";var d=a("../abstract-client-resource"),e=a("../helpers"),f=d.extend();f.path="history",f.userOperation=function(a,b){return"function"==typeof a&&(b=arguments[0],a={}),this.http.get(this.path+"/user-operation",{data:a,done:b})},f.processInstance=function(a,b){"function"==typeof a&&(b=arguments[0],a={});var c={},d={},e=["firstResult","maxResults"];for(var f in a)e.indexOf(f)>-1?d[f]=a[f]:c[f]=a[f];return this.http.post(this.path+"/process-instance",{data:c,query:d,done:b})},f.processInstanceCount=function(a,b){return"function"==typeof a&&(b=arguments[0],a={}),this.http.post(this.path+"/process-instance/count",{data:a,done:b})},f.deleteProcessInstancesAsync=function(a,b){return"function"==typeof a&&(b=arguments[0],a={}),this.http.post(this.path+"/process-instance/delete",{data:a,done:b})},f.decisionInstance=function(a,b){return"function"==typeof a&&(b=arguments[0],a={}),this.http.get(this.path+"/decision-instance",{data:a,done:b})},f.decisionInstanceCount=function(a,b){return"function"==typeof a&&(b=arguments[0],a={}),this.http.get(this.path+"/decision-instance/count",{data:a,done:b})},f.batch=function(a,b){return"function"==typeof a&&(b=arguments[0],a={}),this.http.get(this.path+"/batch",{data:a,done:b})},f.singleBatch=function(a,b){return this.http.get(this.path+"/batch/"+a,{done:b})},f.batchCount=function(a,b){return"function"==typeof a&&(b=arguments[0],a={}),this.http.get(this.path+"/batch/count",{data:a,done:b})},f.batchDelete=function(a,b){var c=this.path+"/batch/"+a;return this.http.del(c,{done:b})},f.report=function(a,b){return"function"==typeof a&&(b=arguments[0],a={}),a.reportType=a.reportType||"duration",a.periodUnit=a.periodUnit||"month",this.http.get(this.path+"/process-instance/report",{data:a,done:b})},f.reportAsCsv=function(a,b){return"function"==typeof a&&(b=arguments[0],a={}),a.reportType=a.reportType||"duration",a.periodUnit=a.periodUnit||"month",this.http.get(this.path+"/process-instance/report",{data:a,accept:"text/csv",done:b})},f.task=function(a,b){"function"==typeof a&&(b=arguments[0],a={});var c={},d={},e=["firstResult","maxResults"];for(var f in a)e.indexOf(f)>-1?d[f]=a[f]:c[f]=a[f];return this.http.post(this.path+"/task",{data:c,query:d,done:b})},f.taskCount=function(a,b){return"function"==typeof a&&(b=arguments[0],a={}),this.http.post(this.path+"/task/count",{data:a,done:b})},f.taskDurationReport=function(a,b){return"function"==typeof a&&(b=arguments[0],a={}),a.reportType=a.reportType||"duration",a.periodUnit=a.periodUnit||"month",this.http.get(this.path+"/task/report",{data:a,done:b})},f.taskReport=function(a,b){return"function"==typeof a&&(b=arguments[0],a={}),a.reportType=a.reportType||"count",this.http.get(this.path+"/task/report",{data:a,done:b})},f.caseInstance=function(a,b){"function"==typeof a&&(b=arguments[0],a={});var c={},d={},e=["firstResult","maxResults"];for(var f in a)e.indexOf(f)>-1?d[f]=a[f]:c[f]=a[f];return this.http.post(this.path+"/case-instance",{data:c,query:d,done:b})},f.caseInstanceCount=function(a,b){return"function"==typeof a&&(b=arguments[0],a={}),this.http.post(this.path+"/case-instance/count",{data:a,done:b})},f.caseActivityInstance=function(a,b){return"function"==typeof a&&(b=arguments[0],a={}),this.http.get(this.path+"/case-activity-instance",{data:a,done:b})},f.caseActivityInstanceCount=function(a,b){return"function"==typeof a&&(b=arguments[0],a={}),this.http.get(this.path+"/case-activity-instance/count",{data:a,done:b})},f.variableInstance=function(a,b){"function"==typeof a&&(b=arguments[0],a={});var c={},d={},e=["firstResult","maxResults","deserializeValues"];for(var f in a)e.indexOf(f)>-1?d[f]=a[f]:c[f]=a[f];return this.http.post(this.path+"/variable-instance",{data:c,query:d,done:b})},f.variableInstanceCount=function(a,b){return"function"==typeof a&&(b=arguments[0],a={}),this.http.post(this.path+"/variable-instance/count",{data:a,done:b})},f.caseActivityStatistics=function(a,b){var c=a.id||a;return this.http.get(this.path+"/case-definition/"+c+"/statistics",{done:b})},f.drdStatistics=function(a,b,c){var d=this.path+"/decision-requirements-definition/"+a+"/statistics";return"function"==typeof b&&(c=b,b={}),this.http.get(d,{data:b,done:c})},f.cleanupConfiguration=function(a,b){var c=this.path+"/cleanup/configuration";return"function"==typeof a&&(b=a,a={}),this.http.get(c,{data:a,done:b})},f.cleanupJob=function(a,b){var c=this.path+"/cleanup/job";return"function"==typeof a&&(b=a,a={}),this.http.get(c,{data:a,done:b})},f.cleanup=function(a,b){var c=this.path+"/cleanup";return"function"==typeof a&&(b=a,a={}),this.http.post(c,{data:a,done:b})},f.cleanableProcessCount=function(a,b){var c=this.path+"/process-definition/cleanable-process-instance-report/count";return"function"==typeof a&&(b=a,a={}),this.http.get(c,{data:a,done:b})},f.cleanableProcess=function(a,b){var c=this.path+"/process-definition/cleanable-process-instance-report";return"function"==typeof a&&(b=a,a={}),this.http.get(c,{data:a,done:b})},f.cleanableCaseCount=function(a,b){var c=this.path+"/case-definition/cleanable-case-instance-report/count";return"function"==typeof a&&(b=a,a={}),this.http.get(c,{data:a,done:b})},f.cleanableCase=function(a,b){var c=this.path+"/case-definition/cleanable-case-instance-report";return"function"==typeof a&&(b=a,a={}),this.http.get(c,{data:a,done:b})},f.cleanableDecisionCount=function(a,b){var c=this.path+"/decision-definition/cleanable-decision-instance-report/count";return"function"==typeof a&&(b=a,a={}),this.http.get(c,{data:a,done:b})},f.cleanableDecision=function(a,b){var c=this.path+"/decision-definition/cleanable-decision-instance-report";return"function"==typeof a&&(b=a,a={}),this.http.get(c,{data:a,done:b})},f.cleanableBatchCount=function(a,b){var c=this.path+"/batch/cleanable-batch-report/count";return"function"==typeof a&&(b=a,a={}),this.http.get(c,{data:a,done:b})},f.cleanableBatch=function(a,b){var c=this.path+"/batch/cleanable-batch-report";return"function"==typeof a&&(b=a,a={}),this.http.get(c,{data:a,done:b})},f.externalTaskLogList=e.createSimpleGetQueryFunction("/external-task-log"),f.externalTaskLogCount=e.createSimpleGetQueryFunction("/external-task-log/count"),b.exports=f},{"../abstract-client-resource":69,"../helpers":70}],86:[function(a,b,c){"use strict";var d=a("./../abstract-client-resource"),e=d.extend();e.path="incident",e.get=function(a,b){return this.http.get(this.path,{data:a,done:b})},e.count=function(a,b){return this.http.get(this.path+"/count",{data:a,done:b})},b.exports=e},{"./../abstract-client-resource":69}],87:[function(a,b,c){"use strict";var d=a("./../abstract-client-resource"),e=d.extend();e.path="job-definition",e.setRetries=function(a,b){return this.http.put(this.path+"/"+a.id+"/retries",{data:a,done:b})},b.exports=e},{"./../abstract-client-resource":69}],88:[function(a,b,c){"use strict";var d=a("./../abstract-client-resource"),e=d.extend();e.path="job",e.list=function(a,b){var c=this.path;return c+="?firstResult="+(a.firstResult||0),a.maxResults&&(c+="&maxResults="+a.maxResults),this.http.post(c,{data:a,done:b})},e.setRetries=function(a,b){return this.http.put(this.path+"/"+a.id+"/retries",{data:a,done:b})},e["delete"]=function(a,b){return this.http.del(this.path+"/"+a,{done:b})},e.stacktrace=function(a,b){var c=this.path+"/"+a+"/stacktrace";return this.http.get(c,{accept:"text/plain",done:b})},b.exports=e},{"./../abstract-client-resource":69}],89:[function(a,b,c){"use strict";var d=a("./../abstract-client-resource"),e=d.extend();e.path="metrics",e.sum=function(a,b){var c=this.path+"/"+a.name+"/sum";return delete a.name,this.http.get(c,{data:a,done:b})},e.byInterval=function(a,b){return this.http.get(this.path,{data:a,done:b})},b.exports=e},{"./../abstract-client-resource":69}],90:[function(a,b,c){"use strict";var d=a("./../abstract-client-resource"),e=d.extend();e.path="migration",e.generate=function(a,b){var c=this.path+"/generate";return this.http.post(c,{data:a,done:b})},e.execute=function(a,b){var c=this.path+"/execute";return this.http.post(c,{data:a,done:b})},e.executeAsync=function(a,b){var c=this.path+"/executeAsync";return this.http.post(c,{data:a,done:b})},e.validate=function(a,b){var c=this.path+"/validate";return this.http.post(c,{data:a,done:b})},b.exports=e},{"./../abstract-client-resource":69}],91:[function(a,b,c){"use strict";var d=a("./../abstract-client-resource"),e=d.extend();e.path="modification",e.execute=function(a,b){var c=this.path+"/execute";return this.http.post(c,{data:a,done:b})},e.executeAsync=function(a,b){var c=this.path+"/executeAsync";return this.http.post(c,{data:a,done:b})},b.exports=e},{"./../abstract-client-resource":69}],92:[function(a,b,c){"use strict";function d(){}var e=a("q"),f=a("./../abstract-client-resource"),g=f.extend({suspend:function(a,b){return"function"==typeof a&&(b=a,a={}),a=a||{},b=b||d,this.http.post(this.path,{done:b})},stats:function(a){return this.http.post(this.path,{done:a||d})},start:function(a){return this.http.post(this.path,{data:{},done:a})}},{path:"process-definition",get:function(a,b){return this.http.get(this.path+"/"+a,{done:b})},getByKey:function(a,b){return this.http.get(this.path+"/key/"+a,{done:b})},list:function(){return f.list.apply(this,arguments)},formVariables:function(a,b){var c="";if(b=b||d,a.key)c="key/"+a.key;else{if(!a.id){var f=new Error("Process definition task variables needs either a key or an id.");return b(f),e.reject(f)}c=a.id}var g={deserializeValues:a.deserializeValues};return a.names&&(g.variableNames=(a.names||[]).join(",")),this.http.get(this.path+"/"+c+"/form-variables",{data:g,done:b})},submitForm:function(a,b){var c="";if(b=b||d,a.key)c="key/"+a.key,a.tenantId&&(c+="/tenant-id/"+a.tenantId);else{if(!a.id)return b(new Error("Process definition task variables needs either a key or an id."));c=a.id}return this.http.post(this.path+"/"+c+"/submit-form",{data:{businessKey:a.businessKey,variables:a.variables},done:b})},"delete":function(a,b){b=b||d;var c="";if(a.key)c="key/"+a.key,a.tenantId&&(c+="/tenant-id/"+a.tenantId),c+="/delete";else{if(!a.id)return b(new Error("Process definition deletion needs either a key or an id."));c=a.id}var e="?",f="cascade";return a[f]&&(e+=f+"=true"),f="skipCustomListeners",a[f]&&(e.length>1&&(e+="&"),
e+=f+"=true"),this.http.del(this.path+"/"+c+e,{done:b})},startForm:function(a,b){var c=this.path+"/"+(a.key?"key/"+a.key:a.id)+"/startForm";return this.http.get(c,{done:b||d})},xml:function(a,b){var c=this.path+"/"+(a.id?a.id:"key/"+a.key)+"/xml";return this.http.get(c,{done:b||d})},statistics:function(a,b){var c=this.path+"/"+(a.id?a.id:"key/"+a.key)+"/statistics";return this.http.get(c,{data:a,done:b||d})},submit:function(a,b){var c=this.path;return c+=a.key?"/key/"+a.key:"/"+a.id,c+="/submit-form",this.http.post(c,{data:a,done:b})},suspend:function(a,b,c){return"function"==typeof b&&(c=b,b={}),b=b||{},c=c||d,a=Array.isArray(a)?a:[a],this.http.post(this.path,{done:c})},start:function(a,b){var c=this.path+"/";return a.id?c+=a.id:(c=c+"key/"+a.key,a.tenantId&&(c=c+"/tenant-id/"+a.tenantId)),this.http.post(c+"/start",{data:a,done:b})},updateHistoryTimeToLive:function(a,b,c){var d=this.path+"/"+a+"/history-time-to-live";return this.http.put(d,{data:b,done:c})},restart:function(a,b,c){var d=this.path+"/"+a+"/restart";return this.http.post(d,{data:b,done:c})},restartAsync:function(a,b,c){var d=this.path+"/"+a+"/restart-async";return this.http.post(d,{data:b,done:c})}});b.exports=g},{"./../abstract-client-resource":69,q:"q"}],93:[function(a,b,c){"use strict";var d=a("./../abstract-client-resource"),e=a("../../utils"),f=d.extend({},{path:"process-instance",get:function(a,b){return this.http.get(this.path+"/"+a,{done:b})},create:function(a,b){return this.http.post(a,b)},list:function(a,b){var c=this.path;return c+="?firstResult="+(a.firstResult||0),c+="&maxResults="+(a.maxResults||15),this.http.post(c,{data:a,done:b})},count:function(a,b){var c=this.path+"/count";return this.http.post(c,{data:a,done:b})},modify:function(a,b){return this.http.post(this.path+"/"+a.id+"/modification",{data:{instructions:a.instructions,skipCustomListeners:a.skipCustomListeners,skipIoMappings:a.skipIoMappings},done:b})},deleteAsync:function(a,b){return this.http.post(this.path+"/delete",{data:a,done:b})},deleteAsyncHistoricQueryBased:function(a,b){return this.http.post(this.path+"/delete-historic-query-based",{data:a,done:b})},setJobsRetriesAsync:function(a,b){return this.http.post(this.path+"/job-retries",{data:a,done:b})},setJobsRetriesAsyncHistoricQueryBased:function(a,b){return this.http.post(this.path+"/job-retries-historic-query-based",{data:a,done:b})},suspendAsync:function(a,b){return this.http.post(this.path+"/suspended-async",{data:a,done:b})},setVariable:function(a,b,c){var d=this.path+"/"+a+"/variables/"+e.escapeUrl(b.name);return this.http.put(d,{data:b,done:c})}});b.exports=f},{"../../utils":110,"./../abstract-client-resource":69}],94:[function(a,b,c){"use strict";var d=a("./../abstract-client-resource"),e=d.extend();e.path="task/report",e.countByCandidateGroup=function(a){return this.http.get(this.path+"/candidate-group-count",{done:a})},e.countByCandidateGroupAsCsv=function(a){return this.http.get(this.path+"/candidate-group-count",{accept:"text/csv",done:a})},b.exports=e},{"./../abstract-client-resource":69}],95:[function(a,b,c){"use strict";function d(){}var e=a("q"),f=a("./../abstract-client-resource"),g=a("../../utils"),h=f.extend();h.path="task",h.list=function(a,b){b=b||d;var c=e.defer();return this.http.get(this.path,{data:a,done:function(a,d){if(a)return b(a),c.reject(a);if(d._embedded){var e=d._embedded.task||d._embedded.tasks,f=d._embedded.processDefinition;for(var g in e){var h=e[g];h._embedded=h._embedded||{};for(var i in f)if(f[i].id===h.processDefinitionId){h._embedded.processDefinition=[f[i]];break}}}b(null,d),c.resolve(d)}}),c.promise},h.get=function(a,b){return this.http.get(this.path+"/"+a,{done:b})},h.comments=function(a,b){return this.http.get(this.path+"/"+a+"/comment",{done:b})},h.identityLinks=function(a,b){return this.http.get(this.path+"/"+a+"/identity-links",{done:b})},h.identityLinksAdd=function(a,b,c){return 2===arguments.length&&(c=arguments[1],b=arguments[0],a=b.id),this.http.post(this.path+"/"+a+"/identity-links",{data:b,done:c})},h.identityLinksDelete=function(a,b,c){return 2===arguments.length&&(c=arguments[1],b=arguments[0],a=b.id),this.http.post(this.path+"/"+a+"/identity-links/delete",{data:b,done:c})},h.createComment=function(a,b,c){return this.http.post(this.path+"/"+a+"/comment/create",{data:{message:b},done:c})},h.create=function(a,b){return this.http.post(this.path+"/create",{data:a,done:b})},h.update=function(a,b){return this.http.put(this.path+"/"+a.id,{data:a,done:b})},h.assignee=function(a,b,c){var d={userId:b};return 2===arguments.length&&(a=arguments[0].taskId,d.userId=arguments[0].userId,c=arguments[1]),this.http.post(this.path+"/"+a+"/assignee",{data:d,done:c})},h.delegate=function(a,b,c){var d={userId:b};return 2===arguments.length&&(a=arguments[0].taskId,d.userId=arguments[0].userId,c=arguments[1]),this.http.post(this.path+"/"+a+"/delegate",{data:d,done:c})},h.claim=function(a,b,c){var d={userId:b};return 2===arguments.length&&(a=arguments[0].taskId,d.userId=arguments[0].userId,c=arguments[1]),this.http.post(this.path+"/"+a+"/claim",{data:d,done:c})},h.unclaim=function(a,b){return"string"!=typeof a&&(a=a.taskId),this.http.post(this.path+"/"+a+"/unclaim",{done:b})},h.submitForm=function(a,b){if(b=b||d,!a.id){var c=new Error("Task submitForm needs a task id.");return b(c),e.reject(c)}return this.http.post(this.path+"/"+a.id+"/submit-form",{data:{variables:a.variables},done:b})},h.complete=function(a,b){if(b=b||d,!a.id){var c=new Error("Task complete needs a task id.");return b(c),e.reject(c)}return this.http.post(this.path+"/"+a.id+"/complete",{data:{variables:a.variables},done:b})},h.formVariables=function(a,b){b=b||d;var c="";if(a.key)c="key/"+a.key;else{if(!a.id){var f=new Error("Task variables needs either a key or an id.");return b(f),e.reject(f)}c=a.id}var g={deserializeValues:a.deserializeValues};return a.names&&(g.variableNames=a.names.join(",")),this.http.get(this.path+"/"+c+"/form-variables",{data:g,done:b})},h.form=function(a,b){return this.http.get(this.path+"/"+a+"/form",{done:b})},h.localVariable=function(a,b){return this.http.put(this.path+"/"+a.id+"/localVariables/"+a.varId,{data:a,done:b})},h.localVariables=function(a,b){return this.http.get(this.path+"/"+a+"/localVariables",{done:b})},h.modifyVariables=function(a,b){return this.http.post(this.path+"/"+a.id+"/localVariables",{data:a,done:b})},h.deleteVariable=function(a,b){return this.http.del(this.path+"/"+a.id+"/localVariables/"+g.escapeUrl(a.varId),{done:b})},b.exports=h},{"../../utils":110,"./../abstract-client-resource":69,q:"q"}],96:[function(a,b,c){"use strict";function d(){}var e=a("./../abstract-client-resource"),f=a("../../utils"),g=e.extend();g.path="tenant",g.create=function(a,b){return this.http.post(this.path+"/create",{data:a,done:b||d})},g.count=function(a,b){return 1===arguments.length?(b=a,a={}):a=a||{},this.http.get(this.path+"/count",{data:a,done:b||d})},g.get=function(a,b){var c;return"string"==typeof a?(c=a,a={}):(c=a.id,delete a.id),this.http.get(this.path+"/"+f.escapeUrl(c),{data:a,done:b||d})},g.list=function(a,b){return 1===arguments.length?(b=a,a={}):a=a||{},this.http.get(this.path,{data:a,done:b||d})},g.createUserMember=function(a,b){return this.http.put(this.path+"/"+f.escapeUrl(a.id)+"/user-members/"+f.escapeUrl(a.userId),{data:a,done:b||d})},g.createGroupMember=function(a,b){return this.http.put(this.path+"/"+f.escapeUrl(a.id)+"/group-members/"+f.escapeUrl(a.groupId),{data:a,done:b||d})},g.deleteUserMember=function(a,b){return this.http.del(this.path+"/"+f.escapeUrl(a.id)+"/user-members/"+f.escapeUrl(a.userId),{data:a,done:b||d})},g.deleteGroupMember=function(a,b){return this.http.del(this.path+"/"+f.escapeUrl(a.id)+"/group-members/"+f.escapeUrl(a.groupId),{data:a,done:b||d})},g.update=function(a,b){return this.http.put(this.path+"/"+f.escapeUrl(a.id),{data:a,done:b||d})},g["delete"]=function(a,b){return this.http.del(this.path+"/"+f.escapeUrl(a.id),{data:a,done:b||d})},g.options=function(a,b){var c;return 1===arguments.length?(b=a,c=""):(c="string"==typeof a?a:a.id,void 0===c&&(c="")),this.http.options(this.path+"/"+f.escapeUrl(c),{done:b||d,headers:{Accept:"application/json"}})},b.exports=g},{"../../utils":110,"./../abstract-client-resource":69}],97:[function(a,b,c){"use strict";function d(){}var e=a("q"),f=a("./../abstract-client-resource"),g=a("../../utils"),h=f.extend();h.path="user",h.options=function(a,b){var c;return 1===arguments.length?(b=a,c=""):(c="string"==typeof a?a:a.id,void 0===c&&(c="")),this.http.options(this.path+"/"+g.escapeUrl(c),{done:b||d,headers:{Accept:"application/json"}})},h.create=function(a,b){a=a||{},b=b||d;var c=["id","firstName","lastName","password"];for(var f in c){var g=c[f];if(!a[g]){var h=new Error("Missing "+g+" option to create user");return b(h),e.reject(h)}}var i={profile:{id:a.id,firstName:a.firstName,lastName:a.lastName},credentials:{password:a.password}};return a.email&&(i.profile.email=a.email),this.http.post(this.path+"/create",{data:i,done:b})},h.list=function(a,b){return 1===arguments.length?(b=a,a={}):a=a||{},this.http.get(this.path,{data:a,done:b||d})},h.count=function(a,b){return 1===arguments.length?(b=a,a={}):a=a||{},this.http.get(this.path+"/count",{data:a,done:b||d})},h.profile=function(a,b){var c="string"==typeof a?a:a.id;return this.http.get(this.path+"/"+g.escapeUrl(c)+"/profile",{done:b||d})},h.updateProfile=function(a,b){if(a=a||{},b=b||d,!a.id){var c=new Error("Missing id option to update user profile");return b(c),e.reject(c)}return this.http.put(this.path+"/"+g.escapeUrl(a.id)+"/profile",{data:a,done:b})},h.updateCredentials=function(a,b){a=a||{},b=b||d;var c;if(!a.id)return c=new Error("Missing id option to update user credentials"),b(c),e.reject(c);if(!a.password)return c=new Error("Missing password option to update user credentials"),b(c),e.reject(c);var f={password:a.password};return a.authenticatedUserPassword&&(f.authenticatedUserPassword=a.authenticatedUserPassword),this.http.put(this.path+"/"+g.escapeUrl(a.id)+"/credentials",{data:f,done:b})},h["delete"]=function(a,b){var c="string"==typeof a?a:a.id;return this.http.del(this.path+"/"+g.escapeUrl(c),{done:b||d})},b.exports=h},{"../../utils":110,"./../abstract-client-resource":69,q:"q"}],98:[function(a,b,c){"use strict";var d=a("./../abstract-client-resource"),e=d.extend();e.path="variable-instance",e.instances=function(a,b){var c={},d={},e=["firstResult","maxResults","deserializeValues"];for(var f in a)e.indexOf(f)>-1?d[f]=a[f]:c[f]=a[f];return this.http.post(this.path,{data:c,query:d,done:b})},b.exports=e},{"./../abstract-client-resource":69}],99:[function(a,b,c){"use strict";function d(){}function e(){this.initialize()}var f=a("./events");e.extend=function(a,b){a=a||{},b=b||{};var c,d,e,f,g=this;c=a&&Object.hasOwnProperty.call(g,"constructor")?a.constructor:function(){return g.apply(this,arguments)};for(e in g)c[e]=g[e];for(e in b)c[e]=b[e];d=function(){this.constructor=c},d.prototype=g.prototype,c.prototype=new d;for(f in a)c.prototype[f]=a[f];return c},e.prototype.initialize=d,f.attach(e),b.exports=e},{"./events":100}],100:[function(a,b,c){"use strict";function d(a){var b,c=[];for(b in a)c.push(a[b]);return c}function e(a){var b,c=!1;return function(){return c?b:(c=!0,b=a.apply(this,arguments),a=null,b)}}function f(a,b){a._events=a._events||{},a._events[b]=a._events[b]||[]}var g={};g.attach=function(a){a.on=this.on,a.once=this.once,a.off=this.off,a.trigger=this.trigger,a._events={}},g.on=function(a,b){return f(this,a),this._events[a].push(b),this},g.once=function(a,b){var c=this,d=e(function(){c.off(a,e),b.apply(this,arguments)});return d._callback=b,this.on(a,d)},g.off=function(a,b){if(f(this,a),!b)return delete this._events[a],this;var c,d=[];for(c in this._events[a])this._events[a][c]!==b&&d.push(this._events[a][c]);return this._events[a]=d,this},g.trigger=function(){var a=d(arguments),b=a.shift();f(this,b);var c;for(c in this._events[b])this._events[b][c](this,a);return this},b.exports=g},{}],101:[function(require,module,exports){"use strict";function extend(a,b){for(var c in b)a[c]=b[c];return a}function CamundaForm(a){if(!a)throw new Error("CamundaForm need to be initialized with options.");var b=a.done=a.done||function(a){if(a)throw a};return a.client?this.client=a.client:this.client=new CamSDK.Client(a.clientConfig||{}),a.taskId||a.processDefinitionId||a.processDefinitionKey?(this.taskId=a.taskId,this.taskId&&(this.taskBasePath=this.client.baseUrl+"/task/"+this.taskId),this.processDefinitionId=a.processDefinitionId,this.processDefinitionKey=a.processDefinitionKey,this.formElement=a.formElement,this.containerElement=a.containerElement,this.formUrl=a.formUrl,this.formElement||this.containerElement?this.formElement||this.formUrl?(this.variableManager=new VariableManager({client:this.client}),this.formFieldHandlers=a.formFieldHandlers||[InputFieldHandler,ChoicesFieldHandler,FileDownloadHandler],this.businessKey=null,this.fields=[],this.scripts=[],this.options=a,Events.attach(this),void this.initialize(b)):b(new Error("Camunda form needs to be intialized with either 'formElement' or 'formUrl'")):b(new Error("CamundaForm needs to be initilized with either 'formElement' or 'containerElement'"))):b(new Error("Cannot initialize Taskform: either 'taskId' or 'processDefinitionId' or 'processDefinitionKey' must be provided"))}var moment=require("moment"),$=require("./dom-lib"),VariableManager=require("./variable-manager"),InputFieldHandler=require("./controls/input-field-handler"),ChoicesFieldHandler=require("./controls/choices-field-handler"),FileDownloadHandler=require("./controls/file-download-handler"),BaseClass=require("./../base-class"),constants=require("./constants"),Events=require("./../events");CamundaForm.prototype.initializeHandler=function(a){var b=this,c=a.selector;$(c,b.formElement).each(function(){b.fields.push(new a(this,b.variableManager))})},CamundaForm.prototype.initialize=function(a){a=a||function(a){if(a)throw a};var b=this;if(this.formUrl)this.client.http.load(this.formUrl,{accept:"*/*",done:function(c,d){if(c)return a(c);try{b.renderForm(d),b.initializeForm(a)}catch(e){a(e)}},data:extend({noCache:Date.now()},this.options.urlParams||{})});else try{this.initializeForm(a)}catch(c){a(c)}},CamundaForm.prototype.renderForm=function(a){$(this.containerElement).html("").append('<div class="injected-form-wrapper">'+a+"</div>");var b=this.formElement=$("form",this.containerElement);if(1!==b.length)throw new Error("Form must provide exaclty one element <form ..>");b.attr("name")||b.attr("name","$$camForm")},CamundaForm.prototype.initializeForm=function(a){var b=this;this.initializeFormScripts(),this.initializeFieldHandlers(),this.executeFormScripts(),this.fireEvent("form-loaded"),this.fetchVariables(function(c,d){if(c)throw c;b.mergeVariables(d),b.storeOriginalValues(d),b.fireEvent("variables-fetched"),b.restore(),b.fireEvent("variables-restored"),b.applyVariables(),b.fireEvent("variables-applied"),a(null,b)})},CamundaForm.prototype.initializeFieldHandlers=function(){for(var a in this.formFieldHandlers)this.initializeHandler(this.formFieldHandlers[a])},CamundaForm.prototype.initializeFormScripts=function(){for(var a=$("script["+constants.DIRECTIVE_CAM_SCRIPT+"]",this.formElement),b=0;b<a.length;b++)this.scripts.push(a[b].text)},CamundaForm.prototype.executeFormScripts=function(){for(var a=0;a<this.scripts.length;a++)this.executeFormScript(this.scripts[a])},CamundaForm.prototype.executeFormScript=function(script){!function(camForm){eval(script)}(this)},CamundaForm.prototype.store=function(a){var b=this.taskId||this.processDefinitionId||this.caseInstanceId;if(!b){if("function"==typeof a)return a(new Error("Cannot determine the storage ID"));throw new Error("Cannot determine the storage ID")}if(this.storePrevented=!1,this.fireEvent("store"),!this.storePrevented){try{this.retrieveVariables();var c={date:Date.now(),vars:{}};for(var d in this.variableManager.variables)"Bytes"!==this.variableManager.variables[d].type&&(c.vars[d]=this.variableManager.variables[d].value);localStorage.setItem("camForm:"+b,JSON.stringify(c))}catch(e){if("function"==typeof a)return a(e);throw e}this.fireEvent("variables-stored"),"function"==typeof a&&a()}},CamundaForm.prototype.isRestorable=function(){var a=this.taskId||this.processDefinitionId||this.caseInstanceId;if(!a)throw new Error("Cannot determine the storage ID");if(!localStorage.getItem("camForm:"+a))return!1;var b=localStorage.getItem("camForm:"+a);try{b=JSON.parse(b)}catch(c){return!1}return!(!b||!Object.keys(b).length)},CamundaForm.prototype.restore=function(a){var b,c=this.variableManager.variables,d=this.taskId||this.processDefinitionId||this.caseDefinitionId;if(!d){if("function"==typeof a)return a(new Error("Cannot determine the storage ID"));throw new Error("Cannot determine the storage ID")}if(this.isRestorable()){try{b=localStorage.getItem("camForm:"+d),b=JSON.parse(b).vars}catch(e){if("function"==typeof a)return a(e);throw e}for(var f in b)c[f]?c[f].value=b[f]:c[f]={name:f,value:b[f]};"function"==typeof a&&a()}else if("function"==typeof a)return a()},CamundaForm.prototype.submit=function(a){var b=this.taskId||this.processDefinitionId;if(this.submitPrevented=!1,this.fireEvent("submit"),this.submitPrevented){var c=new Error("camForm submission prevented");return this.fireEvent("submit-failed",c),a&&a(c)}try{this.retrieveVariables()}catch(d){return a&&a(d)}var e=this;this.transformFiles(function(){e.submitVariables(function(c,d){return c?(e.fireEvent("submit-failed",c),a&&a(c)):(localStorage.removeItem("camForm:"+b),e.fireEvent("submit-success"),a&&a(null,d))})})},CamundaForm.prototype.transformFiles=function(a){var b=this,c=1,d=function(){0===--c&&a()},e=function(a){if(0===a)return"0 Byte";var b=1e3,c=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],d=Math.floor(Math.log(a)/Math.log(b));return(a/Math.pow(b,d)).toPrecision(3)+" "+c[d]};for(var f in this.fields){var g=this.fields[f].element[0];if("file"===g.getAttribute("type"))if("function"==typeof FileReader&&g.files.length>0){if(g.files[0].size>(parseInt(g.getAttribute("cam-max-filesize"),10)||5e6))throw new Error("Maximum file size of "+e(parseInt(g.getAttribute("cam-max-filesize"),10)||5e6)+" exceeded.");var h=new FileReader;h.onloadend=function(a,c){return function(e){for(var f="",g=new Uint8Array(e.target.result),h=g.byteLength,i=0;i<h;i++)f+=String.fromCharCode(g[i]);var j=b.variableManager.variables[b.fields[a].variableName];j.value=btoa(f),"file"===j.type.toLowerCase()&&(j.valueInfo={filename:c.files[0].name,mimeType:c.files[0].type}),d()}}(f,g),h.readAsArrayBuffer(g.files[0]),c++}else b.variableManager.variables[b.fields[f].variableName].value=null}d()},CamundaForm.prototype.fetchVariables=function(a){a=a||function(){};var b=this.variableManager.variableNames();if(b.length){var c={names:b,deserializeValues:!1};this.taskId?(c.id=this.taskId,this.client.resource("task").formVariables(c,a)):(c.id=this.processDefinitionId,c.key=this.processDefinitionKey,this.client.resource("process-definition").formVariables(c,a))}else a()},CamundaForm.prototype.submitVariables=function(a){a=a||function(){};var b=this.variableManager,c=b.variables,d={};for(var e in c)if(b.isDirty(e)){var f=c[e].value;b.isJsonVariable(e)&&(f=JSON.stringify(f)),b.isDateVariable(e)&&(f=moment(f).format("YYYY-MM-DDTHH:mm:ss.SSSZZ")),d[e]={value:f,type:c[e].type,valueInfo:c[e].valueInfo}}var g={variables:d};if(this.taskId)g.id=this.taskId,this.client.resource("task").submitForm(g,a);else{var h=this.businessKey||this.formElement.find('input[type="text"][cam-business-key]').val();h&&(g.businessKey=h),g.id=this.processDefinitionId,g.key=this.processDefinitionKey,this.client.resource("process-definition").submitForm(g,a)}},CamundaForm.prototype.storeOriginalValues=function(a){for(var b in a)this.variableManager.setOriginalValue(b,a[b].value)},CamundaForm.prototype.mergeVariables=function(a){var b=this.variableManager.variables;for(var c in a){if(b[c])for(var d in a[c])b[c][d]=b[c][d]||a[c][d];else b[c]=a[c];this.variableManager.isJsonVariable(c)&&(b[c].value=JSON.parse(a[c].value));var e=b[c].type;!this.taskBasePath||"Bytes"!==e&&"File"!==e||(b[c].contentUrl=this.taskBasePath+"/variables/"+b[c].name+"/data"),this.variableManager.isVariablesFetched=!0}},CamundaForm.prototype.applyVariables=function(){for(var a in this.fields)this.fields[a].applyValue()},CamundaForm.prototype.retrieveVariables=function(){for(var a in this.fields)this.fields[a].getValue()},CamundaForm.prototype.fireEvent=function(a,b){this.trigger(a,b)},CamundaForm.$=$,CamundaForm.VariableManager=VariableManager,CamundaForm.fields={},CamundaForm.fields.InputFieldHandler=InputFieldHandler,CamundaForm.fields.ChoicesFieldHandler=ChoicesFieldHandler,CamundaForm.cleanLocalStorage=function(a){for(var b=0;b<localStorage.length;b++){var c=localStorage.key(b);if(0===c.indexOf("camForm:")){var d=JSON.parse(localStorage.getItem(c));d.date<a&&(localStorage.removeItem(c),b--)}}},CamundaForm.extend=BaseClass.extend,module.exports=CamundaForm},{"./../base-class":99,"./../events":100,"./constants":102,"./controls/choices-field-handler":104,"./controls/file-download-handler":105,"./controls/input-field-handler":106,"./dom-lib":107,"./variable-manager":109,moment:"moment"}],102:[function(a,b,c){"use strict";b.exports={DIRECTIVE_CAM_FORM:"cam-form",DIRECTIVE_CAM_VARIABLE_NAME:"cam-variable-name",DIRECTIVE_CAM_VARIABLE_TYPE:"cam-variable-type",DIRECTIVE_CAM_FILE_DOWNLOAD:"cam-file-download",DIRECTIVE_CAM_CHOICES:"cam-choices",DIRECTIVE_CAM_SCRIPT:"cam-script"}},{}],103:[function(a,b,c){"use strict";function d(){}function e(a,b){this.element=g(a),this.variableManager=b,this.variableName=null,this.initialize()}var f=a("../../base-class"),g=a("./../dom-lib");e.selector=null,e.extend=f.extend,e.prototype.initialize=d,e.prototype.applyValue=d,e.prototype.getValue=d,b.exports=e},{"../../base-class":99,"./../dom-lib":107}],104:[function(a,b,c){"use strict";var d=a("./../constants"),e=a("./abstract-form-field"),f=a("./../dom-lib"),g=e.extend({initialize:function(){var a=this.variableName=this.element.attr(d.DIRECTIVE_CAM_VARIABLE_NAME),b=this.variableType=this.element.attr(d.DIRECTIVE_CAM_VARIABLE_TYPE),c=this.choicesVariableName=this.element.attr(d.DIRECTIVE_CAM_CHOICES);this.variableManager.createVariable({name:a,type:b,value:this.element.val()||null}),c&&this.variableManager.fetchVariable(c),this.originalValue=this.element.val()||null,this.previousValue=this.originalValue,this.variableName=a},applyValue:function(){var a=this.element[0].selectedIndex;if(this.choicesVariableName){var b=this.variableManager.variableValue(this.choicesVariableName);if(b)if(b instanceof Array)for(var c=0;c<b.length;c++){var d=b[c];this.element.find('option[text="'+d+'"]').length||this.element.append(f("<option>",{value:d,text:d}))}else for(var e in b)this.element.find('option[value="'+e+'"]').length||this.element.append(f("<option>",{value:e,text:b[e]}))}this.element[0].selectedIndex=a,this.previousValue=this.element.val()||"";var g=this.variableManager.variableValue(this.variableName);return g!==this.previousValue&&(this.element.val(g),this.element.trigger("camFormVariableApplied",g)),this},getValue:function(){var a,b=this.element.prop("multiple");return b?(a=[],this.element.find("option:selected").each(function(){a.push(f(this).val())})):a=this.element.find("option:selected").attr("value"),this.variableManager.variableValue(this.variableName,a),a}},{selector:"select["+d.DIRECTIVE_CAM_VARIABLE_NAME+"]"});b.exports=g},{"./../constants":102,"./../dom-lib":107,"./abstract-form-field":103}],105:[function(a,b,c){"use strict";var d=a("./../constants"),e=a("./abstract-form-field"),f=e.extend({initialize:function(){this.variableName=this.element.attr(d.DIRECTIVE_CAM_FILE_DOWNLOAD),this.variableManager.fetchVariable(this.variableName)},applyValue:function(){var a=this.variableManager.variable(this.variableName);return this.element.attr("href",a.contentUrl),0===this.element.text().trim().length&&this.element.text(a.valueInfo.filename),this}},{selector:"a["+d.DIRECTIVE_CAM_FILE_DOWNLOAD+"]"});b.exports=f},{"./../constants":102,"./abstract-form-field":103}],106:[function(a,b,c){"use strict";var d=a("./../constants"),e=a("./abstract-form-field"),f=function(a){return"checkbox"===a.attr("type")&&"Boolean"===a.attr(d.DIRECTIVE_CAM_VARIABLE_TYPE)},g=e.extend({initialize:function(){var a=this.element.attr(d.DIRECTIVE_CAM_VARIABLE_NAME),b=this.element.attr(d.DIRECTIVE_CAM_VARIABLE_TYPE);this.variableManager.createVariable({name:a,type:b}),this.originalValue=this.element.val(),this.previousValue=this.originalValue,this.variableName=a,this.getValue()},applyValue:function(){this.previousValue=this.getValueFromHtmlControl()||"";var a=this.variableManager.variableValue(this.variableName);return a!==this.previousValue&&(this.applyValueToHtmlControl(a),this.element.trigger("camFormVariableApplied",a)),this},getValue:function(){var a=this.getValueFromHtmlControl();return this.variableManager.variableValue(this.variableName,a),a},getValueFromHtmlControl:function(){return f(this.element)?this.element.prop("checked"):this.element.val()},applyValueToHtmlControl:function(a){f(this.element)?this.element.prop("checked",a):"file"!==this.element[0].type&&this.element.val(a)}},{selector:"input["+d.DIRECTIVE_CAM_VARIABLE_NAME+"],textarea["+d.DIRECTIVE_CAM_VARIABLE_NAME+"]"});b.exports=g},{"./../constants":102,"./abstract-form-field":103}],107:[function(a,b,c){(function(a){"use strict";!function(b){b("undefined"!=typeof window?window:a)}(function(a){a=a||{},b.exports=a.jQuery||!!a.angular&&a.angular.element||a.Zepto})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],108:[function(a,b,c){"use strict";var d=/^-?[\d]+$/,e=/^(0|(-?(((0|[1-9]\d*)\.\d+)|([1-9]\d*))))([eE][-+]?[0-9]+)?$/,f=/^(true|false)$/,g=/^[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}(|\.[0-9]{0,4})$/,h=a("fast-xml-parser"),i=function(a){return!!a&&h.validate(a)},j=function(a){try{return JSON.parse(a),!0}catch(b){return!1}},k=function(a,b){switch(b){case"Integer":case"Long":case"Short":return d.test(a);case"Float":case"Double":return e.test(a);case"Boolean":return f.test(a);case"Date":return g.test(n(a));case"Xml":return i(a);case"Json":return j(a)}},l=function(a,b){if("string"==typeof a&&(a=a.trim()),"String"===b||"Bytes"===b||"File"===b)return a;if(!k(a,b))throw new Error("Value '"+a+"' is not of type "+b);switch(b){case"Integer":case"Long":case"Short":return parseInt(a,10);case"Float":case"Double":return parseFloat(a);case"Boolean":return"true"===a;case"Date":return n(a)}},m=function(a){return a<10?"0"+a:a},n=function(a){if("object"==typeof a&&"function"==typeof a.getFullYear){var b=a.getFullYear(),c=m(a.getMonth()+1),d=m(a.getDate()),e=m(a.getHours()),f=m(a.getMinutes()),g=m(a.getSeconds());return b+"-"+c+"-"+d+"T"+e+":"+f+":"+g}return a};b.exports={convertToType:l,isType:k,dateToString:n}},{"fast-xml-parser":111}],109:[function(a,b,c){"use strict";function d(){this.variables={},this.isVariablesFetched=!1}var e=a("./type-util").convertToType;d.prototype.fetchVariable=function(a){if(this.isVariablesFetched)throw new Error("Illegal State: cannot call fetchVariable(), variables already fetched.");this.createVariable({name:a})},d.prototype.createVariable=function(a){if(this.variables[a.name])throw new Error("Cannot add variable with name "+a.name+": already exists.");this.variables[a.name]=a},d.prototype.destroyVariable=function(a){if(!this.variables[a])throw new Error("Cannot remove variable with name "+a+": variable does not exist.");delete this.variables[a]},d.prototype.setOriginalValue=function(a,b){if(!this.variables[a])throw new Error("Cannot set original value of variable with name "+a+": variable does not exist.");this.variables[a].originalValue=b},d.prototype.variable=function(a){return this.variables[a]},d.prototype.variableValue=function(a,b){var c=this.variable(a);return"undefined"==typeof b||null===b?b=null:""===b&&"String"!==c.type?b=null:"string"==typeof b&&"String"!==c.type&&(b=e(b,c.type)),2===arguments.length&&(c.value=b),c.value},d.prototype.isDirty=function(a){var b=this.variable(a);return this.isJsonVariable(a)?b.originalValue!==JSON.stringify(b.value):b.originalValue!==b.value||"Object"===b.type},d.prototype.isJsonVariable=function(a){var b=this.variable(a),c=b.type,d=["Object","json","Json"],e=d.indexOf(c);return 0===e?b.valueInfo.serializationDataFormat.indexOf("application/json")!==-1:e!==-1},d.prototype.isDateVariable=function(a){var b=this.variable(a);return"Date"===b.type},d.prototype.variableNames=function(){return Object.keys(this.variables)},b.exports=d},{"./type-util":108}],110:[function(a,b,c){"use strict";function d(a,b,c){if(c=c||function(){},!a.length)return c();var d=0,e=function(){b(a[d],function(b){b?(c(b),c=function(){}):(d+=1,d>=a.length?c():e())})};e()}var e=b.exports={typeUtils:a("./forms/type-util")};e.solveHALEmbedded=function(a){function b(b){if("Id"!==b.slice(-2))return!1;var c=b.slice(0,-2),d=a._embedded;return!(!d[c]||!d[c].length)}function c(a){var c=Object.keys(a);for(var d in c)"_"!==c[d][0]&&b(c[d])||c.splice(d,1);return c}var d=Object.keys(a._embedded||{});for(var e in d){var f=d[e];for(var g in a._embedded[f]){a._embedded[f][g]._embedded=a._embedded[f][g]._embedded||{};var h=c(a._embedded[f][g]);for(var i in h){var j=h[i];if(a._embedded[f][g][j]){var k=a._embedded[j.slice(0,-2)];for(var l in k)k[l].id===a._embedded[f][g][j]&&(a._embedded[f][g]._embedded[j.slice(0,-2)]=[k[l]])}}}}return a},e.series=function(a,b){b=b||function(){};var c={};d(Object.keys(a),function(b,d){a[b](function(a){var e=Array.prototype.slice.call(arguments,1);e.length<=1&&(e=e[0]),c[b]=e,d(a)})},function(a){b(a,c)})},e.escapeUrl=function(a){return encodeURIComponent(a).replace(/\//g,"%2F").replace(/%2F/g,"%252F").replace(/\*/g,"%2A").replace(/%5C/g,"%255C")}},{"./forms/type-util":108}],111:[function(a,b,c){function d(a){for(var b=h(a,p),c="",d=0;d<b.length;d++)c+=b[d][1];return c}function e(a,b){if(b){var c=a.split(":"),d="/"===a.charAt(0)?"/":"";2===c.length&&(a=d+c[1])}return a}function f(a,b){return a=a?!b||isNaN(a)?""+a:a.indexOf(".")!==-1?Number.parseFloat(a):Number.parseInt(a,10):""}function g(a,b,c,d,g,i){if(a=a||a.trim(),!b&&a.length>3){var j=h(a,q),k={},l=k;d&&j.length&&(l=k[d]={});for(var m=0;m<j.length;m++){var n=c+e(j[m][1],g);l[n]=f(j[m][3],i)}return k}}var h=a("./util").getAllMatches,i=function(a,b,c){this.tagname=a,this.parent=b,this.child=[],this.val=c,this.addChild=function(a){this.child.push(a)}},j="<!\\[CDATA\\[(.*?)(\\]\\]>)",k=new RegExp("<(\\/?[\\w:\\-._]+)([^>]*)>("+j+")*([^<]+)?","g"),l={attrPrefix:"@_",attrNodeName:!1,textNodeName:"#text",ignoreNonTextNodeAttr:!0,ignoreTextNodeAttr:!0,ignoreNameSpace:!1,ignoreRootElement:!1,textNodeConversion:!0,textAttrConversion:!1,arrayMode:!1},m=function(a){a||(a={});for(var b=["attrPrefix","attrNodeName","ignoreNonTextNodeAttr","ignoreTextNodeAttr","ignoreNameSpace","ignoreRootElement","textNodeName","textNodeConversion","textAttrConversion","arrayMode"],c=0;c<b.length;c++)void 0===a[b[c]]&&(a[b[c]]=l[b[c]]);return a},n=function(a,b){b=m(b);for(var c=h(a,k),j=new i("!xml"),l=j,n=0;n<c.length;n++){var o,p=e(c[n][1],b.ignoreNameSpace),q=n+1<c.length?e(c[n+1][1],b.ignoreNameSpace):void 0,r=c[n][2],s=void 0===c[n][4]?c[n][6]:d(c[n][0]);if(0!==p.indexOf("/")){var t="/"===r.charAt(r.length-1),u=new i(p,l);if(t)o=g(r,b.ignoreTextNodeAttr,b.attrPrefix,b.attrNodeName,b.ignoreNameSpace,b.textAttrConversion),u.val=o||"",l.addChild(u);else if("/"+p===q)o=g(r,b.ignoreTextNodeAttr,b.attrPrefix,b.attrNodeName,b.ignoreNameSpace,b.textAttrConversion),s=f(s,b.textNodeConversion),o?(o[b.textNodeName]=s,u.val=o):void 0!==s&&null!=s?u.val=s:u.val="",l.addChild(u),n++;else{if(o=g(r,b.ignoreNonTextNodeAttr,b.attrPrefix,b.attrNodeName,b.ignoreNameSpace,b.textAttrConversion))for(var v in o)o.hasOwnProperty(v)&&u.addChild(new i(v,u,o[v]));l.addChild(u),l=u}}else l=l.parent}return j;
},o=function(a,b){return r(n(a,b),m(b).arrayMode)},p=new RegExp(j,"g"),q=new RegExp("(\\S+)\\s*=\\s*(['\"])(.*?)\\2","g"),r=function(a,b){var c={};if(void 0!==a.val&&null!=a.val||""===a.val)return a.val;for(var d=0;d<a.child.length;d++){var e=a.child[d].tagname,f=r(a.child[d],b);if(void 0!==c[e]){if(!Array.isArray(c[e])){var g=c[e];c[e]=[],c[e].push(g)}c[e].push(f)}else c[e]=b?[f]:f}return c};c.parse=o,c.getTraversalObj=n,c.convertToJson=r,c.validate=a("./validator").validate},{"./util":112,"./validator":113}],112:[function(a,b,c){var d=function(a,b){for(var c=[],d=b.exec(a);d;){for(var e=[],f=0;f<d.length;f++)e.push(d[f]);c.push(e),d=b.exec(a)}return c},e=function(a,b){var c=b.exec(a);return null!==c&&void 0!==c},f=function(a,b){return!e(a,b)};c.doesMatch=e,c.doesNotMatch=f,c.getAllMatches=d},{}],113:[function(a,b,c){function d(a){return!g.doesMatch(a,k)&&!g.doesNotMatch(a,l)}function e(a){var b=g.getAllMatches(a,m);for(i=0;i<b.length;i++){if(b[i][1].trim().length>0&&b[i][1].trim().length<4)return!1;if(0!==b[i][1].trim().length){var c=g.getAllMatches(b[i][1],n),d=[];for(j=0;j<c.length;j++){if(d.hasOwnProperty(c[j][1]))return!1;d[c[j][1]]=1}}}return!0}function f(a,b){if(a.length===b)return!0;if(0===a[b][0].indexOf("</"))return b;if(a[b][0].indexOf("/>")===a[b][0].length-2)return d(a[b][0].substring(1))===!1?-1:f(a,b+1);if(a.length>b+1){if(0===a[b+1][0].indexOf("</"))return d(a[b][1])===!1?-1:a[b][1]===a[b+1][1]?f(a,b+2):-1;var c=f(a,b+1);if(c!==-1&&0===a[c][0].indexOf("</"))return d(a[b][1])===!1?-1:a[b][1]===a[c][1]?f(a,c+1):-1}return-1}var g=a("./util"),h=new RegExp("<\\/?([\\w:\\-_.]+)\\s*/?>","g");c.validate=function(a){if(a=a.replace(/\n/g,""),a=a.replace(/(<!\[CDATA\[.*?\]\]>)/g,""),a=a.replace(/(<!--.*?(?:-->))/g,""),e(a)!==!0)return!1;if(a=a.replace(/(\s+(?:[\w:\-]+)\s*=\s*(['\"]).*?\2)/g,""),a=a.replace(/(^\s*<\?xml\s*\?>)/g,""),a.indexOf("<![CDATA[")>0||a.indexOf("<!--")>0)return!1;var b=g.getAllMatches(a,h);if(0===b.length)return!1;var c=f(b,0);return c===!0};var k=new RegExp("^[Xx][Mm][Ll]"),l=new RegExp("^([a-zA-Z]|_)[\\w.\\-_:]*"),m=new RegExp("<[\\w:\\-_.]+(.*?)/?>","g"),n=new RegExp("\\s+([\\w:-]+)\\s*=\\s*(['\"])(.*?)\\2","g")},{"./util":112}],114:[function(a,b,c){"use strict";b.exports=a("angular")},{angular:"angular"}],115:[function(a,b,c){"use strict";b.exports=a("moment")},{moment:"moment"}],116:[function(a,b,c){"use strict";function d(a){f.call(this,a)}var e=a("inherits"),f=a("./Viewer");e(d,f),b.exports=d,d.prototype._navigationModules=[a("diagram-js/lib/navigation/zoomscroll"),a("diagram-js/lib/navigation/movecanvas")],d.prototype._modules=[].concat(d.prototype._modules,d.prototype._navigationModules)},{"./Viewer":117,"diagram-js/lib/navigation/movecanvas":326,"diagram-js/lib/navigation/zoomscroll":329,inherits:154}],117:[function(a,b,c){"use strict";function d(a){var b=/unparsable content <([^>]+)> detected([\s\S]*)$/,c=b.exec(a.message);return c&&(a.message="unparsable content <"+c[1]+"> detected; this may indicate an invalid CMMN 1.1 diagram file"+c[2]),a}function e(a){return a+(k(a)?"px":"")}function f(a){a=h({},t,a),this.moddle=this._createModdle(a),this.container=this._createContainer(a),g(this.container),this._init(this.container,this.moddle,a)}function g(a){var b=u.BPMNIO_LOGO,c='<a href="http://bpmn.io" target="_blank" class="cjs-powered-by" title="Powered by bpmn.io" style="position: absolute; bottom: 15px; right: 15px; z-index: 100"><img src="data:image/png;base64,'+b+'"></a>',d=m(c);a.appendChild(d),v.bind(d,"click",function(a){u.open(),a.preventDefault()})}var h=a("lodash/object/assign"),i=a("lodash/object/omit"),j=a("lodash/lang/isString"),k=a("lodash/lang/isNumber"),l=a("inherits"),m=a("min-dom/lib/domify"),n=a("min-dom/lib/query"),o=a("min-dom/lib/remove"),p=a("tiny-svg/lib/innerSVG"),q=a("diagram-js"),r=a("cmmn-moddle"),s=a("./import/Importer"),t={width:"100%",height:"100%",position:"relative",container:"body"};l(f,q),b.exports=f,f.prototype.importXML=function(a,b){b=b||function(){};var c=this;a=this._emit("import.parse.start",{xml:a})||a,this.moddle.fromXML(a,"cmmn:Definitions",function(a,e,f){if(e=c._emit("import.parse.complete",{error:a,definitions:e,context:f})||e,a)return a=d(a),c._emit("import.done",{error:a}),b(a);var g=f.warnings;c.importDefinitions(e,function(a,d){var e=[].concat(g,d||[]);c._emit("import.done",{error:a,warnings:e}),b(a,e)})})},f.prototype.saveXML=function(a,b){b||(b=a,a={});var c=this.definitions;return c?void this.moddle.toXML(c,a,b):b(new Error("no definitions loaded"))},f.prototype.saveSVG=function(a,b){b||(b=a,a={});var c=this.get("canvas"),d=c.getDefaultLayer(),e=n("defs",c._svg),f=p(d),g=e&&e.outerHTML||"",h=d.getBBox(),i='<?xml version="1.0" encoding="utf-8"?>\n<!-- created with cmmn-js / http://bpmn.io -->\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="'+h.width+'" height="'+h.height+'" viewBox="'+h.x+" "+h.y+" "+h.width+" "+h.height+'" version="1.1">'+g+f+"</svg>";b(null,i)},f.prototype.importDefinitions=function(a,b){try{this.definitions&&this.clear(),this.definitions=a,s.importCmmnDiagram(this,a,b)}catch(c){b(c)}},f.prototype.getModules=function(){return this._modules},f.prototype.destroy=function(){q.prototype.destroy.call(this),o(this.container)},f.prototype.on=function(a,b,c,d){return this.get("eventBus").on(a,b,c,d)},f.prototype.off=function(a,b){this.get("eventBus").off(a,b)},f.prototype._init=function(a,b,c){var d=c.modules||this.getModules(),e=c.additionalModules||[],f=[{cmmnjs:["value",this],moddle:["value",b]}],g=[].concat(f,d,e),j=h(i(c,"additionalModules"),{canvas:h({},c.canvas,{container:a}),modules:g});q.call(this,j)},f.prototype._emit=function(a,b){return this.get("eventBus").fire(a,b)},f.prototype._createContainer=function(a){var b,c=a.container;return c.get&&(c=c.get(0)),j(c)&&(c=n(c)),b=m('<div class="cjs-container"></div>'),h(b.style,{width:e(a.width),height:e(a.height),position:a.position}),c.appendChild(b),b},f.prototype._createModdle=function(a){var b=h({},this._moddleExtensions,a.moddleExtensions);return new r(b)},f.prototype._modules=[a("./core"),a("diagram-js/lib/features/selection"),a("diagram-js/lib/features/overlays")];var u=a("./util/PoweredByUtil"),v=a("min-dom/lib/event")},{"./core":119,"./import/Importer":126,"./util/PoweredByUtil":132,"cmmn-moddle":133,"diagram-js":"diagram-js","diagram-js/lib/features/overlays":314,"diagram-js/lib/features/selection":321,inherits:154,"lodash/lang/isNumber":233,"lodash/lang/isString":235,"lodash/object/assign":237,"lodash/object/omit":240,"min-dom/lib/domify":246,"min-dom/lib/event":247,"min-dom/lib/query":248,"min-dom/lib/remove":249,"tiny-svg/lib/innerSVG":265}],118:[function(a,b,c){"use strict";function d(a,b){this._items={},this._referencedBy={},this._elementRegistry=a,this._eventBus=b,this._init()}function e(a){return h(a)||i(a)}function f(a){return j(a,["cmmn:PlanItemDefinition","cmmn:Sentry","cmmn:CaseFileItemDefinition"])}var g=a("../util/ModelUtil"),h=g.getDefinition,i=g.getSentry,j=a("../features/modeling/util/ModelingUtil").isAny,k=a("lodash/collection/forEach"),l=a("lodash/lang/isArray");d.$inject=["elementRegistry","eventBus"],b.exports=d,d.prototype._init=function(a){var b=this._eventBus;b.on("diagram.destroy",500,this._clear,this),b.on("diagram.clear",500,this._clear,this)},d.prototype._clear=function(){this._items={},this._referencedBy={}},d.prototype.add=function(a){var b=this._items,c=a.id,d=this._referencedBy,f=e(a),g=f&&f.id;b[c]=a,f&&(d[g]=d[g]||[],d[g].indexOf(a)===-1&&d[g].push(a))},d.prototype.remove=function(a){var b=this._items,c=a.id,d=this._referencedBy,f=e(a),g=f&&f.id;if(delete b[c],f){var h=d[g]||[],i=h.indexOf(a);i!==-1&&h.splice(i,1),h.length||delete d[g]}},d.prototype.updateId=function(a,b){var c,d;"string"==typeof a&&(a=this.get(a)),c=f(a)?this._referencedBy:this._items,a&&(d=c[a.id],delete c[a.id],c[b]=d)},d.prototype.updateReference=function(a,b){var c=this._referencedBy,d=e(a),f=d&&d.id;if(d){var g=c[f]||[],h=g.indexOf(a);h!==-1&&g.splice(h,1),g.length||delete c[f]}if(b){var i=b.id;i&&(c[i]=c[i]||[],c[i].indexOf(a)===-1&&c[i].push(a))}},d.prototype.get=function(a){return this._items[a]},d.prototype.filter=function(a){var b=[];return this.forEach(function(c,d){a(c,d)&&b.push(c)}),b},d.prototype.getAll=function(){return this.filter(function(a){return a})},d.prototype.forEach=function(a){var b=this._items;k(b,function(b){return a(b,e(b))})},d.prototype.getReferences=function(a){var b=a.id||a;return(this._referencedBy[b]||[]).slice()},d.prototype.getShape=function(a){var b=a.id||a;return this._elementRegistry&&this._elementRegistry.get(b)},d.prototype.getShapes=function(a){function b(a){a&&c.push(a)}var c=[],d=this;if(l(a))k(a,function(a){b(d.getShape(a))});else if(f(a)){var e=d.getReferences(a);k(e,function(a){b(d.getShape(a))})}else b(d.getShape(a));return c}},{"../features/modeling/util/ModelingUtil":123,"../util/ModelUtil":131,"lodash/collection/forEach":159,"lodash/lang/isArray":230}],119:[function(a,b,c){b.exports={__depends__:[a("../draw"),a("../import")],itemRegistry:["type",a("./ItemRegistry")]}},{"../draw":122,"../import":128,"./ItemRegistry":118}],120:[function(a,b,c){"use strict";function d(a,b,c){function d(a,b){fa[a]=b}function e(a){return fa[a]}function k(a){function b(b,c){var e=h({fill:"black",strokeWidth:1,strokeLinecap:"round",strokeDasharray:"none"},c.attrs),f=c.ref||{x:0,y:0},g=c.scale||1;"none"===e.strokeDasharray&&(e.strokeDasharray=[1e4,1]);var i=E("marker");C(c.element,e),B(i,c.element),C(i,{id:b,viewBox:"0 0 20 20",refX:f.x,refY:f.y,markerWidth:20*g,markerHeight:20*g,orient:"auto"});var j=A("defs",a);return j||(j=E("defs"),B(a,j)),B(j,i),d(b,i)}var c=E("path");C(c,{d:"M 11 5 L 1 10 L 11 15"}),b("association-start",{element:c,attrs:{fill:"none",stroke:"black",strokeWidth:1.5},ref:{x:1,y:10},scale:.5});var e=E("path");C(e,{d:"M 1 5 L 11 10 L 1 15"}),b("association-end",{element:e,attrs:{fill:"none",stroke:"black",strokeWidth:1.5},ref:{x:12,y:10},scale:.5})}function l(a,c,d){return f(c)||(d=c,c=[]),b.style(c||[],h(d,a||{}))}function H(a,b,c,d,e){g(d)&&(e=d,d=0),d=d||0,e=l(e,{stroke:"black",strokeWidth:2,fill:"white"});var f=b/2,h=c/2,i=E("circle");return C(i,{cx:f,cy:h,r:Math.round((b+c)/4-d)}),C(i,e),B(a,i),i}function I(a,b,c,d,e,f){g(e)&&(f=e,e=0),e=e||0,f=l(f,{stroke:"black",strokeWidth:2,fill:"white"});var h=E("rect");return C(h,{x:e,y:e,width:b-2*e,height:c-2*e,rx:d,ry:d}),C(h,f),B(a,h),h}function J(a,b,c,d){var e=b/2,f=c/2,g=[{x:e,y:0},{x:b,y:f},{x:e,y:c},{x:0,y:f}],h=g.map(function(a){return a.x+","+a.y}).join(" ");d=l(d,{stroke:"black",strokeWidth:2,fill:"white"});var i=E("polygon");return C(i,{points:h}),C(i,d),B(a,i),i}function K(a,b,c){c=l(c,["no-fill"],{strokeWidth:2,stroke:"black"});var d=E("path");return C(d,{d:b}),C(d,c),B(a,d),d}function L(a,b,c,d,e){d=d||20;var f=d,g=c,h=0,i=c-d,j=0,k=d,l=d,m=0,n=b-d,o=0,p=b,q=d,r=b,s=c-d,t=b-d,u=c,v=[{x:f,y:g},{x:h,y:i},{x:j,y:k},{x:l,y:m},{x:n,y:o},{x:p,y:q},{x:r,y:s},{x:t,y:u}];return e=e||{},e.fill="white",e.stroke="black",e.strokeWidth=2,M(a,v,e)}function M(a,b,c){var d=b.map(function(a){return a.x+","+a.y}).join(" "),e=E("polygon");return C(e,{points:d}),C(e,c),B(a,e),e}function N(a,b,c){c=l(c,["no-fill"],{stroke:"black",strokeWidth:2,fill:"none"});var d=G(b,c);return B(a,d),d}function O(a){for(var b=a.waypoints,c="m  "+b[0].x+","+b[0].y,d=1;d<b.length;d++)c+="L"+b[d].x+","+b[d].y+" ";return c}function P(a,b,c){var d=ea.createText(a,b||"",c);return D(d).add("djs-label"),d}function Q(a,b,c){var d=x(b);return P(a,d,{box:b,align:c,padding:5})}function R(a,b,c){var d=x(b),e=P(a,d,{box:b,align:c,padding:5});return F(e,ca,0),e}function S(a,b){var c=q(b),d=18,e=b.width/2-60,f=c.name,g=P(a,f,{box:{height:d,width:e},align:"left-top"}),h=60,i=40,j=g.getBBox().width,k=j+i;j<h&&(k=h+i);var l=[{x:10,y:0},{x:20,y:-d},{x:k,y:-d},{x:k+10,y:0}],m=M(a,l,{fill:"white",stroke:"black",strokeWidth:2,fillOpacity:.95,"pointer-events":"all"});return g.parentNode.insertBefore(m,g),F(g,25,-d-1),g}function T(a,b){var c=x(b),d=!1,e=z(b);if(e){var f=m(b);e="["+e+"]",c?f&&(c=c+" "+e):(c=e,b.hidden=d=!f)}var g={width:90,height:30,x:b.width/2+b.x,y:b.height/2+b.y};return b.hidden=b.labelTarget.hidden||d||!c,P(a,c,{box:g,style:{fontSize:"11px"}})}function U(a){return ga[a]}function V(a,b){var c=q(b),d=6,e=[];s(c)&&e.push({marker:"RequiredMarker",width:1}),u(c)&&e.push({marker:"ManualActivationMarker",width:14}),t(c)&&e.push({marker:"RepetitionMarker",width:14}),e.length&&(1===e.length?Z(e[0].marker,a,b,e[0].width/2*-1):2===e.length?(Z(e[0].marker,a,b,e[0].width*-1-d/2),Z(e[1].marker,a,b,d/2)):3===e.length&&(Z(e[1].marker,a,b,e[1].width/2*-1),Z(e[0].marker,a,b,e[1].width/2*-1-d-e[0].width),Z(e[2].marker,a,b,e[1].width/2+d)))}function W(a,b){var c=q(b);v(c)&&Z("AutoCompleteMarker",a,b,-7)}function X(a,b,c){var d=q(b),e=6;Z("StageMarker",a,b,-7);var f=[];s(d)&&f.push({marker:"RequiredMarker",width:1}),v(d)&&f.push({marker:"AutoCompleteMarker",width:14}),f.length&&(1===f.length?Z(f[0].marker,a,b,f[0].width*-1-7-e):2===f.length&&(Z(f[0].marker,a,b,f[1].width*-1-7-e-f[0].width*-1-e),Z(f[1].marker,a,b,f[1].width*-1-7-e)));var g=[];u(d)&&g.push({marker:"ManualActivationMarker",width:14}),t(d)&&g.push({marker:"RepetitionMarker",width:14}),g.length&&(1===g.length?Z(g[0].marker,a,b,7+e):2===g.length&&(Z(g[0].marker,a,b,7+e),Z(g[1].marker,a,b,7+e+g[0].width+e)))}function Y(a,b){w(b)&&Z("PlanningTableMarker",a,b)}function Z(a,b,c,d){U(a)(b,c,d)}function $(a,b){var c=ga[b.type];return c?c(a,b):i.prototype.drawShape.apply(this,[a,b])}function _(a,b){var c=b.type,d=ga[c];return d?d(a,b):i.prototype.drawConnection.apply(this,[a,b])}i.call(this,a);var aa=10,ba=24,ca=20,da={fontFamily:"Arial, sans-serif",fontSize:"12px"},ea=new j({style:da,size:{width:100}}),fa={},ga={"cmmn:PlanItem":function(a,b){var c=r(b);return U(c.$type)(a,b)},"cmmn:DiscretionaryItem":function(a,b){var c=r(b),d={strokeDasharray:"10, 12"};return y(c,"cmmn:Task")&&h(d,{strokeDasharray:"12, 12.4",strokeDashoffset:13.6}),U(c.$type)(a,b,d)},"cmmn:Stage":function(a,b,c){c=h({fillOpacity:.95},c);var d;return p(b)?ga["cmmn:CasePlanModel"](a,b):(d=L(a,b.width,b.height,ca,c),o(b)?Q(a,b,"center-middle"):R(a,b,"left-top"),Y(a,b),X(a,b),d)},"cmmn:PlanFragment":function(a,b,c){var d=I(a,b.width,b.height,aa,{strokeDasharray:"10, 12",fillOpacity:.95});return Q(a,b,o(b)?"center-middle":"left-top"),X(a,b),d},"cmmn:CasePlanModel":function(a,b){var c=I(a,b.width,b.height,0,{fillOpacity:.95});return S(a,b),Y(a,b),W(a,b),c},"cmmn:Milestone":function(a,b,c){var d=I(a,b.width,b.height,ba,c);return Q(a,b,"center-middle"),V(a,b),d},"cmmn:EventListener":function(a,b,c){var d=H(a,b.width,b.height,c);return c=c||{},c.strokeWidth=2,H(a,b.width,b.height,.1*b.height,c),d},"cmmn:TimerEventListener":function(a,b,d){var e=U("cmmn:EventListener")(a,b,d),f=c.getScaledPath("EVENT_TIMER_WH",{xScaleFactor:.75,yScaleFactor:.75,containerWidth:b.width,containerHeight:b.height,position:{mx:.5,my:.5}});K(a,f,{strokeWidth:2,strokeLinecap:"square"});for(var g=0;g<12;g++){var h=c.getScaledPath("EVENT_TIMER_LINE",{xScaleFactor:.75,yScaleFactor:.75,containerWidth:b.width,containerHeight:b.height,position:{mx:.5,my:.5}}),i=b.width/2,j=b.height/2;K(a,h,{strokeWidth:1,strokeLinecap:"square",transform:"rotate("+30*g+","+j+","+i+")"})}return e},"cmmn:UserEventListener":function(a,b,d){var e=U("cmmn:EventListener")(a,b,d),f=20,g=15,h=c.getScaledPath("TASK_TYPE_USER_1",{abspos:{x:f,y:g}});K(a,h,{strokeWidth:.5,fill:"none"});var i=c.getScaledPath("TASK_TYPE_USER_2",{abspos:{x:f,y:g}});K(a,i,{strokeWidth:.5,fill:"none"});var j=c.getScaledPath("TASK_TYPE_USER_3",{abspos:{x:f,y:g}});return K(a,j,{strokeWidth:.5,fill:"black"}),e},"cmmn:Task":function(a,b,c){var d=I(a,b.width,b.height,aa,c);return Q(a,b,"center-middle"),V(a,b),d},"cmmn:HumanTask":function(a,b,d){var e=U("cmmn:Task")(a,b,d),f=b.businessObject,g=f.definitionRef;if(g.isBlocking){var h=15,i=12,j=c.getScaledPath("TASK_TYPE_USER_1",{abspos:{x:h,y:i}});K(a,j,{strokeWidth:.5,fill:"none"});var k=c.getScaledPath("TASK_TYPE_USER_2",{abspos:{x:h,y:i}});K(a,k,{strokeWidth:.5,fill:"none"});var l=c.getScaledPath("TASK_TYPE_USER_3",{abspos:{x:h,y:i}});K(a,l,{strokeWidth:.5,fill:"black"})}else{var m=c.getScaledPath("TASK_TYPE_MANUAL",{abspos:{x:17,y:15}});K(a,m,{strokeWidth:1.25,fill:"white",stroke:"black"})}return Y(a,b),e},"cmmn:CaseTask":function(a,b,d){var e=U("cmmn:Task")(a,b,d),f=c.getScaledPath("TASK_TYPE_FOLDER",{abspos:{x:7,y:7}});return K(a,f,{strokeWidth:1.25,fill:"white",stroke:"black"}),e},"cmmn:ProcessTask":function(a,b,d){var e=U("cmmn:Task")(a,b,d),f=c.getScaledPath("TASK_TYPE_CHEVRON",{abspos:{x:5,y:5}});return K(a,f,{strokeWidth:1.25,fill:"white",stroke:"black"}),e},"cmmn:DecisionTask":function(a,b,d){var e=U("cmmn:Task")(a,b,d),f=c.getScaledPath("TASK_TYPE_BUSINESS_RULE_HEADER",{abspos:{x:8,y:8}});K(a,f,{strokeWidth:1,fill:"000"});var g=c.getScaledPath("TASK_TYPE_BUSINESS_RULE_MAIN",{abspos:{x:8,y:8}});return K(a,g,{strokeWidth:1}),e},"cmmn:CaseFileItem":function(a,b,d){var e=c.getScaledPath("DATA_OBJECT_PATH",{xScaleFactor:1,yScaleFactor:1,containerWidth:b.width,containerHeight:b.height,position:{mx:.474,my:.296}});return K(a,e,{fill:"white"})},"cmmn:TextAnnotation":function(a,b){var d={fill:"none",stroke:"none"},e=I(a,b.width,b.height,0,0,d),f=c.getScaledPath("TEXT_ANNOTATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:b.width,containerHeight:b.height,position:{mx:0,my:0}});K(a,f);var g=q(b).text||"";return P(a,g,{box:b,align:"left-middle",padding:5}),e},"cmmn:Association":function(a,b,c){var d=q(b);return c=h({strokeDasharray:"0.5, 5",strokeLinecap:"round",strokeLinejoin:"round"},c||{}),"One"!==d.associationDirection&&"Both"!==d.associationDirection||(c.markerEnd=e("association-end")),"Both"===d.associationDirection&&(c.markerStart=e("association-start")),N(a,b.waypoints,c)},StageMarker:function(a,b){var d=I(a,14,14,0,{strokeWidth:1,stroke:"black"});F(d,b.width/2-7,b.height-17);var e=o(b)?"MARKER_STAGE_COLLAPSED":"MARKER_STAGE_EXPANDED",f=c.getScaledPath(e,{xScaleFactor:1.5,yScaleFactor:1.5,containerWidth:b.width,containerHeight:b.height,position:{mx:(b.width/2-7)/b.width,my:(b.height-17)/b.height}});K(a,f)},RequiredMarker:function(a,b,d){var e=c.getScaledPath("MARKER_REQUIRED",{xScaleFactor:1,yScaleFactor:1,containerWidth:b.width,containerHeight:b.height,position:{mx:(b.width/2+d)/b.width,my:(b.height-17)/b.height}});K(a,e,{strokeWidth:3})},AutoCompleteMarker:function(a,b,c){var d=I(a,11,14,0,{strokeWidth:1,stroke:"black",fill:"black"});F(d,b.width/2+c+2,b.height-17)},ManualActivationMarker:function(a,b,d){var e=c.getScaledPath("MARKER_MANUAL_ACTIVATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:b.width,containerHeight:b.height,position:{mx:(b.width/2+d)/b.width,my:(b.height-17)/b.height}});K(a,e,{strokeWidth:1})},RepetitionMarker:function(a,b,d){var e=c.getScaledPath("MARKER_REPEATABLE",{xScaleFactor:1,yScaleFactor:1,containerWidth:b.width,containerHeight:b.height,position:{mx:(b.width/2+d)/b.width,my:(b.height-17)/b.height}});K(a,e)},PlanningTableMarker:function(a,b,d){var e=I(a,30,24,0,{strokeWidth:1.5,stroke:"black"});F(e,b.width/2-15,-17);var f=n(b),g=f?"MARKER_PLANNING_TABLE_COLLAPSED":"MARKER_PLANNING_TABLE_EXPANDED",h=c.getScaledPath(g,{xScaleFactor:1.5,yScaleFactor:1.5,containerWidth:b.width,containerHeight:b.height,position:{mx:(b.width/2-15)/b.width,my:-17/b.height}});K(a,h,{strokeWidth:1.5})},"cmmn:OnPart":function(a,b){var c=O(b),d=K(a,c,{strokeDasharray:"10, 5, 2, 5, 2, 5",strokeWidth:1.5});return d},"cmmn:PlanItemOnPart":function(a,b){return U("cmmn:OnPart")(a,b)},"cmmn:CaseFileItemOnPart":function(a,b){return U("cmmn:OnPart")(a,b)},"cmmn:EntryCriterion":function(a,b){return J(a,b.width,b.height,{fill:"white"})},"cmmn:ExitCriterion":function(a,b){return J(a,b.width,b.height,{fill:"black"})},"cmmndi:CMMNEdge":function(a,b){var c=q(b);if(c.cmmnElementRef)return U(c.cmmnElementRef.$type)(a,b);var d=O(b),e=K(a,d,{strokeDasharray:"3, 5",strokeWidth:1});return e},label:function(a,b){var c,d=T(a,b);try{c=d.getBBox()}catch(e){c={width:0,height:0,x:0}}return b.x=Math.ceil(b.x+b.width/2)-Math.ceil(c.width/2),b.width=Math.ceil(c.width),b.height=Math.ceil(c.height),C(d,{transform:"translate("+-1*c.x+",0)"}),d}};this.canRender=function(a){return y(a,"cmmn:CMMNElement")||y(a,"cmmndi:CMMNEdge")},this.drawShape=$,this.drawConnection=_,a.on("canvas.init",function(a){k(a.svg)})}var e=a("inherits"),f=a("lodash/lang/isArray"),g=a("lodash/lang/isObject"),h=a("lodash/object/assign"),i=a("diagram-js/lib/draw/BaseRenderer"),j=a("diagram-js/lib/util/Text"),k=a("../util/DiUtil"),l=a("../util/ModelUtil"),m=k.isStandardEventVisible,n=k.isPlanningTableCollapsed,o=k.isCollapsed,p=l.isCasePlanModel,q=l.getBusinessObject,r=l.getDefinition,s=l.isRequired,t=l.isRepeatable,u=l.isManualActivation,v=l.isAutoComplete,w=l.hasPlanningTable,x=l.getName,y=l.is,z=l.getStandardEvent,A=a("min-dom/lib/query"),B=a("tiny-svg/lib/append"),C=a("tiny-svg/lib/attr"),D=a("tiny-svg/lib/classes"),E=a("tiny-svg/lib/create"),F=a("diagram-js/lib/util/SvgTransformUtil").translate,G=a("diagram-js/lib/util/RenderUtil").createLine;e(d,i),d.$inject=["eventBus","styles","pathMap"],b.exports=d},{"../util/DiUtil":129,"../util/ModelUtil":131,"diagram-js/lib/draw/BaseRenderer":306,"diagram-js/lib/util/RenderUtil":339,"diagram-js/lib/util/SvgTransformUtil":340,"diagram-js/lib/util/Text":341,inherits:154,"lodash/lang/isArray":230,"lodash/lang/isObject":234,"lodash/object/assign":237,"min-dom/lib/query":248,"tiny-svg/lib/append":259,"tiny-svg/lib/attr":261,"tiny-svg/lib/classes":262,"tiny-svg/lib/create":264}],121:[function(a,b,c){"use strict";function d(){var a="m {mx},{my} c 0.909,-0.845 1.594,-2.049 1.594,-3.385 0,-2.554 -1.805,-4.62199999 -4.357,-4.62199999 -2.55199998,0 -4.28799998,2.06799999 -4.28799998,4.62199999 0,1.348 0.974,2.562 1.89599998,3.405 -0.52899998,0.187 -5.669,2.097 -5.794,4.7560005 v 6.718 h 17 v -6.718 c 0,-2.2980005 -5.5279996,-4.5950005 -6.0509996,-4.7760005 zm -8,6 l 0,5.5 m 11,0 l 0,-5",b="m {mx},{my} m 2.162,1.009 c 0,2.4470005 -2.158,4.4310005 -4.821,4.4310005 -2.66499998,0 -4.822,-1.981 -4.822,-4.4310005",c="m {mx},{my} m -6.9,-3.80 c 0,0 2.25099998,-2.358 4.27399998,-1.177 2.024,1.181 4.221,1.537 4.124,0.965 -0.098,-0.57 -0.117,-3.79099999 -4.191,-4.13599999 -3.57499998,0.001 -4.20799998,3.36699999 -4.20699998,4.34799999 z";this.pathMap={TASK_TYPE_FOLDER:{d:"m {mx},{my} l18,0 l0,12 l-18,0 l0,-12 m 2,0 l3,-4 l5,0 l3,4"},TASK_TYPE_CHEVRON:{d:"m {mx},{my} l15,0 l6,6 l-6,6 l-15,0 l6,-6 l-6,-6"},TASK_TYPE_USER_1:{d:a},TASK_TYPE_USER_2:{d:b},TASK_TYPE_USER_3:{d:c},TASK_TYPE_MANUAL:{d:"m {mx},{my} c 0.234,-0.01 5.604,0.008 8.029,0.004 0.808,0 1.271,-0.172 1.417,-0.752 0.227,-0.898 -0.334,-1.314 -1.338,-1.316 -2.467,-0.01 -7.886,-0.004 -8.108,-0.004 -0.014,-0.079 0.016,-0.533 0,-0.61 0.195,-0.042 8.507,0.006 9.616,0.002 0.877,-0.007 1.35,-0.438 1.353,-1.208 0.003,-0.768 -0.479,-1.09 -1.35,-1.091 -2.968,-0.002 -9.619,-0.013 -9.619,-0.013 v -0.591 c 0,0 5.052,-0.016 7.225,-0.016 0.888,-0.002 1.354,-0.416 1.351,-1.193 -0.006,-0.761 -0.492,-1.196 -1.361,-1.196 -3.473,-0.005 -10.86,-0.003 -11.0829995,-0.003 -0.022,-0.047 -0.045,-0.094 -0.069,-0.139 0.3939995,-0.319 2.0409995,-1.626 2.4149995,-2.017 0.469,-0.4870005 0.519,-1.1650005 0.162,-1.6040005 -0.414,-0.511 -0.973,-0.5 -1.48,-0.236 -1.4609995,0.764 -6.5999995,3.6430005 -7.7329995,4.2710005 -0.9,0.499 -1.516,1.253 -1.882,2.19 -0.37000002,0.95 -0.17,2.01 -0.166,2.979 0.004,0.718 -0.27300002,1.345 -0.055,2.063 0.629,2.087 2.425,3.312 4.859,3.318 4.6179995,0.014 9.2379995,-0.139 13.8569995,-0.158 0.755,-0.004 1.171,-0.301 1.182,-1.033 0.012,-0.754 -0.423,-0.969 -1.183,-0.973 -1.778,-0.01 -5.824,-0.004 -6.04,-0.004 10e-4,-0.084 0.003,-0.586 10e-4,-0.67 z"},TASK_TYPE_BUSINESS_RULE_HEADER:{d:"m {mx},{my} 0,4 20,0 0,-4 z"},TASK_TYPE_BUSINESS_RULE_MAIN:{d:"m {mx},{my} 0,12 20,0 0,-12 zm 0,8 l 20,0 m -13,-4 l 0,8"},EVENT_TIMER_WH:{d:"M {mx},{my} l {e.x0},-{e.y0} m -{e.x0},{e.y0} l {e.x1},{e.y1} ",height:36,width:36,heightElements:[10,2],widthElements:[3,7]},EVENT_TIMER_LINE:{d:"M {mx},{my} m {e.x0},{e.y0} l -{e.x1},{e.y1} ",height:36,width:36,heightElements:[10,3],widthElements:[0,0]},EVENT_USER_1:{d:a,height:36,width:36,heightElements:[],widthElements:[]},EVENT_USER_2:{d:b,height:36,width:36,heightElements:[],widthElements:[]},EVENT_USER_3:{d:c,height:36,width:36,heightElements:[],widthElements:[]},MARKER_STAGE_EXPANDED:{d:"m{mx},{my} m 2,7 l 10,0",height:10,width:10,heightElements:[],widthElements:[]},MARKER_STAGE_COLLAPSED:{d:"m{mx},{my} m 2,7 l 10,0 m -5,-5 l 0,10",height:10,width:10,heightElements:[],widthElements:[]},MARKER_REQUIRED:{d:"m{mx},{my} l 0,9 m 0,2 l0,3",height:14,width:3,heightElements:[],widthElements:[]},MARKER_MANUAL_ACTIVATION:{d:"m{mx}, {my} l 14,7 l -14,7 l 0,-14 z",height:14,width:14,heightElements:[],widthElements:[]},MARKER_REPEATABLE:{d:"m{mx},{my} m 3,0 l 0,14 m 6,-14 l 0,14 m -10,-10 l 14,0 m -14,6 l 14,0",height:14,width:14,heightElements:[],widthElements:[]},MARKER_PLANNING_TABLE_EXPANDED:{d:"m{mx},{my} m 0,12 l 30,0 m -20,-12 l 0, 24 m 10, -24 l 0, 24 m -10, -6 l 10,0",height:24,width:30,heightElements:[],widthElements:[]},MARKER_PLANNING_TABLE_COLLAPSED:{d:"m{mx},{my} m 0,12 l 30,0 m -20,-12 l 0, 24 m 10, -24 l 0, 24 m -10, -6 l 10,0 m -5, -6 l 0,12",height:10,width:10,heightElements:[],widthElements:[]},DATA_OBJECT_PATH:{d:"m 0,0 {e.x1},0 {e.x0},{e.y0} 0,{e.y1} -{e.x2},0 0,-{e.y2} {e.x1},0 0,{e.y0} {e.x0},0",height:61,width:51,heightElements:[10,50,60],widthElements:[10,40,50,60]},TEXT_ANNOTATION:{d:"m {mx}, {my} m 10,0 l -10,0 l 0,{e.y0} l 10,0",height:30,width:10,heightElements:[30],widthElements:[10]}},this.getRawPath=function(a){return this.pathMap[a].d},this.getScaledPath=function(a,b){var c,d,e=this.pathMap[a];b.abspos?(c=b.abspos.x,d=b.abspos.y):(c=b.containerWidth*b.position.mx,d=b.containerHeight*b.position.my);var g={};if(b.position){for(var h=b.containerHeight/e.height*b.yScaleFactor,i=b.containerWidth/e.width*b.xScaleFactor,j=0;j<e.heightElements.length;j++)g["y"+j]=e.heightElements[j]*h;for(var k=0;k<e.widthElements.length;k++)g["x"+k]=e.widthElements[k]*i}var l=f(e.d,{mx:c,my:d,e:g});return l}}function e(a,b,c){var d=c;return b.replace(h,function(a,b,c,e,f){b=b||e,d&&(b in d&&(d=d[b]),"function"==typeof d&&f&&(d=d()))}),d=(null==d||d==c?a:d)+""}function f(a,b){return String(a).replace(g,function(a,c){return e(a,c,b)})}b.exports=d;var g=/\{([^\}]+)\}/g,h=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g},{}],122:[function(a,b,c){b.exports={__init__:["cmmnRenderer"],cmmnRenderer:["type",a("./CmmnRenderer")],pathMap:["type",a("./PathMap")]}},{"./CmmnRenderer":120,"./PathMap":121}],123:[function(a,b,c){"use strict";function d(a,b){return a===b}function e(a,b){return d(f(a),f(b))}function f(a){return h(n(a),"cmmn:Case")}function g(a,b){var c=[];for("string"==typeof b&&(b=[b]);a;)a=a.$parent||a.parent,a&&(b?i(a,b)&&c.push(a):c.push(a));return c}function h(a,b){for("string"==typeof b&&(b=[b]);a=a.$parent||a.parent;){if(!b)return a;if(i(a,b))return a}return null}function i(a,b){return k(b,function(b){return m(a,b)})}function j(a){return a instanceof o.Label}var k=a("lodash/collection/any"),l=a("../../../util/ModelUtil"),m=l.is,n=l.getBusinessObject,o=a("diagram-js/lib/model");b.exports.isSame=d,b.exports.isSameCase=e,b.exports.getCase=f,b.exports.getParents=g,b.exports.getParent=h,b.exports.isAny=i,b.exports.isLabel=j},{"../../../util/ModelUtil":131,"diagram-js/lib/model":324,"lodash/collection/any":156}],124:[function(a,b,c){"use strict";function d(a,b){return h({id:a.id,type:a.$type,businessObject:a},b)}function e(a){return i(a,function(a){return{x:a.x,y:a.y}})}function f(a,b,c){return new Error("element "+o(b)+" referenced by "+o(a)+"#"+c+" not yet drawn")}function g(a,b,c,d){this._eventBus=a,this._canvas=b,this._elementFactory=c,this._elementRegistry=d}var h=a("lodash/object/assign"),i=a("lodash/collection/map"),j=a("../util/LabelUtil"),k=a("../util/ModelUtil").is,l=j.hasExternalLabel,m=j.getExternalLabelBounds,n=a("../util/DiUtil").isCollapsed,o=a("./Util").elementToString;g.$inject=["eventBus","canvas","elementFactory","elementRegistry"],b.exports=g,g.prototype.root=function(a){var b=this._elementFactory.createRoot(d(a));return this._canvas.setRootElement(b),b},g.prototype.add=function(a,b){var c,f,g=a.di;if(g&&k(g,"cmmndi:CMMNShape")&&!this._getElement(a)){var h=n(a);f=b&&(b.hidden||b.collapsed);var i=a.di.bounds;c=this._elementFactory.createShape(d(a,{collapsed:h,hidden:f,x:Math.round(i.x),y:Math.round(i.y),width:Math.round(i.width),height:Math.round(i.height)})),k(a,"cmmn:Criterion")&&this._attachCriterion(a,c),this._canvas.addShape(c,b)}else{if(!(g&&k(g,"cmmndi:CMMNEdge")||k(a,"cmmndi:CMMNEdge")))throw new Error("unknown di "+o(g)+" for element "+o(a));var j=this._getSource(a),m=this._getTarget(a);f=b&&(b.hidden||b.collapsed)||j&&j.hidden||m&&m.hidden;var p=(a.di||{}).waypoint||a.waypoint;c=this._elementFactory.createConnection(d(a,{hidden:f,source:j,target:m,waypoints:e(p)})),this._canvas.addConnection(c,b)}return l(a)&&this.addLabel(a,c),this._eventBus.fire("cmmnElement.added",{element:c}),c},g.prototype._attachCriterion=function(a,b){var c=a.$parent;if(!c)throw new Error("missing "+o(a)+"$parent");var d=this._elementRegistry.get(c.id),e=d&&d.attachers;if(!d)throw f(a,c,"criterion");b.host=d,e||(d.attachers=e=[]),e.indexOf(b)===-1&&e.push(b)},g.prototype.addLabel=function(a,b){var c=m(a,b),e=this._elementFactory.createLabel(d(a,{id:a.id+"_label",labelTarget:b,type:"label",hidden:b.hidden,x:Math.round(c.x),y:Math.round(c.y),width:Math.round(c.width),height:Math.round(c.height)}));return this._canvas.addShape(e,b.parent)},g.prototype._getSource=function(a){var b=a.cmmnElementRef;if(b){if(k(b,"cmmn:OnPart"))return b.exitCriterionRef?this._getEnd(b,"exitCriterionRef"):this._getEnd(b,"sourceRef");if(k(b,"cmmn:Association"))return this._getEnd(b,"sourceRef")}if(k(a,"cmmndi:CMMNEdge"))return this._getEnd(a,"sourceCMMNElementRef")},g.prototype._getTarget=function(a){var b=a.cmmnElementRef;return b&&k(b,"cmmn:Association")?this._getEnd(b,"targetRef"):this._getEnd(a,"targetCMMNElementRef")},g.prototype._getEnd=function(a,b){var c=a[b],d=c&&this._getElement(c);if(d)return d;throw c?f(a,c,b):new Error(o(a)+"#"+b+"Ref not specified")},g.prototype._getElement=function(a){return this._elementRegistry.get(a.id)}},{"../util/DiUtil":129,"../util/LabelUtil":130,"../util/ModelUtil":131,"./Util":127,"lodash/collection/map":160,"lodash/object/assign":237}],125:[function(a,b,c){"use strict";function d(a){function b(a){return!!T[a.id]}function c(a){T[a.id]=a}function d(a){for(;a&&!i(a,"cmmn:Case");)a=a.$parent;return a}function g(b,c){return a.element(b,c)}function l(b,c){return a.root(b,c)}function m(b,c){try{return a.addItem(b),b.di&&g(b,c)}catch(d){n(d.message,{element:b,error:d}),console.error("failed to import "+h(b)),console.error(d)}}function n(b,c){a.error(b,c)}function o(a,b){return function(c){a(c,b)}}function p(a){var b=a.cmmnElementRef;if(b&&!i(a,"cmmndi:CMMNEdge"))if(b.di)n("multiple DI elements defined for "+h(b),{element:b});else{var c=d(b);c&&S.indexOf(c)===-1&&S.push(c),(i(b,"cmmn:TextAnnotation")||i(b,"cmmn:CaseFileItem"))&&U.push(b),k.bind(b,"di"),b.di=a}else if(i(a,"cmmndi:CMMNEdge")){var e=!0;if(q(a)||(e=!1,n("no target referenced in "+h(a),{element:a})),r(a)||(e=!1,n("no source referenced in "+h(a),{element:a})),e)if(i(b,"cmmn:Association"))V.push(a);else if(b)Q.push(function(b){s(a,b)});else{var f=a.sourceCMMNElementRef;R[f.id]=R[f.id]||[],R[f.id].push(a)}}else n("no cmmnElement referenced in "+h(a),{element:a})}function q(a){return i(a.cmmnElementRef,"cmmn:Association")?!!a.cmmnElementRef.targetRef:!!a.targetCMMNElementRef}function r(a){return i(a.cmmnElementRef,"cmmn:OnPart")?!(!a.cmmnElementRef.exitCriterionRef&&!a.cmmnElementRef.sourceRef):i(a.cmmnElementRef,"cmmn:Association")?!!a.cmmnElementRef.sourceRef:!!a.sourceCMMNElementRef;
}function s(a,b){g(a,b)}function t(a){u(a.diagramElements)}function u(a){e(a,v)}function v(a){p(a)}function w(a,b){var c=a.CMMNDI;if(c){var d=c.diagrams;if(b&&d.indexOf(b)===-1)throw new Error("diagram not part of cmmn:Definitions");!b&&d&&d.length&&(b=d[0]),t(b);var f=l(b,b);x(S,f),e(U,o(J)),e(V,o(M))}}function x(a,b){e(a,function(a){y(a,b),P=[],Q=[]})}function y(a,b){var c,d=a.casePlanModel;d&&(c=z(d,b)),A(P),e(Q,function(a){a(c)})}function z(a,b){var c=m(a,b);return e(a.exitCriteria,o(H,c)),B(a,c),I(a,c),c}function A(a){e(a,function(a){a()})}function B(a,b){F(a.planItems,b),i(a,"cmmn:Stage")&&C(a,b)}function C(a,b){D(a.planningTable,b)}function D(a,b){a&&e(a.tableItems,function(a){i(a,"cmmn:DiscretionaryItem")?E(a,b):i(a,"cmmn:PlanningTable")&&D(a,b)})}function E(a,d){b(a)||(c(a),G(a,d))}function F(a,b){e(a,o(G,b))}function G(a,b){var c=m(a,b);e(a.exitCriteria,o(H,b)),e(a.entryCriteria,o(H,b));var d=a.definitionRef;if(i(d,"cmmn:PlanFragment"))B(d,c),I(a,c);else if(i(d,"cmmn:HumanTask")){D(d.planningTable,b);var f=R[a.id];e(f,o(N,b)),delete R[a.id]}}function H(a,b){P.unshift(function(){m(a,b)})}function I(a,b){if(a.di&&a.di.bounds){var c=O(U,a);e(c,function(a){j.remove(U,a),J(a,b)})}}function J(a,b){i(a,"cmmn:TextAnnotation")?L(a,b):i(a,"cmmn:CaseFileItem")&&K(a,b)}function K(a,b){m(a,b)}function L(a,b){m(a,b)}function M(a,b){g(a,b)}function N(a,b){P.push(function(){g(a,b)})}function O(a,b){var c=b.di.bounds;return f(a,function(a){return a.di.bounds.x>c.x&&a.di.bounds.x<c.x+c.width&&a.di.bounds.y>c.y&&a.di.bounds.y<c.y+c.height})}var P=[],Q=[],R={},S=[],T={},U=[],V=[];return{handleDefinitions:w}}var e=a("lodash/collection/forEach"),f=a("lodash/collection/filter"),g=a("object-refs"),h=a("./Util").elementToString,i=a("../util/ModelUtil").is,j=a("diagram-js/lib/util/Collections"),k=new g({name:"cmmnElement",enumerable:!0},{name:"di"});b.exports=d},{"../util/ModelUtil":131,"./Util":127,"diagram-js/lib/util/Collections":331,"lodash/collection/filter":157,"lodash/collection/forEach":159,"object-refs":256}],126:[function(a,b,c){"use strict";function d(a,b,c){function d(a){var b={root:function(a){return g.root(a)},element:function(a,b){return g.add(a,b)},error:function(a,b){j.push({message:a,context:b})},addItem:function(a){i.add(a)}},c=new e(b);c.handleDefinitions(a)}var f,g=a.get("cmmnImporter"),h=a.get("eventBus"),i=a.get("itemRegistry"),j=[];h.fire("import.render.start",{definitions:b});try{d(b)}catch(k){f=k}h.fire("import.render.complete",{error:f,warnings:j}),c(f,j)}var e=a("./CmmnTreeWalker");b.exports.importCmmnDiagram=d},{"./CmmnTreeWalker":125}],127:[function(a,b,c){"use strict";b.exports.elementToString=function(a){return a?"<"+a.$type+(a.id?' id="'+a.id:"")+'" />':"<null>"}},{}],128:[function(a,b,c){b.exports={cmmnImporter:["type",a("./CmmnImporter")]}},{"./CmmnImporter":124}],129:[function(a,b,c){"use strict";var d=a("./ModelUtil").is,e=a("./ModelUtil").getBusinessObject,f=a("./ModelUtil").isCasePlanModel;b.exports.isCollapsed=function(a){if(!f(a)){a=e(a);var b=a.definitionRef;if(d(b,"cmmn:PlanFragment"))return!!(a&&a.di&&a.di.isCollapsed)}return!1},b.exports.isPlanningTableCollapsed=function(a){return a=e(a),!!(d(a,"cmmn:Stage")||a.definitionRef&&(d(a.definitionRef,"cmmn:Stage")||d(a.definitionRef,"cmmn:HumanTask")))&&(a.di&&a.di.isPlanningTableCollapsed)},b.exports.isStandardEventVisible=function(a){a=e(a);var b=a.cmmnElementRef;return!(!d(b,"cmmn:OnPart")||!a.isStandardEventVisible)}},{"./ModelUtil":131}],130:[function(a,b,c){"use strict";var d=a("../util/ModelUtil").is,e=a("lodash/object/assign"),f=b.exports.DEFAULT_LABEL_SIZE={width:90,height:20};b.exports.hasExternalLabel=function(a){return(d(a,"cmmn:PlanItem")||d(a,"cmmn:DiscretionaryItem"))&&(a=a.definitionRef),d(a,"cmmndi:CMMNEdge")&&a.cmmnElementRef&&d(a.cmmnElementRef,"cmmn:OnPart")&&(a=a.cmmnElementRef),d(a,"cmmn:EventListener")||d(a,"cmmn:OnPart")||d(a,"cmmn:CaseFileItem")};var g=b.exports.getWaypointsMid=function(a){var b=a.length/2-1,c=a[Math.floor(b)],d=a[Math.ceil(b+.01)];return{x:c.x+(d.x-c.x)/2,y:c.y+(d.y-c.y)/2}},h=b.exports.getExternalLabelMid=function(a){var b=a.businessObject,c=b.di;return!c&&d(b,"cmmndi:CMMNEdge")&&b.cmmnElementRef&&(c=b),b&&c&&c.waypoint?g(c.waypoint):{x:a.x+a.width/2,y:a.y+a.height+f.height/2}};b.exports.getExternalLabelBounds=function(a,b){var c,d,g,i=a.di||a,j=i.label;return j&&j.bounds?(g=j.bounds,d={width:Math.max(f.width,g.width),height:g.height},c={x:g.x+g.width/2,y:g.y+g.height/2}):(c=h(b),d=f),e({x:c.x-d.width/2,y:c.y-d.height/2},d)};var i=b.exports.hasLabelBounds=function(a){return a&&a.di&&a.di.label&&a.di.label.bounds};b.exports.getLabelBounds=function(a){if(i(a))return a.di.label.bounds}},{"../util/ModelUtil":131,"lodash/object/assign":237}],131:[function(a,b,c){"use strict";function d(a,b){return!(!a||"function"!=typeof a.$instanceOf||!a.$instanceOf(b))}function e(a,b){return d(f(a),b)}function f(a){return a&&a.businessObject?a.businessObject:a}function g(a){return a=f(a),e(a,"cmmn:Stage")&&a.$parent&&e(a.$parent,"cmmn:Case")}function h(a){var b=f(a);return e(a,"cmmn:PlanItemDefinition")||e(a,"cmmn:CaseFileItemDefinition")?b:b&&b.definitionRef}function i(a){var b=h(a);return b&&b.defaultControl}function j(a){return a=f(a),a&&a.itemControl}function k(a,b){var c=j(a),d=i(a);return c&&c[b]?c[b]:d&&d[b]}function l(a){return!!k(a,"requiredRule")}function m(a){return!!k(a,"repetitionRule")}function n(a){return!!k(a,"manualActivationRule")}function o(a){a=f(a);var b=h(a);return a.autoComplete||b&&b.autoComplete}function p(a){return a=f(a),a.planningTable||h(a)&&h(a).planningTable}function q(a){a=f(a),e(a,"cmmndi:CMMNEdge")&&a.cmmnElementRef&&(a=a.cmmnElementRef);var b=a.name;return b||a.definitionRef&&(b=a.definitionRef.name),b}function r(a){var b=f(a);return e(b,"cmmn:Sentry")?b:b&&b.sentryRef}function s(a){return a=f(a),a.cmmnElementRef&&a.cmmnElementRef.standardEvent}function t(a){return e(a,"cmmndi:CMMNEdge")&&(a=f(a).cmmnElementRef),e(a,"cmmn:OnPart")?e(a.exitCriterionRef,"cmmn:ExitCriterion")?["exit"]:u(a.sourceRef):[]}function u(a){if(a=f(a),e(a,"cmmn:CaseFileItem"))return["addChild","addReference","create","delete","removeChild","removeReference","replace","update"];if(e(a,"cmmn:PlanItem")||e(a,"cmmn:DiscretionaryItem")){var b=h(a);return e(b,"cmmn:EventListener")||e(b,"cmmn:Milestone")?["create","occur","resume","suspend","terminate"]:["complete","create","disable","enable","exit","fault","manualStart","parentResume","parentSuspend","reactivate","reenable","resume","start","suspend","terminate"]}return g(a)?["close","complete","create","fault","reactivate","suspend","terminate"]:[]}b.exports.is=e,b.exports.getBusinessObject=f,b.exports.isCasePlanModel=g,b.exports.getDefinition=h,b.exports.getDefaultControl=i,b.exports.getItemControl=j,b.exports.isRequired=l,b.exports.isRepeatable=m,b.exports.isManualActivation=n,b.exports.isAutoComplete=o,b.exports.hasPlanningTable=p,b.exports.getName=q,b.exports.getSentry=r,b.exports.getStandardEvent=s,b.exports.getStandardEvents=t,b.exports.getTransitions=u},{}],132:[function(a,b,c){"use strict";function d(a){return a.join(";")}function e(){f||(f=g(m),h.bind(f,".backdrop","click",function(a){document.body.removeChild(f)})),document.body.appendChild(f)}var f,g=a("min-dom/lib/domify"),h=a("min-dom/lib/delegate"),i=b.exports.BPMNIO_LOGO="iVBORw0KGgoAAAANSUhEUgAAADQAAAA0CAMAAADypuvZAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAADBQTFRFiMte9PrwldFwfcZPqtqN0+zEyOe1XLgjvuKncsJAZ70y6fXh3vDT////UrQV////G2zN+AAAABB0Uk5T////////////////////AOAjXRkAAAHDSURBVHjavJZJkoUgDEBJmAX8979tM8u3E6x20VlYJfFFMoL4vBDxATxZcakIOJTWSmxvKWVIkJ8jHvlRv1F2LFrVISCZI+tCtQx+XfewgVTfyY3plPiQEAzI3zWy+kR6NBhFBYeBuscJLOUuA2WVLpCjVIaFzrNQZArxAZKUQm6gsj37L9Cb7dnIBUKxENaaMJQqMpDXvSL+ktxdGRm2IsKgJGGPg7atwUG5CcFUEuSv+CwQqizTrvDTNXdMU2bMiDWZd8d7QIySWVRsb2vBBioxOFt4OinPBapL+neAb5KL5IJ8szOza2/DYoipUCx+CjO0Bpsv0V6mktNZ+k8rlABlWG0FrOpKYVo8DT3dBeLEjUBAj7moDogVii7nSS9QzZnFcOVBp1g2PyBQ3Vr5aIapN91VJy33HTJLC1iX2FY6F8gRdaAeIEfVONgtFCzZTmoLEdOjBDfsIOA6128gw3eu1shAajdZNAORxuQDJN5A5PbEG6gNIu24QJD5iNyRMZIr6bsHbCtCU/OaOaSvgkUyDMdDa1BXGf5HJ1To+/Ym6mCKT02Y+/Sa126ZKyd3jxhzpc1r8zVL6YM1Qy/kR4ABAFJ6iQUnivhAAAAAAElFTkSuQmCC",j=d(["z-index: 1001","position: fixed","top: 0","left: 0","right: 0","bottom: 0"]),k=d(["width: 100%","height: 100%","background: rgba(0,0,0,0.2)"]),l=d(["position: absolute","left: 50%","top: 40%","margin: 0 -130px","width: 260px","padding: 10px","background: white","border: solid 1px #AAA","border-radius: 3px","font-family: Helvetica, Arial, sans-serif","font-size: 14px","line-height: 1.2em"]),m='<div class="bio-powered-by-lightbox" style="'+j+'"><div class="backdrop" style="'+k+'"></div><div class="notice" style="'+l+'"><a href="http://bpmn.io" target="_blank" style="float: left; margin-right: 10px"><img src="data:image/png;base64,'+i+'"></a>Web-based tooling for BPMN, DMN and CMMN diagrams powered by <a href="http://bpmn.io" target="_blank">bpmn.io</a>.</div></div>';b.exports.open=e},{"min-dom/lib/delegate":245,"min-dom/lib/domify":246}],133:[function(a,b,c){b.exports=a("./lib/simple")},{"./lib/simple":135}],134:[function(a,b,c){"use strict";function d(a,b){h.call(this,a,b)}var e=a("lodash/lang/isString"),f=a("lodash/lang/isFunction"),g=a("lodash/object/assign"),h=a("moddle"),i=a("moddle-xml/lib/reader"),j=a("moddle-xml/lib/writer");d.prototype=Object.create(h.prototype),b.exports=d,d.prototype.fromXML=function(a,b,c,d){e(b)||(d=c,c=b,b="cmmn:Definitions"),f(c)&&(d=c,c={});var h=new i(g({model:this,lax:!0},c)),j=h.handler(b);h.fromXML(a,j,d)},d.prototype.toXML=function(a,b,c){f(b)&&(c=b,b={});var d=new j(b);try{var e=d.toXML(a);c(null,e)}catch(g){c(g)}}},{"lodash/lang/isFunction":231,"lodash/lang/isString":235,"lodash/object/assign":237,moddle:141,"moddle-xml/lib/reader":137,"moddle-xml/lib/writer":138}],135:[function(a,b,c){"use strict";var d=a("lodash/object/assign"),e=a("./cmmn-moddle"),f={cmmn:a("../resources/cmmn/json/cmmn.json"),cmmndi:a("../resources/cmmn/json/cmmndi.json"),dc:a("../resources/cmmn/json/dc.json"),di:a("../resources/cmmn/json/di.json")};b.exports=function(a,b){return new e(d({},f,a),b)}},{"../resources/cmmn/json/cmmn.json":150,"../resources/cmmn/json/cmmndi.json":151,"../resources/cmmn/json/dc.json":152,"../resources/cmmn/json/di.json":153,"./cmmn-moddle":134,"lodash/object/assign":237}],136:[function(a,b,c){"use strict";function d(a){return a.charAt(0).toUpperCase()+a.slice(1)}function e(a){return a.charAt(0).toLowerCase()+a.slice(1)}function f(a){return a.xml&&"lowerCase"===a.xml.tagAlias}function g(a){return a.xml&&a.xml.serialize}b.exports.aliasToName=function(a,b){return f(b)?d(a):a},b.exports.nameToAlias=function(a,b){return f(b)?e(a):a},b.exports.DEFAULT_NS_MAP={xsi:"http://www.w3.org/2001/XMLSchema-instance"};var h=b.exports.XSI_TYPE="xsi:type";b.exports.serializeAsType=function(a){return g(a)===h},b.exports.serializeAsProperty=function(a){return"property"===g(a)}},{}],137:[function(a,b,c){"use strict";function d(a){var b=a.attributes;return s(b,function(a,b,c){var d,e;return b.local?(e=A(b.name,b.prefix),d=e.name):d=b.prefix,a[d]=b.value,a},{})}function e(a,b,c){var d,e=A(b.value),f=a.ns[e.prefix||""],g=e.localName,h=f&&c.getPackage(f);h&&(d=h.xml&&h.xml.typePrefix,d&&0===g.indexOf(d)&&(g=g.slice(d.length)),b.value=h.prefix+":"+g)}function f(a,b,c){var d,g;if(d=a.uri||c){var h=b.getPackage(d);g=h?h.prefix:a.prefix,a.prefix=g,a.uri=d}t(a.attributes,function(c){c.uri===G&&"type"===c.local&&e(a,c,b),f(c,b,null)})}function g(a){return new Error(a)}function h(a){return a.$descriptor}function i(a){v(this,a),this.elementsById={},this.references=[],this.warnings=[],this.addReference=function(a){this.references.push(a)},this.addElement=function(a){if(!a)throw g("expected element");var b,c=this.elementsById,d=h(a),e=d.idProperty;if(e&&(b=a.get(e.name))){if(c[b])throw g("duplicate ID <"+b+">");c[b]=a}},this.addWarning=function(a){this.warnings.push(a)}}function j(){}function k(){}function l(){}function m(a,b){this.property=a,this.context=b}function n(a,b){this.element=b,this.propertyDesc=a}function o(){}function p(a,b,c){this.model=a,this.type=a.getType(b),this.context=c}function q(a,b,c){this.model=a,this.context=c}function r(a){a instanceof z&&(a={model:a}),v(this,{lax:!1},a)}var s=a("lodash/collection/reduce"),t=a("lodash/collection/forEach"),u=a("lodash/collection/find"),v=a("lodash/object/assign"),w=a("lodash/function/defer"),x=a("tiny-stack"),y=a("sax").parser,z=a("moddle"),A=a("moddle/lib/ns").parseName,B=a("moddle/lib/types"),C=B.coerceType,D=B.isSimple,E=a("./common"),F=E.XSI_TYPE,G=E.DEFAULT_NS_MAP.xsi,H=E.serializeAsType,I=E.aliasToName;j.prototype.handleEnd=function(){},j.prototype.handleText=function(){},j.prototype.handleNode=function(){},k.prototype=new j,k.prototype.handleNode=function(){return this},l.prototype=new j,l.prototype.handleText=function(a){this.body=(this.body||"")+a},m.prototype=new l,m.prototype.handleNode=function(a){if(this.element)throw g("expected no sub nodes");return this.element=this.createReference(a),this},m.prototype.handleEnd=function(){this.element.id=this.body},m.prototype.createReference=function(a){return{property:this.property.ns.name,id:""}},n.prototype=new l,n.prototype.handleEnd=function(){var a=this.body,b=this.element,c=this.propertyDesc;a=C(c.type,a),c.isMany?b.get(c.name).push(a):b.set(c.name,a)},o.prototype=Object.create(l.prototype),o.prototype.handleNode=function(a){var b=this,c=this.element;return c?b=this.handleChild(a):(c=this.element=this.createElement(a),this.context.addElement(c)),b},p.prototype=new o,p.prototype.addReference=function(a){this.context.addReference(a)},p.prototype.handleEnd=function(){var a=this.body,b=this.element,c=h(b),d=c.bodyProperty;d&&void 0!==a&&(a=C(d.type,a),b.set(d.name,a))},p.prototype.createElement=function(a){var b=d(a),c=this.type,e=h(c),f=this.context,g=new c({});return t(b,function(a,b){var c,d=e.propertiesByName[b];d&&d.isReference?d.isMany?(c=a.split(" "),t(c,function(a){f.addReference({element:g,property:d.ns.name,id:a})})):f.addReference({element:g,property:d.ns.name,id:a}):(d&&(a=C(d.type,a)),g.set(b,a))}),g},p.prototype.getPropertyForNode=function(a){var b,c,d,e=A(a.local,a.prefix),f=this.type,i=this.model,j=h(f),k=e.name,l=j.propertiesByName[k];if(l)return H(l)&&(d=a.attributes[F])?(b=d.value,c=i.getType(b),v({},l,{effectiveType:h(c).name})):l;var m=i.getPackage(e.prefix);if(m){if(b=e.prefix+":"+I(e.localName,j.$pkg),c=i.getType(b),l=u(j.properties,function(a){return!a.isVirtual&&!a.isReference&&!a.isAttribute&&c.hasType(a.type)}))return v({},l,{effectiveType:h(c).name})}else if(l=u(j.properties,function(a){return!a.isReference&&!a.isAttribute&&"Element"===a.type}))return l;throw g("unrecognized element <"+e.name+">")},p.prototype.toString=function(){return"ElementDescriptor["+h(this.type).name+"]"},p.prototype.valueHandler=function(a,b){return new n(a,b)},p.prototype.referenceHandler=function(a){return new m(a,this.context)},p.prototype.handler=function(a){return"Element"===a?new q(this.model,a,this.context):new p(this.model,a,this.context)},p.prototype.handleChild=function(a){var b,c,d,e;if(b=this.getPropertyForNode(a),d=this.element,c=b.effectiveType||b.type,D(c))return this.valueHandler(b,d);e=b.isReference?this.referenceHandler(b).handleNode(a):this.handler(c).handleNode(a);var f=e.element;return void 0!==f&&(b.isMany?d.get(b.name).push(f):d.set(b.name,f),b.isReference?(v(f,{element:d}),this.context.addReference(f)):f.$parent=d),e},q.prototype=Object.create(o.prototype),q.prototype.createElement=function(a){var b=a.name,c=a.prefix,d=a.ns[c],e=a.attributes;return this.model.createAny(b,d,e)},q.prototype.handleChild=function(a){var b,c=new q(this.model,"Element",this.context).handleNode(a),d=this.element,e=c.element;return void 0!==e&&(b=d.$children=d.$children||[],b.push(e),e.$parent=d),c},q.prototype.handleText=function(a){this.body=this.body||""+a},q.prototype.handleEnd=function(){this.body&&(this.element.$body=this.body)},r.prototype.fromXML=function(a,b,c){function d(){var a,b,c=q.elementsById,d=q.references;for(a=0;b=d[a];a++){var e=b.element,f=c[b.id],g=h(e).propertiesByName[b.property];if(f||q.addWarning({message:"unresolved reference <"+b.id+">",element:b.element,property:b.property,value:b.id}),g.isMany){var i=e.get(g.name),j=i.indexOf(b);j===-1&&(j=i.length),f?i[j]=f:i.splice(j,1)}else e.set(g.name,f)}}function e(a){s.pop().handleEnd()}function j(a){var b=s.peek();f(a,n);try{s.push(b.handleNode(a))}catch(c){var d=this.line,e=this.column,h="unparsable content <"+a.name+"> detected\n\tline: "+d+"\n\tcolumn: "+e+"\n\tnested error: "+c.message;if(!o)throw console.error("could not parse document"),console.error(c),g(h);q.addWarning({message:h,error:c}),console.warn("could not parse node"),console.warn(c),s.push(new k)}}function l(a){s.peek().handleText(a)}var m=b.rootHandler;b instanceof p?(m=b,b={}):"string"==typeof b?(m=this.handler(b),b={}):"string"==typeof m&&(m=this.handler(m));var n=this.model,o=this.lax,q=new i(v({},b,{rootHandler:m})),r=new y((!0),{xmlns:!0,trim:!0}),s=new x;m.context=q,s.push(m),r.onopentag=j,r.oncdata=r.ontext=l,r.onclosetag=e,r.onend=d,w(function(){var b;try{r.write(a).close()}catch(d){b=d}c(b,b?void 0:m.element,q)})},r.prototype.handler=function(a){return new p(this.model,a)},b.exports=r,b.exports.ElementHandler=p},{"./common":136,"lodash/collection/find":158,"lodash/collection/forEach":159,"lodash/collection/reduce":161,"lodash/function/defer":163,"lodash/object/assign":237,moddle:141,"moddle/lib/ns":146,"moddle/lib/types":149,sax:139,"tiny-stack":140}],138:[function(a,b,c){"use strict";function d(a){return v(a)?a:(a.prefix?a.prefix+":":"")+a.localName}function e(a){function b(b){return a.used[b.uri]}function c(a){var b="xmlns"+(a.prefix?":"+a.prefix:"");return{name:b,value:a.uri}}var d=[].concat(a.wellknown,a.custom);return t(w(d,b),c)}function f(a,b){return b.isGeneric?b.name:x({localName:B(b.ns.localName,b.$pkg)},a)}function g(a,b){return x({localName:b.ns.localName},a)}function h(a){var b=a.$descriptor;return w(b.properties,function(b){var c=b.name;if(b.isVirtual)return!1;if(!a.hasOwnProperty(c))return!1;var d=a[c];return d!==b["default"]&&(null!==d&&(!b.isMany||d.length))})}function i(a){return a=v(a)?a:""+a,a.replace(F,function(a){return"&#"+I[a]+";"})}function j(a){return w(a,function(a){return a.isAttr})}function k(a){return w(a,function(a){return!a.isAttr})}function l(a,b){this.ns=b}function m(){}function n(a){this.ns=a}function o(a,b){this.body=[],this.attrs=[],this.parent=a,this.ns=b}function p(a,b){o.call(this,a,b)}function q(){this.value="",this.write=function(a){this.value+=a}}function r(a,b){var c=[""];this.append=function(b){return a.write(b),this},this.appendNewLine=function(){return b&&a.write("\n"),this},this.appendIndent=function(){return b&&a.write(c.join("  ")),this},this.indent=function(){return c.push(""),this},this.unindent=function(){return c.pop(),this}}function s(a){function b(b,c){var d=c||new q,e=new r(d,a.format);if(a.preamble&&e.append(E),(new o).build(b).serializeTo(e),!c)return d.value}return a=x({format:!1,preamble:!0},a||{}),{toXML:b}}var t=a("lodash/collection/map"),u=a("lodash/collection/forEach"),v=a("lodash/lang/isString"),w=a("lodash/collection/filter"),x=a("lodash/object/assign"),y=a("moddle/lib/types"),z=a("moddle/lib/ns").parseName,A=a("./common"),B=A.nameToAlias,C=A.serializeAsType,D=A.serializeAsProperty,E='<?xml version="1.0" encoding="UTF-8"?>\n',F=/(<|>|'|"|&|\n\r|\n)/g,G=A.DEFAULT_NS_MAP,H=A.XSI_TYPE,I={"\n":"10","\n\r":"10",'"':"34","'":"39","<":"60",">":"62","&":"38"};l.prototype.build=function(a){return this.element=a,this},l.prototype.serializeTo=function(a){a.appendIndent().append("<"+d(this.ns)+">"+this.element.id+"</"+d(this.ns)+">").appendNewLine()},m.prototype.serializeValue=m.prototype.serializeTo=function(a){var b=this.escape;b&&a.append("<![CDATA["),a.append(this.value),b&&a.append("]]>")},m.prototype.build=function(a,b){return this.value=b,"String"===a.type&&b.search(F)!==-1&&(this.escape=!0),this},n.prototype=new m,n.prototype.serializeTo=function(a){a.appendIndent().append("<"+d(this.ns)+">"),this.serializeValue(a),a.append("</"+d(this.ns)+">").appendNewLine()},o.prototype.build=function(a){this.element=a;var b=this.parseNsAttributes(a);if(this.ns||(this.ns=this.nsTagName(a.$descriptor)),a.$descriptor.isGeneric)this.parseGeneric(a);else{var c=h(a);this.parseAttributes(j(c)),this.parseContainments(k(c)),this.parseGenericAttributes(a,b)}return this},o.prototype.nsTagName=function(a){var b=this.logNamespaceUsed(a.ns);return f(b,a)},o.prototype.nsPropertyTagName=function(a){var b=this.logNamespaceUsed(a.ns);return g(b,a)},o.prototype.isLocalNs=function(a){return a.uri===this.ns.uri},o.prototype.nsAttributeName=function(a){var b;if(b=v(a)?z(a):a.ns,a.inherited)return{localName:b.localName};var c=this.logNamespaceUsed(b);return this.isLocalNs(c)?{localName:b.localName}:x({localName:b.localName},c)},o.prototype.parseGeneric=function(a){var b=this,c=this.body,d=this.attrs;u(a,function(a,e){"$body"===e?c.push((new m).build({type:"String"},a)):"$children"===e?u(a,function(a){c.push(new o(b).build(a))}):0!==e.indexOf("$")&&d.push({name:e,value:i(a)})})},o.prototype.parseNsAttributes=function(a){var b=this,c=a.$attrs,d=a.$model,e=[];return u(c,function(a,c){var f,g=z(c);"xmlns"===g.prefix&&(f={prefix:g.localName,uri:a}),g.prefix||"xmlns"!==g.localName||(f={uri:a}),f?d.getPackage(a)?b.logNamespace(f,!0):b.logNamespaceUsed(f):e.push({name:c,value:a})}),e},o.prototype.parseGenericAttributes=function(a,b){var c=this;u(b,function(b){if(b.name!==H)try{c.addAttribute(c.nsAttributeName(b.name),b.value)}catch(d){console.warn("missing namespace information for ",b.name,"=",b.value,"on",a,d)}})},o.prototype.parseContainments=function(a){var b=this,c=this.body,d=this.element;u(a,function(a){var e=d.get(a.name),f=a.isReference,g=a.isMany,h=b.nsPropertyTagName(a);if(g||(e=[e]),a.isBody)c.push((new m).build(a,e[0]));else if(y.isSimple(a.type))u(e,function(b){c.push(new n(h).build(a,b))});else if(f)u(e,function(a){c.push(new l(b,h).build(a))});else{var i=C(a),j=D(a);u(e,function(a){var d;d=i?new p(b,h):j?new o(b,h):new o(b),c.push(d.build(a))})}})},o.prototype.getNamespaces=function(){var a=this.namespaces,b=this.parent;return a||(a=this.namespaces=b?b.getNamespaces():{prefixMap:{},uriMap:{},used:{},wellknown:[],custom:[]}),a},o.prototype.logNamespace=function(a,b){var c=this.getNamespaces(),d=a.uri,e=c.uriMap[d];return e||(c.uriMap[d]=a,b?c.wellknown.push(a):c.custom.push(a)),c.prefixMap[a.prefix]=d,a},o.prototype.logNamespaceUsed=function(a){var b=this.element,c=b.$model,d=this.getNamespaces(),e=a.prefix,f=G[e]||c&&(c.getPackage(e)||{}).uri,g=a.uri||d.prefixMap[e]||f;if(!g)throw new Error("no namespace uri given for prefix <"+a.prefix+">");return a=d.uriMap[g],a||(a=this.logNamespace({prefix:e,uri:g},f)),d.used[a.uri]||(d.used[a.uri]=a),a},o.prototype.parseAttributes=function(a){var b=this,c=this.element;u(a,function(a){var d=c.get(a.name);if(a.isReference)if(a.isMany){var e=[];u(d,function(a){e.push(a.id)}),d=e.join(" ")}else d=d.id;b.addAttribute(b.nsAttributeName(a),d)})},o.prototype.addAttribute=function(a,b){var c=this.attrs;v(b)&&(b=i(b)),c.push({name:a,value:b})},o.prototype.serializeAttributes=function(a){var b=this.attrs,c=!this.parent;c&&(b=e(this.namespaces).concat(b)),u(b,function(b){a.append(" ").append(d(b.name)).append('="').append(b.value).append('"')})},o.prototype.serializeTo=function(a){var b=this.body.length,c=!(1===this.body.length&&this.body[0]instanceof m);a.appendIndent().append("<"+d(this.ns)),this.serializeAttributes(a),a.append(b?">":" />"),b&&(c&&a.appendNewLine().indent(),u(this.body,function(b){b.serializeTo(a)}),c&&a.unindent().appendIndent(),a.append("</"+d(this.ns)+">")),a.appendNewLine()},p.prototype=new o,p.prototype.build=function(a){var b=a.$descriptor;this.element=a,this.typeNs=this.nsTagName(b);var c=this.typeNs,d=a.$model.getPackage(c.uri),e=d.xml&&d.xml.typePrefix||"";return this.addAttribute(this.nsAttributeName(H),(c.prefix?c.prefix+":":"")+e+b.ns.localName),o.prototype.build.call(this,a)},p.prototype.isLocalNs=function(a){return a.uri===this.typeNs.uri},b.exports=s},{"./common":136,"lodash/collection/filter":157,"lodash/collection/forEach":159,"lodash/collection/map":160,"lodash/lang/isString":235,"lodash/object/assign":237,"moddle/lib/ns":146,"moddle/lib/types":149}],139:[function(a,b,c){(function(b){!function(c){function d(a,b){if(!(this instanceof d))return new d(a,b);var e=this;f(e),e.q=e.c="",e.bufferCheckPosition=c.MAX_BUFFER_LENGTH,e.opt=b||{},e.opt.lowercase=e.opt.lowercase||e.opt.lowercasetags,e.looseCase=e.opt.lowercase?"toLowerCase":"toUpperCase",e.tags=[],e.closed=e.closedRoot=e.sawRoot=!1,e.tag=e.error=null,e.strict=!!a,e.noscript=!(!a&&!e.opt.noscript),e.state=S.BEGIN,e.ENTITIES=Object.create(c.ENTITIES),e.attribList=[],e.opt.xmlns&&(e.ns=Object.create(P)),e.trackPosition=e.opt.position!==!1,e.trackPosition&&(e.position=e.line=e.column=0),n(e,"onready")}function e(a){for(var b=Math.max(c.MAX_BUFFER_LENGTH,10),d=0,e=0,f=B.length;e<f;e++){var g=a[B[e]].length;if(g>b)switch(B[e]){case"textNode":p(a);break;case"cdata":o(a,"oncdata",a.cdata),a.cdata="";break;case"script":o(a,"onscript",a.script),a.script="";break;default:r(a,"Max buffer length exceeded: "+B[e])}d=Math.max(d,g)}a.bufferCheckPosition=c.MAX_BUFFER_LENGTH-d+a.position}function f(a){for(var b=0,c=B.length;b<c;b++)a[B[b]]=""}function g(a){p(a),""!==a.cdata&&(o(a,"oncdata",a.cdata),a.cdata=""),""!==a.script&&(o(a,"onscript",a.script),a.script="")}function h(a,b){return new i(a,b)}function i(a,b){if(!(this instanceof i))return new i(a,b);C.apply(this),this._parser=new d(a,b),this.writable=!0,this.readable=!0;var c=this;this._parser.onend=function(){c.emit("end")},this._parser.onerror=function(a){c.emit("error",a),c._parser.error=null},this._decoder=null,E.forEach(function(a){Object.defineProperty(c,"on"+a,{get:function(){return c._parser["on"+a]},set:function(b){return b?void c.on(a,b):(c.removeAllListeners(a),c._parser["on"+a]=b)},enumerable:!0,configurable:!1})})}function j(a){return a.split("").reduce(function(a,b){return a[b]=!0,a},{})}function k(a){return"[object RegExp]"===Object.prototype.toString.call(a)}function l(a,b){return k(a)?!!b.match(a):a[b]}function m(a,b){return!l(a,b)}function n(a,b,c){a[b]&&a[b](c)}function o(a,b,c){a.textNode&&p(a),n(a,b,c)}function p(a){a.textNode=q(a.opt,a.textNode),a.textNode&&n(a,"ontext",a.textNode),a.textNode=""}function q(a,b){return a.trim&&(b=b.trim()),a.normalize&&(b=b.replace(/\s+/g," ")),b}function r(a,b){return p(a),a.trackPosition&&(b+="\nLine: "+a.line+"\nColumn: "+a.column+"\nChar: "+a.c),b=new Error(b),a.error=b,n(a,"onerror",b),a}function s(a){return a.closedRoot||t(a,"Unclosed root tag"),a.state!==S.BEGIN&&a.state!==S.TEXT&&r(a,"Unexpected end"),p(a),a.c="",a.closed=!0,n(a,"onend"),d.call(a,a.strict,a.opt),a}function t(a,b){if("object"!=typeof a||!(a instanceof d))throw new Error("bad call to strictFail");a.strict&&r(a,b)}function u(a){a.strict||(a.tagName=a.tagName[a.looseCase]());var b=a.tags[a.tags.length-1]||a,c=a.tag={name:a.tagName,attributes:{}};a.opt.xmlns&&(c.ns=b.ns),a.attribList.length=0}function v(a,b){var c=a.indexOf(":"),d=c<0?["",a]:a.split(":"),e=d[0],f=d[1];return b&&"xmlns"===a&&(e="xmlns",f=""),{prefix:e,local:f}}function w(a){if(a.strict||(a.attribName=a.attribName[a.looseCase]()),a.attribList.indexOf(a.attribName)!==-1||a.tag.attributes.hasOwnProperty(a.attribName))return a.attribName=a.attribValue="";if(a.opt.xmlns){var b=v(a.attribName,!0),c=b.prefix,d=b.local;if("xmlns"===c)if("xml"===d&&a.attribValue!==N)t(a,"xml: prefix must be bound to "+N+"\nActual: "+a.attribValue);else if("xmlns"===d&&a.attribValue!==O)t(a,"xmlns: prefix must be bound to "+O+"\nActual: "+a.attribValue);else{var e=a.tag,f=a.tags[a.tags.length-1]||a;e.ns===f.ns&&(e.ns=Object.create(f.ns)),e.ns[d]=a.attribValue}a.attribList.push([a.attribName,a.attribValue])}else a.tag.attributes[a.attribName]=a.attribValue,o(a,"onattribute",{name:a.attribName,value:a.attribValue});a.attribName=a.attribValue=""}function x(a,b){if(a.opt.xmlns){var c=a.tag,d=v(a.tagName);c.prefix=d.prefix,c.local=d.local,c.uri=c.ns[d.prefix]||"",c.prefix&&!c.uri&&(t(a,"Unbound namespace prefix: "+JSON.stringify(a.tagName)),c.uri=d.prefix);var e=a.tags[a.tags.length-1]||a;c.ns&&e.ns!==c.ns&&Object.keys(c.ns).forEach(function(b){o(a,"onopennamespace",{prefix:b,uri:c.ns[b]})});for(var f=0,g=a.attribList.length;f<g;f++){var h=a.attribList[f],i=h[0],j=h[1],k=v(i,!0),l=k.prefix,m=k.local,n=""==l?"":c.ns[l]||"",p={name:i,value:j,prefix:l,local:m,uri:n};l&&"xmlns"!=l&&!n&&(t(a,"Unbound namespace prefix: "+JSON.stringify(l)),p.uri=l),a.tag.attributes[i]=p,o(a,"onattribute",p)}a.attribList.length=0}a.tag.isSelfClosing=!!b,a.sawRoot=!0,a.tags.push(a.tag),o(a,"onopentag",a.tag),b||(a.noscript||"script"!==a.tagName.toLowerCase()?a.state=S.TEXT:a.state=S.SCRIPT,a.tag=null,a.tagName=""),a.attribName=a.attribValue="",a.attribList.length=0}function y(a){if(!a.tagName)return t(a,"Weird empty close tag."),a.textNode+="</>",void(a.state=S.TEXT);if(a.script){if("script"!==a.tagName)return a.script+="</"+a.tagName+">",a.tagName="",void(a.state=S.SCRIPT);o(a,"onscript",a.script),a.script=""}var b=a.tags.length,c=a.tagName;a.strict||(c=c[a.looseCase]());for(var d=c;b--;){var e=a.tags[b];if(e.name===d)break;t(a,"Unexpected close tag")}if(b<0)return t(a,"Unmatched closing tag: "+a.tagName),a.textNode+="</"+a.tagName+">",void(a.state=S.TEXT);a.tagName=c;for(var f=a.tags.length;f-- >b;){var g=a.tag=a.tags.pop();a.tagName=a.tag.name,o(a,"onclosetag",a.tagName);var h={};for(var i in g.ns)h[i]=g.ns[i];var j=a.tags[a.tags.length-1]||a;a.opt.xmlns&&g.ns!==j.ns&&Object.keys(g.ns).forEach(function(b){var c=g.ns[b];o(a,"onclosenamespace",{prefix:b,uri:c})})}0===b&&(a.closedRoot=!0),a.tagName=a.attribValue=a.attribName="",a.attribList.length=0,a.state=S.TEXT}function z(a){var b,c=a.entity,d=c.toLowerCase(),e="";return a.ENTITIES[c]?a.ENTITIES[c]:a.ENTITIES[d]?a.ENTITIES[d]:(c=d,"#"===c.charAt(0)&&("x"===c.charAt(1)?(c=c.slice(2),b=parseInt(c,16),e=b.toString(16)):(c=c.slice(1),b=parseInt(c,10),e=b.toString(10))),c=c.replace(/^0+/,""),e.toLowerCase()!==c?(t(a,"Invalid character entity"),"&"+a.entity+";"):String.fromCodePoint(b))}function A(a){var b=this;if(this.error)throw this.error;if(b.closed)return r(b,"Cannot write after close. Assign an onready handler.");if(null===a)return s(b);for(var c=0,d="";b.c=d=a.charAt(c++);)switch(b.trackPosition&&(b.position++,"\n"===d?(b.line++,b.column=0):b.column++),b.state){case S.BEGIN:"<"===d?(b.state=S.OPEN_WAKA,b.startTagPosition=b.position):m(F,d)&&(t(b,"Non-whitespace before first tag."),b.textNode=d,b.state=S.TEXT);continue;case S.TEXT:if(b.sawRoot&&!b.closedRoot){for(var f=c-1;d&&"<"!==d&&"&"!==d;)d=a.charAt(c++),d&&b.trackPosition&&(b.position++,"\n"===d?(b.line++,b.column=0):b.column++);b.textNode+=a.substring(f,c-1)}"<"===d?(b.state=S.OPEN_WAKA,b.startTagPosition=b.position):(!m(F,d)||b.sawRoot&&!b.closedRoot||t(b,"Text data outside of root node."),"&"===d?b.state=S.TEXT_ENTITY:b.textNode+=d);continue;case S.SCRIPT:"<"===d?b.state=S.SCRIPT_ENDING:b.script+=d;continue;case S.SCRIPT_ENDING:"/"===d?b.state=S.CLOSE_TAG:(b.script+="<"+d,b.state=S.SCRIPT);continue;case S.OPEN_WAKA:if("!"===d)b.state=S.SGML_DECL,b.sgmlDecl="";else if(l(F,d));else if(l(Q,d))b.state=S.OPEN_TAG,b.tagName=d;else if("/"===d)b.state=S.CLOSE_TAG,b.tagName="";else if("?"===d)b.state=S.PROC_INST,b.procInstName=b.procInstBody="";else{if(t(b,"Unencoded <"),b.startTagPosition+1<b.position){var g=b.position-b.startTagPosition;d=new Array(g).join(" ")+d}b.textNode+="<"+d,b.state=S.TEXT}continue;case S.SGML_DECL:(b.sgmlDecl+d).toUpperCase()===L?(o(b,"onopencdata"),b.state=S.CDATA,b.sgmlDecl="",b.cdata=""):b.sgmlDecl+d==="--"?(b.state=S.COMMENT,b.comment="",b.sgmlDecl=""):(b.sgmlDecl+d).toUpperCase()===M?(b.state=S.DOCTYPE,(b.doctype||b.sawRoot)&&t(b,"Inappropriately located doctype declaration"),
b.doctype="",b.sgmlDecl=""):">"===d?(o(b,"onsgmldeclaration",b.sgmlDecl),b.sgmlDecl="",b.state=S.TEXT):l(I,d)?(b.state=S.SGML_DECL_QUOTED,b.sgmlDecl+=d):b.sgmlDecl+=d;continue;case S.SGML_DECL_QUOTED:d===b.q&&(b.state=S.SGML_DECL,b.q=""),b.sgmlDecl+=d;continue;case S.DOCTYPE:">"===d?(b.state=S.TEXT,o(b,"ondoctype",b.doctype),b.doctype=!0):(b.doctype+=d,"["===d?b.state=S.DOCTYPE_DTD:l(I,d)&&(b.state=S.DOCTYPE_QUOTED,b.q=d));continue;case S.DOCTYPE_QUOTED:b.doctype+=d,d===b.q&&(b.q="",b.state=S.DOCTYPE);continue;case S.DOCTYPE_DTD:b.doctype+=d,"]"===d?b.state=S.DOCTYPE:l(I,d)&&(b.state=S.DOCTYPE_DTD_QUOTED,b.q=d);continue;case S.DOCTYPE_DTD_QUOTED:b.doctype+=d,d===b.q&&(b.state=S.DOCTYPE_DTD,b.q="");continue;case S.COMMENT:"-"===d?b.state=S.COMMENT_ENDING:b.comment+=d;continue;case S.COMMENT_ENDING:"-"===d?(b.state=S.COMMENT_ENDED,b.comment=q(b.opt,b.comment),b.comment&&o(b,"oncomment",b.comment),b.comment=""):(b.comment+="-"+d,b.state=S.COMMENT);continue;case S.COMMENT_ENDED:">"!==d?(t(b,"Malformed comment"),b.comment+="--"+d,b.state=S.COMMENT):b.state=S.TEXT;continue;case S.CDATA:"]"===d?b.state=S.CDATA_ENDING:b.cdata+=d;continue;case S.CDATA_ENDING:"]"===d?b.state=S.CDATA_ENDING_2:(b.cdata+="]"+d,b.state=S.CDATA);continue;case S.CDATA_ENDING_2:">"===d?(b.cdata&&o(b,"oncdata",b.cdata),o(b,"onclosecdata"),b.cdata="",b.state=S.TEXT):"]"===d?b.cdata+="]":(b.cdata+="]]"+d,b.state=S.CDATA);continue;case S.PROC_INST:"?"===d?b.state=S.PROC_INST_ENDING:l(F,d)?b.state=S.PROC_INST_BODY:b.procInstName+=d;continue;case S.PROC_INST_BODY:if(!b.procInstBody&&l(F,d))continue;"?"===d?b.state=S.PROC_INST_ENDING:b.procInstBody+=d;continue;case S.PROC_INST_ENDING:">"===d?(o(b,"onprocessinginstruction",{name:b.procInstName,body:b.procInstBody}),b.procInstName=b.procInstBody="",b.state=S.TEXT):(b.procInstBody+="?"+d,b.state=S.PROC_INST_BODY);continue;case S.OPEN_TAG:l(R,d)?b.tagName+=d:(u(b),">"===d?x(b):"/"===d?b.state=S.OPEN_TAG_SLASH:(m(F,d)&&t(b,"Invalid character in tag name"),b.state=S.ATTRIB));continue;case S.OPEN_TAG_SLASH:">"===d?(x(b,!0),y(b)):(t(b,"Forward-slash in opening tag not followed by >"),b.state=S.ATTRIB);continue;case S.ATTRIB:if(l(F,d))continue;">"===d?x(b):"/"===d?b.state=S.OPEN_TAG_SLASH:l(Q,d)?(b.attribName=d,b.attribValue="",b.state=S.ATTRIB_NAME):t(b,"Invalid attribute name");continue;case S.ATTRIB_NAME:"="===d?b.state=S.ATTRIB_VALUE:">"===d?(t(b,"Attribute without value"),b.attribValue=b.attribName,w(b),x(b)):l(F,d)?b.state=S.ATTRIB_NAME_SAW_WHITE:l(R,d)?b.attribName+=d:t(b,"Invalid attribute name");continue;case S.ATTRIB_NAME_SAW_WHITE:if("="===d)b.state=S.ATTRIB_VALUE;else{if(l(F,d))continue;t(b,"Attribute without value"),b.tag.attributes[b.attribName]="",b.attribValue="",o(b,"onattribute",{name:b.attribName,value:""}),b.attribName="",">"===d?x(b):l(Q,d)?(b.attribName=d,b.state=S.ATTRIB_NAME):(t(b,"Invalid attribute name"),b.state=S.ATTRIB)}continue;case S.ATTRIB_VALUE:if(l(F,d))continue;l(I,d)?(b.q=d,b.state=S.ATTRIB_VALUE_QUOTED):(t(b,"Unquoted attribute value"),b.state=S.ATTRIB_VALUE_UNQUOTED,b.attribValue=d);continue;case S.ATTRIB_VALUE_QUOTED:if(d!==b.q){"&"===d?b.state=S.ATTRIB_VALUE_ENTITY_Q:b.attribValue+=d;continue}w(b),b.q="",b.state=S.ATTRIB_VALUE_CLOSED;continue;case S.ATTRIB_VALUE_CLOSED:l(F,d)?b.state=S.ATTRIB:">"===d?x(b):"/"===d?b.state=S.OPEN_TAG_SLASH:l(Q,d)?(t(b,"No whitespace between attributes"),b.attribName=d,b.attribValue="",b.state=S.ATTRIB_NAME):t(b,"Invalid attribute name");continue;case S.ATTRIB_VALUE_UNQUOTED:if(m(K,d)){"&"===d?b.state=S.ATTRIB_VALUE_ENTITY_U:b.attribValue+=d;continue}w(b),">"===d?x(b):b.state=S.ATTRIB;continue;case S.CLOSE_TAG:if(b.tagName)">"===d?y(b):l(R,d)?b.tagName+=d:b.script?(b.script+="</"+b.tagName,b.tagName="",b.state=S.SCRIPT):(m(F,d)&&t(b,"Invalid tagname in closing tag"),b.state=S.CLOSE_TAG_SAW_WHITE);else{if(l(F,d))continue;m(Q,d)?b.script?(b.script+="</"+d,b.state=S.SCRIPT):t(b,"Invalid tagname in closing tag."):b.tagName=d}continue;case S.CLOSE_TAG_SAW_WHITE:if(l(F,d))continue;">"===d?y(b):t(b,"Invalid characters in closing tag");continue;case S.TEXT_ENTITY:case S.ATTRIB_VALUE_ENTITY_Q:case S.ATTRIB_VALUE_ENTITY_U:switch(b.state){case S.TEXT_ENTITY:var h=S.TEXT,i="textNode";break;case S.ATTRIB_VALUE_ENTITY_Q:var h=S.ATTRIB_VALUE_QUOTED,i="attribValue";break;case S.ATTRIB_VALUE_ENTITY_U:var h=S.ATTRIB_VALUE_UNQUOTED,i="attribValue"}";"===d?(b[i]+=z(b),b.entity="",b.state=h):l(J,d)?b.entity+=d:(t(b,"Invalid character entity"),b[i]+="&"+b.entity+d,b.entity="",b.state=h);continue;default:throw new Error(b,"Unknown state: "+b.state)}return b.position>=b.bufferCheckPosition&&e(b),b}c.parser=function(a,b){return new d(a,b)},c.SAXParser=d,c.SAXStream=i,c.createStream=h,c.MAX_BUFFER_LENGTH=65536;var B=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];c.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(a){function b(){this.__proto__=a}return b.prototype=a,new b}),Object.getPrototypeOf||(Object.getPrototypeOf=function(a){return a.__proto__}),Object.keys||(Object.keys=function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b}),d.prototype={end:function(){s(this)},write:A,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){g(this)}};try{var C=a("stream").Stream}catch(D){var C=function(){}}var E=c.EVENTS.filter(function(a){return"error"!==a&&"end"!==a});i.prototype=Object.create(C.prototype,{constructor:{value:i}}),i.prototype.write=function(c){if("function"==typeof b&&"function"==typeof b.isBuffer&&b.isBuffer(c)){if(!this._decoder){var d=a("string_decoder").StringDecoder;this._decoder=new d("utf8")}c=this._decoder.write(c)}return this._parser.write(c.toString()),this.emit("data",c),!0},i.prototype.end=function(a){return a&&a.length&&this.write(a),this._parser.end(),!0},i.prototype.on=function(a,b){var c=this;return c._parser["on"+a]||E.indexOf(a)===-1||(c._parser["on"+a]=function(){var b=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);b.splice(0,0,a),c.emit.apply(c,b)}),C.prototype.on.call(c,a,b)};var F="\r\n\t ",G="0124356789",H="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",I="'\"",J=G+H+"#",K=F+">",L="[CDATA[",M="DOCTYPE",N="http://www.w3.org/XML/1998/namespace",O="http://www.w3.org/2000/xmlns/",P={xml:N,xmlns:O};F=j(F),G=j(G),H=j(H);var Q=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,R=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;I=j(I),J=j(J),K=j(K);var S=0;c.STATE={BEGIN:S++,TEXT:S++,TEXT_ENTITY:S++,OPEN_WAKA:S++,SGML_DECL:S++,SGML_DECL_QUOTED:S++,DOCTYPE:S++,DOCTYPE_QUOTED:S++,DOCTYPE_DTD:S++,DOCTYPE_DTD_QUOTED:S++,COMMENT_STARTING:S++,COMMENT:S++,COMMENT_ENDING:S++,COMMENT_ENDED:S++,CDATA:S++,CDATA_ENDING:S++,CDATA_ENDING_2:S++,PROC_INST:S++,PROC_INST_BODY:S++,PROC_INST_ENDING:S++,OPEN_TAG:S++,OPEN_TAG_SLASH:S++,ATTRIB:S++,ATTRIB_NAME:S++,ATTRIB_NAME_SAW_WHITE:S++,ATTRIB_VALUE:S++,ATTRIB_VALUE_QUOTED:S++,ATTRIB_VALUE_CLOSED:S++,ATTRIB_VALUE_UNQUOTED:S++,ATTRIB_VALUE_ENTITY_Q:S++,ATTRIB_VALUE_ENTITY_U:S++,CLOSE_TAG:S++,CLOSE_TAG_SAW_WHITE:S++,SCRIPT:S++,SCRIPT_ENDING:S++},c.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(c.ENTITIES).forEach(function(a){var b=c.ENTITIES[a],d="number"==typeof b?String.fromCharCode(b):b;c.ENTITIES[a]=d});for(var S in c.STATE)c.STATE[c.STATE[S]]=S;S=c.STATE,String.fromCodePoint||!function(){var a=String.fromCharCode,b=Math.floor,c=function(){var c,d,e=16384,f=[],g=-1,h=arguments.length;if(!h)return"";for(var i="";++g<h;){var j=Number(arguments[g]);if(!isFinite(j)||j<0||j>1114111||b(j)!=j)throw RangeError("Invalid code point: "+j);j<=65535?f.push(j):(j-=65536,c=(j>>10)+55296,d=j%1024+56320,f.push(c,d)),(g+1==h||f.length>e)&&(i+=a.apply(null,f),f.length=0)}return i};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:c,configurable:!0,writable:!0}):String.fromCodePoint=c}()}("undefined"==typeof c?sax={}:c)}).call(this,a("buffer").Buffer)},{buffer:272,stream:298,string_decoder:299}],140:[function(a,b,c){!function(a){"use strict";function d(){this.data=[null],this.top=0}function e(){return new d}d.prototype.clear=function(){return this.data=[null],this.top=0,this},d.prototype.length=function(){return this.top},d.prototype.peek=function(){return this.data[this.top]},d.prototype.pop=function(){return this.top>0?(this.top--,this.data.pop()):void 0},d.prototype.push=function(a){return this.data[++this.top]=a,this},"undefined"!=typeof c?b.exports=e:"function"==typeof define?define(function(){return e}):a.stack=e}(this)},{}],141:[function(a,b,c){b.exports=a("./lib/moddle")},{"./lib/moddle":145}],142:[function(a,b,c){"use strict";function d(){}d.prototype.get=function(a){return this.$model.properties.get(this,a)},d.prototype.set=function(a,b){this.$model.properties.set(this,a,b)},b.exports=d},{}],143:[function(a,b,c){"use strict";function d(a){this.ns=a,this.name=a.name,this.allTypes=[],this.properties=[],this.propertiesByName={}}var e=a("lodash/object/pick"),f=a("lodash/object/assign"),g=a("lodash/collection/forEach"),h=a("./ns").parseName;b.exports=d,d.prototype.build=function(){return e(this,["ns","name","allTypes","properties","propertiesByName","bodyProperty","idProperty"])},d.prototype.addProperty=function(a,b,c){"boolean"==typeof b&&(c=b,b=void 0),this.addNamedProperty(a,c!==!1);var d=this.properties;void 0!==b?d.splice(b,0,a):d.push(a)},d.prototype.replaceProperty=function(a,b,c){var d=a.ns,e=this.properties,f=this.propertiesByName,g=a.name!==b.name;if(a.isId){if(!b.isId)throw new Error("property <"+b.ns.name+"> must be id property to refine <"+a.ns.name+">");this.setIdProperty(b,!1)}if(a.isBody){if(!b.isBody)throw new Error("property <"+b.ns.name+"> must be body property to refine <"+a.ns.name+">");this.setBodyProperty(b,!1)}var h=e.indexOf(a);if(h===-1)throw new Error("property <"+d.name+"> not found in property list");e.splice(h,1),this.addProperty(b,c?void 0:h,g),f[d.name]=f[d.localName]=b},d.prototype.redefineProperty=function(a,b,c){var d=a.ns.prefix,e=b.split("#"),f=h(e[0],d),g=h(e[1],f.prefix).name,i=this.propertiesByName[g];if(!i)throw new Error("refined property <"+g+"> not found");this.replaceProperty(i,a,c),delete a.redefines},d.prototype.addNamedProperty=function(a,b){var c=a.ns,d=this.propertiesByName;b&&(this.assertNotDefined(a,c.name),this.assertNotDefined(a,c.localName)),d[c.name]=d[c.localName]=a},d.prototype.removeNamedProperty=function(a){var b=a.ns,c=this.propertiesByName;delete c[b.name],delete c[b.localName]},d.prototype.setBodyProperty=function(a,b){if(b&&this.bodyProperty)throw new Error("body property defined multiple times (<"+this.bodyProperty.ns.name+">, <"+a.ns.name+">)");this.bodyProperty=a},d.prototype.setIdProperty=function(a,b){if(b&&this.idProperty)throw new Error("id property defined multiple times (<"+this.idProperty.ns.name+">, <"+a.ns.name+">)");this.idProperty=a},d.prototype.assertNotDefined=function(a,b){var c=a.name,d=this.propertiesByName[c];if(d)throw new Error("property <"+c+"> already defined; override of <"+d.definedBy.ns.name+"#"+d.ns.name+"> by <"+a.definedBy.ns.name+"#"+a.ns.name+"> not allowed without redefines")},d.prototype.hasProperty=function(a){return this.propertiesByName[a]},d.prototype.addTrait=function(a,b){var c=this.allTypes;c.indexOf(a)===-1&&(g(a.properties,function(c){c=f({},c,{name:c.ns.localName,inherited:b}),Object.defineProperty(c,"definedBy",{value:a});var d=c.replaces,e=c.redefines;d||e?this.redefineProperty(c,d||e,d):(c.isBody&&this.setBodyProperty(c),c.isId&&this.setIdProperty(c),this.addProperty(c))},this),c.push(a))}},{"./ns":146,"lodash/collection/forEach":159,"lodash/object/assign":237,"lodash/object/pick":242}],144:[function(a,b,c){"use strict";function d(a,b){this.model=a,this.properties=b}var e=a("lodash/collection/forEach"),f=a("./base");b.exports=d,d.prototype.createType=function(a){function b(a){d.define(this,"$type",{value:h,enumerable:!0}),d.define(this,"$attrs",{value:{}}),d.define(this,"$parent",{writable:!0}),e(a,function(a,b){this.set(b,a)},this)}var c=this.model,d=this.properties,g=Object.create(f.prototype);e(a.properties,function(a){a.isMany||void 0===a["default"]||(g[a.name]=a["default"])}),d.defineModel(g,c),d.defineDescriptor(g,a);var h=a.ns.name;return b.prototype=g,b.hasType=g.$instanceOf=this.model.hasType,d.defineModel(b,c),d.defineDescriptor(b,a),b}},{"./base":142,"lodash/collection/forEach":159}],145:[function(a,b,c){"use strict";function d(a){this.properties=new k(this),this.factory=new i(this,this.properties),this.registry=new j(a,this.properties),this.typeCache={}}var e=a("lodash/lang/isString"),f=a("lodash/lang/isObject"),g=a("lodash/collection/forEach"),h=a("lodash/collection/find"),i=a("./factory"),j=a("./registry"),k=a("./properties"),l=a("./ns").parseName;b.exports=d,d.prototype.create=function(a,b){var c=this.getType(a);if(!c)throw new Error("unknown type <"+a+">");return new c(b)},d.prototype.getType=function(a){var b=this.typeCache,c=e(a)?a:a.ns.name,d=b[c];return d||(a=this.registry.getEffectiveDescriptor(c),d=b[c]=this.factory.createType(a)),d},d.prototype.createAny=function(a,b,c){var d=l(a),e={$type:a},h={name:a,isGeneric:!0,ns:{prefix:d.prefix,localName:d.localName,uri:b}};return this.properties.defineDescriptor(e,h),this.properties.defineModel(e,this),this.properties.define(e,"$parent",{enumerable:!1,writable:!0}),g(c,function(a,b){f(a)&&void 0!==a.value?e[a.name]=a.value:e[b]=a}),e},d.prototype.getPackage=function(a){return this.registry.getPackage(a)},d.prototype.getPackages=function(){return this.registry.getPackages()},d.prototype.getElementDescriptor=function(a){return a.$descriptor},d.prototype.hasType=function(a,b){void 0===b&&(b=a,a=this);var c=a.$model.getElementDescriptor(a);return!!h(c.allTypes,function(a){return a.name===b})},d.prototype.getPropertyDescriptor=function(a,b){return this.getElementDescriptor(a).propertiesByName[b]}},{"./factory":144,"./ns":146,"./properties":147,"./registry":148,"lodash/collection/find":158,"lodash/collection/forEach":159,"lodash/lang/isObject":234,"lodash/lang/isString":235}],146:[function(a,b,c){"use strict";b.exports.parseName=function(a,b){var c,d,e=a.split(/:/);if(1===e.length)c=a,d=b;else{if(2!==e.length)throw new Error("expected <prefix:localName> or <localName>, got "+a);c=e[1],d=e[0]}return a=(d?d+":":"")+c,{name:a,prefix:d,localName:c}}},{}],147:[function(a,b,c){"use strict";function d(a){this.model=a}function e(a){return"undefined"==typeof a}function f(a,b,c){Object.defineProperty(a,b.name,{enumerable:!b.isReference,writable:!0,value:c,configurable:!0})}b.exports=d,d.prototype.set=function(a,b,c){var d=this.model.getPropertyDescriptor(a,b),g=d&&d.name;e(c)?d?delete a[g]:delete a.$attrs[b]:d?g in a?a[g]=c:f(a,d,c):a.$attrs[b]=c},d.prototype.get=function(a,b){var c=this.model.getPropertyDescriptor(a,b);if(!c)return a.$attrs[b];var d=c.name;return!a[d]&&c.isMany&&f(a,c,[]),a[d]},d.prototype.define=function(a,b,c){Object.defineProperty(a,b,c)},d.prototype.defineDescriptor=function(a,b){this.define(a,"$descriptor",{value:b})},d.prototype.defineModel=function(a,b){this.define(a,"$model",{value:b})}},{}],148:[function(a,b,c){"use strict";function d(a,b){this.packageMap={},this.typeMap={},this.packages=[],this.properties=b,f(a,this.registerPackage,this)}var e=a("lodash/object/assign"),f=a("lodash/collection/forEach"),g=a("./types"),h=a("./descriptor-builder"),i=a("./ns").parseName,j=g.isBuiltIn;b.exports=d,d.prototype.getPackage=function(a){return this.packageMap[a]},d.prototype.getPackages=function(){return this.packages},d.prototype.registerPackage=function(a){a=e({},a),f(a.types,function(b){this.registerType(b,a)},this),this.packageMap[a.uri]=this.packageMap[a.prefix]=a,this.packages.push(a)},d.prototype.registerType=function(a,b){a=e({},a,{superClass:(a.superClass||[]).slice(),"extends":(a["extends"]||[]).slice(),properties:(a.properties||[]).slice()});var c=i(a.name,b.prefix),d=c.name,g={};f(a.properties,function(a){var b=i(a.name,c.prefix),d=b.name;j(a.type)||(a.type=i(a.type,b.prefix).name),e(a,{ns:b,name:d}),g[d]=a}),e(a,{ns:c,name:d,propertiesByName:g}),f(a["extends"],function(a){var b=this.typeMap[a];b.traits=b.traits||[],b.traits.push(d)},this),this.definePackage(a,b),this.typeMap[d]=a},d.prototype.mapTypes=function(a,b,c){function d(a){return e(a,!0)}function e(c,d){var e=i(c,j(c)?"":a.prefix);h.mapTypes(e,b,d)}var g=j(a.name)?{name:a.name}:this.typeMap[a.name],h=this;if(!g)throw new Error("unknown type <"+a.name+">");f(g.superClass,c?d:e),b(g,!c),f(g.traits,d)},d.prototype.getEffectiveDescriptor=function(a){var b=i(a),c=new h(b);this.mapTypes(b,function(a,b){c.addTrait(a,b)});var d=c.build();return this.definePackage(d,d.allTypes[d.allTypes.length-1].$pkg),d},d.prototype.definePackage=function(a,b){this.properties.define(a,"$pkg",{value:b})}},{"./descriptor-builder":143,"./ns":146,"./types":149,"lodash/collection/forEach":159,"lodash/object/assign":237}],149:[function(a,b,c){"use strict";var d={String:!0,Boolean:!0,Integer:!0,Real:!0,Element:!0},e={String:function(a){return a},Boolean:function(a){return"true"===a},Integer:function(a){return parseInt(a,10)},Real:function(a){return parseFloat(a,10)}};b.exports.coerceType=function(a,b){var c=e[a];return c?c(b):b},b.exports.isBuiltIn=function(a){return!!d[a]},b.exports.isSimple=function(a){return!!e[a]}},{}],150:[function(a,b,c){b.exports={name:"CMMN",uri:"http://www.omg.org/spec/CMMN/20151109/MODEL",types:[{name:"ApplicabilityRule",superClass:["CMMNElement"],properties:[{name:"condition",type:"Expression",xml:{serialize:"property"}},{name:"contextRef",type:"CaseFileItem",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Artifact",isAbstract:!0,superClass:["CMMNElement"]},{name:"Association",superClass:["Artifact"],properties:[{name:"associationDirection",type:"AssociationDirection",isAttr:!0},{name:"sourceRef",type:"CMMNElement",isAttr:!0,isReference:!0},{name:"targetRef",type:"CMMNElement",isAttr:!0,isReference:!0}]},{name:"TextAnnotation",superClass:["Artifact"],properties:[{name:"text",type:"String"},{name:"textFormat","default":"text/plain",isAttr:!0,type:"String"}]},{name:"ManualActivationRule",superClass:["CMMNElement"],properties:[{name:"condition",type:"Expression",xml:{serialize:"property"}},{name:"name",isAttr:!0,type:"String"},{name:"contextRef",type:"CaseFileItem",isAttr:!0,isReference:!0}]},{name:"Case",superClass:["CMMNElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"caseFileModel",type:"CaseFile",xml:{serialize:"property"}},{name:"casePlanModel",type:"Stage",xml:{serialize:"property"}},{name:"caseRoles",type:"CaseRoles"},{name:"input",type:"CaseParameter",isMany:!0,xml:{serialize:"property"}},{name:"output",type:"CaseParameter",isMany:!0,xml:{serialize:"property"}}]},{name:"CaseFile",superClass:["CMMNElement"],properties:[{name:"caseFileItems",type:"CaseFileItem",isMany:!0}]},{name:"CaseFileItem",superClass:["CMMNElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"multiplicity",type:"String",isAttr:!0,"default":"Unspecified"},{name:"definitionRef",type:"CaseFileItemDefinition",isAttr:!0,isReference:!0},{name:"sourceRef",type:"CaseFileItem",isAttr:!0,isReference:!0},{name:"targetRefs",type:"CaseFileItem",isAttr:!0,isReference:!0,isMany:!0},{name:"children",type:"Children",xml:{serialize:"property"}}]},{name:"CaseFileItemDefinition",superClass:["CMMNElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"definitionType",type:"String","default":"http://www.omg.org/spec/CMMN/DefinitionType/Unspecified",isAttr:!0},{name:"properties",type:"Property",isMany:!0},{name:"structureRef",type:"String",isAttr:!0},{name:"importRef",type:"Import",isAttr:!0,isReference:!0}]},{name:"CaseFileItemOnPart",superClass:["OnPart"],properties:[{name:"standardEvent",type:"String"},{name:"sourceRef",type:"CaseFileItem",isAttr:!0,isReference:!0}]},{name:"CaseParameter",superClass:["Parameter"],properties:[{name:"bindingRef",type:"CaseFileItem",isAttr:!0,isReference:!0},{name:"bindingRefinement",type:"Expression",xml:{serialize:"property"}}]},{name:"CaseRoles",superClass:["Parameter"],properties:[{name:"role",type:"Role",isMany:!0}]},{name:"CaseTask",superClass:["Task"],properties:[{name:"parameterMapping",type:"ParameterMapping",isMany:!0},{name:"caseRefExpression",type:"Expression",xml:{serialize:"property"}},{name:"caseRef",type:"String",isAttr:!0}]},{name:"Children",superClass:["CMMNElement"],properties:[{name:"caseFileItems",type:"CaseFileItem",isMany:!0}]},{name:"CMMNElement",isAbstract:!0,properties:[{name:"id",isAttr:!0,type:"String",isId:!0},{name:"documentation",type:"Documentation",isMany:!0},{name:"extensionElements",type:"ExtensionElements"},{name:"extensionDefinitions",type:"ExtensionDefinition",isReference:!0,isMany:!0}]},{name:"Definitions",superClass:["CMMNElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"targetNamespace",type:"String",isAttr:!0},{name:"expressionLanguage",type:"String",isAttr:!0,"default":"http://www.w3.org/1999/XPath"},{name:"exporter",isAttr:!0,type:"String"},{name:"exporterVersion",isAttr:!0,type:"String"},{name:"author",isAttr:!0,type:"String"},{name:"creationDate",type:"DateTime",isAttr:!0},{name:"imports",type:"Import",isMany:!0},{name:"caseFileItemDefinitions",type:"CaseFileItemDefinition",isMany:!0},{name:"cases",type:"Case",isMany:!0},{name:"processes",type:"Process",isMany:!0},{name:"decisions",type:"Decision",isMany:!0},{name:"extensions",type:"Extension",isMany:!0},{name:"relationships",type:"Relationship",isMany:!0},{name:"artifacts",type:"Artifact",isMany:!0},{name:"CMMNDI",type:"cmmndi:CMMNDI"}]},{name:"DiscretionaryItem",superClass:["TableItem"],properties:[{name:"itemControl",type:"PlanItemControl",xml:{serialize:"property"}},{name:"definitionRef",type:"PlanItemDefinition",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"},{name:"entryCriteria",type:"EntryCriterion",isMany:!0},{name:"exitCriteria",type:"ExitCriterion",isMany:!0}]},{name:"EventListener",superClass:["PlanItemDefinition"]},{name:"Expression",superClass:["CMMNElement"],properties:[{name:"language",type:"String",isAttr:!0},{name:"body",isBody:!0,type:"String"}]},{name:"HumanTask",superClass:["Task"],properties:[{name:"planningTable",type:"PlanningTable"},{name:"performerRef",type:"Role",isAttr:!0,isReference:!0}]},{name:"IfPart",superClass:["CMMNElement"],properties:[{name:"contextRef",type:"CaseFileItem",isAttr:!0,isReference:!0},{name:"condition",type:"Expression",xml:{serialize:"property"}}]},{name:"Import",properties:[{name:"location",isAttr:!0,type:"String"},{name:"namespace",type:"String",isAttr:!0},{name:"importType",isAttr:!0,type:"String"}]},{name:"Milestone",superClass:["PlanItemDefinition"]},{name:"On",isAbstract:!0,superClass:["CMMNElement"]},{name:"OnPart",isAbstract:!0,superClass:["CMMNElement"],properties:[{name:"name",isAttr:!0,type:"String"}]},{name:"Parameter",isAbstract:!0,superClass:["CMMNElement"],properties:[{name:"name",isAttr:!0,type:"String"}]},{name:"ParameterMapping",properties:[{name:"sourceRef",type:"Parameter",isAttr:!0,isReference:!0},{name:"targetRef",type:"Parameter",isAttr:!0,isReference:!0},{name:"transformation",type:"Expression",xml:{serialize:"property"}}]},{name:"PlanFragment",superClass:["PlanItemDefinition"],properties:[{name:"planItems",type:"PlanItem",isMany:!0},{name:"sentries",type:"Sentry",isMany:!0}]},{name:"PlanItem",superClass:["CMMNElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"definitionRef",type:"PlanItemDefinition",isAttr:!0,isReference:!0},{name:"itemControl",type:"PlanItemControl",xml:{serialize:"property"}},{name:"entryCriteria",type:"EntryCriterion",isMany:!0},{name:"exitCriteria",type:"ExitCriterion",isMany:!0}]},{name:"PlanItemControl",superClass:["CMMNElement"],properties:[{name:"repetitionRule",type:"RepetitionRule"},{name:"requiredRule",type:"RequiredRule"},{name:"manualActivationRule",type:"ManualActivationRule"}]},{name:"PlanItemDefinition",isAbstract:!0,superClass:["CMMNElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"defaultControl",type:"PlanItemControl",xml:{serialize:"property"}}]},{name:"PlanItemOnPart",superClass:["OnPart"],properties:[{name:"standardEvent",type:"String"},{name:"sourceRef",type:"PlanItem",isAttr:!0,isReference:!0},{name:"exitCriterionRef",type:"ExitCriterion",isAttr:!0,isReference:!0}]},{name:"PlanningTable",superClass:["TableItem"],properties:[{name:"tableItems",type:"TableItem",isMany:!0},{name:"applicabilityRules",type:"ApplicabilityRule",isMany:!0}]},{name:"Process",superClass:["CMMNElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"implementationType",type:"String",isAttr:!0,"default":"http://www.omg.org/spec/CMMN/ProcessType/Unspecified"},{name:"externalRef",type:"String",isAttr:!0},{name:"input",type:"ProcessParameter",isMany:!0,xml:{serialize:"property"}},{name:"output",type:"ProcessParameter",isMany:!0,xml:{serialize:"property"}}]},{name:"ProcessParameter",superClass:["Parameter"]},{name:"ProcessTask",superClass:["Task"],properties:[{name:"parameterMapping",type:"ParameterMapping",isMany:!0},{name:"processRefExpression",type:"Expression",xml:{serialize:"property"}},{name:"processRef",type:"String",isAttr:!0}]},{name:"Property",superClass:["CMMNElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"type",type:"String",isAttr:!0,"default":"http://www.omg.org/spec/CMMN/PropertyType/Unspecified"}]},{name:"RepetitionRule",superClass:["CMMNElement"],properties:[{name:"condition",type:"Expression",xml:{serialize:"property"}},{name:"name",isAttr:!0,type:"String"},{name:"contextRef",type:"CaseFileItem",isAttr:!0,isReference:!0}]},{name:"RequiredRule",superClass:["CMMNElement"],properties:[{name:"condition",type:"Expression",xml:{serialize:"property"}},{name:"name",isAttr:!0,type:"String"},{name:"contextRef",type:"CaseFileItem",isAttr:!0,isReference:!0}]},{name:"Role",superClass:["CMMNElement"],properties:[{name:"name",isAttr:!0,type:"String"}]},{name:"Sentry",superClass:["CMMNElement"],properties:[{name:"onParts",type:"OnPart",isMany:!0},{name:"ifPart",type:"IfPart"},{name:"name",isAttr:!0,type:"String"}]},{name:"Stage",superClass:["PlanFragment"],properties:[{name:"planningTable",type:"PlanningTable"},{name:"planItemDefinitions",type:"PlanItemDefinition",isMany:!0},{name:"autoComplete",isAttr:!0,type:"Boolean"},{name:"exitCriteria",type:"ExitCriterion",isMany:!0}]},{name:"TableItem",isAbstract:!0,superClass:["CMMNElement"],properties:[{name:"authorizedRoleRefs",type:"Role",isAttr:!0,isReference:!0,isMany:!0},{name:"applicabilityRuleRefs",type:"ApplicabilityRule",isAttr:!0,isReference:!0,isMany:!0}]},{name:"Task",superClass:["PlanItemDefinition"],properties:[{name:"input",type:"CaseParameter",isMany:!0,xml:{serialize:"property"}},{name:"output",type:"CaseParameter",isMany:!0,xml:{serialize:"property"}},{name:"isBlocking",isAttr:!0,"default":!0,type:"Boolean"}]},{name:"TimerEventListener",superClass:["EventListener"],properties:[{name:"timerExpression",type:"Expression",xml:{serialize:"property"}},{name:"timerStart",type:"StartTrigger"}]},{name:"UserEventListener",superClass:["EventListener"],properties:[{name:"authorizedRoleRefs",type:"Role",isMany:!0,isAttr:!0}]},{name:"DateTime",superClass:[]},{name:"StartTrigger",isAbstract:!0,superClass:["CMMNElement"]},{name:"PlanItemStartTrigger",superClass:["StartTrigger"],properties:[{name:"standardEvent",type:"String",isAttr:!0},{name:"sourceRef",type:"PlanItem",isAttr:!0,isReference:!0}]},{name:"CaseFileItemStartTrigger",superClass:["StartTrigger"],properties:[{name:"standardEvent",type:"String",isAttr:!0},{name:"sourceRef",type:"CaseFileItem",isAttr:!0,isReference:!0}]},{name:"Extension",properties:[{name:"mustUnderstand","default":!1,isAttr:!0,type:"Boolean"},{name:"definition",type:"ExtensionDefinition"}]},{name:"ExtensionDefinition",properties:[{name:"name",isAttr:!0,type:"String"},{name:"extensionAttributeDefinitions",type:"ExtensionAttributeDefinition",isMany:!0}]},{name:"ExtensionAttributeDefinition",properties:[{name:"name",isAttr:!0,type:"String"},{name:"type",isAttr:!0,type:"String"},{name:"isReference",isAttr:!0,"default":!1,type:"Boolean"}]},{name:"ExtensionElements",properties:[{name:"valueRef",isAttr:!0,isReference:!0,type:"Element"},{name:"values",type:"Element",isMany:!0},{name:"extensionAttributeDefinition",type:"ExtensionAttributeDefinition",isAttr:!0,isReference:!0}]},{name:"Relationship",properties:[{name:"type",isAttr:!0,type:"String"},{name:"direction",type:"RelationshipDirection",isAttr:!0},{name:"source",isMany:!0,type:"Element"},{name:"target",isMany:!0,type:"Element"}]},{name:"Documentation",superClass:["CMMNElement"],properties:[{name:"text",type:"String",isBody:!0},{name:"textFormat","default":"text/plain",isAttr:!0,type:"String"}]},{name:"DecisionTask",superClass:["Task"],properties:[{name:"mappings",type:"ParameterMapping",isMany:!0},{name:"decisionRef",type:"String",isAttr:!0},{name:"decisionRefExpression",type:"Expression",xml:{serialize:"property"}}]
},{name:"Decision",superClass:["CMMNElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"implementationType",type:"String",isAttr:!0,"default":"http://www.omg.org/spec/CMMN/DecisionType/Unspecified"},{name:"input",type:"DecisionParameter",isMany:!0,xml:{serialize:"property"}},{name:"output",type:"DecisionParameter",isMany:!0,xml:{serialize:"property"}},{name:"externalRef",type:"String",isAttr:!0}]},{name:"DecisionParameter",superClass:["Parameter"]},{name:"Criterion",isAbstract:!0,superClass:["CMMNElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"sentryRef",type:"Sentry",isAttr:!0,isReference:!0}]},{name:"EntryCriterion",superClass:["Criterion"]},{name:"ExitCriterion",superClass:["Criterion"]}],emumerations:[{name:"AssociationDirection",literalValues:[{name:"None"},{name:"One"},{name:"Both"}]},{name:"CaseFileItemTransition",literalValues:[{name:"addChild"},{name:"addReference"},{name:"create"},{name:"delete"},{name:"removeChild"},{name:"removeReference"},{name:"replace"},{name:"update"}]},{name:"MultiplicityEnum",literalValues:[{name:"ZeroOrOne"},{name:"ZeroOrMore"},{name:"ExactlyOne"},{name:"OneOrMore"},{name:"Unspecified"},{name:"Unknown"}]},{name:"PlanItemTransition",literalValues:[{name:"close"},{name:"complete"},{name:"create"},{name:"disable"},{name:"enable"},{name:"exit"},{name:"fault"},{name:"manualStart"},{name:"occur"},{name:"parentResume"},{name:"parentSuspend"},{name:"reactivate"},{name:"reenable"},{name:"resume"},{name:"start"},{name:"suspend"},{name:"terminate"}]},{name:"RelationshipDirection",literalValues:[{name:"None"},{name:"Forward"},{name:"Backward"},{name:"Both"}]}],associations:[],xml:{tagAlias:"lowerCase",typePrefix:"t"},prefix:"cmmn"}},{}],151:[function(a,b,c){b.exports={name:"CMMNDI",uri:"http://www.omg.org/spec/CMMN/20151109/CMMNDI",types:[{name:"CMMNDI",properties:[{name:"diagrams",type:"CMMNDiagram",isMany:!0},{name:"styles",type:"CMMNStyle",isMany:!0}]},{name:"CMMNDiagram",properties:[{name:"cmmnElementRef",isAttr:!0,type:"cmmn:CMMNElement",isReference:!0},{name:"Size",type:"dc:Dimension",xml:{serialize:"xsi:type"}},{name:"diagramElements",type:"CMMNDiagramElement",isMany:!0}],superClass:["di:Diagram"]},{name:"CMMNDiagramElement",superClass:["di:DiagramElement"]},{name:"CMMNShape",properties:[{name:"cmmnElementRef",isAttr:!0,isReference:!0,type:"cmmn:CMMNElement"},{name:"label",type:"CMMNLabel"},{name:"isCollapsed",isAttr:!0,type:"Boolean"},{name:"isPlanningTableCollapsed",isAttr:!0,type:"Boolean"}],superClass:["CMMNDiagramElement","di:Shape"]},{name:"CMMNEdge",properties:[{name:"label",type:"CMMNLabel"},{name:"cmmnElementRef",isAttr:!0,isReference:!0,type:"cmmn:CMMNElement"},{name:"sourceCMMNElementRef",isAttr:!0,isReference:!0,type:"cmmn:CMMNElement"},{name:"targetCMMNElementRef",isAttr:!0,isReference:!0,type:"cmmn:CMMNElement"},{name:"isStandardEventVisible",type:"Boolean",isAttr:!0}],superClass:["CMMNDiagramElement","di:Edge"]},{name:"CMMNLabel",superClass:["di:Shape"]},{name:"CMMNStyle",properties:[{name:"FillColor",type:"dc:Color",xml:{serialize:"xsi:type"}},{name:"StrokeColor",type:"dc:Color",xml:{serialize:"xsi:type"}},{name:"FontColor",type:"dc:Color",xml:{serialize:"xsi:type"}},{name:"fontFamily",type:"String",isAttr:!0},{name:"fontSize",type:"Real",isAttr:!0},{name:"fontItalic",type:"Boolean",isAttr:!0},{name:"fontBold",type:"Boolean",isAttr:!0},{name:"fontUnderline",type:"Boolean",isAttr:!0},{name:"fontStrikeThrough",type:"Boolean",isAttr:!0}],superClass:["di:Style"]}],associations:[],prefix:"cmmndi"}},{}],152:[function(a,b,c){b.exports={name:"DC",uri:"http://www.omg.org/spec/CMMN/20151109/DC",types:[{name:"rgb"},{name:"Real"},{name:"Color",properties:[{name:"red",type:"rgb",isAttr:!0},{name:"green",type:"rgb",isAttr:!0},{name:"blue",type:"rgb",isAttr:!0}]},{name:"Point",properties:[{name:"x",type:"Real",isAttr:!0},{name:"y",type:"Real",isAttr:!0}]},{name:"Dimension",properties:[{name:"width",type:"Real",isAttr:!0},{name:"height",type:"Real",isAttr:!0}]},{name:"Bounds",properties:[{name:"x",type:"Real",isAttr:!0},{name:"y",type:"Real",isAttr:!0},{name:"width",type:"Real",isAttr:!0},{name:"height",type:"Real",isAttr:!0}]}],prefix:"dc",associations:[]}},{}],153:[function(a,b,c){b.exports={name:"DI",uri:"http://www.omg.org/spec/CMMN/20151109/DI",types:[{name:"DiagramElement",isAbstract:!0,properties:[{name:"extension",type:"Extension"},{name:"style",type:"Style"},{name:"sharedStyle",type:"Style",isReference:!0,isAttr:!0},{name:"id",type:"String",isAttr:!0,isId:!0}]},{name:"Edge",isAbstract:!0,superClass:["DiagramElement"],properties:[{name:"waypoint",isMany:!0,type:"dc:Point",xml:{serialize:"xsi:type"}}]},{name:"Diagram",isAbstract:!0,superClass:["DiagramElement"],properties:[{name:"name",type:"String",isAttr:!0},{name:"documentation",isAttr:!0,type:"String"},{name:"resolution",isAttr:!0,"default":300,type:"double"}]},{name:"Shape",isAbstract:!0,superClass:["DiagramElement"],properties:[{name:"bounds",type:"dc:Bounds"}]},{name:"Style",isAbstract:!0,properties:[{name:"extension",type:"Extension"},{name:"id",type:"String",isAttr:!0,isId:!0}]},{name:"Extension",properties:[{name:"values",type:"Element",isMany:!0}]}],associations:[],prefix:"di",xml:{tagAlias:"lowerCase"}}},{}],154:[function(a,b,c){"function"==typeof Object.create?b.exports=function(a,b){a.super_=b,a.prototype=Object.create(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})}:b.exports=function(a,b){a.super_=b;var c=function(){};c.prototype=b.prototype,a.prototype=new c,a.prototype.constructor=a}},{}],155:[function(a,b,c){function d(a){var b=a?a.length:0;return b?a[b-1]:void 0}b.exports=d},{}],156:[function(a,b,c){b.exports=a("./some")},{"./some":162}],157:[function(a,b,c){function d(a,b,c){var d=h(a)?e:g;return b=f(b,c,3),d(a,b)}var e=a("../internal/arrayFilter"),f=a("../internal/baseCallback"),g=a("../internal/baseFilter"),h=a("../lang/isArray");b.exports=d},{"../internal/arrayFilter":167,"../internal/baseCallback":174,"../internal/baseFilter":179,"../lang/isArray":230}],158:[function(a,b,c){var d=a("../internal/baseEach"),e=a("../internal/createFind"),f=e(d);b.exports=f},{"../internal/baseEach":178,"../internal/createFind":207}],159:[function(a,b,c){var d=a("../internal/arrayEach"),e=a("../internal/baseEach"),f=a("../internal/createForEach"),g=f(d,e);b.exports=g},{"../internal/arrayEach":166,"../internal/baseEach":178,"../internal/createForEach":208}],160:[function(a,b,c){function d(a,b,c){var d=h(a)?e:g;return b=f(b,c,3),d(a,b)}var e=a("../internal/arrayMap"),f=a("../internal/baseCallback"),g=a("../internal/baseMap"),h=a("../lang/isArray");b.exports=d},{"../internal/arrayMap":168,"../internal/baseCallback":174,"../internal/baseMap":191,"../lang/isArray":230}],161:[function(a,b,c){var d=a("../internal/arrayReduce"),e=a("../internal/baseEach"),f=a("../internal/createReduce"),g=f(d,e);b.exports=g},{"../internal/arrayReduce":170,"../internal/baseEach":178,"../internal/createReduce":209}],162:[function(a,b,c){function d(a,b,c){var d=h(a)?e:g;return c&&i(a,b,c)&&(b=void 0),"function"==typeof b&&void 0===c||(b=f(b,c,3)),d(a,b)}var e=a("../internal/arraySome"),f=a("../internal/baseCallback"),g=a("../internal/baseSome"),h=a("../lang/isArray"),i=a("../internal/isIterateeCall");b.exports=d},{"../internal/arraySome":171,"../internal/baseCallback":174,"../internal/baseSome":198,"../internal/isIterateeCall":219,"../lang/isArray":230}],163:[function(a,b,c){var d=a("../internal/baseDelay"),e=a("./restParam"),f=e(function(a,b){return d(a,1,b)});b.exports=f},{"../internal/baseDelay":176,"./restParam":164}],164:[function(a,b,c){function d(a,b){if("function"!=typeof a)throw new TypeError(e);return b=f(void 0===b?a.length-1:+b||0,0),function(){for(var c=arguments,d=-1,e=f(c.length-b,0),g=Array(e);++d<e;)g[d]=c[b+d];switch(b){case 0:return a.call(this,g);case 1:return a.call(this,c[0],g);case 2:return a.call(this,c[0],c[1],g)}var h=Array(b+1);for(d=-1;++d<b;)h[d]=c[d];return h[b]=g,a.apply(this,h)}}var e="Expected a function",f=Math.max;b.exports=d},{}],165:[function(a,b,c){(function(c){function d(a){var b=a?a.length:0;for(this.data={hash:h(null),set:new g};b--;)this.push(a[b])}var e=a("./cachePush"),f=a("./getNative"),g=f(c,"Set"),h=f(Object,"create");d.prototype.push=e,b.exports=d}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./cachePush":202,"./getNative":215}],166:[function(a,b,c){function d(a,b){for(var c=-1,d=a.length;++c<d&&b(a[c],c,a)!==!1;);return a}b.exports=d},{}],167:[function(a,b,c){function d(a,b){for(var c=-1,d=a.length,e=-1,f=[];++c<d;){var g=a[c];b(g,c,a)&&(f[++e]=g)}return f}b.exports=d},{}],168:[function(a,b,c){function d(a,b){for(var c=-1,d=a.length,e=Array(d);++c<d;)e[c]=b(a[c],c,a);return e}b.exports=d},{}],169:[function(a,b,c){function d(a,b){for(var c=-1,d=b.length,e=a.length;++c<d;)a[e+c]=b[c];return a}b.exports=d},{}],170:[function(a,b,c){function d(a,b,c,d){var e=-1,f=a.length;for(d&&f&&(c=a[++e]);++e<f;)c=b(c,a[e],e,a);return c}b.exports=d},{}],171:[function(a,b,c){function d(a,b){for(var c=-1,d=a.length;++c<d;)if(b(a[c],c,a))return!0;return!1}b.exports=d},{}],172:[function(a,b,c){function d(a,b,c){for(var d=-1,f=e(b),g=f.length;++d<g;){var h=f[d],i=a[h],j=c(i,b[h],h,a,b);(j===j?j===i:i!==i)&&(void 0!==i||h in a)||(a[h]=j)}return a}var e=a("../object/keys");b.exports=d},{"../object/keys":238}],173:[function(a,b,c){function d(a,b){return null==b?a:e(b,f(b),a)}var e=a("./baseCopy"),f=a("../object/keys");b.exports=d},{"../object/keys":238,"./baseCopy":175}],174:[function(a,b,c){function d(a,b,c){var d=typeof a;return"function"==d?void 0===b?a:g(a,b,c):null==a?h:"object"==d?e(a):void 0===b?i(a):f(a,b)}var e=a("./baseMatches"),f=a("./baseMatchesProperty"),g=a("./bindCallback"),h=a("../utility/identity"),i=a("../utility/property");b.exports=d},{"../utility/identity":243,"../utility/property":244,"./baseMatches":192,"./baseMatchesProperty":193,"./bindCallback":200}],175:[function(a,b,c){function d(a,b,c){c||(c={});for(var d=-1,e=b.length;++d<e;){var f=b[d];c[f]=a[f]}return c}b.exports=d},{}],176:[function(a,b,c){function d(a,b,c){if("function"!=typeof a)throw new TypeError(e);return setTimeout(function(){a.apply(void 0,c)},b)}var e="Expected a function";b.exports=d},{}],177:[function(a,b,c){function d(a,b){var c=a?a.length:0,d=[];if(!c)return d;var i=-1,j=e,k=!0,l=k&&b.length>=h?g(b):null,m=b.length;l&&(j=f,k=!1,b=l);a:for(;++i<c;){var n=a[i];if(k&&n===n){for(var o=m;o--;)if(b[o]===n)continue a;d.push(n)}else j(b,n,0)<0&&d.push(n)}return d}var e=a("./baseIndexOf"),f=a("./cacheIndexOf"),g=a("./createCache"),h=200;b.exports=d},{"./baseIndexOf":187,"./cacheIndexOf":201,"./createCache":206}],178:[function(a,b,c){var d=a("./baseForOwn"),e=a("./createBaseEach"),f=e(d);b.exports=f},{"./baseForOwn":185,"./createBaseEach":204}],179:[function(a,b,c){function d(a,b){var c=[];return e(a,function(a,d,e){b(a,d,e)&&c.push(a)}),c}var e=a("./baseEach");b.exports=d},{"./baseEach":178}],180:[function(a,b,c){function d(a,b,c,d){var e;return c(a,function(a,c,f){if(b(a,c,f))return e=d?c:a,!1}),e}b.exports=d},{}],181:[function(a,b,c){function d(a,b,c){for(var d=a.length,e=c?d:-1;c?e--:++e<d;)if(b(a[e],e,a))return e;return-1}b.exports=d},{}],182:[function(a,b,c){function d(a,b,c,j){j||(j=[]);for(var k=-1,l=a.length;++k<l;){var m=a[k];i(m)&&h(m)&&(c||g(m)||f(m))?b?d(m,b,c,j):e(j,m):c||(j[j.length]=m)}return j}var e=a("./arrayPush"),f=a("../lang/isArguments"),g=a("../lang/isArray"),h=a("./isArrayLike"),i=a("./isObjectLike");b.exports=d},{"../lang/isArguments":229,"../lang/isArray":230,"./arrayPush":169,"./isArrayLike":217,"./isObjectLike":222}],183:[function(a,b,c){var d=a("./createBaseFor"),e=d();b.exports=e},{"./createBaseFor":205}],184:[function(a,b,c){function d(a,b){return e(a,b,f)}var e=a("./baseFor"),f=a("../object/keysIn");b.exports=d},{"../object/keysIn":239,"./baseFor":183}],185:[function(a,b,c){function d(a,b){return e(a,b,f)}var e=a("./baseFor"),f=a("../object/keys");b.exports=d},{"../object/keys":238,"./baseFor":183}],186:[function(a,b,c){function d(a,b,c){if(null!=a){void 0!==c&&c in e(a)&&(b=[c]);for(var d=0,f=b.length;null!=a&&d<f;)a=a[b[d++]];return d&&d==f?a:void 0}}var e=a("./toObject");b.exports=d},{"./toObject":227}],187:[function(a,b,c){function d(a,b,c){if(b!==b)return e(a,c);for(var d=c-1,f=a.length;++d<f;)if(a[d]===b)return d;return-1}var e=a("./indexOfNaN");b.exports=d},{"./indexOfNaN":216}],188:[function(a,b,c){function d(a,b,c,h,i,j){return a===b||(null==a||null==b||!f(a)&&!g(b)?a!==a&&b!==b:e(a,b,d,c,h,i,j))}var e=a("./baseIsEqualDeep"),f=a("../lang/isObject"),g=a("./isObjectLike");b.exports=d},{"../lang/isObject":234,"./baseIsEqualDeep":189,"./isObjectLike":222}],189:[function(a,b,c){function d(a,b,c,d,m,p,q){var r=h(a),s=h(b),t=k,u=k;r||(t=o.call(a),t==j?t=l:t!=l&&(r=i(a))),s||(u=o.call(b),u==j?u=l:u!=l&&(s=i(b)));var v=t==l,w=u==l,x=t==u;if(x&&!r&&!v)return f(a,b,t);if(!m){var y=v&&n.call(a,"__wrapped__"),z=w&&n.call(b,"__wrapped__");if(y||z)return c(y?a.value():a,z?b.value():b,d,m,p,q)}if(!x)return!1;p||(p=[]),q||(q=[]);for(var A=p.length;A--;)if(p[A]==a)return q[A]==b;p.push(a),q.push(b);var B=(r?e:g)(a,b,c,d,m,p,q);return p.pop(),q.pop(),B}var e=a("./equalArrays"),f=a("./equalByTag"),g=a("./equalObjects"),h=a("../lang/isArray"),i=a("../lang/isTypedArray"),j="[object Arguments]",k="[object Array]",l="[object Object]",m=Object.prototype,n=m.hasOwnProperty,o=m.toString;b.exports=d},{"../lang/isArray":230,"../lang/isTypedArray":236,"./equalArrays":210,"./equalByTag":211,"./equalObjects":212}],190:[function(a,b,c){function d(a,b,c){var d=b.length,g=d,h=!c;if(null==a)return!g;for(a=f(a);d--;){var i=b[d];if(h&&i[2]?i[1]!==a[i[0]]:!(i[0]in a))return!1}for(;++d<g;){i=b[d];var j=i[0],k=a[j],l=i[1];if(h&&i[2]){if(void 0===k&&!(j in a))return!1}else{var m=c?c(k,l,j):void 0;if(!(void 0===m?e(l,k,c,!0):m))return!1}}return!0}var e=a("./baseIsEqual"),f=a("./toObject");b.exports=d},{"./baseIsEqual":188,"./toObject":227}],191:[function(a,b,c){function d(a,b){var c=-1,d=f(a)?Array(a.length):[];return e(a,function(a,e,f){d[++c]=b(a,e,f)}),d}var e=a("./baseEach"),f=a("./isArrayLike");b.exports=d},{"./baseEach":178,"./isArrayLike":217}],192:[function(a,b,c){function d(a){var b=f(a);if(1==b.length&&b[0][2]){var c=b[0][0],d=b[0][1];return function(a){return null!=a&&(a[c]===d&&(void 0!==d||c in g(a)))}}return function(a){return e(a,b)}}var e=a("./baseIsMatch"),f=a("./getMatchData"),g=a("./toObject");b.exports=d},{"./baseIsMatch":190,"./getMatchData":214,"./toObject":227}],193:[function(a,b,c){function d(a,b){var c=h(a),d=i(a)&&j(b),n=a+"";return a=m(a),function(h){if(null==h)return!1;var i=n;if(h=l(h),(c||!d)&&!(i in h)){if(h=1==a.length?h:e(h,g(a,0,-1)),null==h)return!1;i=k(a),h=l(h)}return h[i]===b?void 0!==b||i in h:f(b,h[i],void 0,!0)}}var e=a("./baseGet"),f=a("./baseIsEqual"),g=a("./baseSlice"),h=a("../lang/isArray"),i=a("./isKey"),j=a("./isStrictComparable"),k=a("../array/last"),l=a("./toObject"),m=a("./toPath");b.exports=d},{"../array/last":155,"../lang/isArray":230,"./baseGet":186,"./baseIsEqual":188,"./baseSlice":197,"./isKey":220,"./isStrictComparable":223,"./toObject":227,"./toPath":228}],194:[function(a,b,c){function d(a){return function(b){return null==b?void 0:b[a]}}b.exports=d},{}],195:[function(a,b,c){function d(a){var b=a+"";return a=f(a),function(c){return e(c,a,b)}}var e=a("./baseGet"),f=a("./toPath");b.exports=d},{"./baseGet":186,"./toPath":228}],196:[function(a,b,c){function d(a,b,c,d,e){return e(a,function(a,e,f){c=d?(d=!1,a):b(c,a,e,f)}),c}b.exports=d},{}],197:[function(a,b,c){function d(a,b,c){var d=-1,e=a.length;b=null==b?0:+b||0,b<0&&(b=-b>e?0:e+b),c=void 0===c||c>e?e:+c||0,c<0&&(c+=e),e=b>c?0:c-b>>>0,b>>>=0;for(var f=Array(e);++d<e;)f[d]=a[d+b];return f}b.exports=d},{}],198:[function(a,b,c){function d(a,b){var c;return e(a,function(a,d,e){return c=b(a,d,e),!c}),!!c}var e=a("./baseEach");b.exports=d},{"./baseEach":178}],199:[function(a,b,c){function d(a){return null==a?"":a+""}b.exports=d},{}],200:[function(a,b,c){function d(a,b,c){if("function"!=typeof a)return e;if(void 0===b)return a;switch(c){case 1:return function(c){return a.call(b,c)};case 3:return function(c,d,e){return a.call(b,c,d,e)};case 4:return function(c,d,e,f){return a.call(b,c,d,e,f)};case 5:return function(c,d,e,f,g){return a.call(b,c,d,e,f,g)}}return function(){return a.apply(b,arguments)}}var e=a("../utility/identity");b.exports=d},{"../utility/identity":243}],201:[function(a,b,c){function d(a,b){var c=a.data,d="string"==typeof b||e(b)?c.set.has(b):c.hash[b];return d?0:-1}var e=a("../lang/isObject");b.exports=d},{"../lang/isObject":234}],202:[function(a,b,c){function d(a){var b=this.data;"string"==typeof a||e(a)?b.set.add(a):b.hash[a]=!0}var e=a("../lang/isObject");b.exports=d},{"../lang/isObject":234}],203:[function(a,b,c){function d(a){return g(function(b,c){var d=-1,g=null==b?0:c.length,h=g>2?c[g-2]:void 0,i=g>2?c[2]:void 0,j=g>1?c[g-1]:void 0;for("function"==typeof h?(h=e(h,j,5),g-=2):(h="function"==typeof j?j:void 0,g-=h?1:0),i&&f(c[0],c[1],i)&&(h=g<3?void 0:h,g=1);++d<g;){var k=c[d];k&&a(b,k,h)}return b})}var e=a("./bindCallback"),f=a("./isIterateeCall"),g=a("../function/restParam");b.exports=d},{"../function/restParam":164,"./bindCallback":200,"./isIterateeCall":219}],204:[function(a,b,c){function d(a,b){return function(c,d){var h=c?e(c):0;if(!f(h))return a(c,d);for(var i=b?h:-1,j=g(c);(b?i--:++i<h)&&d(j[i],i,j)!==!1;);return c}}var e=a("./getLength"),f=a("./isLength"),g=a("./toObject");b.exports=d},{"./getLength":213,"./isLength":221,"./toObject":227}],205:[function(a,b,c){function d(a){return function(b,c,d){for(var f=e(b),g=d(b),h=g.length,i=a?h:-1;a?i--:++i<h;){var j=g[i];if(c(f[j],j,f)===!1)break}return b}}var e=a("./toObject");b.exports=d},{"./toObject":227}],206:[function(a,b,c){(function(c){function d(a){return h&&g?new e(a):null}var e=a("./SetCache"),f=a("./getNative"),g=f(c,"Set"),h=f(Object,"create");b.exports=d}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./SetCache":165,"./getNative":215}],207:[function(a,b,c){function d(a,b){return function(c,d,i){if(d=e(d,i,3),h(c)){var j=g(c,d,b);return j>-1?c[j]:void 0}return f(c,d,a)}}var e=a("./baseCallback"),f=a("./baseFind"),g=a("./baseFindIndex"),h=a("../lang/isArray");b.exports=d},{"../lang/isArray":230,"./baseCallback":174,"./baseFind":180,"./baseFindIndex":181}],208:[function(a,b,c){function d(a,b){return function(c,d,g){return"function"==typeof d&&void 0===g&&f(c)?a(c,d):b(c,e(d,g,3))}}var e=a("./bindCallback"),f=a("../lang/isArray");b.exports=d},{"../lang/isArray":230,"./bindCallback":200}],209:[function(a,b,c){function d(a,b){return function(c,d,h,i){var j=arguments.length<3;return"function"==typeof d&&void 0===i&&g(c)?a(c,d,h,j):f(c,e(d,i,4),h,j,b)}}var e=a("./baseCallback"),f=a("./baseReduce"),g=a("../lang/isArray");b.exports=d},{"../lang/isArray":230,"./baseCallback":174,"./baseReduce":196}],210:[function(a,b,c){function d(a,b,c,d,f,g,h){var i=-1,j=a.length,k=b.length;if(j!=k&&!(f&&k>j))return!1;for(;++i<j;){var l=a[i],m=b[i],n=d?d(f?m:l,f?l:m,i):void 0;if(void 0!==n){if(n)continue;return!1}if(f){if(!e(b,function(a){return l===a||c(l,a,d,f,g,h)}))return!1}else if(l!==m&&!c(l,m,d,f,g,h))return!1}return!0}var e=a("./arraySome");b.exports=d},{"./arraySome":171}],211:[function(a,b,c){function d(a,b,c){switch(c){case e:case f:return+a==+b;case g:return a.name==b.name&&a.message==b.message;case h:return a!=+a?b!=+b:a==+b;case i:case j:return a==b+""}return!1}var e="[object Boolean]",f="[object Date]",g="[object Error]",h="[object Number]",i="[object RegExp]",j="[object String]";b.exports=d},{}],212:[function(a,b,c){function d(a,b,c,d,f,h,i){var j=e(a),k=j.length,l=e(b),m=l.length;if(k!=m&&!f)return!1;for(var n=k;n--;){var o=j[n];if(!(f?o in b:g.call(b,o)))return!1}for(var p=f;++n<k;){o=j[n];var q=a[o],r=b[o],s=d?d(f?r:q,f?q:r,o):void 0;if(!(void 0===s?c(q,r,d,f,h,i):s))return!1;p||(p="constructor"==o)}if(!p){var t=a.constructor,u=b.constructor;if(t!=u&&"constructor"in a&&"constructor"in b&&!("function"==typeof t&&t instanceof t&&"function"==typeof u&&u instanceof u))return!1}return!0}var e=a("../object/keys"),f=Object.prototype,g=f.hasOwnProperty;b.exports=d},{"../object/keys":238}],213:[function(a,b,c){var d=a("./baseProperty"),e=d("length");b.exports=e},{"./baseProperty":194}],214:[function(a,b,c){function d(a){for(var b=f(a),c=b.length;c--;)b[c][2]=e(b[c][1]);return b}var e=a("./isStrictComparable"),f=a("../object/pairs");b.exports=d},{"../object/pairs":241,"./isStrictComparable":223}],215:[function(a,b,c){function d(a,b){var c=null==a?void 0:a[b];return e(c)?c:void 0}var e=a("../lang/isNative");b.exports=d},{"../lang/isNative":232}],216:[function(a,b,c){function d(a,b,c){for(var d=a.length,e=b+(c?0:-1);c?e--:++e<d;){var f=a[e];if(f!==f)return e}return-1}b.exports=d},{}],217:[function(a,b,c){function d(a){return null!=a&&f(e(a))}var e=a("./getLength"),f=a("./isLength");b.exports=d},{"./getLength":213,"./isLength":221}],218:[function(a,b,c){function d(a,b){return a="number"==typeof a||e.test(a)?+a:-1,b=null==b?f:b,a>-1&&a%1==0&&a<b}var e=/^\d+$/,f=9007199254740991;b.exports=d},{}],219:[function(a,b,c){function d(a,b,c){if(!g(c))return!1;var d=typeof b;if("number"==d?e(c)&&f(b,c.length):"string"==d&&b in c){var h=c[b];return a===a?a===h:h!==h}return!1}var e=a("./isArrayLike"),f=a("./isIndex"),g=a("../lang/isObject");b.exports=d},{"../lang/isObject":234,"./isArrayLike":217,"./isIndex":218}],220:[function(a,b,c){function d(a,b){var c=typeof a;if("string"==c&&h.test(a)||"number"==c)return!0;if(e(a))return!1;var d=!g.test(a);return d||null!=b&&a in f(b)}var e=a("../lang/isArray"),f=a("./toObject"),g=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,h=/^\w*$/;b.exports=d},{"../lang/isArray":230,"./toObject":227}],221:[function(a,b,c){function d(a){return"number"==typeof a&&a>-1&&a%1==0&&a<=e}var e=9007199254740991;b.exports=d},{}],222:[function(a,b,c){function d(a){return!!a&&"object"==typeof a}b.exports=d},{}],223:[function(a,b,c){function d(a){return a===a&&!e(a)}var e=a("../lang/isObject");b.exports=d},{"../lang/isObject":234}],224:[function(a,b,c){function d(a,b){a=e(a);for(var c=-1,d=b.length,f={};++c<d;){var g=b[c];g in a&&(f[g]=a[g])}return f}var e=a("./toObject");b.exports=d},{"./toObject":227}],225:[function(a,b,c){function d(a,b){var c={};return e(a,function(a,d,e){b(a,d,e)&&(c[d]=a)}),c}var e=a("./baseForIn");b.exports=d},{"./baseForIn":184}],226:[function(a,b,c){function d(a){for(var b=i(a),c=b.length,d=c&&a.length,j=!!d&&h(d)&&(f(a)||e(a)),l=-1,m=[];++l<c;){var n=b[l];(j&&g(n,d)||k.call(a,n))&&m.push(n)}return m}var e=a("../lang/isArguments"),f=a("../lang/isArray"),g=a("./isIndex"),h=a("./isLength"),i=a("../object/keysIn"),j=Object.prototype,k=j.hasOwnProperty;b.exports=d},{"../lang/isArguments":229,"../lang/isArray":230,"../object/keysIn":239,"./isIndex":218,"./isLength":221}],227:[function(a,b,c){function d(a){return e(a)?a:Object(a)}var e=a("../lang/isObject");b.exports=d},{"../lang/isObject":234}],228:[function(a,b,c){function d(a){if(f(a))return a;var b=[];return e(a).replace(g,function(a,c,d,e){b.push(d?e.replace(h,"$1"):c||a)}),b}var e=a("./baseToString"),f=a("../lang/isArray"),g=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,h=/\\(\\)?/g;b.exports=d},{"../lang/isArray":230,"./baseToString":199}],229:[function(a,b,c){function d(a){return f(a)&&e(a)&&h.call(a,"callee")&&!i.call(a,"callee")}var e=a("../internal/isArrayLike"),f=a("../internal/isObjectLike"),g=Object.prototype,h=g.hasOwnProperty,i=g.propertyIsEnumerable;b.exports=d},{"../internal/isArrayLike":217,"../internal/isObjectLike":222}],230:[function(a,b,c){var d=a("../internal/getNative"),e=a("../internal/isLength"),f=a("../internal/isObjectLike"),g="[object Array]",h=Object.prototype,i=h.toString,j=d(Array,"isArray"),k=j||function(a){return f(a)&&e(a.length)&&i.call(a)==g};b.exports=k},{"../internal/getNative":215,"../internal/isLength":221,"../internal/isObjectLike":222}],231:[function(a,b,c){function d(a){return e(a)&&h.call(a)==f}var e=a("./isObject"),f="[object Function]",g=Object.prototype,h=g.toString;b.exports=d},{"./isObject":234}],232:[function(a,b,c){function d(a){return null!=a&&(e(a)?k.test(i.call(a)):f(a)&&g.test(a))}var e=a("./isFunction"),f=a("../internal/isObjectLike"),g=/^\[object .+?Constructor\]$/,h=Object.prototype,i=Function.prototype.toString,j=h.hasOwnProperty,k=RegExp("^"+i.call(j).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");b.exports=d},{"../internal/isObjectLike":222,"./isFunction":231}],233:[function(a,b,c){function d(a){return"number"==typeof a||e(a)&&h.call(a)==f}var e=a("../internal/isObjectLike"),f="[object Number]",g=Object.prototype,h=g.toString;b.exports=d},{"../internal/isObjectLike":222}],234:[function(a,b,c){function d(a){var b=typeof a;return!!a&&("object"==b||"function"==b)}b.exports=d},{}],235:[function(a,b,c){function d(a){return"string"==typeof a||e(a)&&h.call(a)==f}var e=a("../internal/isObjectLike"),f="[object String]",g=Object.prototype,h=g.toString;b.exports=d},{"../internal/isObjectLike":222}],236:[function(a,b,c){function d(a){return f(a)&&e(a.length)&&!!D[F.call(a)]}var e=a("../internal/isLength"),f=a("../internal/isObjectLike"),g="[object Arguments]",h="[object Array]",i="[object Boolean]",j="[object Date]",k="[object Error]",l="[object Function]",m="[object Map]",n="[object Number]",o="[object Object]",p="[object RegExp]",q="[object Set]",r="[object String]",s="[object WeakMap]",t="[object ArrayBuffer]",u="[object Float32Array]",v="[object Float64Array]",w="[object Int8Array]",x="[object Int16Array]",y="[object Int32Array]",z="[object Uint8Array]",A="[object Uint8ClampedArray]",B="[object Uint16Array]",C="[object Uint32Array]",D={};D[u]=D[v]=D[w]=D[x]=D[y]=D[z]=D[A]=D[B]=D[C]=!0,D[g]=D[h]=D[t]=D[i]=D[j]=D[k]=D[l]=D[m]=D[n]=D[o]=D[p]=D[q]=D[r]=D[s]=!1;var E=Object.prototype,F=E.toString;b.exports=d},{"../internal/isLength":221,"../internal/isObjectLike":222}],237:[function(a,b,c){var d=a("../internal/assignWith"),e=a("../internal/baseAssign"),f=a("../internal/createAssigner"),g=f(function(a,b,c){return c?d(a,b,c):e(a,b)});b.exports=g},{"../internal/assignWith":172,"../internal/baseAssign":173,"../internal/createAssigner":203}],238:[function(a,b,c){var d=a("../internal/getNative"),e=a("../internal/isArrayLike"),f=a("../lang/isObject"),g=a("../internal/shimKeys"),h=d(Object,"keys"),i=h?function(a){var b=null==a?void 0:a.constructor;return"function"==typeof b&&b.prototype===a||"function"!=typeof a&&e(a)?g(a):f(a)?h(a):[]}:g;b.exports=i},{"../internal/getNative":215,"../internal/isArrayLike":217,"../internal/shimKeys":226,"../lang/isObject":234}],239:[function(a,b,c){function d(a){if(null==a)return[];i(a)||(a=Object(a));var b=a.length;b=b&&h(b)&&(f(a)||e(a))&&b||0;for(var c=a.constructor,d=-1,j="function"==typeof c&&c.prototype===a,l=Array(b),m=b>0;++d<b;)l[d]=d+"";for(var n in a)m&&g(n,b)||"constructor"==n&&(j||!k.call(a,n))||l.push(n);return l}var e=a("../lang/isArguments"),f=a("../lang/isArray"),g=a("../internal/isIndex"),h=a("../internal/isLength"),i=a("../lang/isObject"),j=Object.prototype,k=j.hasOwnProperty;b.exports=d},{"../internal/isIndex":218,"../internal/isLength":221,"../lang/isArguments":229,"../lang/isArray":230,"../lang/isObject":234}],240:[function(a,b,c){var d=a("../internal/arrayMap"),e=a("../internal/baseDifference"),f=a("../internal/baseFlatten"),g=a("../internal/bindCallback"),h=a("./keysIn"),i=a("../internal/pickByArray"),j=a("../internal/pickByCallback"),k=a("../function/restParam"),l=k(function(a,b){if(null==a)return{};if("function"!=typeof b[0]){var b=d(f(b),String);return i(a,e(h(a),b))}var c=g(b[0],b[1],3);return j(a,function(a,b,d){return!c(a,b,d)})});b.exports=l},{"../function/restParam":164,"../internal/arrayMap":168,"../internal/baseDifference":177,"../internal/baseFlatten":182,"../internal/bindCallback":200,"../internal/pickByArray":224,"../internal/pickByCallback":225,"./keysIn":239}],241:[function(a,b,c){function d(a){a=f(a);for(var b=-1,c=e(a),d=c.length,g=Array(d);++b<d;){var h=c[b];g[b]=[h,a[h]]}return g}var e=a("./keys"),f=a("../internal/toObject");b.exports=d},{"../internal/toObject":227,"./keys":238}],242:[function(a,b,c){var d=a("../internal/baseFlatten"),e=a("../internal/bindCallback"),f=a("../internal/pickByArray"),g=a("../internal/pickByCallback"),h=a("../function/restParam"),i=h(function(a,b){return null==a?{}:"function"==typeof b[0]?g(a,e(b[0],b[1],3)):f(a,d(b))});b.exports=i},{"../function/restParam":164,"../internal/baseFlatten":182,"../internal/bindCallback":200,"../internal/pickByArray":224,"../internal/pickByCallback":225}],243:[function(a,b,c){function d(a){return a}b.exports=d},{}],244:[function(a,b,c){function d(a){return g(a)?e(a):f(a)}var e=a("../internal/baseProperty"),f=a("../internal/basePropertyDeep"),g=a("../internal/isKey");b.exports=d},{"../internal/baseProperty":194,"../internal/basePropertyDeep":195,"../internal/isKey":220}],245:[function(a,b,c){b.exports=a("component-delegate")},{"component-delegate":251}],246:[function(a,b,c){b.exports=a("domify")},{domify:255}],247:[function(a,b,c){b.exports=a("component-event")},{"component-event":252}],248:[function(a,b,c){b.exports=a("component-query")},{"component-query":254}],249:[function(a,b,c){b.exports=function(a){a.parentNode&&a.parentNode.removeChild(a)}},{}],250:[function(a,b,c){var d=a("matches-selector");b.exports=function(a,b,c,e){for(a=c?{parentNode:a}:a,e=e||document;(a=a.parentNode)&&a!==document;){if(d(a,b))return a;if(a===e)return}}},{"matches-selector":253}],251:[function(a,b,c){try{var d=a("closest")}catch(e){var d=a("component-closest")}try{var f=a("event")}catch(e){var f=a("component-event")}c.bind=function(a,b,c,e,g){return f.bind(a,c,function(c){var f=c.target||c.srcElement;c.delegateTarget=d(f,b,!0,a),c.delegateTarget&&e.call(a,c)},g)},c.unbind=function(a,b,c,d){f.unbind(a,b,c,d)}},{closest:250,"component-closest":250,"component-event":252,event:252}],252:[function(a,b,c){var d=window.addEventListener?"addEventListener":"attachEvent",e=window.removeEventListener?"removeEventListener":"detachEvent",f="addEventListener"!==d?"on":"";c.bind=function(a,b,c,e){return a[d](f+b,c,e||!1),c},c.unbind=function(a,b,c,d){return a[e](f+b,c,d||!1),c}},{}],253:[function(a,b,c){function d(a,b){if(!a||1!==a.nodeType)return!1;if(h)return h.call(a,b);for(var c=e.all(b,a.parentNode),d=0;d<c.length;++d)if(c[d]==a)return!0;return!1}try{var e=a("query")}catch(f){var e=a("component-query")}var g=Element.prototype,h=g.matches||g.webkitMatchesSelector||g.mozMatchesSelector||g.msMatchesSelector||g.oMatchesSelector;b.exports=d},{"component-query":254,query:254}],254:[function(a,b,c){function d(a,b){return b.querySelector(a)}c=b.exports=function(a,b){return b=b||document,d(a,b)},c.all=function(a,b){return b=b||document,b.querySelectorAll(a)},c.engine=function(a){if(!a.one)throw new Error(".one callback required");if(!a.all)throw new Error(".all callback required");return d=a.one,c.all=a.all,c}},{}],255:[function(a,b,c){function d(a,b){if("string"!=typeof a)throw new TypeError("String expected");b||(b=document);var c=/<([\w:]+)/.exec(a);if(!c)return b.createTextNode(a);a=a.replace(/^\s+|\s+$/g,"");var d=c[1];if("body"==d){var e=b.createElement("html");return e.innerHTML=a,e.removeChild(e.lastChild)}var f=g[d]||g._default,h=f[0],i=f[1],j=f[2],e=b.createElement("div");for(e.innerHTML=i+a+j;h--;)e=e.lastChild;if(e.firstChild==e.lastChild)return e.removeChild(e.firstChild);for(var k=b.createDocumentFragment();e.firstChild;)k.appendChild(e.removeChild(e.firstChild));return k}b.exports=d;var e,f=!1;"undefined"!=typeof document&&(e=document.createElement("div"),e.innerHTML='  <link/><table></table><a href="/a">a</a><input type="checkbox"/>',f=!e.getElementsByTagName("link").length,e=void 0);var g={legend:[1,"<fieldset>","</fieldset>"],
tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:f?[1,"X<div>","</div>"]:[0,"",""]};g.td=g.th=[3,"<table><tbody><tr>","</tr></tbody></table>"],g.option=g.optgroup=[1,'<select multiple="multiple">',"</select>"],g.thead=g.tbody=g.colgroup=g.caption=g.tfoot=[1,"<table>","</table>"],g.polyline=g.ellipse=g.polygon=g.circle=g.text=g.line=g.path=g.rect=g.g=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"]},{}],256:[function(a,b,c){b.exports=a("./lib/refs"),b.exports.Collection=a("./lib/collection")},{"./lib/collection":257,"./lib/refs":258}],257:[function(a,b,c){"use strict";function d(a,b,c,d){var e=c.inverse;return Object.defineProperty(a,"remove",{value:function(a){var c=this.indexOf(a);return c!==-1&&(this.splice(c,1),b.unset(a,e,d)),a}}),Object.defineProperty(a,"contains",{value:function(a){return this.indexOf(a)!==-1}}),Object.defineProperty(a,"add",{value:function(a){this.contains(a)||(this.push(a),b.set(a,e,d))}}),Object.defineProperty(a,"__refs_collection",{value:!0}),a}function e(a){return a.__refs_collection===!0}b.exports.extend=d,b.exports.isExtended=e},{}],258:[function(a,b,c){"use strict";function d(a,b){return Object.prototype.hasOwnProperty.call(a,b.name||b)}function e(a,b,c){Object.defineProperty(c,b.name,{enumerable:b.enumerable,value:h.extend(c[b.name]||[],a,b,c)})}function f(a,b,c){var d=b.inverse,e=c[b.name];Object.defineProperty(c,b.name,{enumerable:b.enumerable,get:function(){return e},set:function(b){if(b!==e){var f=e;e=null,f&&a.unset(f,d,c),e=b,a.set(e,d,c)}}})}function g(a,b){return this instanceof g?(a.inverse=b,b.inverse=a,this.props={},this.props[a.name]=a,void(this.props[b.name]=b)):new g(a,b)}var h=a("./collection");g.prototype.bind=function(a,b){if("string"==typeof b){if(!this.props[b])throw new Error("no property <"+b+"> in ref");b=this.props[b]}b.collection?e(this,b,a):f(this,b,a)},g.prototype.ensureRefsCollection=function(a,b){var c=a[b.name];return h.isExtended(c)||e(this,b,a),c},g.prototype.ensureBound=function(a,b){d(a,b)||this.bind(a,b)},g.prototype.unset=function(a,b,c){a&&(this.ensureBound(a,b),b.collection?this.ensureRefsCollection(a,b).remove(c):a[b.name]=void 0)},g.prototype.set=function(a,b,c){a&&(this.ensureBound(a,b),b.collection?this.ensureRefsCollection(a,b).add(c):a[b.name]=c)},b.exports=g},{"./collection":257}],259:[function(a,b,c){function d(a,b){return e(b,a),a}b.exports=d;var e=a("./appendTo")},{"./appendTo":260}],260:[function(a,b,c){function d(a,b){return b.appendChild(e(a,b)),a}b.exports=d;var e=a("./util/ensureImported")},{"./util/ensureImported":267}],261:[function(a,b,c){function d(a,b){return i[b]?a.style[b]:a.getAttributeNS(null,b)}function e(a,b,c){var d=b.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),e=i[d];e?(e===h&&"number"==typeof c&&(c=String(c)+"px"),a.style[d]=c):a.setAttributeNS(null,b,c)}function f(a,b){var c,d,f=Object.keys(b);for(c=0,d;d=f[c];c++)e(a,d,b[d])}function g(a,b,c){if("string"==typeof b){if(void 0===c)return d(a,b);e(a,b,c)}else f(a,b);return a}b.exports=g;var h=2,i={"alignment-baseline":1,"baseline-shift":1,clip:1,"clip-path":1,"clip-rule":1,color:1,"color-interpolation":1,"color-interpolation-filters":1,"color-profile":1,"color-rendering":1,cursor:1,direction:1,display:1,"dominant-baseline":1,"enable-background":1,fill:1,"fill-opacity":1,"fill-rule":1,filter:1,"flood-color":1,"flood-opacity":1,font:1,"font-family":1,"font-size":h,"font-size-adjust":1,"font-stretch":1,"font-style":1,"font-variant":1,"font-weight":1,"glyph-orientation-horizontal":1,"glyph-orientation-vertical":1,"image-rendering":1,kerning:1,"letter-spacing":1,"lighting-color":1,marker:1,"marker-end":1,"marker-mid":1,"marker-start":1,mask:1,opacity:1,overflow:1,"pointer-events":1,"shape-rendering":1,"stop-color":1,"stop-opacity":1,stroke:1,"stroke-dasharray":1,"stroke-dashoffset":1,"stroke-linecap":1,"stroke-linejoin":1,"stroke-miterlimit":1,"stroke-opacity":1,"stroke-width":h,"text-anchor":1,"text-decoration":1,"text-rendering":1,"unicode-bidi":1,visibility:1,"word-spacing":1,"writing-mode":1}},{}],262:[function(a,b,c){function d(a){return"undefined"!=typeof a}function e(a){return new f(a)}function f(a){if(!a||!a.nodeType)throw new Error("A DOM element reference is required");this.el=a,this.list=a.classList}b.exports=e;var g=function(a,b){if(a.indexOf)return a.indexOf(b);for(var c=0;c<a.length;++c)if(a[c]===b)return c;return-1},h=/\s+/,i=Object.prototype.toString;f.prototype.add=function(a){if(this.list)return this.list.add(a),this;var b=this.array(),c=g(b,a);return~c||b.push(a),d(this.el.className.baseVal)?this.el.className.baseVal=b.join(" "):this.el.className=b.join(" "),this},f.prototype.remove=function(a){if("[object RegExp]"===i.call(a))return this.removeMatching(a);if(this.list)return this.list.remove(a),this;var b=this.array(),c=g(b,a);return~c&&b.splice(c,1),this.el.className.baseVal=b.join(" "),this},f.prototype.removeMatching=function(a){for(var b=this.array(),c=0;c<b.length;c++)a.test(b[c])&&this.remove(b[c]);return this},f.prototype.toggle=function(a,b){return this.list?(d(b)?b!==this.list.toggle(a,b)&&this.list.toggle(a):this.list.toggle(a),this):(d(b)?b?this.add(a):this.remove(a):this.has(a)?this.remove(a):this.add(a),this)},f.prototype.array=function(){var a=this.el.getAttribute("class")||"",b=a.replace(/^\s+|\s+$/g,""),c=b.split(h);return""===c[0]&&c.shift(),c},f.prototype.has=f.prototype.contains=function(a){return this.list?this.list.contains(a):!!~g(this.array(),a)}},{}],263:[function(a,b,c){function d(a){for(var b;b=a.firstChild;)e(b);return a}b.exports=d;var e=a("./remove")},{"./remove":266}],264:[function(a,b,c){function d(a,b){var c;return"<"===a.charAt(0)?(c=f(a).firstChild,c=document.importNode(c,!0)):c=document.createElementNS(g.svg,a),b&&e(c,b),c}b.exports=d;var e=a("./attr"),f=a("./util/parse"),g=a("./util/ns")},{"./attr":261,"./util/ns":268,"./util/parse":269}],265:[function(a,b,c){function d(a,b){var c,d=i(b).documentElement;if(g(a),b)for(c=d.firstChild;c;)h(c,a),c=c.nextSibling}function e(a){for(var b=a.firstChild,c=[];b;)j(b,c),b=b.nextSibling;return c.join("")}function f(a,b){if(void 0!==b){try{d(a,b)}catch(c){throw new Error("error parsing SVG: "+c.message)}return a}return e(a)}b.exports=f;var g=a("./clear"),h=a("./appendTo"),i=a("./util/parse"),j=a("./util/serialize")},{"./appendTo":260,"./clear":263,"./util/parse":269,"./util/serialize":270}],266:[function(a,b,c){function d(a){var b=a.parentNode;return b&&b.removeChild(a),a}b.exports=d},{}],267:[function(a,b,c){function d(a,b){if(a.ownerDocument!==b.ownerDocument)try{return b.ownerDocument.importNode(a,!0)}catch(c){}return a}b.exports=d},{}],268:[function(a,b,c){var d={svg:"http://www.w3.org/2000/svg"};b.exports=d},{}],269:[function(a,b,c){function d(a){return"<svg"===a.substring(0,4)?a.indexOf(f.svg)===-1&&(a=g+a.substring(4)):a=g+">"+a+"</svg>",e(a)}function e(a){var b;return b=new DOMParser,b.async=!1,b.parseFromString(a,"text/xml")}b.exports=d;var f=a("./ns"),g='<svg xmlns="'+f.svg+'"'},{"./ns":268}],270:[function(a,b,c){function d(a,b){function c(a,b){return h[b]||b}return a.replace(b,c)}function e(a,b){var c,h,i,j,k;switch(a.nodeType){case 3:b.push(d(a.textContent,f));break;case 1:if(b.push("<",a.tagName),a.hasAttributes())for(i=a.attributes,c=0,h=i.length;c<h;++c)j=i.item(c),b.push(" ",j.name,'="',d(j.value,g),'"');if(a.hasChildNodes()){for(b.push(">"),k=a.childNodes,c=0,h=k.length;c<h;++c)e(k.item(c),b);b.push("</",a.tagName,">")}else b.push("/>");break;case 8:b.push("<!--",d(a.nodeValue,f),"-->");break;case 4:b.push("<![CDATA[",a.nodeValue,"]]>");break;default:throw new Error("unable to handle node "+a.nodeType)}return b}b.exports=e;var f=/([&<>]{1})/g,g=/([\n\r"]{1})/g,h={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"'"}},{}],271:[function(a,b,c){},{}],272:[function(a,b,c){(function(b){"use strict";function d(){function a(){}try{var b=new Uint8Array(1);return b.foo=function(){return 42},b.constructor=a,42===b.foo()&&b.constructor===a&&"function"==typeof b.subarray&&0===b.subarray(1,1).byteLength}catch(c){return!1}}function e(){return f.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function f(a){return this instanceof f?(f.TYPED_ARRAY_SUPPORT||(this.length=0,this.parent=void 0),"number"==typeof a?g(this,a):"string"==typeof a?h(this,a,arguments.length>1?arguments[1]:"utf8"):i(this,a)):arguments.length>1?new f(a,arguments[1]):new f(a)}function g(a,b){if(a=p(a,b<0?0:0|q(b)),!f.TYPED_ARRAY_SUPPORT)for(var c=0;c<b;c++)a[c]=0;return a}function h(a,b,c){"string"==typeof c&&""!==c||(c="utf8");var d=0|s(b,c);return a=p(a,d),a.write(b,c),a}function i(a,b){if(f.isBuffer(b))return j(a,b);if(Y(b))return k(a,b);if(null==b)throw new TypeError("must start with number, buffer, array or string");if("undefined"!=typeof ArrayBuffer){if(b.buffer instanceof ArrayBuffer)return l(a,b);if(b instanceof ArrayBuffer)return m(a,b)}return b.length?n(a,b):o(a,b)}function j(a,b){var c=0|q(b.length);return a=p(a,c),b.copy(a,0,0,c),a}function k(a,b){var c=0|q(b.length);a=p(a,c);for(var d=0;d<c;d+=1)a[d]=255&b[d];return a}function l(a,b){var c=0|q(b.length);a=p(a,c);for(var d=0;d<c;d+=1)a[d]=255&b[d];return a}function m(a,b){return f.TYPED_ARRAY_SUPPORT?(b.byteLength,a=f._augment(new Uint8Array(b))):a=l(a,new Uint8Array(b)),a}function n(a,b){var c=0|q(b.length);a=p(a,c);for(var d=0;d<c;d+=1)a[d]=255&b[d];return a}function o(a,b){var c,d=0;"Buffer"===b.type&&Y(b.data)&&(c=b.data,d=0|q(c.length)),a=p(a,d);for(var e=0;e<d;e+=1)a[e]=255&c[e];return a}function p(a,b){f.TYPED_ARRAY_SUPPORT?(a=f._augment(new Uint8Array(b)),a.__proto__=f.prototype):(a.length=b,a._isBuffer=!0);var c=0!==b&&b<=f.poolSize>>>1;return c&&(a.parent=Z),a}function q(a){if(a>=e())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+e().toString(16)+" bytes");return 0|a}function r(a,b){if(!(this instanceof r))return new r(a,b);var c=new f(a,b);return delete c.parent,c}function s(a,b){"string"!=typeof a&&(a=""+a);var c=a.length;if(0===c)return 0;for(var d=!1;;)switch(b){case"ascii":case"binary":case"raw":case"raws":return c;case"utf8":case"utf-8":return R(a).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*c;case"hex":return c>>>1;case"base64":return U(a).length;default:if(d)return R(a).length;b=(""+b).toLowerCase(),d=!0}}function t(a,b,c){var d=!1;if(b=0|b,c=void 0===c||c===1/0?this.length:0|c,a||(a="utf8"),b<0&&(b=0),c>this.length&&(c=this.length),c<=b)return"";for(;;)switch(a){case"hex":return F(this,b,c);case"utf8":case"utf-8":return B(this,b,c);case"ascii":return D(this,b,c);case"binary":return E(this,b,c);case"base64":return A(this,b,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return G(this,b,c);default:if(d)throw new TypeError("Unknown encoding: "+a);a=(a+"").toLowerCase(),d=!0}}function u(a,b,c,d){c=Number(c)||0;var e=a.length-c;d?(d=Number(d),d>e&&(d=e)):d=e;var f=b.length;if(f%2!==0)throw new Error("Invalid hex string");d>f/2&&(d=f/2);for(var g=0;g<d;g++){var h=parseInt(b.substr(2*g,2),16);if(isNaN(h))throw new Error("Invalid hex string");a[c+g]=h}return g}function v(a,b,c,d){return V(R(b,a.length-c),a,c,d)}function w(a,b,c,d){return V(S(b),a,c,d)}function x(a,b,c,d){return w(a,b,c,d)}function y(a,b,c,d){return V(U(b),a,c,d)}function z(a,b,c,d){return V(T(b,a.length-c),a,c,d)}function A(a,b,c){return 0===b&&c===a.length?W.fromByteArray(a):W.fromByteArray(a.slice(b,c))}function B(a,b,c){c=Math.min(a.length,c);for(var d=[],e=b;e<c;){var f=a[e],g=null,h=f>239?4:f>223?3:f>191?2:1;if(e+h<=c){var i,j,k,l;switch(h){case 1:f<128&&(g=f);break;case 2:i=a[e+1],128===(192&i)&&(l=(31&f)<<6|63&i,l>127&&(g=l));break;case 3:i=a[e+1],j=a[e+2],128===(192&i)&&128===(192&j)&&(l=(15&f)<<12|(63&i)<<6|63&j,l>2047&&(l<55296||l>57343)&&(g=l));break;case 4:i=a[e+1],j=a[e+2],k=a[e+3],128===(192&i)&&128===(192&j)&&128===(192&k)&&(l=(15&f)<<18|(63&i)<<12|(63&j)<<6|63&k,l>65535&&l<1114112&&(g=l))}}null===g?(g=65533,h=1):g>65535&&(g-=65536,d.push(g>>>10&1023|55296),g=56320|1023&g),d.push(g),e+=h}return C(d)}function C(a){var b=a.length;if(b<=$)return String.fromCharCode.apply(String,a);for(var c="",d=0;d<b;)c+=String.fromCharCode.apply(String,a.slice(d,d+=$));return c}function D(a,b,c){var d="";c=Math.min(a.length,c);for(var e=b;e<c;e++)d+=String.fromCharCode(127&a[e]);return d}function E(a,b,c){var d="";c=Math.min(a.length,c);for(var e=b;e<c;e++)d+=String.fromCharCode(a[e]);return d}function F(a,b,c){var d=a.length;(!b||b<0)&&(b=0),(!c||c<0||c>d)&&(c=d);for(var e="",f=b;f<c;f++)e+=Q(a[f]);return e}function G(a,b,c){for(var d=a.slice(b,c),e="",f=0;f<d.length;f+=2)e+=String.fromCharCode(d[f]+256*d[f+1]);return e}function H(a,b,c){if(a%1!==0||a<0)throw new RangeError("offset is not uint");if(a+b>c)throw new RangeError("Trying to access beyond buffer length")}function I(a,b,c,d,e,g){if(!f.isBuffer(a))throw new TypeError("buffer must be a Buffer instance");if(b>e||b<g)throw new RangeError("value is out of bounds");if(c+d>a.length)throw new RangeError("index out of range")}function J(a,b,c,d){b<0&&(b=65535+b+1);for(var e=0,f=Math.min(a.length-c,2);e<f;e++)a[c+e]=(b&255<<8*(d?e:1-e))>>>8*(d?e:1-e)}function K(a,b,c,d){b<0&&(b=4294967295+b+1);for(var e=0,f=Math.min(a.length-c,4);e<f;e++)a[c+e]=b>>>8*(d?e:3-e)&255}function L(a,b,c,d,e,f){if(b>e||b<f)throw new RangeError("value is out of bounds");if(c+d>a.length)throw new RangeError("index out of range");if(c<0)throw new RangeError("index out of range")}function M(a,b,c,d,e){return e||L(a,b,c,4,3.4028234663852886e38,-3.4028234663852886e38),X.write(a,b,c,d,23,4),c+4}function N(a,b,c,d,e){return e||L(a,b,c,8,1.7976931348623157e308,-1.7976931348623157e308),X.write(a,b,c,d,52,8),c+8}function O(a){if(a=P(a).replace(aa,""),a.length<2)return"";for(;a.length%4!==0;)a+="=";return a}function P(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function Q(a){return a<16?"0"+a.toString(16):a.toString(16)}function R(a,b){b=b||1/0;for(var c,d=a.length,e=null,f=[],g=0;g<d;g++){if(c=a.charCodeAt(g),c>55295&&c<57344){if(!e){if(c>56319){(b-=3)>-1&&f.push(239,191,189);continue}if(g+1===d){(b-=3)>-1&&f.push(239,191,189);continue}e=c;continue}if(c<56320){(b-=3)>-1&&f.push(239,191,189),e=c;continue}c=(e-55296<<10|c-56320)+65536}else e&&(b-=3)>-1&&f.push(239,191,189);if(e=null,c<128){if((b-=1)<0)break;f.push(c)}else if(c<2048){if((b-=2)<0)break;f.push(c>>6|192,63&c|128)}else if(c<65536){if((b-=3)<0)break;f.push(c>>12|224,c>>6&63|128,63&c|128)}else{if(!(c<1114112))throw new Error("Invalid code point");if((b-=4)<0)break;f.push(c>>18|240,c>>12&63|128,c>>6&63|128,63&c|128)}}return f}function S(a){for(var b=[],c=0;c<a.length;c++)b.push(255&a.charCodeAt(c));return b}function T(a,b){for(var c,d,e,f=[],g=0;g<a.length&&!((b-=2)<0);g++)c=a.charCodeAt(g),d=c>>8,e=c%256,f.push(e),f.push(d);return f}function U(a){return W.toByteArray(O(a))}function V(a,b,c,d){for(var e=0;e<d&&!(e+c>=b.length||e>=a.length);e++)b[e+c]=a[e];return e}var W=a("base64-js"),X=a("ieee754"),Y=a("isarray");c.Buffer=f,c.SlowBuffer=r,c.INSPECT_MAX_BYTES=50,f.poolSize=8192;var Z={};f.TYPED_ARRAY_SUPPORT=void 0!==b.TYPED_ARRAY_SUPPORT?b.TYPED_ARRAY_SUPPORT:d(),f.TYPED_ARRAY_SUPPORT?(f.prototype.__proto__=Uint8Array.prototype,f.__proto__=Uint8Array):(f.prototype.length=void 0,f.prototype.parent=void 0),f.isBuffer=function(a){return!(null==a||!a._isBuffer)},f.compare=function(a,b){if(!f.isBuffer(a)||!f.isBuffer(b))throw new TypeError("Arguments must be Buffers");if(a===b)return 0;for(var c=a.length,d=b.length,e=0,g=Math.min(c,d);e<g&&a[e]===b[e];)++e;return e!==g&&(c=a[e],d=b[e]),c<d?-1:d<c?1:0},f.isEncoding=function(a){switch(String(a).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(a,b){if(!Y(a))throw new TypeError("list argument must be an Array of Buffers.");if(0===a.length)return new f(0);var c;if(void 0===b)for(b=0,c=0;c<a.length;c++)b+=a[c].length;var d=new f(b),e=0;for(c=0;c<a.length;c++){var g=a[c];g.copy(d,e),e+=g.length}return d},f.byteLength=s,f.prototype.toString=function(){var a=0|this.length;return 0===a?"":0===arguments.length?B(this,0,a):t.apply(this,arguments)},f.prototype.equals=function(a){if(!f.isBuffer(a))throw new TypeError("Argument must be a Buffer");return this===a||0===f.compare(this,a)},f.prototype.inspect=function(){var a="",b=c.INSPECT_MAX_BYTES;return this.length>0&&(a=this.toString("hex",0,b).match(/.{2}/g).join(" "),this.length>b&&(a+=" ... ")),"<Buffer "+a+">"},f.prototype.compare=function(a){if(!f.isBuffer(a))throw new TypeError("Argument must be a Buffer");return this===a?0:f.compare(this,a)},f.prototype.indexOf=function(a,b){function c(a,b,c){for(var d=-1,e=0;c+e<a.length;e++)if(a[c+e]===b[d===-1?0:e-d]){if(d===-1&&(d=e),e-d+1===b.length)return c+d}else d=-1;return-1}if(b>2147483647?b=2147483647:b<-2147483648&&(b=-2147483648),b>>=0,0===this.length)return-1;if(b>=this.length)return-1;if(b<0&&(b=Math.max(this.length+b,0)),"string"==typeof a)return 0===a.length?-1:String.prototype.indexOf.call(this,a,b);if(f.isBuffer(a))return c(this,a,b);if("number"==typeof a)return f.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,a,b):c(this,[a],b);throw new TypeError("val must be string, number or Buffer")},f.prototype.get=function(a){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(a)},f.prototype.set=function(a,b){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(a,b)},f.prototype.write=function(a,b,c,d){if(void 0===b)d="utf8",c=this.length,b=0;else if(void 0===c&&"string"==typeof b)d=b,c=this.length,b=0;else if(isFinite(b))b=0|b,isFinite(c)?(c=0|c,void 0===d&&(d="utf8")):(d=c,c=void 0);else{var e=d;d=b,b=0|c,c=e}var f=this.length-b;if((void 0===c||c>f)&&(c=f),a.length>0&&(c<0||b<0)||b>this.length)throw new RangeError("attempt to write outside buffer bounds");d||(d="utf8");for(var g=!1;;)switch(d){case"hex":return u(this,a,b,c);case"utf8":case"utf-8":return v(this,a,b,c);case"ascii":return w(this,a,b,c);case"binary":return x(this,a,b,c);case"base64":return y(this,a,b,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return z(this,a,b,c);default:if(g)throw new TypeError("Unknown encoding: "+d);d=(""+d).toLowerCase(),g=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var $=4096;f.prototype.slice=function(a,b){var c=this.length;a=~~a,b=void 0===b?c:~~b,a<0?(a+=c,a<0&&(a=0)):a>c&&(a=c),b<0?(b+=c,b<0&&(b=0)):b>c&&(b=c),b<a&&(b=a);var d;if(f.TYPED_ARRAY_SUPPORT)d=f._augment(this.subarray(a,b));else{var e=b-a;d=new f(e,(void 0));for(var g=0;g<e;g++)d[g]=this[g+a]}return d.length&&(d.parent=this.parent||this),d},f.prototype.readUIntLE=function(a,b,c){a=0|a,b=0|b,c||H(a,b,this.length);for(var d=this[a],e=1,f=0;++f<b&&(e*=256);)d+=this[a+f]*e;return d},f.prototype.readUIntBE=function(a,b,c){a=0|a,b=0|b,c||H(a,b,this.length);for(var d=this[a+--b],e=1;b>0&&(e*=256);)d+=this[a+--b]*e;return d},f.prototype.readUInt8=function(a,b){return b||H(a,1,this.length),this[a]},f.prototype.readUInt16LE=function(a,b){return b||H(a,2,this.length),this[a]|this[a+1]<<8},f.prototype.readUInt16BE=function(a,b){return b||H(a,2,this.length),this[a]<<8|this[a+1]},f.prototype.readUInt32LE=function(a,b){return b||H(a,4,this.length),(this[a]|this[a+1]<<8|this[a+2]<<16)+16777216*this[a+3]},f.prototype.readUInt32BE=function(a,b){return b||H(a,4,this.length),16777216*this[a]+(this[a+1]<<16|this[a+2]<<8|this[a+3])},f.prototype.readIntLE=function(a,b,c){a=0|a,b=0|b,c||H(a,b,this.length);for(var d=this[a],e=1,f=0;++f<b&&(e*=256);)d+=this[a+f]*e;return e*=128,d>=e&&(d-=Math.pow(2,8*b)),d},f.prototype.readIntBE=function(a,b,c){a=0|a,b=0|b,c||H(a,b,this.length);for(var d=b,e=1,f=this[a+--d];d>0&&(e*=256);)f+=this[a+--d]*e;return e*=128,f>=e&&(f-=Math.pow(2,8*b)),f},f.prototype.readInt8=function(a,b){return b||H(a,1,this.length),128&this[a]?(255-this[a]+1)*-1:this[a]},f.prototype.readInt16LE=function(a,b){b||H(a,2,this.length);var c=this[a]|this[a+1]<<8;return 32768&c?4294901760|c:c},f.prototype.readInt16BE=function(a,b){b||H(a,2,this.length);var c=this[a+1]|this[a]<<8;return 32768&c?4294901760|c:c},f.prototype.readInt32LE=function(a,b){return b||H(a,4,this.length),this[a]|this[a+1]<<8|this[a+2]<<16|this[a+3]<<24},f.prototype.readInt32BE=function(a,b){return b||H(a,4,this.length),this[a]<<24|this[a+1]<<16|this[a+2]<<8|this[a+3]},f.prototype.readFloatLE=function(a,b){return b||H(a,4,this.length),X.read(this,a,!0,23,4)},f.prototype.readFloatBE=function(a,b){return b||H(a,4,this.length),X.read(this,a,!1,23,4)},f.prototype.readDoubleLE=function(a,b){return b||H(a,8,this.length),X.read(this,a,!0,52,8)},f.prototype.readDoubleBE=function(a,b){return b||H(a,8,this.length),X.read(this,a,!1,52,8)},f.prototype.writeUIntLE=function(a,b,c,d){a=+a,b=0|b,c=0|c,d||I(this,a,b,c,Math.pow(2,8*c),0);var e=1,f=0;for(this[b]=255&a;++f<c&&(e*=256);)this[b+f]=a/e&255;return b+c},f.prototype.writeUIntBE=function(a,b,c,d){a=+a,b=0|b,c=0|c,d||I(this,a,b,c,Math.pow(2,8*c),0);var e=c-1,f=1;for(this[b+e]=255&a;--e>=0&&(f*=256);)this[b+e]=a/f&255;return b+c},f.prototype.writeUInt8=function(a,b,c){return a=+a,b=0|b,c||I(this,a,b,1,255,0),f.TYPED_ARRAY_SUPPORT||(a=Math.floor(a)),this[b]=255&a,b+1},f.prototype.writeUInt16LE=function(a,b,c){return a=+a,b=0|b,c||I(this,a,b,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[b]=255&a,this[b+1]=a>>>8):J(this,a,b,!0),b+2},f.prototype.writeUInt16BE=function(a,b,c){return a=+a,b=0|b,c||I(this,a,b,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[b]=a>>>8,this[b+1]=255&a):J(this,a,b,!1),b+2},f.prototype.writeUInt32LE=function(a,b,c){return a=+a,b=0|b,c||I(this,a,b,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[b+3]=a>>>24,this[b+2]=a>>>16,this[b+1]=a>>>8,this[b]=255&a):K(this,a,b,!0),b+4},f.prototype.writeUInt32BE=function(a,b,c){return a=+a,b=0|b,c||I(this,a,b,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[b]=a>>>24,this[b+1]=a>>>16,this[b+2]=a>>>8,this[b+3]=255&a):K(this,a,b,!1),b+4},f.prototype.writeIntLE=function(a,b,c,d){if(a=+a,b=0|b,!d){var e=Math.pow(2,8*c-1);I(this,a,b,c,e-1,-e)}var f=0,g=1,h=a<0?1:0;for(this[b]=255&a;++f<c&&(g*=256);)this[b+f]=(a/g>>0)-h&255;return b+c},f.prototype.writeIntBE=function(a,b,c,d){if(a=+a,b=0|b,!d){var e=Math.pow(2,8*c-1);I(this,a,b,c,e-1,-e)}var f=c-1,g=1,h=a<0?1:0;for(this[b+f]=255&a;--f>=0&&(g*=256);)this[b+f]=(a/g>>0)-h&255;return b+c},f.prototype.writeInt8=function(a,b,c){return a=+a,b=0|b,c||I(this,a,b,1,127,-128),f.TYPED_ARRAY_SUPPORT||(a=Math.floor(a)),a<0&&(a=255+a+1),this[b]=255&a,b+1},f.prototype.writeInt16LE=function(a,b,c){return a=+a,b=0|b,c||I(this,a,b,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[b]=255&a,this[b+1]=a>>>8):J(this,a,b,!0),b+2},f.prototype.writeInt16BE=function(a,b,c){return a=+a,b=0|b,c||I(this,a,b,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[b]=a>>>8,this[b+1]=255&a):J(this,a,b,!1),b+2},f.prototype.writeInt32LE=function(a,b,c){return a=+a,b=0|b,c||I(this,a,b,4,2147483647,-2147483648),f.TYPED_ARRAY_SUPPORT?(this[b]=255&a,this[b+1]=a>>>8,this[b+2]=a>>>16,this[b+3]=a>>>24):K(this,a,b,!0),b+4},f.prototype.writeInt32BE=function(a,b,c){return a=+a,b=0|b,c||I(this,a,b,4,2147483647,-2147483648),a<0&&(a=4294967295+a+1),f.TYPED_ARRAY_SUPPORT?(this[b]=a>>>24,this[b+1]=a>>>16,this[b+2]=a>>>8,this[b+3]=255&a):K(this,a,b,!1),b+4},f.prototype.writeFloatLE=function(a,b,c){return M(this,a,b,!0,c)},f.prototype.writeFloatBE=function(a,b,c){return M(this,a,b,!1,c)},f.prototype.writeDoubleLE=function(a,b,c){return N(this,a,b,!0,c)},f.prototype.writeDoubleBE=function(a,b,c){return N(this,a,b,!1,c)},f.prototype.copy=function(a,b,c,d){if(c||(c=0),d||0===d||(d=this.length),b>=a.length&&(b=a.length),b||(b=0),d>0&&d<c&&(d=c),d===c)return 0;if(0===a.length||0===this.length)return 0;if(b<0)throw new RangeError("targetStart out of bounds");if(c<0||c>=this.length)throw new RangeError("sourceStart out of bounds");if(d<0)throw new RangeError("sourceEnd out of bounds");d>this.length&&(d=this.length),a.length-b<d-c&&(d=a.length-b+c);var e,g=d-c;if(this===a&&c<b&&b<d)for(e=g-1;e>=0;e--)a[e+b]=this[e+c];else if(g<1e3||!f.TYPED_ARRAY_SUPPORT)for(e=0;e<g;e++)a[e+b]=this[e+c];else a._set(this.subarray(c,c+g),b);return g},f.prototype.fill=function(a,b,c){if(a||(a=0),b||(b=0),c||(c=this.length),c<b)throw new RangeError("end < start");if(c!==b&&0!==this.length){if(b<0||b>=this.length)throw new RangeError("start out of bounds");if(c<0||c>this.length)throw new RangeError("end out of bounds");var d;if("number"==typeof a)for(d=b;d<c;d++)this[d]=a;else{var e=R(a.toString()),f=e.length;for(d=b;d<c;d++)this[d]=e[d%f]}return this}},f.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(f.TYPED_ARRAY_SUPPORT)return new f(this).buffer;for(var a=new Uint8Array(this.length),b=0,c=a.length;b<c;b+=1)a[b]=this[b];return a.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var _=f.prototype;f._augment=function(a){return a.constructor=f,a._isBuffer=!0,a._set=a.set,a.get=_.get,a.set=_.set,a.write=_.write,a.toString=_.toString,a.toLocaleString=_.toString,a.toJSON=_.toJSON,a.equals=_.equals,a.compare=_.compare,a.indexOf=_.indexOf,a.copy=_.copy,a.slice=_.slice,a.readUIntLE=_.readUIntLE,a.readUIntBE=_.readUIntBE,a.readUInt8=_.readUInt8,a.readUInt16LE=_.readUInt16LE,a.readUInt16BE=_.readUInt16BE,a.readUInt32LE=_.readUInt32LE,a.readUInt32BE=_.readUInt32BE,a.readIntLE=_.readIntLE,a.readIntBE=_.readIntBE,a.readInt8=_.readInt8,a.readInt16LE=_.readInt16LE,a.readInt16BE=_.readInt16BE,a.readInt32LE=_.readInt32LE,a.readInt32BE=_.readInt32BE,a.readFloatLE=_.readFloatLE,a.readFloatBE=_.readFloatBE,a.readDoubleLE=_.readDoubleLE,a.readDoubleBE=_.readDoubleBE,a.writeUInt8=_.writeUInt8,a.writeUIntLE=_.writeUIntLE,a.writeUIntBE=_.writeUIntBE,a.writeUInt16LE=_.writeUInt16LE,a.writeUInt16BE=_.writeUInt16BE,a.writeUInt32LE=_.writeUInt32LE,a.writeUInt32BE=_.writeUInt32BE,a.writeIntLE=_.writeIntLE,a.writeIntBE=_.writeIntBE,a.writeInt8=_.writeInt8,a.writeInt16LE=_.writeInt16LE,a.writeInt16BE=_.writeInt16BE,a.writeInt32LE=_.writeInt32LE,a.writeInt32BE=_.writeInt32BE,a.writeFloatLE=_.writeFloatLE,a.writeFloatBE=_.writeFloatBE,a.writeDoubleLE=_.writeDoubleLE,a.writeDoubleBE=_.writeDoubleBE,a.fill=_.fill,a.inspect=_.inspect,a.toArrayBuffer=_.toArrayBuffer,a};var aa=/[^+\/0-9A-Za-z-_]/g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":273,ieee754:274,isarray:275}],273:[function(a,b,c){var d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(a){"use strict";function b(a){var b=a.charCodeAt(0);return b===g||b===l?62:b===h||b===m?63:b<i?-1:b<i+10?b-i+26+26:b<k+26?b-k:b<j+26?b-j+26:void 0}function c(a){function c(a){j[l++]=a}var d,e,g,h,i,j;if(a.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var k=a.length;i="="===a.charAt(k-2)?2:"="===a.charAt(k-1)?1:0,j=new f(3*a.length/4-i),g=i>0?a.length-4:a.length;var l=0;for(d=0,e=0;d<g;d+=4,e+=3)h=b(a.charAt(d))<<18|b(a.charAt(d+1))<<12|b(a.charAt(d+2))<<6|b(a.charAt(d+3)),c((16711680&h)>>16),c((65280&h)>>8),c(255&h);return 2===i?(h=b(a.charAt(d))<<2|b(a.charAt(d+1))>>4,c(255&h)):1===i&&(h=b(a.charAt(d))<<10|b(a.charAt(d+1))<<4|b(a.charAt(d+2))>>2,c(h>>8&255),c(255&h)),j}function e(a){function b(a){return d.charAt(a)}function c(a){return b(a>>18&63)+b(a>>12&63)+b(a>>6&63)+b(63&a)}var e,f,g,h=a.length%3,i="";for(e=0,g=a.length-h;e<g;e+=3)f=(a[e]<<16)+(a[e+1]<<8)+a[e+2],i+=c(f);switch(h){case 1:f=a[a.length-1],i+=b(f>>2),i+=b(f<<4&63),i+="==";break;case 2:f=(a[a.length-2]<<8)+a[a.length-1],i+=b(f>>10),i+=b(f>>4&63),i+=b(f<<2&63),i+="="}return i}var f="undefined"!=typeof Uint8Array?Uint8Array:Array,g="+".charCodeAt(0),h="/".charCodeAt(0),i="0".charCodeAt(0),j="a".charCodeAt(0),k="A".charCodeAt(0),l="-".charCodeAt(0),m="_".charCodeAt(0);a.toByteArray=c,a.fromByteArray=e}("undefined"==typeof c?this.base64js={}:c)},{}],274:[function(a,b,c){c.read=function(a,b,c,d,e){var f,g,h=8*e-d-1,i=(1<<h)-1,j=i>>1,k=-7,l=c?e-1:0,m=c?-1:1,n=a[b+l];for(l+=m,f=n&(1<<-k)-1,n>>=-k,k+=h;k>0;f=256*f+a[b+l],l+=m,k-=8);for(g=f&(1<<-k)-1,f>>=-k,k+=d;k>0;g=256*g+a[b+l],l+=m,k-=8);if(0===f)f=1-j;else{if(f===i)return g?NaN:(n?-1:1)*(1/0);g+=Math.pow(2,d),f-=j}return(n?-1:1)*g*Math.pow(2,f-d)},c.write=function(a,b,c,d,e,f){var g,h,i,j=8*f-e-1,k=(1<<j)-1,l=k>>1,m=23===e?Math.pow(2,-24)-Math.pow(2,-77):0,n=d?0:f-1,o=d?1:-1,p=b<0||0===b&&1/b<0?1:0;for(b=Math.abs(b),isNaN(b)||b===1/0?(h=isNaN(b)?1:0,g=k):(g=Math.floor(Math.log(b)/Math.LN2),b*(i=Math.pow(2,-g))<1&&(g--,i*=2),b+=g+l>=1?m/i:m*Math.pow(2,1-l),b*i>=2&&(g++,i/=2),g+l>=k?(h=0,g=k):g+l>=1?(h=(b*i-1)*Math.pow(2,e),g+=l):(h=b*Math.pow(2,l-1)*Math.pow(2,e),g=0));e>=8;a[c+n]=255&h,n+=o,h/=256,e-=8);for(g=g<<e|h,j+=e;j>0;a[c+n]=255&g,n+=o,g/=256,j-=8);a[c+n-o]|=128*p}},{}],275:[function(a,b,c){var d={}.toString;b.exports=Array.isArray||function(a){return"[object Array]"==d.call(a)}},{}],276:[function(a,b,c){arguments[4][154][0].apply(c,arguments)},{dup:154}],277:[function(a,b,c){function d(a){return!!a.constructor&&"function"==typeof a.constructor.isBuffer&&a.constructor.isBuffer(a)}function e(a){return"function"==typeof a.readFloatLE&&"function"==typeof a.slice&&d(a.slice(0,0))}b.exports=function(a){return null!=a&&(d(a)||e(a)||!!a._isBuffer)}},{}],278:[function(a,b,c){function d(){throw new Error("setTimeout has not been defined")}function e(){throw new Error("clearTimeout has not been defined")}function f(a){if(l===setTimeout)return setTimeout(a,0);if((l===d||!l)&&setTimeout)return l=setTimeout,setTimeout(a,0);try{return l(a,0)}catch(b){try{return l.call(null,a,0)}catch(b){return l.call(this,a,0)}}}function g(a){if(m===clearTimeout)return clearTimeout(a);if((m===e||!m)&&clearTimeout)return m=clearTimeout,clearTimeout(a);try{return m(a)}catch(b){try{return m.call(null,a)}catch(b){return m.call(this,a)}}}function h(){q&&o&&(q=!1,o.length?p=o.concat(p):r=-1,p.length&&i())}function i(){if(!q){var a=f(h);q=!0;for(var b=p.length;b;){for(o=p,p=[];++r<b;)o&&o[r].run();r=-1,b=p.length}o=null,q=!1,g(a)}}function j(a,b){this.fun=a,this.array=b}function k(){}var l,m,n=b.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:d}catch(a){l=d}try{m="function"==typeof clearTimeout?clearTimeout:e}catch(a){m=e}}();var o,p=[],q=!1,r=-1;n.nextTick=function(a){var b=new Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)b[c-1]=arguments[c];p.push(new j(a,b)),1!==p.length||q||f(i)},j.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=k,n.addListener=k,n.once=k,n.off=k,n.removeListener=k,n.removeAllListeners=k,n.emit=k,n.prependListener=k,n.prependOnceListener=k,n.listeners=function(a){return[]},n.binding=function(a){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(a){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},{}],279:[function(a,b,c){b.exports=a("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":280}],280:[function(a,b,c){"use strict";function d(a){return this instanceof d?(j.call(this,a),k.call(this,a),a&&a.readable===!1&&(this.readable=!1),a&&a.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,a&&a.allowHalfOpen===!1&&(this.allowHalfOpen=!1),void this.once("end",e)):new d(a)}function e(){this.allowHalfOpen||this._writableState.ended||g(f,this)}function f(a){a.end()}var g=a("process-nextick-args"),h=Object.keys||function(a){var b=[];for(var c in a)b.push(c);return b};b.exports=d;var i=a("core-util-is");i.inherits=a("inherits");var j=a("./_stream_readable"),k=a("./_stream_writable");i.inherits(d,j);for(var l=h(k.prototype),m=0;m<l.length;m++){var n=l[m];d.prototype[n]||(d.prototype[n]=k.prototype[n])}Object.defineProperty(d.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed);
},set:function(a){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=a,this._writableState.destroyed=a)}}),d.prototype._destroy=function(a,b){this.push(null),this.end(),g(b,a)}},{"./_stream_readable":282,"./_stream_writable":284,"core-util-is":288,inherits:276,"process-nextick-args":290}],281:[function(a,b,c){"use strict";function d(a){return this instanceof d?void e.call(this,a):new d(a)}b.exports=d;var e=a("./_stream_transform"),f=a("core-util-is");f.inherits=a("inherits"),f.inherits(d,e),d.prototype._transform=function(a,b,c){c(null,a)}},{"./_stream_transform":283,"core-util-is":288,inherits:276}],282:[function(a,b,c){(function(c,d){"use strict";function e(a){return L.from(a)}function f(a){return L.isBuffer(a)||a instanceof M}function g(a,b,c){return"function"==typeof a.prependListener?a.prependListener(b,c):void(a._events&&a._events[b]?I(a._events[b])?a._events[b].unshift(c):a._events[b]=[c,a._events[b]]:a.on(b,c))}function h(b,c){H=H||a("./_stream_duplex"),b=b||{},this.objectMode=!!b.objectMode,c instanceof H&&(this.objectMode=this.objectMode||!!b.readableObjectMode);var d=b.highWaterMark,e=this.objectMode?16:16384;this.highWaterMark=d||0===d?d:e,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new R,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=b.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,b.encoding&&(Q||(Q=a("string_decoder/").StringDecoder),this.decoder=new Q(b.encoding),this.encoding=b.encoding)}function i(b){return H=H||a("./_stream_duplex"),this instanceof i?(this._readableState=new h(b,this),this.readable=!0,b&&("function"==typeof b.read&&(this._read=b.read),"function"==typeof b.destroy&&(this._destroy=b.destroy)),void K.call(this)):new i(b)}function j(a,b,c,d,f){var g=a._readableState;if(null===b)g.reading=!1,p(a,g);else{var h;f||(h=l(g,b)),h?a.emit("error",h):g.objectMode||b&&b.length>0?("string"==typeof b||g.objectMode||Object.getPrototypeOf(b)===L.prototype||(b=e(b)),d?g.endEmitted?a.emit("error",new Error("stream.unshift() after end event")):k(a,g,b,!0):g.ended?a.emit("error",new Error("stream.push() after EOF")):(g.reading=!1,g.decoder&&!c?(b=g.decoder.write(b),g.objectMode||0!==b.length?k(a,g,b,!1):s(a,g)):k(a,g,b,!1))):d||(g.reading=!1)}return m(g)}function k(a,b,c,d){b.flowing&&0===b.length&&!b.sync?(a.emit("data",c),a.read(0)):(b.length+=b.objectMode?1:c.length,d?b.buffer.unshift(c):b.buffer.push(c),b.needReadable&&q(a)),s(a,b)}function l(a,b){var c;return f(b)||"string"==typeof b||void 0===b||a.objectMode||(c=new TypeError("Invalid non-string/buffer chunk")),c}function m(a){return!a.ended&&(a.needReadable||a.length<a.highWaterMark||0===a.length)}function n(a){return a>=U?a=U:(a--,a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,a|=a>>>16,a++),a}function o(a,b){return a<=0||0===b.length&&b.ended?0:b.objectMode?1:a!==a?b.flowing&&b.length?b.buffer.head.data.length:b.length:(a>b.highWaterMark&&(b.highWaterMark=n(a)),a<=b.length?a:b.ended?b.length:(b.needReadable=!0,0))}function p(a,b){if(!b.ended){if(b.decoder){var c=b.decoder.end();c&&c.length&&(b.buffer.push(c),b.length+=b.objectMode?1:c.length)}b.ended=!0,q(a)}}function q(a){var b=a._readableState;b.needReadable=!1,b.emittedReadable||(P("emitReadable",b.flowing),b.emittedReadable=!0,b.sync?G(r,a):r(a))}function r(a){P("emit readable"),a.emit("readable"),y(a)}function s(a,b){b.readingMore||(b.readingMore=!0,G(t,a,b))}function t(a,b){for(var c=b.length;!b.reading&&!b.flowing&&!b.ended&&b.length<b.highWaterMark&&(P("maybeReadMore read 0"),a.read(0),c!==b.length);)c=b.length;b.readingMore=!1}function u(a){return function(){var b=a._readableState;P("pipeOnDrain",b.awaitDrain),b.awaitDrain&&b.awaitDrain--,0===b.awaitDrain&&J(a,"data")&&(b.flowing=!0,y(a))}}function v(a){P("readable nexttick read 0"),a.read(0)}function w(a,b){b.resumeScheduled||(b.resumeScheduled=!0,G(x,a,b))}function x(a,b){b.reading||(P("resume read 0"),a.read(0)),b.resumeScheduled=!1,b.awaitDrain=0,a.emit("resume"),y(a),b.flowing&&!b.reading&&a.read(0)}function y(a){var b=a._readableState;for(P("flow",b.flowing);b.flowing&&null!==a.read(););}function z(a,b){if(0===b.length)return null;var c;return b.objectMode?c=b.buffer.shift():!a||a>=b.length?(c=b.decoder?b.buffer.join(""):1===b.buffer.length?b.buffer.head.data:b.buffer.concat(b.length),b.buffer.clear()):c=A(a,b.buffer,b.decoder),c}function A(a,b,c){var d;return a<b.head.data.length?(d=b.head.data.slice(0,a),b.head.data=b.head.data.slice(a)):d=a===b.head.data.length?b.shift():c?B(a,b):C(a,b),d}function B(a,b){var c=b.head,d=1,e=c.data;for(a-=e.length;c=c.next;){var f=c.data,g=a>f.length?f.length:a;if(e+=g===f.length?f:f.slice(0,a),a-=g,0===a){g===f.length?(++d,c.next?b.head=c.next:b.head=b.tail=null):(b.head=c,c.data=f.slice(g));break}++d}return b.length-=d,e}function C(a,b){var c=L.allocUnsafe(a),d=b.head,e=1;for(d.data.copy(c),a-=d.data.length;d=d.next;){var f=d.data,g=a>f.length?f.length:a;if(f.copy(c,c.length-a,0,g),a-=g,0===a){g===f.length?(++e,d.next?b.head=d.next:b.head=b.tail=null):(b.head=d,d.data=f.slice(g));break}++e}return b.length-=e,c}function D(a){var b=a._readableState;if(b.length>0)throw new Error('"endReadable()" called on non-empty stream');b.endEmitted||(b.ended=!0,G(E,b,a))}function E(a,b){a.endEmitted||0!==a.length||(a.endEmitted=!0,b.readable=!1,b.emit("end"))}function F(a,b){for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1}var G=a("process-nextick-args");b.exports=i;var H,I=a("isarray");i.ReadableState=h;var J=(a("events").EventEmitter,function(a,b){return a.listeners(b).length}),K=a("./internal/streams/stream"),L=a("safe-buffer").Buffer,M=d.Uint8Array||function(){},N=a("core-util-is");N.inherits=a("inherits");var O=a("util"),P=void 0;P=O&&O.debuglog?O.debuglog("stream"):function(){};var Q,R=a("./internal/streams/BufferList"),S=a("./internal/streams/destroy");N.inherits(i,K);var T=["error","close","destroy","pause","resume"];Object.defineProperty(i.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(a){this._readableState&&(this._readableState.destroyed=a)}}),i.prototype.destroy=S.destroy,i.prototype._undestroy=S.undestroy,i.prototype._destroy=function(a,b){this.push(null),b(a)},i.prototype.push=function(a,b){var c,d=this._readableState;return d.objectMode?c=!0:"string"==typeof a&&(b=b||d.defaultEncoding,b!==d.encoding&&(a=L.from(a,b),b=""),c=!0),j(this,a,b,!1,c)},i.prototype.unshift=function(a){return j(this,a,null,!0,!1)},i.prototype.isPaused=function(){return this._readableState.flowing===!1},i.prototype.setEncoding=function(b){return Q||(Q=a("string_decoder/").StringDecoder),this._readableState.decoder=new Q(b),this._readableState.encoding=b,this};var U=8388608;i.prototype.read=function(a){P("read",a),a=parseInt(a,10);var b=this._readableState,c=a;if(0!==a&&(b.emittedReadable=!1),0===a&&b.needReadable&&(b.length>=b.highWaterMark||b.ended))return P("read: emitReadable",b.length,b.ended),0===b.length&&b.ended?D(this):q(this),null;if(a=o(a,b),0===a&&b.ended)return 0===b.length&&D(this),null;var d=b.needReadable;P("need readable",d),(0===b.length||b.length-a<b.highWaterMark)&&(d=!0,P("length less than watermark",d)),b.ended||b.reading?(d=!1,P("reading or ended",d)):d&&(P("do read"),b.reading=!0,b.sync=!0,0===b.length&&(b.needReadable=!0),this._read(b.highWaterMark),b.sync=!1,b.reading||(a=o(c,b)));var e;return e=a>0?z(a,b):null,null===e?(b.needReadable=!0,a=0):b.length-=a,0===b.length&&(b.ended||(b.needReadable=!0),c!==a&&b.ended&&D(this)),null!==e&&this.emit("data",e),e},i.prototype._read=function(a){this.emit("error",new Error("_read() is not implemented"))},i.prototype.pipe=function(a,b){function d(a,b){P("onunpipe"),a===m&&b&&b.hasUnpiped===!1&&(b.hasUnpiped=!0,f())}function e(){P("onend"),a.end()}function f(){P("cleanup"),a.removeListener("close",j),a.removeListener("finish",k),a.removeListener("drain",q),a.removeListener("error",i),a.removeListener("unpipe",d),m.removeListener("end",e),m.removeListener("end",l),m.removeListener("data",h),r=!0,!n.awaitDrain||a._writableState&&!a._writableState.needDrain||q()}function h(b){P("ondata"),s=!1;var c=a.write(b);!1!==c||s||((1===n.pipesCount&&n.pipes===a||n.pipesCount>1&&F(n.pipes,a)!==-1)&&!r&&(P("false write response, pause",m._readableState.awaitDrain),m._readableState.awaitDrain++,s=!0),m.pause())}function i(b){P("onerror",b),l(),a.removeListener("error",i),0===J(a,"error")&&a.emit("error",b)}function j(){a.removeListener("finish",k),l()}function k(){P("onfinish"),a.removeListener("close",j),l()}function l(){P("unpipe"),m.unpipe(a)}var m=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=a;break;case 1:n.pipes=[n.pipes,a];break;default:n.pipes.push(a)}n.pipesCount+=1,P("pipe count=%d opts=%j",n.pipesCount,b);var o=(!b||b.end!==!1)&&a!==c.stdout&&a!==c.stderr,p=o?e:l;n.endEmitted?G(p):m.once("end",p),a.on("unpipe",d);var q=u(m);a.on("drain",q);var r=!1,s=!1;return m.on("data",h),g(a,"error",i),a.once("close",j),a.once("finish",k),a.emit("pipe",m),n.flowing||(P("pipe resume"),m.resume()),a},i.prototype.unpipe=function(a){var b=this._readableState,c={hasUnpiped:!1};if(0===b.pipesCount)return this;if(1===b.pipesCount)return a&&a!==b.pipes?this:(a||(a=b.pipes),b.pipes=null,b.pipesCount=0,b.flowing=!1,a&&a.emit("unpipe",this,c),this);if(!a){var d=b.pipes,e=b.pipesCount;b.pipes=null,b.pipesCount=0,b.flowing=!1;for(var f=0;f<e;f++)d[f].emit("unpipe",this,c);return this}var g=F(b.pipes,a);return g===-1?this:(b.pipes.splice(g,1),b.pipesCount-=1,1===b.pipesCount&&(b.pipes=b.pipes[0]),a.emit("unpipe",this,c),this)},i.prototype.on=function(a,b){var c=K.prototype.on.call(this,a,b);if("data"===a)this._readableState.flowing!==!1&&this.resume();else if("readable"===a){var d=this._readableState;d.endEmitted||d.readableListening||(d.readableListening=d.needReadable=!0,d.emittedReadable=!1,d.reading?d.length&&q(this):G(v,this))}return c},i.prototype.addListener=i.prototype.on,i.prototype.resume=function(){var a=this._readableState;return a.flowing||(P("resume"),a.flowing=!0,w(this,a)),this},i.prototype.pause=function(){return P("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(P("pause"),this._readableState.flowing=!1,this.emit("pause")),this},i.prototype.wrap=function(a){var b=this._readableState,c=!1,d=this;a.on("end",function(){if(P("wrapped end"),b.decoder&&!b.ended){var a=b.decoder.end();a&&a.length&&d.push(a)}d.push(null)}),a.on("data",function(e){if(P("wrapped data"),b.decoder&&(e=b.decoder.write(e)),(!b.objectMode||null!==e&&void 0!==e)&&(b.objectMode||e&&e.length)){var f=d.push(e);f||(c=!0,a.pause())}});for(var e in a)void 0===this[e]&&"function"==typeof a[e]&&(this[e]=function(b){return function(){return a[b].apply(a,arguments)}}(e));for(var f=0;f<T.length;f++)a.on(T[f],d.emit.bind(d,T[f]));return d._read=function(b){P("wrapped _read",b),c&&(c=!1,a.resume())},d},i._fromList=z}).call(this,a("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./_stream_duplex":280,"./internal/streams/BufferList":285,"./internal/streams/destroy":286,"./internal/streams/stream":287,_process:278,"core-util-is":288,events:759,inherits:276,isarray:289,"process-nextick-args":290,"safe-buffer":291,"string_decoder/":292,util:271}],283:[function(a,b,c){"use strict";function d(a){this.afterTransform=function(b,c){return e(a,b,c)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function e(a,b,c){var d=a._transformState;d.transforming=!1;var e=d.writecb;if(!e)return a.emit("error",new Error("write callback called multiple times"));d.writechunk=null,d.writecb=null,null!==c&&void 0!==c&&a.push(c),e(b);var f=a._readableState;f.reading=!1,(f.needReadable||f.length<f.highWaterMark)&&a._read(f.highWaterMark)}function f(a){if(!(this instanceof f))return new f(a);h.call(this,a),this._transformState=new d(this);var b=this;this._readableState.needReadable=!0,this._readableState.sync=!1,a&&("function"==typeof a.transform&&(this._transform=a.transform),"function"==typeof a.flush&&(this._flush=a.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(a,c){g(b,a,c)}):g(b)})}function g(a,b,c){if(b)return a.emit("error",b);null!==c&&void 0!==c&&a.push(c);var d=a._writableState,e=a._transformState;if(d.length)throw new Error("Calling transform done when ws.length != 0");if(e.transforming)throw new Error("Calling transform done when still transforming");return a.push(null)}b.exports=f;var h=a("./_stream_duplex"),i=a("core-util-is");i.inherits=a("inherits"),i.inherits(f,h),f.prototype.push=function(a,b){return this._transformState.needTransform=!1,h.prototype.push.call(this,a,b)},f.prototype._transform=function(a,b,c){throw new Error("_transform() is not implemented")},f.prototype._write=function(a,b,c){var d=this._transformState;if(d.writecb=c,d.writechunk=a,d.writeencoding=b,!d.transforming){var e=this._readableState;(d.needTransform||e.needReadable||e.length<e.highWaterMark)&&this._read(e.highWaterMark)}},f.prototype._read=function(a){var b=this._transformState;null!==b.writechunk&&b.writecb&&!b.transforming?(b.transforming=!0,this._transform(b.writechunk,b.writeencoding,b.afterTransform)):b.needTransform=!0},f.prototype._destroy=function(a,b){var c=this;h.prototype._destroy.call(this,a,function(a){b(a),c.emit("close")})}},{"./_stream_duplex":280,"core-util-is":288,inherits:276}],284:[function(a,b,c){(function(c,d){"use strict";function e(a){var b=this;this.next=null,this.entry=null,this.finish=function(){A(b,a)}}function f(a){return H.from(a)}function g(a){return H.isBuffer(a)||a instanceof I}function h(){}function i(b,c){C=C||a("./_stream_duplex"),b=b||{},this.objectMode=!!b.objectMode,c instanceof C&&(this.objectMode=this.objectMode||!!b.writableObjectMode);var d=b.highWaterMark,f=this.objectMode?16:16384;this.highWaterMark=d||0===d?d:f,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var g=b.decodeStrings===!1;this.decodeStrings=!g,this.defaultEncoding=b.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(a){r(c,a)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}function j(b){return C=C||a("./_stream_duplex"),K.call(j,this)||this instanceof C?(this._writableState=new i(b,this),this.writable=!0,b&&("function"==typeof b.write&&(this._write=b.write),"function"==typeof b.writev&&(this._writev=b.writev),"function"==typeof b.destroy&&(this._destroy=b.destroy),"function"==typeof b["final"]&&(this._final=b["final"])),void G.call(this)):new j(b)}function k(a,b){var c=new Error("write after end");a.emit("error",c),B(b,c)}function l(a,b,c,d){var e=!0,f=!1;return null===c?f=new TypeError("May not write null values to stream"):"string"==typeof c||void 0===c||b.objectMode||(f=new TypeError("Invalid non-string/buffer chunk")),f&&(a.emit("error",f),B(d,f),e=!1),e}function m(a,b,c){return a.objectMode||a.decodeStrings===!1||"string"!=typeof b||(b=H.from(b,c)),b}function n(a,b,c,d,e,f){if(!c){var g=m(b,d,e);d!==g&&(c=!0,e="buffer",d=g)}var h=b.objectMode?1:d.length;b.length+=h;var i=b.length<b.highWaterMark;if(i||(b.needDrain=!0),b.writing||b.corked){var j=b.lastBufferedRequest;b.lastBufferedRequest={chunk:d,encoding:e,isBuf:c,callback:f,next:null},j?j.next=b.lastBufferedRequest:b.bufferedRequest=b.lastBufferedRequest,b.bufferedRequestCount+=1}else o(a,b,!1,h,d,e,f);return i}function o(a,b,c,d,e,f,g){b.writelen=d,b.writecb=g,b.writing=!0,b.sync=!0,c?a._writev(e,b.onwrite):a._write(e,f,b.onwrite),b.sync=!1}function p(a,b,c,d,e){--b.pendingcb,c?(B(e,d),B(y,a,b),a._writableState.errorEmitted=!0,a.emit("error",d)):(e(d),a._writableState.errorEmitted=!0,a.emit("error",d),y(a,b))}function q(a){a.writing=!1,a.writecb=null,a.length-=a.writelen,a.writelen=0}function r(a,b){var c=a._writableState,d=c.sync,e=c.writecb;if(q(c),b)p(a,c,d,b,e);else{var f=v(c);f||c.corked||c.bufferProcessing||!c.bufferedRequest||u(a,c),d?D(s,a,c,f,e):s(a,c,f,e)}}function s(a,b,c,d){c||t(a,b),b.pendingcb--,d(),y(a,b)}function t(a,b){0===b.length&&b.needDrain&&(b.needDrain=!1,a.emit("drain"))}function u(a,b){b.bufferProcessing=!0;var c=b.bufferedRequest;if(a._writev&&c&&c.next){var d=b.bufferedRequestCount,f=new Array(d),g=b.corkedRequestsFree;g.entry=c;for(var h=0,i=!0;c;)f[h]=c,c.isBuf||(i=!1),c=c.next,h+=1;f.allBuffers=i,o(a,b,!0,b.length,f,"",g.finish),b.pendingcb++,b.lastBufferedRequest=null,g.next?(b.corkedRequestsFree=g.next,g.next=null):b.corkedRequestsFree=new e(b)}else{for(;c;){var j=c.chunk,k=c.encoding,l=c.callback,m=b.objectMode?1:j.length;if(o(a,b,!1,m,j,k,l),c=c.next,b.writing)break}null===c&&(b.lastBufferedRequest=null)}b.bufferedRequestCount=0,b.bufferedRequest=c,b.bufferProcessing=!1}function v(a){return a.ending&&0===a.length&&null===a.bufferedRequest&&!a.finished&&!a.writing}function w(a,b){a._final(function(c){b.pendingcb--,c&&a.emit("error",c),b.prefinished=!0,a.emit("prefinish"),y(a,b)})}function x(a,b){b.prefinished||b.finalCalled||("function"==typeof a._final?(b.pendingcb++,b.finalCalled=!0,B(w,a,b)):(b.prefinished=!0,a.emit("prefinish")))}function y(a,b){var c=v(b);return c&&(x(a,b),0===b.pendingcb&&(b.finished=!0,a.emit("finish"))),c}function z(a,b,c){b.ending=!0,y(a,b),c&&(b.finished?B(c):a.once("finish",c)),b.ended=!0,a.writable=!1}function A(a,b,c){var d=a.entry;for(a.entry=null;d;){var e=d.callback;b.pendingcb--,e(c),d=d.next}b.corkedRequestsFree?b.corkedRequestsFree.next=a:b.corkedRequestsFree=a}var B=a("process-nextick-args");b.exports=j;var C,D=!c.browser&&["v0.10","v0.9."].indexOf(c.version.slice(0,5))>-1?setImmediate:B;j.WritableState=i;var E=a("core-util-is");E.inherits=a("inherits");var F={deprecate:a("util-deprecate")},G=a("./internal/streams/stream"),H=a("safe-buffer").Buffer,I=d.Uint8Array||function(){},J=a("./internal/streams/destroy");E.inherits(j,G),i.prototype.getBuffer=function(){for(var a=this.bufferedRequest,b=[];a;)b.push(a),a=a.next;return b},function(){try{Object.defineProperty(i.prototype,"buffer",{get:F.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(a){}}();var K;"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(K=Function.prototype[Symbol.hasInstance],Object.defineProperty(j,Symbol.hasInstance,{value:function(a){return!!K.call(this,a)||a&&a._writableState instanceof i}})):K=function(a){return a instanceof this},j.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},j.prototype.write=function(a,b,c){var d=this._writableState,e=!1,i=g(a)&&!d.objectMode;return i&&!H.isBuffer(a)&&(a=f(a)),"function"==typeof b&&(c=b,b=null),i?b="buffer":b||(b=d.defaultEncoding),"function"!=typeof c&&(c=h),d.ended?k(this,c):(i||l(this,d,a,c))&&(d.pendingcb++,e=n(this,d,i,a,b,c)),e},j.prototype.cork=function(){var a=this._writableState;a.corked++},j.prototype.uncork=function(){var a=this._writableState;a.corked&&(a.corked--,a.writing||a.corked||a.finished||a.bufferProcessing||!a.bufferedRequest||u(this,a))},j.prototype.setDefaultEncoding=function(a){if("string"==typeof a&&(a=a.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((a+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+a);return this._writableState.defaultEncoding=a,this},j.prototype._write=function(a,b,c){c(new Error("_write() is not implemented"))},j.prototype._writev=null,j.prototype.end=function(a,b,c){var d=this._writableState;"function"==typeof a?(c=a,a=null,b=null):"function"==typeof b&&(c=b,b=null),null!==a&&void 0!==a&&this.write(a,b),d.corked&&(d.corked=1,this.uncork()),d.ending||d.finished||z(this,d,c)},Object.defineProperty(j.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(a){this._writableState&&(this._writableState.destroyed=a)}}),j.prototype.destroy=J.destroy,j.prototype._undestroy=J.undestroy,j.prototype._destroy=function(a,b){this.end(),b(a)}}).call(this,a("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./_stream_duplex":280,"./internal/streams/destroy":286,"./internal/streams/stream":287,_process:278,"core-util-is":288,inherits:276,"process-nextick-args":290,"safe-buffer":291,"util-deprecate":293}],285:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b,c){a.copy(b,c)}var f=a("safe-buffer").Buffer;b.exports=function(){function a(){d(this,a),this.head=null,this.tail=null,this.length=0}return a.prototype.push=function(a){var b={data:a,next:null};this.length>0?this.tail.next=b:this.head=b,this.tail=b,++this.length},a.prototype.unshift=function(a){var b={data:a,next:this.head};0===this.length&&(this.tail=b),this.head=b,++this.length},a.prototype.shift=function(){if(0!==this.length){var a=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,a}},a.prototype.clear=function(){this.head=this.tail=null,this.length=0},a.prototype.join=function(a){if(0===this.length)return"";for(var b=this.head,c=""+b.data;b=b.next;)c+=a+b.data;return c},a.prototype.concat=function(a){if(0===this.length)return f.alloc(0);if(1===this.length)return this.head.data;for(var b=f.allocUnsafe(a>>>0),c=this.head,d=0;c;)e(c.data,b,d),d+=c.data.length,c=c.next;return b},a}()},{"safe-buffer":291}],286:[function(a,b,c){"use strict";function d(a,b){var c=this,d=this._readableState&&this._readableState.destroyed,e=this._writableState&&this._writableState.destroyed;return d||e?void(b?b(a):!a||this._writableState&&this._writableState.errorEmitted||g(f,this,a)):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),void this._destroy(a||null,function(a){!b&&a?(g(f,c,a),c._writableState&&(c._writableState.errorEmitted=!0)):b&&b(a)}))}function e(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function f(a,b){a.emit("error",b)}var g=a("process-nextick-args");b.exports={destroy:d,undestroy:e}},{"process-nextick-args":290}],287:[function(a,b,c){b.exports=a("events").EventEmitter},{events:759}],288:[function(a,b,c){(function(a){function b(a){return Array.isArray?Array.isArray(a):"[object Array]"===q(a)}function d(a){return"boolean"==typeof a}function e(a){return null===a}function f(a){return null==a}function g(a){return"number"==typeof a}function h(a){return"string"==typeof a}function i(a){return"symbol"==typeof a}function j(a){return void 0===a}function k(a){return"[object RegExp]"===q(a)}function l(a){return"object"==typeof a&&null!==a}function m(a){return"[object Date]"===q(a)}function n(a){return"[object Error]"===q(a)||a instanceof Error}function o(a){return"function"==typeof a}function p(a){return null===a||"boolean"==typeof a||"number"==typeof a||"string"==typeof a||"symbol"==typeof a||"undefined"==typeof a}function q(a){return Object.prototype.toString.call(a)}c.isArray=b,c.isBoolean=d,c.isNull=e,c.isNullOrUndefined=f,c.isNumber=g,c.isString=h,c.isSymbol=i,c.isUndefined=j,c.isRegExp=k,c.isObject=l,c.isDate=m,c.isError=n,c.isFunction=o,c.isPrimitive=p,c.isBuffer=a.isBuffer}).call(this,{isBuffer:a("../../../../insert-module-globals/node_modules/is-buffer/index.js")})},{"../../../../insert-module-globals/node_modules/is-buffer/index.js":277}],289:[function(a,b,c){arguments[4][275][0].apply(c,arguments)},{dup:275}],290:[function(a,b,c){(function(a){"use strict";function c(b,c,d,e){if("function"!=typeof b)throw new TypeError('"callback" argument must be a function');var f,g,h=arguments.length;switch(h){case 0:case 1:return a.nextTick(b);case 2:return a.nextTick(function(){b.call(null,c)});case 3:return a.nextTick(function(){b.call(null,c,d)});case 4:return a.nextTick(function(){b.call(null,c,d,e)});default:for(f=new Array(h-1),g=0;g<f.length;)f[g++]=arguments[g];return a.nextTick(function(){b.apply(null,f)})}}!a.version||0===a.version.indexOf("v0.")||0===a.version.indexOf("v1.")&&0!==a.version.indexOf("v1.8.")?b.exports=c:b.exports=a.nextTick}).call(this,a("_process"))},{_process:278}],291:[function(a,b,c){function d(a,b){for(var c in a)b[c]=a[c]}function e(a,b,c){return g(a,b,c)}var f=a("buffer"),g=f.Buffer;g.from&&g.alloc&&g.allocUnsafe&&g.allocUnsafeSlow?b.exports=f:(d(f,c),c.Buffer=e),d(g,e),e.from=function(a,b,c){if("number"==typeof a)throw new TypeError("Argument must not be a number");return g(a,b,c)},e.alloc=function(a,b,c){if("number"!=typeof a)throw new TypeError("Argument must be a number");var d=g(a);return void 0!==b?"string"==typeof c?d.fill(b,c):d.fill(b):d.fill(0),d},e.allocUnsafe=function(a){if("number"!=typeof a)throw new TypeError("Argument must be a number");return g(a)},e.allocUnsafeSlow=function(a){if("number"!=typeof a)throw new TypeError("Argument must be a number");return f.SlowBuffer(a)}},{buffer:272}],292:[function(a,b,c){"use strict";function d(a){if(!a)return"utf8";for(var b;;)switch(a){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return a;default:if(b)return;a=(""+a).toLowerCase(),b=!0}}function e(a){var b=d(a);if("string"!=typeof b&&(s.isEncoding===t||!t(a)))throw new Error("Unknown encoding: "+a);return b||a}function f(a){this.encoding=e(a);var b;switch(this.encoding){case"utf16le":this.text=m,this.end=n,b=4;break;case"utf8":this.fillLast=j,b=4;break;case"base64":this.text=o,this.end=p,b=3;break;default:return this.write=q,void(this.end=r)}this.lastNeed=0,this.lastTotal=0,this.lastChar=s.allocUnsafe(b)}function g(a){return a<=127?0:a>>5===6?2:a>>4===14?3:a>>3===30?4:-1}function h(a,b,c){var d=b.length-1;if(d<c)return 0;var e=g(b[d]);return e>=0?(e>0&&(a.lastNeed=e-1),e):--d<c?0:(e=g(b[d]),e>=0?(e>0&&(a.lastNeed=e-2),e):--d<c?0:(e=g(b[d]),e>=0?(e>0&&(2===e?e=0:a.lastNeed=e-3),e):0))}function i(a,b,c){if(128!==(192&b[0]))return a.lastNeed=0,"�".repeat(c);if(a.lastNeed>1&&b.length>1){if(128!==(192&b[1]))return a.lastNeed=1,"�".repeat(c+1);if(a.lastNeed>2&&b.length>2&&128!==(192&b[2]))return a.lastNeed=2,"�".repeat(c+2)}}function j(a){var b=this.lastTotal-this.lastNeed,c=i(this,a,b);return void 0!==c?c:this.lastNeed<=a.length?(a.copy(this.lastChar,b,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(a.copy(this.lastChar,b,0,a.length),void(this.lastNeed-=a.length))}function k(a,b){var c=h(this,a,b);if(!this.lastNeed)return a.toString("utf8",b);this.lastTotal=c;var d=a.length-(c-this.lastNeed);return a.copy(this.lastChar,0,d),a.toString("utf8",b,d)}function l(a){var b=a&&a.length?this.write(a):"";return this.lastNeed?b+"�".repeat(this.lastTotal-this.lastNeed):b}function m(a,b){if((a.length-b)%2===0){var c=a.toString("utf16le",b);if(c){var d=c.charCodeAt(c.length-1);if(d>=55296&&d<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=a[a.length-2],this.lastChar[1]=a[a.length-1],c.slice(0,-1)}return c}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=a[a.length-1],a.toString("utf16le",b,a.length-1)}function n(a){var b=a&&a.length?this.write(a):"";if(this.lastNeed){var c=this.lastTotal-this.lastNeed;return b+this.lastChar.toString("utf16le",0,c)}return b}function o(a,b){var c=(a.length-b)%3;return 0===c?a.toString("base64",b):(this.lastNeed=3-c,this.lastTotal=3,1===c?this.lastChar[0]=a[a.length-1]:(this.lastChar[0]=a[a.length-2],this.lastChar[1]=a[a.length-1]),a.toString("base64",b,a.length-c))}function p(a){var b=a&&a.length?this.write(a):"";return this.lastNeed?b+this.lastChar.toString("base64",0,3-this.lastNeed):b}function q(a){return a.toString(this.encoding)}function r(a){return a&&a.length?this.write(a):""}var s=a("safe-buffer").Buffer,t=s.isEncoding||function(a){switch(a=""+a,a&&a.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};c.StringDecoder=f,f.prototype.write=function(a){if(0===a.length)return"";var b,c;if(this.lastNeed){if(b=this.fillLast(a),void 0===b)return"";c=this.lastNeed,this.lastNeed=0}else c=0;return c<a.length?b?b+this.text(a,c):this.text(a,c):b||""},f.prototype.end=l,f.prototype.text=k,f.prototype.fillLast=function(a){return this.lastNeed<=a.length?(a.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(a.copy(this.lastChar,this.lastTotal-this.lastNeed,0,a.length),void(this.lastNeed-=a.length))}},{"safe-buffer":291}],293:[function(a,b,c){(function(a){function c(a,b){function c(){if(!e){if(d("throwDeprecation"))throw new Error(b);d("traceDeprecation")?console.trace(b):console.warn(b),e=!0}return a.apply(this,arguments)}if(d("noDeprecation"))return a;var e=!1;return c}function d(b){try{if(!a.localStorage)return!1}catch(c){return!1}var d=a.localStorage[b];return null!=d&&"true"===String(d).toLowerCase()}b.exports=c}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],294:[function(a,b,c){b.exports=a("./readable").PassThrough},{"./readable":295}],295:[function(a,b,c){c=b.exports=a("./lib/_stream_readable.js"),c.Stream=c,c.Readable=c,c.Writable=a("./lib/_stream_writable.js"),c.Duplex=a("./lib/_stream_duplex.js"),c.Transform=a("./lib/_stream_transform.js"),c.PassThrough=a("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":280,"./lib/_stream_passthrough.js":281,"./lib/_stream_readable.js":282,"./lib/_stream_transform.js":283,"./lib/_stream_writable.js":284}],296:[function(a,b,c){b.exports=a("./readable").Transform},{"./readable":295}],297:[function(a,b,c){b.exports=a("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":284}],298:[function(a,b,c){function d(){e.call(this)}b.exports=d;var e=a("events").EventEmitter,f=a("inherits");f(d,e),d.Readable=a("readable-stream/readable.js"),d.Writable=a("readable-stream/writable.js"),d.Duplex=a("readable-stream/duplex.js"),d.Transform=a("readable-stream/transform.js"),d.PassThrough=a("readable-stream/passthrough.js"),d.Stream=d,d.prototype.pipe=function(a,b){function c(b){a.writable&&!1===a.write(b)&&j.pause&&j.pause()}function d(){j.readable&&j.resume&&j.resume()}function f(){k||(k=!0,a.end())}function g(){k||(k=!0,"function"==typeof a.destroy&&a.destroy())}function h(a){if(i(),0===e.listenerCount(this,"error"))throw a}function i(){j.removeListener("data",c),a.removeListener("drain",d),j.removeListener("end",f),j.removeListener("close",g),j.removeListener("error",h),a.removeListener("error",h),j.removeListener("end",i),j.removeListener("close",i),a.removeListener("close",i)}var j=this;j.on("data",c),a.on("drain",d),a._isStdio||b&&b.end===!1||(j.on("end",f),j.on("close",g));var k=!1;return j.on("error",h),a.on("error",h),j.on("end",i),j.on("close",i),a.on("close",i),a.emit("pipe",j),a}},{events:759,inherits:276,"readable-stream/duplex.js":279,"readable-stream/passthrough.js":294,"readable-stream/readable.js":295,"readable-stream/transform.js":296,"readable-stream/writable.js":297
}],299:[function(a,b,c){function d(a){if(a&&!i(a))throw new Error("Unknown encoding: "+a)}function e(a){return a.toString(this.encoding)}function f(a){this.charReceived=a.length%2,this.charLength=this.charReceived?2:0}function g(a){this.charReceived=a.length%3,this.charLength=this.charReceived?3:0}var h=a("buffer").Buffer,i=h.isEncoding||function(a){switch(a&&a.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},j=c.StringDecoder=function(a){switch(this.encoding=(a||"utf8").toLowerCase().replace(/[-_]/,""),d(a),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=f;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=g;break;default:return void(this.write=e)}this.charBuffer=new h(6),this.charReceived=0,this.charLength=0};j.prototype.write=function(a){for(var b="";this.charLength;){var c=a.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:a.length;if(a.copy(this.charBuffer,this.charReceived,0,c),this.charReceived+=c,this.charReceived<this.charLength)return"";a=a.slice(c,a.length),b=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var d=b.charCodeAt(b.length-1);if(!(d>=55296&&d<=56319)){if(this.charReceived=this.charLength=0,0===a.length)return b;break}this.charLength+=this.surrogateSize,b=""}this.detectIncompleteChar(a);var e=a.length;this.charLength&&(a.copy(this.charBuffer,0,a.length-this.charReceived,e),e-=this.charReceived),b+=a.toString(this.encoding,0,e);var e=b.length-1,d=b.charCodeAt(e);if(d>=55296&&d<=56319){var f=this.surrogateSize;return this.charLength+=f,this.charReceived+=f,this.charBuffer.copy(this.charBuffer,f,0,f),a.copy(this.charBuffer,0,0,f),b.substring(0,e)}return b},j.prototype.detectIncompleteChar=function(a){for(var b=a.length>=3?3:a.length;b>0;b--){var c=a[a.length-b];if(1==b&&c>>5==6){this.charLength=2;break}if(b<=2&&c>>4==14){this.charLength=3;break}if(b<=3&&c>>3==30){this.charLength=4;break}}this.charReceived=b},j.prototype.end=function(a){var b="";if(a&&a.length&&(b=this.write(a)),this.charReceived){var c=this.charReceived,d=this.charBuffer,e=this.encoding;b+=d.slice(0,c).toString(e)}return b}},{buffer:272}],300:[function(a,b,c){"use strict";b.exports=a("camunda-bpm-sdk-js/vendor/angular")},{"camunda-bpm-sdk-js/vendor/angular":114}],301:[function(a,b,c){"use strict";b.exports=a("camunda-bpm-sdk-js/lib/angularjs/index")},{"camunda-bpm-sdk-js/lib/angularjs/index":68}],302:[function(a,b,c){"use strict";b.exports=a("lodash")},{lodash:"lodash"}],303:[function(a,b,c){"use strict";b.exports=a("camunda-bpm-sdk-js/vendor/moment")},{"camunda-bpm-sdk-js/vendor/moment":115}],304:[function(a,b,c){angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.transition","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.bindHtml","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.dropdown","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["template/accordion/accordion-group.html","template/accordion/accordion.html","template/alert/alert.html","template/carousel/carousel.html","template/carousel/slide.html","template/datepicker/datepicker.html","template/datepicker/day.html","template/datepicker/month.html","template/datepicker/popup.html","template/datepicker/year.html","template/modal/backdrop.html","template/modal/window.html","template/pagination/pager.html","template/pagination/pagination.html","template/tooltip/tooltip-html-unsafe-popup.html","template/tooltip/tooltip-popup.html","template/popover/popover.html","template/progressbar/bar.html","template/progressbar/progress.html","template/progressbar/progressbar.html","template/rating/rating.html","template/tabs/tab.html","template/tabs/tabset.html","template/timepicker/timepicker.html","template/typeahead/typeahead-match.html","template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.transition",[]).factory("$transition",["$q","$timeout","$rootScope",function(a,b,c){function d(a){for(var b in a)if(void 0!==f.style[b])return a[b]}var e=function(d,f,g){g=g||{};var h=a.defer(),i=e[g.animation?"animationEndEventName":"transitionEndEventName"],j=function(a){c.$apply(function(){d.unbind(i,j),h.resolve(d)})};return i&&d.bind(i,j),b(function(){angular.isString(f)?d.addClass(f):angular.isFunction(f)?f(d):angular.isObject(f)&&d.css(f),i||h.resolve(d)}),h.promise.cancel=function(){i&&d.unbind(i,j),h.reject("Transition cancelled")},h.promise},f=document.createElement("trans"),g={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},h={WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"};return e.transitionEndEventName=d(g),e.animationEndEventName=d(h),e}]),angular.module("ui.bootstrap.collapse",["ui.bootstrap.transition"]).directive("collapse",["$transition",function(a){return{link:function(b,c,d){function e(b){function d(){j===e&&(j=void 0)}var e=a(c,b);return j&&j.cancel(),j=e,e.then(d,d),e}function f(){k?(k=!1,g()):(c.removeClass("collapse").addClass("collapsing"),e({height:c[0].scrollHeight+"px"}).then(g))}function g(){c.removeClass("collapsing"),c.addClass("collapse in"),c.css({height:"auto"})}function h(){if(k)k=!1,i(),c.css({height:0});else{c.css({height:c[0].scrollHeight+"px"});c[0].offsetWidth;c.removeClass("collapse in").addClass("collapsing"),e({height:0}).then(i)}}function i(){c.removeClass("collapsing"),c.addClass("collapse")}var j,k=!0;b.$watch(d.collapse,function(a){a?h():f()})}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("accordionConfig",{closeOthers:!0}).controller("AccordionController",["$scope","$attrs","accordionConfig",function(a,b,c){this.groups=[],this.closeOthers=function(d){var e=angular.isDefined(b.closeOthers)?a.$eval(b.closeOthers):c.closeOthers;e&&angular.forEach(this.groups,function(a){a!==d&&(a.isOpen=!1)})},this.addGroup=function(a){var b=this;this.groups.push(a),a.$on("$destroy",function(c){b.removeGroup(a)})},this.removeGroup=function(a){var b=this.groups.indexOf(a);b!==-1&&this.groups.splice(b,1)}}]).directive("accordion",function(){return{restrict:"EA",controller:"AccordionController",transclude:!0,replace:!1,templateUrl:"template/accordion/accordion.html"}}).directive("accordionGroup",function(){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/accordion/accordion-group.html",scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(a){this.heading=a}},link:function(a,b,c,d){d.addGroup(a),a.$watch("isOpen",function(b){b&&d.closeOthers(a)}),a.toggleOpen=function(){a.isDisabled||(a.isOpen=!a.isOpen)}}}}).directive("accordionHeading",function(){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",link:function(a,b,c,d,e){d.setHeading(e(a,function(){}))}}}).directive("accordionTransclude",function(){return{require:"^accordionGroup",link:function(a,b,c,d){a.$watch(function(){return d[c.accordionTransclude]},function(a){a&&(b.html(""),b.append(a))})}}}),angular.module("ui.bootstrap.alert",[]).controller("AlertController",["$scope","$attrs",function(a,b){a.closeable="close"in b}]).directive("alert",function(){return{restrict:"EA",controller:"AlertController",templateUrl:"template/alert/alert.html",transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}),angular.module("ui.bootstrap.bindHtml",[]).directive("bindHtmlUnsafe",function(){return function(a,b,c){b.addClass("ng-binding").data("$binding",c.bindHtmlUnsafe),a.$watch(c.bindHtmlUnsafe,function(a){b.html(a||"")})}}),angular.module("ui.bootstrap.buttons",[]).constant("buttonConfig",{activeClass:"active",toggleEvent:"click"}).controller("ButtonsController",["buttonConfig",function(a){this.activeClass=a.activeClass||"active",this.toggleEvent=a.toggleEvent||"click"}]).directive("btnRadio",function(){return{require:["btnRadio","ngModel"],controller:"ButtonsController",link:function(a,b,c,d){var e=d[0],f=d[1];f.$render=function(){b.toggleClass(e.activeClass,angular.equals(f.$modelValue,a.$eval(c.btnRadio)))},b.bind(e.toggleEvent,function(){var d=b.hasClass(e.activeClass);d&&!angular.isDefined(c.uncheckable)||a.$apply(function(){f.$setViewValue(d?null:a.$eval(c.btnRadio)),f.$render()})})}}}).directive("btnCheckbox",function(){return{require:["btnCheckbox","ngModel"],controller:"ButtonsController",link:function(a,b,c,d){function e(){return g(c.btnCheckboxTrue,!0)}function f(){return g(c.btnCheckboxFalse,!1)}function g(b,c){var d=a.$eval(b);return angular.isDefined(d)?d:c}var h=d[0],i=d[1];i.$render=function(){b.toggleClass(h.activeClass,angular.equals(i.$modelValue,e()))},b.bind(h.toggleEvent,function(){a.$apply(function(){i.$setViewValue(b.hasClass(h.activeClass)?f():e()),i.$render()})})}}}),angular.module("ui.bootstrap.carousel",["ui.bootstrap.transition"]).controller("CarouselController",["$scope","$timeout","$transition",function(a,b,c){function d(){e();var c=+a.interval;!isNaN(c)&&c>=0&&(g=b(f,c))}function e(){g&&(b.cancel(g),g=null)}function f(){h?(a.next(),d()):a.pause()}var g,h,i=this,j=i.slides=a.slides=[],k=-1;i.currentSlide=null;var l=!1;i.select=a.select=function(e,f){function g(){if(!l){if(i.currentSlide&&angular.isString(f)&&!a.noTransition&&e.$element){e.$element.addClass(f);e.$element[0].offsetWidth;angular.forEach(j,function(a){angular.extend(a,{direction:"",entering:!1,leaving:!1,active:!1})}),angular.extend(e,{direction:f,active:!0,entering:!0}),angular.extend(i.currentSlide||{},{direction:f,leaving:!0}),a.$currentTransition=c(e.$element,{}),function(b,c){a.$currentTransition.then(function(){h(b,c)},function(){h(b,c)})}(e,i.currentSlide)}else h(e,i.currentSlide);i.currentSlide=e,k=m,d()}}function h(b,c){angular.extend(b,{direction:"",active:!0,leaving:!1,entering:!1}),angular.extend(c||{},{direction:"",active:!1,leaving:!1,entering:!1}),a.$currentTransition=null}var m=j.indexOf(e);void 0===f&&(f=m>k?"next":"prev"),e&&e!==i.currentSlide&&(a.$currentTransition?(a.$currentTransition.cancel(),b(g)):g())},a.$on("$destroy",function(){l=!0}),i.indexOfSlide=function(a){return j.indexOf(a)},a.next=function(){var b=(k+1)%j.length;if(!a.$currentTransition)return i.select(j[b],"next")},a.prev=function(){var b=k-1<0?j.length-1:k-1;if(!a.$currentTransition)return i.select(j[b],"prev")},a.isActive=function(a){return i.currentSlide===a},a.$watch("interval",d),a.$on("$destroy",e),a.play=function(){h||(h=!0,d())},a.pause=function(){a.noPause||(h=!1,e())},i.addSlide=function(b,c){b.$element=c,j.push(b),1===j.length||b.active?(i.select(j[j.length-1]),1==j.length&&a.play()):b.active=!1},i.removeSlide=function(a){var b=j.indexOf(a);j.splice(b,1),j.length>0&&a.active?b>=j.length?i.select(j[b-1]):i.select(j[b]):k>b&&k--}}]).directive("carousel",[function(){return{restrict:"EA",transclude:!0,replace:!0,controller:"CarouselController",require:"carousel",templateUrl:"template/carousel/carousel.html",scope:{interval:"=",noTransition:"=",noPause:"="}}}]).directive("slide",function(){return{require:"^carousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/carousel/slide.html",scope:{active:"=?"},link:function(a,b,c,d){d.addSlide(a,b),a.$on("$destroy",function(){d.removeSlide(a)}),a.$watch("active",function(b){b&&d.select(a)})}}}),angular.module("ui.bootstrap.dateparser",[]).service("dateParser",["$locale","orderByFilter",function(a,b){function c(a){var c=[],d=a.split("");return angular.forEach(e,function(b,e){var f=a.indexOf(e);if(f>-1){a=a.split(""),d[f]="("+b.regex+")",a[f]="$";for(var g=f+1,h=f+e.length;g<h;g++)d[g]="",a[g]="$";a=a.join(""),c.push({index:f,apply:b.apply})}}),{regex:new RegExp("^"+d.join("")+"$"),map:b(c,"index")}}function d(a,b,c){return 1===b&&c>28?29===c&&(a%4===0&&a%100!==0||a%400===0):3!==b&&5!==b&&8!==b&&10!==b||c<31}this.parsers={};var e={yyyy:{regex:"\\d{4}",apply:function(a){this.year=+a}},yy:{regex:"\\d{2}",apply:function(a){this.year=+a+2e3}},y:{regex:"\\d{1,4}",apply:function(a){this.year=+a}},MMMM:{regex:a.DATETIME_FORMATS.MONTH.join("|"),apply:function(b){this.month=a.DATETIME_FORMATS.MONTH.indexOf(b)}},MMM:{regex:a.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(b){this.month=a.DATETIME_FORMATS.SHORTMONTH.indexOf(b)}},MM:{regex:"0[1-9]|1[0-2]",apply:function(a){this.month=a-1}},M:{regex:"[1-9]|1[0-2]",apply:function(a){this.month=a-1}},dd:{regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(a){this.date=+a}},d:{regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(a){this.date=+a}},EEEE:{regex:a.DATETIME_FORMATS.DAY.join("|")},EEE:{regex:a.DATETIME_FORMATS.SHORTDAY.join("|")}};this.parse=function(b,e){if(!angular.isString(b)||!e)return b;e=a.DATETIME_FORMATS[e]||e,this.parsers[e]||(this.parsers[e]=c(e));var f=this.parsers[e],g=f.regex,h=f.map,i=b.match(g);if(i&&i.length){for(var j,k={year:1900,month:0,date:1,hours:0},l=1,m=i.length;l<m;l++){var n=h[l-1];n.apply&&n.apply.call(k,i[l])}return d(k.year,k.month,k.date)&&(j=new Date(k.year,k.month,k.date,k.hours)),j}}}]),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function(a,b){function c(a,c){return a.currentStyle?a.currentStyle[c]:b.getComputedStyle?b.getComputedStyle(a)[c]:a.style[c]}function d(a){return"static"===(c(a,"position")||"static")}var e=function(b){for(var c=a[0],e=b.offsetParent||c;e&&e!==c&&d(e);)e=e.offsetParent;return e||c};return{position:function(b){var c=this.offset(b),d={top:0,left:0},f=e(b[0]);f!=a[0]&&(d=this.offset(angular.element(f)),d.top+=f.clientTop-f.scrollTop,d.left+=f.clientLeft-f.scrollLeft);var g=b[0].getBoundingClientRect();return{width:g.width||b.prop("offsetWidth"),height:g.height||b.prop("offsetHeight"),top:c.top-d.top,left:c.left-d.left}},offset:function(c){var d=c[0].getBoundingClientRect();return{width:d.width||c.prop("offsetWidth"),height:d.height||c.prop("offsetHeight"),top:d.top+(b.pageYOffset||a[0].documentElement.scrollTop),left:d.left+(b.pageXOffset||a[0].documentElement.scrollLeft)}},positionElements:function(a,b,c,d){var e,f,g,h,i=c.split("-"),j=i[0],k=i[1]||"center";e=d?this.offset(a):this.position(a),f=b.prop("offsetWidth"),g=b.prop("offsetHeight");var l={center:function(){return e.left+e.width/2-f/2},left:function(){return e.left},right:function(){return e.left+e.width}},m={center:function(){return e.top+e.height/2-g/2},top:function(){return e.top},bottom:function(){return e.top+e.height}};switch(j){case"right":h={top:m[k](),left:l[j]()};break;case"left":h={top:m[k](),left:e.left-f};break;case"bottom":h={top:m[j](),left:l[k]()};break;default:h={top:e.top-g,left:l[k]()}}return h}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.position"]).constant("datepickerConfig",{formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",datepickerMode:"day",minMode:"day",maxMode:"year",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null}).controller("DatepickerController",["$scope","$attrs","$parse","$interpolate","$timeout","$log","dateFilter","datepickerConfig",function(a,b,c,d,e,f,g,h){var i=this,j={$setViewValue:angular.noop};this.modes=["day","month","year"],angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","minMode","maxMode","showWeeks","startingDay","yearRange"],function(c,e){i[c]=angular.isDefined(b[c])?e<8?d(b[c])(a.$parent):a.$parent.$eval(b[c]):h[c]}),angular.forEach(["minDate","maxDate"],function(d){b[d]?a.$parent.$watch(c(b[d]),function(a){i[d]=a?new Date(a):null,i.refreshView()}):i[d]=h[d]?new Date(h[d]):null}),a.datepickerMode=a.datepickerMode||h.datepickerMode,a.uniqueId="datepicker-"+a.$id+"-"+Math.floor(1e4*Math.random()),this.activeDate=angular.isDefined(b.initDate)?a.$parent.$eval(b.initDate):new Date,a.isActive=function(b){return 0===i.compare(b.date,i.activeDate)&&(a.activeDateId=b.uid,!0)},this.init=function(a){j=a,j.$render=function(){i.render()}},this.render=function(){if(j.$modelValue){var a=new Date(j.$modelValue),b=!isNaN(a);b?this.activeDate=a:f.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.'),j.$setValidity("date",b)}this.refreshView()},this.refreshView=function(){if(this.element){this._refreshView();var a=j.$modelValue?new Date(j.$modelValue):null;j.$setValidity("date-disabled",!a||this.element&&!this.isDisabled(a))}},this.createDateObject=function(a,b){var c=j.$modelValue?new Date(j.$modelValue):null;return{date:a,label:g(a,b),selected:c&&0===this.compare(a,c),disabled:this.isDisabled(a),current:0===this.compare(a,new Date)}},this.isDisabled=function(c){return this.minDate&&this.compare(c,this.minDate)<0||this.maxDate&&this.compare(c,this.maxDate)>0||b.dateDisabled&&a.dateDisabled({date:c,mode:a.datepickerMode})},this.split=function(a,b){for(var c=[];a.length>0;)c.push(a.splice(0,b));return c},a.select=function(b){if(a.datepickerMode===i.minMode){var c=j.$modelValue?new Date(j.$modelValue):new Date(0,0,0,0,0,0,0);c.setFullYear(b.getFullYear(),b.getMonth(),b.getDate()),j.$setViewValue(c),j.$render()}else i.activeDate=b,a.datepickerMode=i.modes[i.modes.indexOf(a.datepickerMode)-1]},a.move=function(a){var b=i.activeDate.getFullYear()+a*(i.step.years||0),c=i.activeDate.getMonth()+a*(i.step.months||0);i.activeDate.setFullYear(b,c,1),i.refreshView()},a.toggleMode=function(b){b=b||1,a.datepickerMode===i.maxMode&&1===b||a.datepickerMode===i.minMode&&b===-1||(a.datepickerMode=i.modes[i.modes.indexOf(a.datepickerMode)+b])},a.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var k=function(){e(function(){i.element[0].focus()},0,!1)};a.$on("datepicker.focus",k),a.keydown=function(b){var c=a.keys[b.which];if(c&&!b.shiftKey&&!b.altKey)if(b.preventDefault(),b.stopPropagation(),"enter"===c||"space"===c){if(i.isDisabled(i.activeDate))return;a.select(i.activeDate),k()}else!b.ctrlKey||"up"!==c&&"down"!==c?(i.handleKeyDown(c,b),i.refreshView()):(a.toggleMode("up"===c?1:-1),k())}}]).directive("datepicker",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/datepicker.html",scope:{datepickerMode:"=?",dateDisabled:"&"},require:["datepicker","?^ngModel"],controller:"DatepickerController",link:function(a,b,c,d){var e=d[0],f=d[1];f&&e.init(f)}}}).directive("daypicker",["dateFilter",function(a){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/day.html",require:"^datepicker",link:function(b,c,d,e){function f(a,b){return 1!==b||a%4!==0||a%100===0&&a%400!==0?i[b]:29}function g(a,b){var c=new Array(b),d=new Date(a),e=0;for(d.setHours(12);e<b;)c[e++]=new Date(d),d.setDate(d.getDate()+1);return c}function h(a){var b=new Date(a);b.setDate(b.getDate()+4-(b.getDay()||7));var c=b.getTime();return b.setMonth(0),b.setDate(1),Math.floor(Math.round((c-b)/864e5)/7)+1}b.showWeeks=e.showWeeks,e.step={months:1},e.element=c;var i=[31,28,31,30,31,30,31,31,30,31,30,31];e._refreshView=function(){var c=e.activeDate.getFullYear(),d=e.activeDate.getMonth(),f=new Date(c,d,1),i=e.startingDay-f.getDay(),j=i>0?7-i:-i,k=new Date(f);j>0&&k.setDate(-j+1);for(var l=g(k,42),m=0;m<42;m++)l[m]=angular.extend(e.createDateObject(l[m],e.formatDay),{secondary:l[m].getMonth()!==d,uid:b.uniqueId+"-"+m});b.labels=new Array(7);for(var n=0;n<7;n++)b.labels[n]={abbr:a(l[n].date,e.formatDayHeader),full:a(l[n].date,"EEEE")};if(b.title=a(e.activeDate,e.formatDayTitle),b.rows=e.split(l,7),b.showWeeks){b.weekNumbers=[];for(var o=h(b.rows[0][0].date),p=b.rows.length;b.weekNumbers.push(o++)<p;);}},e.compare=function(a,b){return new Date(a.getFullYear(),a.getMonth(),a.getDate())-new Date(b.getFullYear(),b.getMonth(),b.getDate())},e.handleKeyDown=function(a,b){var c=e.activeDate.getDate();if("left"===a)c-=1;else if("up"===a)c-=7;else if("right"===a)c+=1;else if("down"===a)c+=7;else if("pageup"===a||"pagedown"===a){var d=e.activeDate.getMonth()+("pageup"===a?-1:1);e.activeDate.setMonth(d,1),c=Math.min(f(e.activeDate.getFullYear(),e.activeDate.getMonth()),c)}else"home"===a?c=1:"end"===a&&(c=f(e.activeDate.getFullYear(),e.activeDate.getMonth()));e.activeDate.setDate(c)},e.refreshView()}}}]).directive("monthpicker",["dateFilter",function(a){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/month.html",require:"^datepicker",link:function(b,c,d,e){e.step={years:1},e.element=c,e._refreshView=function(){for(var c=new Array(12),d=e.activeDate.getFullYear(),f=0;f<12;f++)c[f]=angular.extend(e.createDateObject(new Date(d,f,1),e.formatMonth),{uid:b.uniqueId+"-"+f});b.title=a(e.activeDate,e.formatMonthTitle),b.rows=e.split(c,3)},e.compare=function(a,b){return new Date(a.getFullYear(),a.getMonth())-new Date(b.getFullYear(),b.getMonth())},e.handleKeyDown=function(a,b){var c=e.activeDate.getMonth();if("left"===a)c-=1;else if("up"===a)c-=3;else if("right"===a)c+=1;else if("down"===a)c+=3;else if("pageup"===a||"pagedown"===a){var d=e.activeDate.getFullYear()+("pageup"===a?-1:1);e.activeDate.setFullYear(d)}else"home"===a?c=0:"end"===a&&(c=11);e.activeDate.setMonth(c)},e.refreshView()}}}]).directive("yearpicker",["dateFilter",function(a){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/year.html",require:"^datepicker",link:function(a,b,c,d){function e(a){return parseInt((a-1)/f,10)*f+1}var f=d.yearRange;d.step={years:f},d.element=b,d._refreshView=function(){for(var b=new Array(f),c=0,g=e(d.activeDate.getFullYear());c<f;c++)b[c]=angular.extend(d.createDateObject(new Date(g+c,0,1),d.formatYear),{uid:a.uniqueId+"-"+c});a.title=[b[0].label,b[f-1].label].join(" - "),a.rows=d.split(b,5)},d.compare=function(a,b){return a.getFullYear()-b.getFullYear()},d.handleKeyDown=function(a,b){var c=d.activeDate.getFullYear();"left"===a?c-=1:"up"===a?c-=5:"right"===a?c+=1:"down"===a?c+=5:"pageup"===a||"pagedown"===a?c+=("pageup"===a?-1:1)*d.step.years:"home"===a?c=e(d.activeDate.getFullYear()):"end"===a&&(c=e(d.activeDate.getFullYear())+f-1),d.activeDate.setFullYear(c)},d.refreshView()}}}]).constant("datepickerPopupConfig",{datepickerPopup:"yyyy-MM-dd",currentText:"Today",clearText:"Clear",closeText:"Done",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!0}).directive("datepickerPopup",["$compile","$parse","$document","$position","dateFilter","dateParser","datepickerPopupConfig",function(a,b,c,d,e,f,g){return{restrict:"EA",require:"ngModel",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&"},link:function(h,i,j,k){function l(a){return a.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()})}function m(a){if(a){if(angular.isDate(a)&&!isNaN(a))return k.$setValidity("date",!0),a;if(angular.isString(a)){var b=f.parse(a,n)||new Date(a);return isNaN(b)?void k.$setValidity("date",!1):(k.$setValidity("date",!0),b)}return void k.$setValidity("date",!1)}return k.$setValidity("date",!0),null}var n,o=angular.isDefined(j.closeOnDateSelection)?h.$parent.$eval(j.closeOnDateSelection):g.closeOnDateSelection,p=angular.isDefined(j.datepickerAppendToBody)?h.$parent.$eval(j.datepickerAppendToBody):g.appendToBody;h.showButtonBar=angular.isDefined(j.showButtonBar)?h.$parent.$eval(j.showButtonBar):g.showButtonBar,h.getText=function(a){return h[a+"Text"]||g[a+"Text"]},j.$observe("datepickerPopup",function(a){n=a||g.datepickerPopup,k.$render()});var q=angular.element("<div datepicker-popup-wrap><div datepicker></div></div>");q.attr({"ng-model":"date","ng-change":"dateSelection()"});var r=angular.element(q.children()[0]);j.datepickerOptions&&angular.forEach(h.$parent.$eval(j.datepickerOptions),function(a,b){r.attr(l(b),a)}),h.watchData={},angular.forEach(["minDate","maxDate","datepickerMode"],function(a){if(j[a]){var c=b(j[a]);if(h.$parent.$watch(c,function(b){h.watchData[a]=b}),r.attr(l(a),"watchData."+a),"datepickerMode"===a){var d=c.assign;h.$watch("watchData."+a,function(a,b){a!==b&&d(h.$parent,a)})}}}),j.dateDisabled&&r.attr("date-disabled","dateDisabled({ date: date, mode: mode })"),k.$parsers.unshift(m),h.dateSelection=function(a){angular.isDefined(a)&&(h.date=a),k.$setViewValue(h.date),k.$render(),o&&(h.isOpen=!1,i[0].focus())},i.bind("input change keyup",function(){h.$apply(function(){h.date=k.$modelValue})}),k.$render=function(){var a=k.$viewValue?e(k.$viewValue,n):"";i.val(a),h.date=m(k.$modelValue)};var s=function(a){h.isOpen&&a.target!==i[0]&&h.$apply(function(){h.isOpen=!1})},t=function(a,b){h.keydown(a)};i.bind("keydown",t),h.keydown=function(a){27===a.which?(a.preventDefault(),a.stopPropagation(),h.close()):40!==a.which||h.isOpen||(h.isOpen=!0)},h.$watch("isOpen",function(a){a?(h.$broadcast("datepicker.focus"),h.position=p?d.offset(i):d.position(i),h.position.top=h.position.top+i.prop("offsetHeight"),c.bind("click",s)):c.unbind("click",s)}),h.select=function(a){if("today"===a){var b=new Date;angular.isDate(k.$modelValue)?(a=new Date(k.$modelValue),a.setFullYear(b.getFullYear(),b.getMonth(),b.getDate())):a=new Date(b.setHours(0,0,0,0))}h.dateSelection(a)},h.close=function(){h.isOpen=!1,i[0].focus()};var u=a(q)(h);q.remove(),p?c.find("body").append(u):i.after(u),h.$on("$destroy",function(){u.remove(),i.unbind("keydown",t),c.unbind("click",s)})}}}]).directive("datepickerPopupWrap",function(){return{restrict:"EA",replace:!0,transclude:!0,templateUrl:"template/datepicker/popup.html",link:function(a,b,c){b.bind("click",function(a){a.preventDefault(),a.stopPropagation()})}}}),angular.module("ui.bootstrap.dropdown",[]).constant("dropdownConfig",{openClass:"open"}).service("dropdownService",["$document",function(a){var b=null;this.open=function(e){b||(a.bind("click",c),a.bind("keydown",d)),b&&b!==e&&(b.isOpen=!1),b=e},this.close=function(e){b===e&&(b=null,a.unbind("click",c),a.unbind("keydown",d))};var c=function(a){var c=b.getToggleElement();a&&c&&c[0].contains(a.target)||b.$apply(function(){b.isOpen=!1})},d=function(a){27===a.which&&(b.focusToggleElement(),c())}}]).controller("DropdownController",["$scope","$attrs","$parse","dropdownConfig","dropdownService","$animate",function(a,b,c,d,e,f){var g,h=this,i=a.$new(),j=d.openClass,k=angular.noop,l=b.onToggle?c(b.onToggle):angular.noop;this.init=function(d){h.$element=d,b.isOpen&&(g=c(b.isOpen),k=g.assign,a.$watch(g,function(a){i.isOpen=!!a}))},this.toggle=function(a){return i.isOpen=arguments.length?!!a:!i.isOpen},this.isOpen=function(){return i.isOpen},i.getToggleElement=function(){return h.toggleElement},i.focusToggleElement=function(){h.toggleElement&&h.toggleElement[0].focus()},i.$watch("isOpen",function(b,c){f[b?"addClass":"removeClass"](h.$element,j),b?(i.focusToggleElement(),e.open(i)):e.close(i),k(a,b),angular.isDefined(b)&&b!==c&&l(a,{open:!!b})}),a.$on("$locationChangeSuccess",function(){i.isOpen=!1}),a.$on("$destroy",function(){i.$destroy()})}]).directive("dropdown",function(){return{restrict:"CA",controller:"DropdownController",link:function(a,b,c,d){d.init(b)}}}).directive("dropdownToggle",function(){return{restrict:"CA",require:"?^dropdown",link:function(a,b,c,d){if(d){d.toggleElement=b;var e=function(e){e.preventDefault(),b.hasClass("disabled")||c.disabled||a.$apply(function(){d.toggle()})};b.bind("click",e),b.attr({"aria-haspopup":!0,"aria-expanded":!1}),a.$watch(d.isOpen,function(a){b.attr("aria-expanded",!!a)}),a.$on("$destroy",function(){b.unbind("click",e)})}}}}),angular.module("ui.bootstrap.modal",["ui.bootstrap.transition"]).factory("$$stackedMap",function(){return{createNew:function(){var a=[];return{add:function(b,c){a.push({key:b,value:c})},get:function(b){for(var c=0;c<a.length;c++)if(b==a[c].key)return a[c]},keys:function(){for(var b=[],c=0;c<a.length;c++)b.push(a[c].key);return b},top:function(){return a[a.length-1]},remove:function(b){for(var c=-1,d=0;d<a.length;d++)if(b==a[d].key){c=d;break}return a.splice(c,1)[0]},removeTop:function(){return a.splice(a.length-1,1)[0]},length:function(){return a.length}}}}}).directive("modalBackdrop",["$timeout",function(a){return{restrict:"EA",replace:!0,templateUrl:"template/modal/backdrop.html",link:function(b,c,d){b.backdropClass=d.backdropClass||"",b.animate=!1,a(function(){b.animate=!0})}}}]).directive("modalWindow",["$modalStack","$timeout",function(a,b){return{restrict:"EA",scope:{index:"@",animate:"="},replace:!0,transclude:!0,templateUrl:function(a,b){return b.templateUrl||"template/modal/window.html"},link:function(c,d,e){d.addClass(e.windowClass||""),c.size=e.size,b(function(){c.animate=!0,d[0].querySelectorAll("[autofocus]").length||d[0].focus()}),c.close=function(b){var c=a.getTop();c&&c.value.backdrop&&"static"!=c.value.backdrop&&b.target===b.currentTarget&&(b.preventDefault(),b.stopPropagation(),a.dismiss(c.key,"backdrop click"))}}}}]).directive("modalTransclude",function(){return{link:function(a,b,c,d,e){e(a.$parent,function(a){b.empty(),b.append(a)})}}}).factory("$modalStack",["$transition","$timeout","$document","$compile","$rootScope","$$stackedMap",function(a,b,c,d,e,f){function g(){for(var a=-1,b=o.keys(),c=0;c<b.length;c++)o.get(b[c]).value.backdrop&&(a=c);return a}function h(a){var b=c.find("body").eq(0),d=o.get(a).value;o.remove(a),j(d.modalDomEl,d.modalScope,300,function(){d.modalScope.$destroy(),b.toggleClass(n,o.length()>0),i()})}function i(){if(k&&g()==-1){var a=l;j(k,l,150,function(){a.$destroy(),a=null}),k=void 0,l=void 0}}function j(c,d,e,f){function g(){g.done||(g.done=!0,c.remove(),f&&f())}d.animate=!1;var h=a.transitionEndEventName;if(h){var i=b(g,e);c.bind(h,function(){b.cancel(i),g(),d.$apply()})}else b(g)}var k,l,m,n="modal-open",o=f.createNew(),p={},q=0,r="a[href], area[href], input:not([disabled]), button:not([disabled]),select:not([disabled]), textarea:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable=true]";return e.$watch(g,function(a){l&&(l.index=a)}),c.bind("keydown",function(a){var b=o.top();if(b&&b.value.keyboard)switch(a.which){case 27:a.preventDefault(),e.$apply(function(){p.dismiss(b.key,"escape key press")});break;case 9:p.loadFocusElementList(b);var c=!1;a.shiftKey?p.isFocusInFirstItem(a)&&(c=p.focusLastFocusableElement()):p.isFocusInLastItem(a)&&(c=p.focusFirstFocusableElement()),c&&(a.preventDefault(),a.stopPropagation())}}),p.open=function(a,b){o.add(a,{deferred:b.deferred,modalScope:b.scope,backdrop:b.backdrop,keyboard:b.keyboard});var f=c.find("body").eq(0),h=g();if(h>=0&&!k){l=e.$new(!0),l.index=h;var i=angular.element("<div modal-backdrop></div>");i.attr("backdrop-class",b.backdropClass),k=d(i)(l),f.append(k)}var j=angular.element("<div modal-window></div>");j.attr({"template-url":b.windowTemplateUrl,"window-class":b.windowClass,size:b.size,index:o.length()-1,animate:"animate"}).html(b.content);var m=d(j)(b.scope);o.top().value.modalDomEl=m,f.append(m),f.addClass(n),p.clearFocusListCache()},p.close=function(a,b){var c=o.get(a);c&&(c.value.deferred.resolve(b),h(a))},p.dismiss=function(a,b){var c=o.get(a);c&&(c.value.deferred.reject(b),h(a))},p.dismissAll=function(a){for(var b=this.getTop();b;)this.dismiss(b.key,a),b=this.getTop()},p.getTop=function(){return o.top()},p.focusFirstFocusableElement=function(){return m.length>0&&(m[0].focus(),!0)},p.focusLastFocusableElement=function(){return m.length>0&&(m[m.length-1].focus(),!0)},p.isFocusInFirstItem=function(a){return m.length>0&&(a.target||a.srcElement)==m[0]},p.isFocusInLastItem=function(a){return m.length>0&&(a.target||a.srcElement)==m[m.length-1]},p.clearFocusListCache=function(){m=[],q=0},p.loadFocusElementList=function(a){if((void 0===m||!m.length0)&&a){var b=a.value.modalDomEl;b&&b.length&&(m=b[0].querySelectorAll(r))}},p}]).provider("$modal",function(){
var a={options:{backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$http","$templateCache","$controller","$modalStack",function(b,c,d,e,f,g,h){function i(a){return a.template?d.when(a.template):e.get(angular.isFunction(a.templateUrl)?a.templateUrl():a.templateUrl,{cache:f}).then(function(a){return a.data})}function j(a){var c=[];return angular.forEach(a,function(a){(angular.isFunction(a)||angular.isArray(a))&&c.push(d.when(b.invoke(a)))}),c}var k={};return k.open=function(b){var e=d.defer(),f=d.defer(),k={result:e.promise,opened:f.promise,close:function(a){h.close(k,a)},dismiss:function(a){h.dismiss(k,a)}};if(b=angular.extend({},a.options,b),b.resolve=b.resolve||{},!b.template&&!b.templateUrl)throw new Error("One of template or templateUrl options is required.");var l=d.all([i(b)].concat(j(b.resolve)));return l.then(function(a){var d=(b.scope||c).$new();d.$close=k.close,d.$dismiss=k.dismiss;var f,i={},j=1;b.controller&&(i.$scope=d,i.$modalInstance=k,angular.forEach(b.resolve,function(b,c){i[c]=a[j++]}),f=g(b.controller,i),b.controllerAs&&(d[b.controllerAs]=f)),h.open(k,{scope:d,deferred:e,content:a[0],backdrop:b.backdrop,keyboard:b.keyboard,backdropClass:b.backdropClass,windowClass:b.windowClass,windowTemplateUrl:b.windowTemplateUrl,size:b.size})},function(a){e.reject(a)}),l.then(function(){f.resolve(!0)},function(){f.reject(!1)}),k},k}]};return a}),angular.module("ui.bootstrap.pagination",[]).controller("PaginationController",["$scope","$attrs","$parse",function(a,b,c){var d=this,e={$setViewValue:angular.noop},f=b.numPages?c(b.numPages).assign:angular.noop;this.init=function(f,g){e=f,this.config=g,e.$render=function(){d.render()},b.itemsPerPage?a.$parent.$watch(c(b.itemsPerPage),function(b){d.itemsPerPage=parseInt(b,10),a.totalPages=d.calculateTotalPages()}):this.itemsPerPage=g.itemsPerPage},this.calculateTotalPages=function(){var b=this.itemsPerPage<1?1:Math.ceil(a.totalItems/this.itemsPerPage);return Math.max(b||0,1)},this.render=function(){a.page=parseInt(e.$viewValue,10)||1},a.selectPage=function(b){a.page!==b&&b>0&&b<=a.totalPages&&(e.$setViewValue(b),e.$render())},a.getText=function(b){return a[b+"Text"]||d.config[b+"Text"]},a.noPrevious=function(){return 1===a.page},a.noNext=function(){return a.page===a.totalPages},a.$watch("totalItems",function(){a.totalPages=d.calculateTotalPages()}),a.$watch("totalPages",function(b){f(a.$parent,b),a.page>b?a.selectPage(b):e.$render()})}]).constant("paginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("pagination",["$parse","paginationConfig",function(a,b){return{restrict:"EA",scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@"},require:["pagination","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pagination.html",replace:!0,link:function(c,d,e,f){function g(a,b,c){return{number:a,text:b,active:c}}function h(a,b){var c=[],d=1,e=b,f=angular.isDefined(k)&&k<b;f&&(l?(d=Math.max(a-Math.floor(k/2),1),e=d+k-1,e>b&&(e=b,d=e-k+1)):(d=(Math.ceil(a/k)-1)*k+1,e=Math.min(d+k-1,b)));for(var h=d;h<=e;h++){var i=g(h,h,h===a);c.push(i)}if(f&&!l){if(d>1){var j=g(d-1,"...",!1);c.unshift(j)}if(e<b){var m=g(e+1,"...",!1);c.push(m)}}return c}var i=f[0],j=f[1];if(j){var k=angular.isDefined(e.maxSize)?c.$parent.$eval(e.maxSize):b.maxSize,l=angular.isDefined(e.rotate)?c.$parent.$eval(e.rotate):b.rotate;c.boundaryLinks=angular.isDefined(e.boundaryLinks)?c.$parent.$eval(e.boundaryLinks):b.boundaryLinks,c.directionLinks=angular.isDefined(e.directionLinks)?c.$parent.$eval(e.directionLinks):b.directionLinks,i.init(j,b),e.maxSize&&c.$parent.$watch(a(e.maxSize),function(a){k=parseInt(a,10),i.render()});var m=i.render;i.render=function(){m(),c.page>0&&c.page<=c.totalPages&&(c.pages=h(c.page,c.totalPages))}}}}}]).constant("pagerConfig",{itemsPerPage:10,previousText:"« Previous",nextText:"Next »",align:!0}).directive("pager",["pagerConfig",function(a){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@"},require:["pager","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pager.html",replace:!0,link:function(b,c,d,e){var f=e[0],g=e[1];g&&(b.align=angular.isDefined(d.align)?b.$parent.$eval(d.align):a.align,f.init(g,a))}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).provider("$tooltip",function(){function a(a){var b=/[A-Z]/g,c="-";return a.replace(b,function(a,b){return(b?c:"")+a.toLowerCase()})}var b={placement:"top",animation:!0,popupDelay:0},c={mouseenter:"mouseleave",click:"click",focus:"blur"},d={};this.options=function(a){angular.extend(d,a)},this.setTriggers=function(a){angular.extend(c,a)},this.$get=["$window","$compile","$timeout","$parse","$document","$position","$interpolate",function(e,f,g,h,i,j,k){return function(e,l,m){function n(a){var b=a||o.trigger||m,d=c[b]||b;return{show:b,hide:d}}var o=angular.extend({},b,d),p=a(e),q=k.startSymbol(),r=k.endSymbol(),s="<div "+p+'-popup title="'+q+"tt_title"+r+'" content="'+q+"tt_content"+r+'" placement="'+q+"tt_placement"+r+'" animation="tt_animation" is-open="tt_isOpen"></div>';return{restrict:"EA",scope:!0,compile:function(a,b){var c=f(s);return function(a,b,d){function f(){a.tt_isOpen?m():k()}function k(){y&&!a.$eval(d[l+"Enable"])||(a.tt_popupDelay?v||(v=g(p,a.tt_popupDelay,!1),v.then(function(a){a()})):p()())}function m(){a.$apply(function(){q()})}function p(){return v=null,u&&(g.cancel(u),u=null),a.tt_content?(r(),t.css({top:0,left:0,display:"block"}),w?i.find("body").append(t):b.after(t),z(),a.tt_isOpen=!0,a.$digest(),z):angular.noop}function q(){a.tt_isOpen=!1,g.cancel(v),v=null,a.tt_animation?u||(u=g(s,500)):s()}function r(){t&&s(),t=c(a,function(){}),a.$digest()}function s(){u=null,t&&(t.remove(),t=null)}var t,u,v,w=!!angular.isDefined(o.appendToBody)&&o.appendToBody,x=n(void 0),y=angular.isDefined(d[l+"Enable"]),z=function(){var c=j.positionElements(b,t,a.tt_placement,w);if(w){var d={left:5,width:window.innerWidth-5},e=angular.element(t[0].querySelector(".tooltip-arrow")),f=t[0].clientWidth,g=Math.abs(c.left+f-d.width);if(c.left<d.left)e.css("left",f/2+(c.left-d.left)+"px"),c.left=d.left+"px";else if(c.left+f>d.width){var h=f/2+Math.abs(d.width-(c.left+f));e.css("left",h+"px"),c.left=c.left-g+"px"}else c.left+="px";c.top+="px"}else c.top+="px",c.left+="px";t.css(c)};a.tt_isOpen=!1,d.$observe(e,function(b){a.tt_content=b,!b&&a.tt_isOpen&&q()}),d.$observe(l+"Title",function(b){a.tt_title=b}),d.$observe(l+"Placement",function(b){a.tt_placement=angular.isDefined(b)?b:o.placement}),d.$observe(l+"PopupDelay",function(b){var c=parseInt(b,10);a.tt_popupDelay=isNaN(c)?o.popupDelay:c});var A=function(){b.unbind(x.show,k),b.unbind(x.hide,m)};d.$observe(l+"Trigger",function(a){A(),x=n(a),x.show===x.hide?b.bind(x.show,f):(b.bind(x.show,k),b.bind(x.hide,m))});var B=a.$eval(d[l+"Animation"]);a.tt_animation=angular.isDefined(B)?!!B:o.animation,d.$observe(l+"AppendToBody",function(b){w=angular.isDefined(b)?h(b)(a):w}),w&&a.$on("$locationChangeSuccess",function(){a.tt_isOpen&&q()}),a.$on("$destroy",function(){g.cancel(u),g.cancel(v),A(),s()})}}}}}]}).directive("tooltipPopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function(a){return a("tooltip","tooltip","mouseenter")}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).directive("tooltipHtmlUnsafe",["$tooltip",function(a){return a("tooltipHtmlUnsafe","tooltip","mouseenter")}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("popoverPopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html"}}).directive("popover",["$tooltip",function(a){return a("popover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("progressConfig",{animate:!0,max:100}).controller("ProgressController",["$scope","$attrs","progressConfig",function(a,b,c){var d=this,e=angular.isDefined(b.animate)?a.$parent.$eval(b.animate):c.animate;this.bars=[],a.max=angular.isDefined(b.max)?a.$parent.$eval(b.max):c.max,this.addBar=function(b,c){e||c.css({transition:"none"}),this.bars.push(b),b.$watch("value",function(c){b.percent=+(100*c/a.max).toFixed(2)}),b.$on("$destroy",function(){c=null,d.removeBar(b)})},this.removeBar=function(a){this.bars.splice(this.bars.indexOf(a),1)}}]).directive("progress",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",require:"progress",scope:{},templateUrl:"template/progressbar/progress.html"}}).directive("bar",function(){return{restrict:"EA",replace:!0,transclude:!0,require:"^progress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(a,b,c,d){d.addBar(a,b)}}}).directive("progressbar",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(a,b,c,d){d.addBar(a,angular.element(b.children()[0]))}}}),angular.module("ui.bootstrap.rating",[]).constant("ratingConfig",{max:5,stateOn:null,stateOff:null}).controller("RatingController",["$scope","$attrs","ratingConfig",function(a,b,c){var d={$setViewValue:angular.noop};this.init=function(e){d=e,d.$render=this.render,this.stateOn=angular.isDefined(b.stateOn)?a.$parent.$eval(b.stateOn):c.stateOn,this.stateOff=angular.isDefined(b.stateOff)?a.$parent.$eval(b.stateOff):c.stateOff;var f=angular.isDefined(b.ratingStates)?a.$parent.$eval(b.ratingStates):new Array(angular.isDefined(b.max)?a.$parent.$eval(b.max):c.max);a.range=this.buildTemplateObjects(f)},this.buildTemplateObjects=function(a){for(var b=0,c=a.length;b<c;b++)a[b]=angular.extend({index:b},{stateOn:this.stateOn,stateOff:this.stateOff},a[b]);return a},a.rate=function(b){!a.readonly&&b>=0&&b<=a.range.length&&(d.$setViewValue(b),d.$render())},a.enter=function(b){a.readonly||(a.value=b),a.onHover({value:b})},a.reset=function(){a.value=d.$viewValue,a.onLeave()},a.onKeydown=function(b){/(37|38|39|40)/.test(b.which)&&(b.preventDefault(),b.stopPropagation(),a.rate(a.value+(38===b.which||39===b.which?1:-1)))},this.render=function(){a.value=d.$viewValue}}]).directive("rating",function(){return{restrict:"EA",require:["rating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:!0,link:function(a,b,c,d){var e=d[0],f=d[1];f&&e.init(f)}}}),angular.module("ui.bootstrap.tabs",[]).controller("TabsetController",["$scope",function(a){var b=this,c=b.tabs=a.tabs=[];b.select=function(a){angular.forEach(c,function(b){b.active&&b!==a&&(b.active=!1,b.onDeselect())}),a.active=!0,a.onSelect()},b.addTab=function(a){c.push(a),1===c.length?a.active=!0:a.active&&b.select(a)},b.removeTab=function(a){var d=c.indexOf(a);if(a.active&&c.length>1){var e=d==c.length-1?d-1:d+1;b.select(c[e])}c.splice(d,1)}}]).directive("tabset",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",link:function(a,b,c){a.vertical=!!angular.isDefined(c.vertical)&&a.$parent.$eval(c.vertical),a.justified=!!angular.isDefined(c.justified)&&a.$parent.$eval(c.justified)}}}).directive("tab",["$parse",function(a){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},compile:function(b,c,d){return function(b,c,e,f){b.$watch("active",function(a){a&&f.select(b)}),b.disabled=!1,e.disabled&&b.$parent.$watch(a(e.disabled),function(a){b.disabled=!!a}),b.select=function(){b.disabled||(b.active=!0)},f.addTab(b),b.$on("$destroy",function(){f.removeTab(b)}),b.$transcludeFn=d}}}}]).directive("tabHeadingTransclude",[function(){return{restrict:"A",require:"^tab",link:function(a,b,c,d){a.$watch("headingElement",function(a){a&&(b.html(""),b.append(a))})}}}]).directive("tabContentTransclude",function(){function a(a){return a.tagName&&(a.hasAttribute("tab-heading")||a.hasAttribute("data-tab-heading")||"tab-heading"===a.tagName.toLowerCase()||"data-tab-heading"===a.tagName.toLowerCase())}return{restrict:"A",require:"^tabset",link:function(b,c,d){var e=b.$eval(d.tabContentTransclude);e.$transcludeFn(e.$parent,function(b){angular.forEach(b,function(b){a(b)?e.headingElement=b:c.append(b)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("timepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:null,readonlyInput:!1,mousewheel:!0}).controller("TimepickerController",["$scope","$attrs","$parse","$log","$locale","timepickerConfig",function(a,b,c,d,e,f){function g(){var b=parseInt(a.hours,10),c=a.showMeridian?b>0&&b<13:b>=0&&b<24;if(c)return a.showMeridian&&(12===b&&(b=0),a.meridian===p[1]&&(b+=12)),b}function h(){var b=parseInt(a.minutes,10);return b>=0&&b<60?b:void 0}function i(a){return angular.isDefined(a)&&a.toString().length<2?"0"+a:a}function j(a){k(),o.$setViewValue(new Date(n)),l(a)}function k(){o.$setValidity("time",!0),a.invalidHours=!1,a.invalidMinutes=!1}function l(b){var c=n.getHours(),d=n.getMinutes();a.showMeridian&&(c=0===c||12===c?12:c%12),a.hours="h"===b?c:i(c),a.minutes="m"===b?d:i(d),a.meridian=n.getHours()<12?p[0]:p[1]}function m(a){var b=new Date(n.getTime()+6e4*a);n.setHours(b.getHours(),b.getMinutes()),j()}var n=new Date,o={$setViewValue:angular.noop},p=angular.isDefined(b.meridians)?a.$parent.$eval(b.meridians):f.meridians||e.DATETIME_FORMATS.AMPMS;this.init=function(c,d){o=c,o.$render=this.render;var e=d.eq(0),g=d.eq(1),h=angular.isDefined(b.mousewheel)?a.$parent.$eval(b.mousewheel):f.mousewheel;h&&this.setupMousewheelEvents(e,g),a.readonlyInput=angular.isDefined(b.readonlyInput)?a.$parent.$eval(b.readonlyInput):f.readonlyInput,this.setupInputEvents(e,g)};var q=f.hourStep;b.hourStep&&a.$parent.$watch(c(b.hourStep),function(a){q=parseInt(a,10)});var r=f.minuteStep;b.minuteStep&&a.$parent.$watch(c(b.minuteStep),function(a){r=parseInt(a,10)}),a.showMeridian=f.showMeridian,b.showMeridian&&a.$parent.$watch(c(b.showMeridian),function(b){if(a.showMeridian=!!b,o.$error.time){var c=g(),d=h();angular.isDefined(c)&&angular.isDefined(d)&&(n.setHours(c),j())}else l()}),this.setupMousewheelEvents=function(b,c){var d=function(a){a.originalEvent&&(a=a.originalEvent);var b=a.wheelDelta?a.wheelDelta:-a.deltaY;return a.detail||b>0};b.bind("mousewheel wheel",function(b){a.$apply(d(b)?a.incrementHours():a.decrementHours()),b.preventDefault()}),c.bind("mousewheel wheel",function(b){a.$apply(d(b)?a.incrementMinutes():a.decrementMinutes()),b.preventDefault()})},this.setupInputEvents=function(b,c){if(a.readonlyInput)return a.updateHours=angular.noop,void(a.updateMinutes=angular.noop);var d=function(b,c){o.$setViewValue(null),o.$setValidity("time",!1),angular.isDefined(b)&&(a.invalidHours=b),angular.isDefined(c)&&(a.invalidMinutes=c)};a.updateHours=function(){var a=g();angular.isDefined(a)?(n.setHours(a),j("h")):d(!0)},b.bind("blur",function(b){!a.invalidHours&&a.hours<10&&a.$apply(function(){a.hours=i(a.hours)})}),a.updateMinutes=function(){var a=h();angular.isDefined(a)?(n.setMinutes(a),j("m")):d(void 0,!0)},c.bind("blur",function(b){!a.invalidMinutes&&a.minutes<10&&a.$apply(function(){a.minutes=i(a.minutes)})})},this.render=function(){var a=o.$modelValue?new Date(o.$modelValue):null;isNaN(a)?(o.$setValidity("time",!1),d.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(a&&(n=a),k(),l())},a.incrementHours=function(){m(60*q)},a.decrementHours=function(){m(60*-q)},a.incrementMinutes=function(){m(r)},a.decrementMinutes=function(){m(-r)},a.toggleMeridian=function(){m(720*(n.getHours()<12?1:-1))}}]).directive("timepicker",function(){return{restrict:"EA",require:["timepicker","?^ngModel"],controller:"TimepickerController",replace:!0,scope:{},templateUrl:"template/timepicker/timepicker.html",link:function(a,b,c,d){var e=d[0],f=d[1];f&&e.init(f,b.find("input"))}}}),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).factory("typeaheadParser",["$parse",function(a){var b=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(c){var d=c.match(b);if(!d)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+c+'".');return{itemName:d[3],source:a(d[4]),viewMapper:a(d[2]||d[1]),modelMapper:a(d[1])}}}}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$position","typeaheadParser",function(a,b,c,d,e,f,g){var h=[9,13,27,38,40];return{require:"ngModel",link:function(i,j,k,l){var m,n=i.$eval(k.typeaheadMinLength)||1,o=i.$eval(k.typeaheadWaitMs)||0,p=i.$eval(k.typeaheadEditable)!==!1,q=b(k.typeaheadLoading).assign||angular.noop,r=b(k.typeaheadOnSelect),s=k.typeaheadInputFormatter?b(k.typeaheadInputFormatter):void 0,t=!!k.typeaheadAppendToBody&&i.$eval(k.typeaheadAppendToBody),u=b(k.ngModel).assign,v=g.parse(k.typeahead),w=i.$new();i.$on("$destroy",function(){w.$destroy()});var x="typeahead-"+w.$id+"-"+Math.floor(1e4*Math.random());j.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":x});var y=angular.element("<div typeahead-popup></div>");y.attr({id:x,matches:"matches",active:"activeIdx",select:"select(activeIdx)",query:"query",position:"position"}),angular.isDefined(k.typeaheadTemplateUrl)&&y.attr("template-url",k.typeaheadTemplateUrl);var z=function(){w.matches=[],w.activeIdx=-1,j.attr("aria-expanded",!1)},A=function(a){return x+"-option-"+a};w.$watch("activeIdx",function(a){a<0?j.removeAttr("aria-activedescendant"):j.attr("aria-activedescendant",A(a))});var B=function(a){var b={$viewValue:a};q(i,!0),c.when(v.source(i,b)).then(function(c){var d=a===l.$viewValue;if(d&&m)if(c.length>0){w.activeIdx=0,w.matches.length=0;for(var e=0;e<c.length;e++)b[v.itemName]=c[e],w.matches.push({id:A(e),label:v.viewMapper(w,b),model:c[e]});w.query=a,w.position=t?f.offset(j):f.position(j),w.position.top=w.position.top+j.prop("offsetHeight"),j.attr("aria-expanded",!0)}else z();d&&q(i,!1)},function(){z(),q(i,!1)})};z(),w.query=void 0;var C,D=function(a){C=d(function(){B(a)},o)},E=function(){C&&d.cancel(C)};l.$parsers.unshift(function(a){return m=!0,a&&a.length>=n?o>0?(E(),D(a)):B(a):(q(i,!1),E(),z()),p?a:a?void l.$setValidity("editable",!1):(l.$setValidity("editable",!0),a)}),l.$formatters.push(function(a){var b,c,d={};return s?(d.$model=a,s(i,d)):(d[v.itemName]=a,b=v.viewMapper(i,d),d[v.itemName]=void 0,c=v.viewMapper(i,d),b!==c?b:a)}),w.select=function(a){var b,c,e={};e[v.itemName]=c=w.matches[a].model,b=v.modelMapper(i,e),u(i,b),l.$setValidity("editable",!0),r(i,{$item:c,$model:b,$label:v.viewMapper(i,e)}),z(),d(function(){j[0].focus()},0,!1)},j.bind("keydown",function(a){0!==w.matches.length&&h.indexOf(a.which)!==-1&&(a.preventDefault(),40===a.which?(w.activeIdx=(w.activeIdx+1)%w.matches.length,w.$digest()):38===a.which?(w.activeIdx=(w.activeIdx?w.activeIdx:w.matches.length)-1,w.$digest()):13===a.which||9===a.which?w.$apply(function(){w.select(w.activeIdx)}):27===a.which&&(a.stopPropagation(),z(),w.$digest()))}),j.bind("blur",function(a){m=!1});var F=function(a){j[0]!==a.target&&(z(),w.$digest())};e.bind("click",F),i.$on("$destroy",function(){e.unbind("click",F)});var G=a(y)(w);t?e.find("body").append(G):j.after(G)}}}]).directive("typeaheadPopup",function(){return{restrict:"EA",scope:{matches:"=",query:"=",active:"=",position:"=",select:"&"},replace:!0,templateUrl:"template/typeahead/typeahead-popup.html",link:function(a,b,c){a.templateUrl=c.templateUrl,a.isOpen=function(){return a.matches.length>0},a.isActive=function(b){return a.active==b},a.selectActive=function(b){a.active=b},a.selectMatch=function(b){a.select({activeIdx:b})}}}}).directive("typeaheadMatch",["$http","$templateCache","$compile","$parse",function(a,b,c,d){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(e,f,g){var h=d(g.templateUrl)(e.$parent)||"template/typeahead/typeahead-match.html";a.get(h,{cache:b}).success(function(a){f.replaceWith(c(a.trim())(e))})}}}]).filter("typeaheadHighlight",function(){function a(a){return a.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(b,c){return c?(""+b).replace(new RegExp(a(c),"gi"),"<strong>$&</strong>"):b}}),angular.module("template/accordion/accordion-group.html",[]).run(["$templateCache",function(a){a.put("template/accordion/accordion-group.html",'<div class="panel panel-default">\n  <div class="panel-heading">\n    <h4 class="panel-title">\n      <a href class="accordion-toggle" ng-click="toggleOpen()" accordion-transclude="heading"><span ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n    </h4>\n  </div>\n  <div class="panel-collapse" collapse="!isOpen">\n\t  <div class="panel-body" ng-transclude></div>\n  </div>\n</div>\n')}]),angular.module("template/accordion/accordion.html",[]).run(["$templateCache",function(a){a.put("template/accordion/accordion.html",'<div class="panel-group" ng-transclude></div>')}]),angular.module("template/alert/alert.html",[]).run(["$templateCache",function(a){a.put("template/alert/alert.html",'<div class="alert" ng-class="[\'alert-\' + (type || \'warning\'), closeable ? \'alert-dismissable\' : null]" role="alert">\n    <button ng-show="closeable" type="button" class="close" ng-click="close()">\n        <span aria-hidden="true">&times;</span>\n        <span class="sr-only">Close</span>\n    </button>\n    <div ng-transclude></div>\n</div>\n')}]),angular.module("template/carousel/carousel.html",[]).run(["$templateCache",function(a){a.put("template/carousel/carousel.html",'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel" ng-swipe-right="prev()" ng-swipe-left="next()">\n    <ol class="carousel-indicators" ng-show="slides.length > 1">\n        <li ng-repeat="slide in slides track by $index" ng-class="{active: isActive(slide)}" ng-click="select(slide)"></li>\n    </ol>\n    <div class="carousel-inner" ng-transclude></div>\n    <a class="left carousel-control" ng-click="prev()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-left"></span></a>\n    <a class="right carousel-control" ng-click="next()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-right"></span></a>\n</div>\n')}]),angular.module("template/carousel/slide.html",[]).run(["$templateCache",function(a){a.put("template/carousel/slide.html","<div ng-class=\"{\n    'active': leaving || (active && !entering),\n    'prev': (next || active) && direction=='prev',\n    'next': (next || active) && direction=='next',\n    'right': direction=='prev',\n    'left': direction=='next'\n  }\" class=\"item text-center\" ng-transclude></div>\n")}]),angular.module("template/datepicker/datepicker.html",[]).run(["$templateCache",function(a){a.put("template/datepicker/datepicker.html",'<div ng-switch="datepickerMode" role="application" ng-keydown="keydown($event)">\n  <daypicker ng-switch-when="day" tabindex="0"></daypicker>\n  <monthpicker ng-switch-when="month" tabindex="0"></monthpicker>\n  <yearpicker ng-switch-when="year" tabindex="0"></yearpicker>\n</div>')}]),angular.module("template/datepicker/day.html",[]).run(["$templateCache",function(a){a.put("template/datepicker/day.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{5 + showWeeks}}"><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n    <tr>\n      <th ng-show="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in labels track by $index" class="text-center"><small aria-label="{{label.full}}">{{label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-show="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default btn-sm" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/month.html",[]).run(["$templateCache",function(a){a.put("template/datepicker/month.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/popup.html",[]).run(["$templateCache",function(a){a.put("template/datepicker/popup.html",'<ul class="dropdown-menu" ng-style="{display: (isOpen && \'block\') || \'none\', top: position.top+\'px\', left: position.left+\'px\'}" ng-keydown="keydown($event)">\n\t<li ng-transclude></li>\n\t<li ng-if="showButtonBar" style="padding:10px 9px 2px">\n\t\t<span class="btn-group pull-left">\n\t\t\t<button type="button" class="btn btn-sm btn-info" ng-click="select(\'today\')">{{ getText(\'current\') }}</button>\n\t\t\t<button type="button" class="btn btn-sm btn-danger" ng-click="select(null)">{{ getText(\'clear\') }}</button>\n\t\t</span>\n\t\t<button type="button" class="btn btn-sm btn-success pull-right" ng-click="close()">{{ getText(\'close\') }}</button>\n\t</li>\n</ul>\n')}]),angular.module("template/datepicker/year.html",[]).run(["$templateCache",function(a){a.put("template/datepicker/year.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="3"><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/modal/backdrop.html",[]).run(["$templateCache",function(a){a.put("template/modal/backdrop.html",'<div class="modal-backdrop fade {{ backdropClass }}"\n     ng-class="{in: animate}"\n     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n></div>\n')}]),angular.module("template/modal/window.html",[]).run(["$templateCache",function(a){a.put("template/modal/window.html",'<div tabindex="-1" role="dialog" class="modal fade" ng-class="{in: animate}" ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}" ng-click="close($event)">\n    <div class="modal-dialog" ng-class="{\'modal-sm\': size == \'sm\', \'modal-lg\': size == \'lg\'}"><div class="modal-content" modal-transclude></div></div>\n</div>')}]),angular.module("template/pagination/pager.html",[]).run(["$templateCache",function(a){a.put("template/pagination/pager.html",'<ul class="pager">\n  <li ng-class="{disabled: noPrevious(), previous: align}"><a href ng-click="selectPage(page - 1)">{{getText(\'previous\')}}</a></li>\n  <li ng-class="{disabled: noNext(), next: align}"><a href ng-click="selectPage(page + 1)">{{getText(\'next\')}}</a></li>\n</ul>')}]),angular.module("template/pagination/pagination.html",[]).run(["$templateCache",function(a){a.put("template/pagination/pagination.html",'<ul class="pagination">\n  <li ng-if="boundaryLinks" ng-class="{disabled: noPrevious()}"><a href ng-click="selectPage(1)">{{getText(\'first\')}}</a></li>\n  <li ng-if="directionLinks" ng-class="{disabled: noPrevious()}"><a href ng-click="selectPage(page - 1)">{{getText(\'previous\')}}</a></li>\n  <li ng-repeat="page in pages track by $index" ng-class="{active: page.active}"><a href ng-click="selectPage(page.number)">{{page.text}}</a></li>\n  <li ng-if="directionLinks" ng-class="{disabled: noNext()}"><a href ng-click="selectPage(page + 1)">{{getText(\'next\')}}</a></li>\n  <li ng-if="boundaryLinks" ng-class="{disabled: noNext()}"><a href ng-click="selectPage(totalPages)">{{getText(\'last\')}}</a></li>\n</ul>')}]),angular.module("template/tooltip/tooltip-html-unsafe-popup.html",[]).run(["$templateCache",function(a){a.put("template/tooltip/tooltip-html-unsafe-popup.html",'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" bind-html-unsafe="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(a){a.put("template/tooltip/tooltip-popup.html",'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')}]),angular.module("template/popover/popover.html",[]).run(["$templateCache",function(a){a.put("template/popover/popover.html",'<div class="popover {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-show="title"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n');
}]),angular.module("template/progressbar/bar.html",[]).run(["$templateCache",function(a){a.put("template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: percent + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude></div>')}]),angular.module("template/progressbar/progress.html",[]).run(["$templateCache",function(a){a.put("template/progressbar/progress.html",'<div class="progress" ng-transclude></div>')}]),angular.module("template/progressbar/progressbar.html",[]).run(["$templateCache",function(a){a.put("template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: percent + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude></div>\n</div>')}]),angular.module("template/rating/rating.html",[]).run(["$templateCache",function(a){a.put("template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}">\n    <i ng-repeat="r in range track by $index" ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')">\n        <span class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    </i>\n</span>')}]),angular.module("template/tabs/tab.html",[]).run(["$templateCache",function(a){a.put("template/tabs/tab.html",'<li ng-class="{active: active, disabled: disabled}">\n  <a href ng-click="select()" tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("template/tabs/tabset.html",[]).run(["$templateCache",function(a){a.put("template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane" \n         ng-repeat="tab in tabs" \n         ng-class="{active: tab.active}"\n         tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("template/timepicker/timepicker.html",[]).run(["$templateCache",function(a){a.put("template/timepicker/timepicker.html",'<table>\n\t<tbody>\n\t\t<tr class="text-center">\n\t\t\t<td><a ng-click="incrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n\t\t\t<td>&nbsp;</td>\n\t\t\t<td><a ng-click="incrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n\t\t\t<td ng-show="showMeridian"></td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style="width:50px;" class="form-group" ng-class="{\'has-error\': invalidHours}">\n\t\t\t\t<input type="text" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-mousewheel="incrementHours()" ng-readonly="readonlyInput" maxlength="2">\n\t\t\t</td>\n\t\t\t<td>:</td>\n\t\t\t<td style="width:50px;" class="form-group" ng-class="{\'has-error\': invalidMinutes}">\n\t\t\t\t<input type="text" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2">\n\t\t\t</td>\n\t\t\t<td ng-show="showMeridian"><button type="button" class="btn btn-default text-center" ng-click="toggleMeridian()">{{meridian}}</button></td>\n\t\t</tr>\n\t\t<tr class="text-center">\n\t\t\t<td><a ng-click="decrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n\t\t\t<td>&nbsp;</td>\n\t\t\t<td><a ng-click="decrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n\t\t\t<td ng-show="showMeridian"></td>\n\t\t</tr>\n\t</tbody>\n</table>\n')}]),angular.module("template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(a){a.put("template/typeahead/typeahead-match.html",'<a tabindex="-1" bind-html-unsafe="match.label | typeaheadHighlight:query"></a>')}]),angular.module("template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(a){a.put("template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen()" ng-style="{top: position.top+\'px\', left: position.left+\'px\'}" style="display: block;" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)" role="option" id="{{match.id}}">\n        <div typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}])},{}],305:[function(a,b,c){"use strict";function d(a){return"object"==typeof a}function e(a){this._eventBus=a}function f(a,b){return function(c){return a.call(b||null,c.context,c.command,c)}}var g=a("lodash/collection/forEach"),h=a("lodash/lang/isFunction"),i=a("lodash/lang/isArray"),j=a("lodash/lang/isNumber"),k=1e3;e.$inject=["eventBus"],b.exports=e,e.prototype.on=function(a,b,c,e,l,m){if((h(b)||j(b))&&(m=l,l=e,e=c,c=b,b=null),h(c)&&(m=l,l=e,e=c,c=k),d(l)&&(m=l,l=!1),!h(e))throw new Error("handlerFn must be a function");i(a)||(a=[a]);var n=this._eventBus;g(a,function(a){var d=["commandStack",a,b].filter(function(a){return a}).join(".");n.on(d,c,l?f(e,m):e,m)})};var l=["canExecute","preExecute","preExecuted","execute","executed","postExecute","postExecuted","revert","reverted"];g(l,function(a){e.prototype[a]=function(b,c,d,e,f){(h(b)||j(b))&&(f=e,e=d,d=c,c=b,b=null),this.on(b,a,c,d,e,f)}})},{"lodash/collection/forEach":347,"lodash/lang/isArray":433,"lodash/lang/isFunction":434,"lodash/lang/isNumber":436}],306:[function(a,b,c){"use strict";function d(a,b){var c=this;b=b||e,a.on(["render.shape","render.connection"],b,function(a,b){var d=a.type,e=b.element,f=b.gfx;if(c.canRender(e))return"render.shape"===d?c.drawShape(f,e):c.drawConnection(f,e)}),a.on(["render.getShapePath","render.getConnectionPath"],b,function(a,b){if(c.canRender(b))return"render.getShapePath"===a.type?c.getShapePath(b):c.getConnectionPath(b)})}var e=1e3;d.prototype.canRender=function(){},d.prototype.drawShape=function(){},d.prototype.drawConnection=function(){},d.prototype.getShapePath=function(){},d.prototype.getConnectionPath=function(){},b.exports=d},{}],307:[function(a,b,c){"use strict";function d(a,b){this._providers=[],this._eventBus=a,this._overlays=b,this._current=null,this._init()}function e(a,b){var c=m(a),d=g(b)?b:b.split(/\s+/g);d.forEach(function(a){c.add(a)})}var f=a("lodash/lang/isFunction"),g=a("lodash/lang/isArray"),h=a("lodash/collection/forEach"),i=a("min-dom/lib/delegate"),j=a("min-dom/lib/event"),k=a("min-dom/lib/attr"),l=a("min-dom/lib/query"),m=a("min-dom/lib/classes"),n=a("min-dom/lib/domify"),o=".entry";d.$inject=["eventBus","overlays"],b.exports=d,d.prototype._init=function(){var a=this._eventBus,b=this;a.on("selection.changed",function(a){var c=a.newSelection;1===c.length?b.open(c[0]):b.close()}),a.on("elements.delete",function(a){var c=a.elements;h(c,function(a){b.isOpen(a)&&b.close()})}),a.on("element.changed",function(a){var c=a.element,d=b._current;d&&d.element===c&&b.open(c,!0)})},d.prototype.registerProvider=function(a){this._providers.push(a)},d.prototype.getEntries=function(a){var b={};return h(this._providers,function(c){var d=c.getContextPadEntries(a);h(d,function(a,c){b[c]=a})}),b},d.prototype.trigger=function(a,b,c){var d,e,g,h=this._current.element,i=this._current.entries,j=b.delegateTarget||b.target;if(!j)return b.preventDefault();if(d=i[k(j,"data-action")],e=d.action,g=b.originalEvent||b,f(e)){if("click"===a)return e(g,h,c)}else if(e[a])return e[a](g,h,c);b.preventDefault()},d.prototype.open=function(a,b){!b&&this.isOpen(a)||(this.close(),this._updateAndOpen(a))},d.prototype._updateAndOpen=function(a){var b=this.getEntries(a),c=this.getPad(a),d=c.html;h(b,function(a,b){var c,f=a.group||"default",g=n(a.html||'<div class="entry" draggable="true"></div>');k(g,"data-action",b),c=l("[data-group="+f+"]",d),c||(c=n('<div class="group" data-group="'+f+'"></div>'),d.appendChild(c)),c.appendChild(g),a.className&&e(g,a.className),a.title&&k(g,"title",a.title),a.imageUrl&&g.appendChild(n('<img src="'+a.imageUrl+'">'))}),m(d).add("open"),this._current={element:a,pad:c,entries:b},this._eventBus.fire("contextPad.open",{current:this._current})},d.prototype.getPad=function(a){if(this.isOpen())return this._current.pad;var b=this,c=this._overlays,d=n('<div class="djs-context-pad"></div>');i.bind(d,o,"click",function(a){b.trigger("click",a)}),i.bind(d,o,"dragstart",function(a){b.trigger("dragstart",a)}),j.bind(d,"mousedown",function(a){a.stopPropagation()}),this._overlayId=c.add(a,"context-pad",{position:{right:-9,top:-6},html:d});var e=c.get(this._overlayId);return this._eventBus.fire("contextPad.create",{element:a,pad:e}),e},d.prototype.close=function(){this.isOpen()&&(this._overlays.remove(this._overlayId),this._overlayId=null,this._eventBus.fire("contextPad.close",{current:this._current}),this._current=null)},d.prototype.isOpen=function(a){return!(!this._current||a&&this._current.element!==a)}},{"lodash/collection/forEach":347,"lodash/lang/isArray":433,"lodash/lang/isFunction":434,"min-dom/lib/attr":451,"min-dom/lib/classes":452,"min-dom/lib/delegate":455,"min-dom/lib/domify":456,"min-dom/lib/event":457,"min-dom/lib/query":458}],308:[function(a,b,c){b.exports={__depends__:[a("../interaction-events"),a("../overlays")],contextPad:["type",a("./ContextPad")]}},{"../interaction-events":310,"../overlays":314,"./ContextPad":307}],309:[function(a,b,c){"use strict";function d(a,b,c){function d(c,d,e){if(g(d)){var f,h,i;e?h=b.getGraphics(e):(f=d.delegateTarget||d.target,f&&(h=f,e=b.get(h))),h&&e&&(i=a.fire(c,{element:e,gfx:h,originalEvent:d}),i===!1&&(d.stopPropagation(),d.preventDefault()))}}function l(a){var b=v[a];return b||(b=v[a]=function(b){d(a,b)}),b}function p(a,b,c){var e=w[a];if(!e)throw new Error("unmapped DOM event name <"+a+">");return d(e,b,c)}function q(a,b,c){var d=l(c);d.$delegate=f.bind(a,x,b,d)}function r(a,b,c){f.unbind(a,b,l(c).$delegate)}function s(a){e(w,function(b,c){q(a,c,b)})}function t(a){e(w,function(b,c){r(a,c,b)})}var u=c.cls("djs-hit",["no-fill","no-border"],{stroke:"white",strokeWidth:15}),v={},w={mouseover:"element.hover",mouseout:"element.out",click:"element.click",dblclick:"element.dblclick",mousedown:"element.mousedown",mouseup:"element.mouseup"},x="svg, .djs-element";a.on("canvas.destroy",function(a){t(a.svg)}),a.on("canvas.init",function(a){s(a.svg)}),a.on(["shape.added","connection.added"],function(a){var b,c=a.element,d=a.gfx;c.waypoints?b=m(c.waypoints):(b=j("rect"),i(b,{x:0,y:0,width:c.width,height:c.height})),i(b,u),h(d,b)}),a.on("shape.changed",o,function(a){var b=a.element,c=a.gfx,d=k(".djs-hit",c);i(d,{width:b.width,height:b.height})}),a.on("connection.changed",function(a){var b=a.element,c=a.gfx,d=k(".djs-hit",c);n(d,b.waypoints)}),this.fire=d,this.triggerMouseEvent=p,this.mouseHandler=l,this.registerEvent=q,this.unregisterEvent=r}var e=a("lodash/collection/forEach"),f=a("min-dom/lib/delegate"),g=a("../../util/Mouse").isPrimaryButton,h=a("tiny-svg/lib/append"),i=a("tiny-svg/lib/attr"),j=a("tiny-svg/lib/create"),k=a("min-dom/lib/query"),l=a("../../util/RenderUtil"),m=l.createLine,n=l.updateLine,o=500;d.$inject=["eventBus","elementRegistry","styles"],b.exports=d},{"../../util/Mouse":337,"../../util/RenderUtil":339,"lodash/collection/forEach":347,"min-dom/lib/delegate":455,"min-dom/lib/query":458,"tiny-svg/lib/append":471,"tiny-svg/lib/attr":473,"tiny-svg/lib/create":474}],310:[function(a,b,c){b.exports={__init__:["interactionEvents"],interactionEvents:["type",a("./InteractionEvents")]}},{"./InteractionEvents":309}],311:[function(a,b,c){"use strict";function d(a,b,c){function d(a,b){var c=i("rect");return h(c,k({x:10,y:10,width:100,height:100},e)),g(a,c),c}this.offset=6;var e=b.cls("djs-outline",["no-fill"]),l=this;a.on(["shape.added","shape.changed"],f,function(a){var b=a.element,c=a.gfx,e=j(".djs-outline",c);e||(e=d(c,b)),l.updateShapeOutline(e,b)}),a.on(["connection.added","connection.changed"],function(a){var b=a.element,c=a.gfx,e=j(".djs-outline",c);e||(e=d(c,b)),l.updateConnectionOutline(e,b)})}var e=a("../../util/Elements").getBBox,f=500,g=a("tiny-svg/lib/append"),h=a("tiny-svg/lib/attr"),i=a("tiny-svg/lib/create"),j=a("min-dom/lib/query"),k=a("lodash/object/assign");d.prototype.updateShapeOutline=function(a,b){h(a,{x:-this.offset,y:-this.offset,width:b.width+2*this.offset,height:b.height+2*this.offset})},d.prototype.updateConnectionOutline=function(a,b){var c=e(b);h(a,{x:c.x-this.offset,y:c.y-this.offset,width:c.width+2*this.offset,height:c.height+2*this.offset})},d.$inject=["eventBus","styles","elementRegistry"],b.exports=d},{"../../util/Elements":333,"lodash/object/assign":442,"min-dom/lib/query":458,"tiny-svg/lib/append":471,"tiny-svg/lib/attr":473,"tiny-svg/lib/create":474}],312:[function(a,b,c){"use strict";b.exports={__init__:["outline"],outline:["type",a("./Outline")]}},{"./Outline":311}],313:[function(a,b,c){"use strict";function d(a){var b=o('<div class="djs-overlay-container" style="position: absolute; width: 0; height: 0;" />');return a.insertBefore(b,a.firstChild),b}function e(a,b,c){k(a.style,{left:b+"px",top:c+"px"})}function f(a,b){a.style.display=b===!1?"none":""}function g(a,b,c){this._eventBus=a,this._canvas=b,this._elementRegistry=c,this._ids=u,this._overlayDefaults={show:{minZoom:.7,maxZoom:5}},this._overlays={},this._overlayContainers=[],this._overlayRoot=d(b.getContainer()),this._init()}var h=a("lodash/lang/isArray"),i=a("lodash/lang/isString"),j=a("lodash/lang/isObject"),k=a("lodash/object/assign"),l=a("lodash/collection/forEach"),m=a("lodash/collection/find"),n=a("lodash/collection/filter"),o=a("min-dom/lib/domify"),p=a("min-dom/lib/classes"),q=a("min-dom/lib/attr"),r=a("min-dom/lib/remove"),s=a("min-dom/lib/clear"),t=a("../../util/Elements").getBBox,u=new(a("../../util/IdGenerator"))("ov"),v=500;g.$inject=["eventBus","canvas","elementRegistry"],b.exports=g,g.prototype.get=function(a){if(i(a)&&(a={id:a}),i(a.element)&&(a.element=this._elementRegistry.get(a.element)),a.element){var b=this._getOverlayContainer(a.element,!0);return b?a.type?n(b.overlays,{type:a.type}):b.overlays.slice():[]}return a.type?n(this._overlays,{type:a.type}):a.id?this._overlays[a.id]:null},g.prototype.add=function(a,b,c){if(j(b)&&(c=b,b=null),a.id||(a=this._elementRegistry.get(a)),!c.position)throw new Error("must specifiy overlay position");if(!c.html)throw new Error("must specifiy overlay html");if(!a)throw new Error("invalid element specified");var d=this._ids.next();return c=k({},this._overlayDefaults,c,{id:d,type:b,element:a,html:c.html}),this._addOverlay(c),d},g.prototype.remove=function(a){var b=this.get(a)||[];h(b)||(b=[b]);var c=this;l(b,function(a){var b=c._getOverlayContainer(a.element,!0);if(a&&(r(a.html),r(a.htmlContainer),delete a.htmlContainer,delete a.element,delete c._overlays[a.id]),b){var d=b.overlays.indexOf(a);d!==-1&&b.overlays.splice(d,1)}})},g.prototype.show=function(){f(this._overlayRoot)},g.prototype.hide=function(){f(this._overlayRoot,!1)},g.prototype.clear=function(){this._overlays={},this._overlayContainers=[],s(this._overlayRoot)},g.prototype._updateOverlayContainer=function(a){var b=a.element,c=a.html,d=b.x,f=b.y;if(b.waypoints){var g=t(b);d=g.x,f=g.y}e(c,d,f),q(a.html,"data-container-id",b.id)},g.prototype._updateOverlay=function(a){var b=a.position,c=a.htmlContainer,d=a.element,f=b.left,g=b.top;if(void 0!==b.right){var h;h=d.waypoints?t(d).width:d.width,f=b.right*-1+h}if(void 0!==b.bottom){var i;i=d.waypoints?t(d).height:d.height,g=b.bottom*-1+i}e(c,f||0,g||0)},g.prototype._createOverlayContainer=function(a){var b=o('<div class="djs-overlays" style="position: absolute" />');this._overlayRoot.appendChild(b);var c={html:b,element:a,overlays:[]};return this._updateOverlayContainer(c),this._overlayContainers.push(c),c},g.prototype._updateRoot=function(a){var b=a.scale||1,c=a.scale||1,d="matrix("+b+",0,0,"+c+","+-1*a.x*b+","+-1*a.y*c+")";this._overlayRoot.style.transform=d,this._overlayRoot.style["-ms-transform"]=d,this._overlayRoot.style["-webkit-transform"]=d},g.prototype._getOverlayContainer=function(a,b){var c=m(this._overlayContainers,function(b){return b.element===a});return c||b?c:this._createOverlayContainer(a)},g.prototype._addOverlay=function(a){var b,c,d=a.id,e=a.element,f=a.html;f.get&&(f=f.get(0)),i(f)&&(f=o(f)),c=this._getOverlayContainer(e),b=o('<div class="djs-overlay" data-overlay-id="'+d+'" style="position: absolute">'),b.appendChild(f),a.type&&p(b).add("djs-overlay-"+a.type),a.htmlContainer=b,c.overlays.push(a),c.html.appendChild(b),this._overlays[d]=a,this._updateOverlay(a),this._updateOverlayVisibilty(a,this._canvas.viewbox())},g.prototype._updateOverlayVisibilty=function(a,b){var c=a.show,d=a.htmlContainer,e=!0;c&&((c.minZoom>b.scale||c.maxZoom<b.scale)&&(e=!1),f(d,e))},g.prototype._updateOverlaysVisibilty=function(a){var b=this;l(this._overlays,function(c){b._updateOverlayVisibilty(c,a)})},g.prototype._init=function(){function a(a){c._updateRoot(a),c._updateOverlaysVisibilty(a),c.show()}var b=this._eventBus,c=this;b.on("canvas.viewbox.changing",function(a){c.hide()}),b.on("canvas.viewbox.changed",function(b){a(b.viewbox)}),b.on(["shape.remove","connection.remove"],function(a){var b=a.element,d=c.get({element:b});l(d,function(a){c.remove(a.id)});var e=c._getOverlayContainer(b);if(e){r(e.html);var f=c._overlayContainers.indexOf(e);f!==-1&&c._overlayContainers.splice(f,1)}}),b.on("element.changed",v,function(a){var b=a.element,d=c._getOverlayContainer(b,!0);d&&(l(d.overlays,function(a){c._updateOverlay(a)}),c._updateOverlayContainer(d))}),b.on("element.marker.update",function(a){var b=c._getOverlayContainer(a.element,!0);b&&p(b.html)[a.add?"add":"remove"](a.marker)}),b.on("diagram.clear",this.clear,this)}},{"../../util/Elements":333,"../../util/IdGenerator":335,"lodash/collection/filter":345,"lodash/collection/find":346,"lodash/collection/forEach":347,"lodash/lang/isArray":433,"lodash/lang/isObject":437,"lodash/lang/isString":439,"lodash/object/assign":442,"min-dom/lib/attr":451,"min-dom/lib/classes":452,"min-dom/lib/clear":453,"min-dom/lib/domify":456,"min-dom/lib/remove":459}],314:[function(a,b,c){b.exports={__init__:["overlays"],overlays:["type",a("./Overlays")]}},{"./Overlays":313}],315:[function(a,b,c){"use strict";function d(a){f.call(this,a),this.init()}var e=a("inherits"),f=a("../../command/CommandInterceptor");d.$inject=["eventBus"],e(d,f),b.exports=d,d.prototype.addRule=function(a,b,c){var d=this;"string"==typeof a&&(a=[a]),a.forEach(function(a){d.canExecute(a,b,function(a,b,d){return c(a)},!0)})},d.prototype.init=function(){}},{"../../command/CommandInterceptor":305,inherits:342}],316:[function(a,b,c){"use strict";function d(a){this._commandStack=a.get("commandStack",!1)}d.$inject=["injector"],b.exports=d,d.prototype.allowed=function(a,b){var c=!0,d=this._commandStack;return d&&(c=d.canExecute(a,b)),void 0===c||c}},{}],317:[function(a,b,c){b.exports={__init__:["rules"],rules:["type",a("./Rules")]}},{"./Rules":316}],318:[function(a,b,c){"use strict";function d(a){this._eventBus=a,this._selectedElements=[];var b=this;a.on(["shape.remove","connection.remove"],function(a){var c=a.element;b.deselect(c)}),a.on(["diagram.clear"],function(a){b.select(null)})}var e=a("lodash/lang/isArray"),f=a("lodash/collection/forEach");d.$inject=["eventBus"],b.exports=d,d.prototype.deselect=function(a){var b=this._selectedElements,c=b.indexOf(a);if(c!==-1){var d=b.slice();b.splice(c,1),this._eventBus.fire("selection.changed",{oldSelection:d,newSelection:b})}},d.prototype.get=function(){return this._selectedElements},d.prototype.isSelected=function(a){return this._selectedElements.indexOf(a)!==-1},d.prototype.select=function(a,b){var c=this._selectedElements,d=c.slice();e(a)||(a=a?[a]:[]),b?f(a,function(a){c.indexOf(a)===-1&&c.push(a)}):this._selectedElements=c=a.slice(),this._eventBus.fire("selection.changed",{oldSelection:d,newSelection:c})}},{"lodash/collection/forEach":347,"lodash/lang/isArray":433}],319:[function(a,b,c){"use strict";function d(a,b,c,d){a.on("create.end",500,function(a){a.context.canExecute&&b.select(a.context.shape)}),a.on("connect.end",500,function(a){a.context.canExecute&&a.context.target&&b.select(a.context.target)}),a.on("shape.move.end",500,function(a){var c=a.previousSelection||[],e=d.get(a.context.shape.id),g=f(c,function(a){return e.id===a.id});g||b.select(e)}),a.on("element.click",function(a){var d=a.element;d===c.getRootElement()&&(d=null);var f=b.isSelected(d),g=b.get().length>1,h=e(a);return f&&g?h?b.deselect(d):b.select(d):void(f?b.deselect(d):b.select(d,h))})}var e=a("../../util/Mouse").hasPrimaryModifier,f=a("lodash/collection/find");d.$inject=["eventBus","selection","canvas","elementRegistry"],b.exports=d},{"../../util/Mouse":337,"lodash/collection/find":346}],320:[function(a,b,c){"use strict";function d(a,b,c,d){function h(a,c){b.addMarker(a,c)}function i(a,c){b.removeMarker(a,c)}this._multiSelectionBox=null,a.on("element.hover",function(a){h(a.element,f)}),a.on("element.out",function(a){i(a.element,f)}),a.on("selection.changed",function(a){function b(a){i(a,g)}function c(a){h(a,g)}var d=a.oldSelection,f=a.newSelection;e(d,function(a){f.indexOf(a)===-1&&b(a)}),e(f,function(a){d.indexOf(a)===-1&&c(a)})})}var e=a("lodash/collection/forEach"),f="hover",g="selected";d.$inject=["eventBus","canvas","selection","styles"],b.exports=d},{"lodash/collection/forEach":347}],321:[function(a,b,c){b.exports={__init__:["selectionVisuals","selectionBehavior"],__depends__:[a("../interaction-events"),a("../outline")],selection:["type",a("./Selection")],selectionVisuals:["type",a("./SelectionVisuals")],selectionBehavior:["type",a("./SelectionBehavior")]}},{"../interaction-events":310,"../outline":312,"./Selection":318,"./SelectionBehavior":319,"./SelectionVisuals":320}],322:[function(a,b,c){b.exports={translate:["value",a("./translate")]}},{"./translate":323}],323:[function(a,b,c){"use strict";b.exports=function(a,b){return b=b||{},a.replace(/{([^}]+)}/g,function(a,c){return b[c]||"{"+c+"}"})}},{}],324:[function(a,b,c){"use strict";function d(){Object.defineProperty(this,"businessObject",{writable:!0}),l.bind(this,"parent"),m.bind(this,"label"),o.bind(this,"outgoing"),p.bind(this,"incoming")}function e(){d.call(this),l.bind(this,"children"),n.bind(this,"host"),n.bind(this,"attachers")}function f(){e.call(this)}function g(){e.call(this),m.bind(this,"labelTarget")}function h(){d.call(this),o.bind(this,"source"),p.bind(this,"target")}var i=a("lodash/object/assign"),j=a("inherits"),k=a("object-refs"),l=new k({name:"children",enumerable:!0,collection:!0},{name:"parent"}),m=new k({name:"label",enumerable:!0},{name:"labelTarget"}),n=new k({name:"attachers",collection:!0},{name:"host"}),o=new k({name:"outgoing",collection:!0},{name:"source"}),p=new k({name:"incoming",collection:!0},{name:"target"});j(e,d),j(f,e),j(g,e),j(h,d);var q={connection:h,shape:e,label:g,root:f};b.exports.create=function(a,b){var c=q[a];if(!c)throw new Error("unknown type: <"+a+">");return i(new c,b)},b.exports.Base=d,b.exports.Root=f,b.exports.Shape=e,b.exports.Connection=h,b.exports.Label=g},{inherits:342,"lodash/object/assign":442,"object-refs":468}],325:[function(a,b,c){"use strict";function d(a){return Math.sqrt(Math.pow(a.x,2)+Math.pow(a.y,2))}function e(a,b){function c(a){var c=n.start,e=k.toPoint(a),i=h(e,c);if(!n.dragging&&d(i)>l&&(n.dragging=!0,g.install(),f.set("grab")),n.dragging){var j=n.last||n.start;i=h(e,j),b.scroll({dx:i.x,dy:i.y}),n.last=e}a.preventDefault()}function e(a){i.unbind(document,"mousemove",c),i.unbind(document,"mouseup",e),n=null,f.unset()}function m(a){j(a.target,".djs-draggable")||a.button||a.ctrlKey||a.shiftKey||a.altKey||(n={start:k.toPoint(a)},i.bind(document,"mousemove",c),i.bind(document,"mouseup",e))}var n,o=b._container;i.bind(o,"mousedown",m)}var f=a("../../util/Cursor"),g=a("../../util/ClickTrap"),h=a("../../util/Math").substract,i=a("min-dom/lib/event"),j=a("min-dom/lib/closest"),k=a("../../util/Event"),l=15;e.$inject=["eventBus","canvas"],b.exports=e},{"../../util/ClickTrap":330,"../../util/Cursor":332,"../../util/Event":334,"../../util/Math":336,"min-dom/lib/closest":454,"min-dom/lib/event":457}],326:[function(a,b,c){b.exports={__init__:["moveCanvas"],moveCanvas:["type",a("./MoveCanvas")]}},{"./MoveCanvas":325}],327:[function(a,b,c){"use strict";function d(a,b,c){this._enabled=!1,this._canvas=b,this._container=b._container,this._handleWheel=m(this._handleWheel,this);var d=!c||c.enabled!==!1,e=this;a.on("canvas.init",function(a){e._init(d)})}var e=a("min-dom/lib/event"),f=a("min-dom/lib/closest"),g=a("../../util/Mouse").hasPrimaryModifier,h=a("../../util/Mouse").hasSecondaryModifier,i=a("../../util/Platform").isMac,j=a("./ZoomUtil").getStepRange,k=a("./ZoomUtil").cap,l=a("../../util/Math").log10,m=a("lodash/function/bind"),n={min:.2,max:4},o=10;d.$inject=["eventBus","canvas","config.zoomScroll"],b.exports=d,d.prototype.scroll=function(a){this._canvas.scroll(a)},d.prototype.reset=function(){this._canvas.zoom("fit-viewport")},d.prototype.zoom=function(a,b){var c=this._canvas,d=c.zoom(!1),e=Math.pow(1+Math.abs(a),a>0?1:-1);c.zoom(k(n,d*e),b)},d.prototype._handleWheel=function(a){if(!f(a.target,".djs-scrollable",!0)){var b=this._container;a.preventDefault();var c,d=g(a),e=h(a);if(d||e){c=i?0===a.deltaMode?1.25:50:0===a.deltaMode?.025:.5;var j={};e?j.dx=c*(a.deltaX||a.deltaY):j.dy=c*a.deltaY,this.scroll(j)}else{c=0===a.deltaMode?.025:.5;var k=b.getBoundingClientRect(),l={x:a.clientX-k.left,y:a.clientY-k.top};this.zoom(a.deltaY*c/-5,l)}}},d.prototype.stepZoom=function(a,b){var c=this._canvas,d=j(n,o);a=a>0?1:-1;var e=l(c.zoom()),f=Math.round(e/d)*d;f+=d*a;var g=Math.pow(10,f);c.zoom(k(n,g),b)},d.prototype.toggle=function(a){var b=this._container,c=this._handleWheel,d=this._enabled;return"undefined"==typeof a&&(a=!d),d!==a&&e[a?"bind":"unbind"](b,"wheel",c,!1),this._enabled=a,a},d.prototype._init=function(a){this.toggle(a)}},{"../../util/Math":336,"../../util/Mouse":337,"../../util/Platform":338,"./ZoomUtil":328,"lodash/function/bind":351,"min-dom/lib/closest":454,"min-dom/lib/event":457}],328:[function(a,b,c){"use strict";var d=a("../../util/Math").log10;b.exports.getStepRange=function(a,b){var c=d(a.min),e=d(a.max),f=Math.abs(c)+Math.abs(e);return f/b},b.exports.cap=function(a,b){return Math.max(a.min,Math.min(a.max,b))}},{"../../util/Math":336}],329:[function(a,b,c){b.exports={__init__:["zoomScroll"],zoomScroll:["type",a("./ZoomScroll")]}},{"./ZoomScroll":327}],330:[function(a,b,c){"use strict";function d(a){h(a),e(!1)}function e(a){g[a?"bind":"unbind"](document.body,"click",d,!0)}function f(){return e(!0),function(){e(!1)}}var g=a("min-dom/lib/event"),h=a("./Event").stopEvent;b.exports.install=f},{"./Event":334,"min-dom/lib/event":457}],331:[function(a,b,c){"use strict";b.exports.remove=function(a,b){if(!a||!b)return-1;var c=a.indexOf(b);return c!==-1&&a.splice(c,1),c},b.exports.add=function(a,b,c){if(a&&b){"number"!=typeof c&&(c=-1);var d=a.indexOf(b);if(d!==-1){if(d===c)return;if(c===-1)return;a.splice(d,1)}c!==-1?a.splice(c,0,b):a.push(b)}},b.exports.indexOf=function(a,b){return a&&b?a.indexOf(b):-1}},{}],332:[function(a,b,c){"use strict";var d=a("min-dom/lib/classes"),e=/^djs-cursor-.*$/;b.exports.set=function(a){var b=d(document.body);b.removeMatching(e),a&&b.add("djs-cursor-"+a)},b.exports.unset=function(){this.set(null)},b.exports.has=function(a){var b=d(document.body);return b.has("djs-cursor-"+a)}},{"min-dom/lib/classes":452}],333:[function(a,b,c){"use strict";function d(a,b,c){var d=!c||a.indexOf(b)===-1;return d&&a.push(b),d}function e(a,b,c){c=c||0,m(a)||(a=[a]),p(a,function(a,d){var f=b(a,d,c);m(f)&&f.length&&e(f,b,c+1)})}function f(a,b,c){var f=[],g=[];return e(a,function(a,e,h){d(f,a,b);var i=a.children;if((c===-1||h<c)&&i&&d(g,i,b))return i}),f}function g(a,b){return f(a,!b,1)}function h(a,b){return f(a,!b,-1)}function i(a){function b(a){d[a.source.id]&&d[a.target.id]&&(d[a.id]=a),f[a.source.id]&&f[a.target.id]&&(i[a.id]=h[a.id]=a),g[a.id]=a}function c(a){return h[a.id]=a,a.waypoints?void(i[a.id]=g[a.id]=a):(f[a.id]=a,p(a.incoming,b),p(a.outgoing,b),a.children)}var d=o(a,function(a){return a.id}),f={},g={},h={},i={};return e(a,c),{allShapes:f,allConnections:g,topLevel:d,enclosedConnections:i,enclosedElements:h}}function j(a,b){b=!!b,m(a)||(a=[a]);var c,d,e,f;return p(a,function(a){var g=a;a.waypoints&&!b&&(g=j(a.waypoints,!0));var h=g.x,i=g.y,k=g.height||0,l=g.width||0;(h<c||void 0===c)&&(c=h),(i<d||void 0===d)&&(d=i),(h+l>e||void 0===e)&&(e=h+l),(i+k>f||void 0===f)&&(f=i+k)}),{x:c,y:d,height:f-d,width:e-c}}function k(a,b){var c={};return p(a,function(a){var d=a;d.waypoints&&(d=j(d)),!n(b.y)&&d.x>b.x&&(c[a.id]=a),!n(b.x)&&d.y>b.y&&(c[a.id]=a),d.x>b.x&&d.y>b.y&&(n(b.width)&&n(b.height)&&d.width+d.x<b.width+b.x&&d.height+d.y<b.height+b.y?c[a.id]=a:n(b.width)&&n(b.height)||(c[a.id]=a))}),c}function l(a){return"waypoints"in a?"connection":"x"in a?"shape":"root"}var m=a("lodash/lang/isArray"),n=a("lodash/lang/isNumber"),o=a("lodash/collection/groupBy"),p=a("lodash/collection/forEach");b.exports.add=d,b.exports.eachElement=e,b.exports.selfAndDirectChildren=g,b.exports.selfAndAllChildren=h,b.exports.getBBox=j,b.exports.getEnclosedElements=k,b.exports.getClosure=i,b.exports.getType=l},{"lodash/collection/forEach":347,"lodash/collection/groupBy":348,"lodash/lang/isArray":433,"lodash/lang/isNumber":436}],334:[function(a,b,c){"use strict";function d(a){return a&&a.preventDefault()}function e(a,b){a&&(a.stopPropagation&&a.stopPropagation(),b&&a.stopImmediatePropagation&&a.stopImmediatePropagation())}function f(a){return a.originalEvent||a.srcEvent}function g(a,b){i(a,b),h(a)}function h(a){d(a),d(f(a))}function i(a,b){e(a,b),e(f(a),b)}function j(a){return a.pointers&&a.pointers.length&&(a=a.pointers[0]),a.touches&&a.touches.length&&(a=a.touches[0]),a?{x:a.clientX,y:a.clientY}:null}b.exports.getOriginal=f,b.exports.stopEvent=g,b.exports.preventDefault=h,b.exports.stopPropagation=i,b.exports.toPoint=j},{}],335:[function(a,b,c){"use strict";function d(a){this._counter=0,this._prefix=(a?a+"-":"")+Math.floor(1e9*Math.random())+"-"}b.exports=d,d.prototype.next=function(){return this._prefix+ ++this._counter}},{}],336:[function(a,b,c){"use strict";function d(a){return Math.log(a)/Math.log(10)}function e(a,b){return{x:a.x-b.x,y:a.y-b.y}}b.exports.log10=d,b.exports.substract=e},{}],337:[function(a,b,c){"use strict";function d(a){return!(e(a)||a).button}var e=a("./Event").getOriginal,f=a("./Platform").isMac;b.exports.isPrimaryButton=d,b.exports.isMac=f,b.exports.hasPrimaryModifier=function(a){var b=e(a)||a;return!!d(a)&&(f()?b.metaKey:b.ctrlKey)},b.exports.hasSecondaryModifier=function(a){var b=e(a)||a;return d(a)&&b.shiftKey}},{"./Event":334,"./Platform":338}],338:[function(a,b,c){"use strict";b.exports.isMac=function(){return/mac/i.test(navigator.platform)}},{}],339:[function(a,b,c){"use strict";function d(a){for(var b,c="",d=0;b=a[d];d++)c+=b.x+","+b.y+" ";return c}var e=a("tiny-svg/lib/attr"),f=a("tiny-svg/lib/create");b.exports.componentsToPath=function(a){return a.join(",").replace(/,?([A-z]),?/g,"$1")},b.exports.toSVGPoints=d,b.exports.createLine=function(a,b){var c=f("polyline");return e(c,{points:d(a)}),b&&e(c,b),c},b.exports.updateLine=function(a,b){return e(a,{points:d(b)}),a}},{"tiny-svg/lib/attr":473,"tiny-svg/lib/create":474}],340:[function(a,b,c){"use strict";var d=a("tiny-svg/lib/transform"),e=a("tiny-svg/lib/geometry").createTransform;b.exports.transform=function(a,b,c,f,g){var h=e();h.setTranslate(b,c);var i=e();i.setRotate(f,0,0);var j=e();j.setScale(g||1,g||1),d(a,[h,i,j])},b.exports.translate=function(a,b,c){var f=e();f.setTranslate(b,c),
d(a,f)},b.exports.rotate=function(a,b){var c=e();c.setRotate(b,0,0),d(a,c)},b.exports.scale=function(a,b){var c=e();c.setScale(b,b),d(a,c)}},{"tiny-svg/lib/geometry":475,"tiny-svg/lib/transform":477}],341:[function(a,b,c){"use strict";function d(a){var b=a.split("-");return{horizontal:b[0]||"center",vertical:b[1]||"top"}}function e(a){return l(a)?m({top:0,left:0,right:0,bottom:0},a):{top:a,left:a,right:a,bottom:a}}function f(a,b){b.textContent=a;try{var c,d=""===a;return b.textContent=d?"dummy":a,c=n(b.getBBox(),["width","height"]),d&&(c.width=0),c}catch(e){return{width:0,height:0}}}function g(a,b,c){for(var d,e=a.shift(),g=e;;){if(d=f(g,c),d.width=g?d.width:0," "===g||""===g||d.width<Math.round(b)||g.length<4)return h(a,g,e,d);g=j(g,d.width,b)}}function h(a,b,c,d){if(b.length<c.length){var e=a[0]||"",f=c.slice(b.length).trim();e=/-\s*$/.test(f)?f+e.replace(/^\s+/,""):f+" "+e,a[0]=e}return{width:d.width,height:d.height,text:b}}function i(a,b){var c,d=a.split(/(\s|-)/g),e=[],f=0;if(d.length>1)for(;c=d.shift();){if(!(c.length+f<b)){"-"===c&&e.pop();break}e.push(c),f+=c.length}return e.join("")}function j(a,b,c){var d=Math.max(a.length*(c/b),1),e=i(a,d);return e||(e=a.slice(0,Math.max(Math.round(d-1),1))),e}function k(a){this._config=m({},{size:w,padding:v,style:{},align:"center-top"},a||{})}var l=a("lodash/lang/isObject"),m=a("lodash/object/assign"),n=a("lodash/object/pick"),o=a("lodash/collection/forEach"),p=a("lodash/collection/reduce"),q=a("lodash/object/merge"),r=a("tiny-svg/lib/append"),s=a("tiny-svg/lib/attr"),t=a("tiny-svg/lib/create"),u=a("tiny-svg/lib/remove"),v=0,w={width:150,height:50};k.prototype.createText=function(a,b,c){var f=q({},this._config.size,c.box||{}),h=q({},this._config.style,c.style||{}),i=d(c.align||this._config.align),j=e(void 0!==c.padding?c.padding:this._config.padding),k=b.split(/\r?\n/g),l=[],m=f.width-j.left-j.right,n=t("text");for(s(n,{x:0,y:0}),s(n,h),r(a,n);k.length;)l.push(g(k,m,n));var v,w,x=p(l,function(a,b,c){return a+b.height},0);switch(i.vertical){case"middle":v=(f.height-x)/2-l[0].height/4;break;default:v=j.top}var y=t("text");return s(y,h),r(a,y),o(l,function(a){switch(v+=a.height,i.horizontal){case"left":w=j.left;break;case"right":w=m-j.right-a.width;break;default:w=Math.max((m-a.width)/2+j.left,0)}var b=t("tspan");s(b,{x:w,y:v}),b.textContent=a.text,r(y,b)}),u(n),y},b.exports=k},{"lodash/collection/forEach":347,"lodash/collection/reduce":349,"lodash/lang/isObject":437,"lodash/object/assign":442,"lodash/object/merge":445,"lodash/object/pick":447,"tiny-svg/lib/append":471,"tiny-svg/lib/attr":473,"tiny-svg/lib/create":474,"tiny-svg/lib/remove":476}],342:[function(a,b,c){arguments[4][154][0].apply(c,arguments)},{dup:154}],343:[function(a,b,c){arguments[4][155][0].apply(c,arguments)},{dup:155}],344:[function(a,b,c){function d(a){if(i(a)&&!h(a)&&!(a instanceof e)){if(a instanceof f)return a;if(l.call(a,"__chain__")&&l.call(a,"__wrapped__"))return j(a)}return new f(a)}var e=a("../internal/LazyWrapper"),f=a("../internal/LodashWrapper"),g=a("../internal/baseLodash"),h=a("../lang/isArray"),i=a("../internal/isObjectLike"),j=a("../internal/wrapperClone"),k=Object.prototype,l=k.hasOwnProperty;d.prototype=g.prototype,b.exports=d},{"../internal/LazyWrapper":353,"../internal/LodashWrapper":354,"../internal/baseLodash":378,"../internal/isObjectLike":418,"../internal/wrapperClone":431,"../lang/isArray":433}],345:[function(a,b,c){arguments[4][157][0].apply(c,arguments)},{"../internal/arrayFilter":357,"../internal/baseCallback":363,"../internal/baseFilter":367,"../lang/isArray":433,dup:157}],346:[function(a,b,c){arguments[4][158][0].apply(c,arguments)},{"../internal/baseEach":366,"../internal/createFind":398,dup:158}],347:[function(a,b,c){arguments[4][159][0].apply(c,arguments)},{"../internal/arrayEach":356,"../internal/baseEach":366,"../internal/createForEach":399,dup:159}],348:[function(a,b,c){var d=a("../internal/createAggregator"),e=Object.prototype,f=e.hasOwnProperty,g=d(function(a,b,c){f.call(a,c)?a[c].push(b):a[c]=[b]});b.exports=g},{"../internal/createAggregator":392}],349:[function(a,b,c){arguments[4][161][0].apply(c,arguments)},{"../internal/arrayReduce":359,"../internal/baseEach":366,"../internal/createReduce":402,dup:161}],350:[function(a,b,c){var d=a("../internal/getNative"),e=d(Date,"now"),f=e||function(){return(new Date).getTime()};b.exports=f},{"../internal/getNative":411}],351:[function(a,b,c){var d=a("../internal/createWrapper"),e=a("../internal/replaceHolders"),f=a("./restParam"),g=1,h=32,i=f(function(a,b,c){var f=g;if(c.length){var j=e(c,i.placeholder);f|=h}return d(a,f,b,c,j)});i.placeholder={},b.exports=i},{"../internal/createWrapper":403,"../internal/replaceHolders":426,"./restParam":352}],352:[function(a,b,c){arguments[4][164][0].apply(c,arguments)},{dup:164}],353:[function(a,b,c){function d(a){this.__wrapped__=a,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=g,this.__views__=[]}var e=a("./baseCreate"),f=a("./baseLodash"),g=Number.POSITIVE_INFINITY;d.prototype=e(f.prototype),d.prototype.constructor=d,b.exports=d},{"./baseCreate":365,"./baseLodash":378}],354:[function(a,b,c){function d(a,b,c){this.__wrapped__=a,this.__actions__=c||[],this.__chain__=!!b}var e=a("./baseCreate"),f=a("./baseLodash");d.prototype=e(f.prototype),d.prototype.constructor=d,b.exports=d},{"./baseCreate":365,"./baseLodash":378}],355:[function(a,b,c){function d(a,b){var c=-1,d=a.length;for(b||(b=Array(d));++c<d;)b[c]=a[c];return b}b.exports=d},{}],356:[function(a,b,c){arguments[4][166][0].apply(c,arguments)},{dup:166}],357:[function(a,b,c){arguments[4][167][0].apply(c,arguments)},{dup:167}],358:[function(a,b,c){arguments[4][169][0].apply(c,arguments)},{dup:169}],359:[function(a,b,c){arguments[4][170][0].apply(c,arguments)},{dup:170}],360:[function(a,b,c){arguments[4][171][0].apply(c,arguments)},{dup:171}],361:[function(a,b,c){arguments[4][172][0].apply(c,arguments)},{"../object/keys":443,dup:172}],362:[function(a,b,c){arguments[4][173][0].apply(c,arguments)},{"../object/keys":443,"./baseCopy":364,dup:173}],363:[function(a,b,c){arguments[4][174][0].apply(c,arguments)},{"../utility/identity":448,"../utility/property":450,"./baseMatches":379,"./baseMatchesProperty":380,"./bindCallback":389,dup:174}],364:[function(a,b,c){arguments[4][175][0].apply(c,arguments)},{dup:175}],365:[function(a,b,c){var d=a("../lang/isObject"),e=function(){function a(){}return function(b){if(d(b)){a.prototype=b;var c=new a;a.prototype=void 0}return c||{}}}();b.exports=e},{"../lang/isObject":437}],366:[function(a,b,c){arguments[4][178][0].apply(c,arguments)},{"./baseForOwn":373,"./createBaseEach":394,dup:178}],367:[function(a,b,c){arguments[4][179][0].apply(c,arguments)},{"./baseEach":366,dup:179}],368:[function(a,b,c){arguments[4][180][0].apply(c,arguments)},{dup:180}],369:[function(a,b,c){arguments[4][181][0].apply(c,arguments)},{dup:181}],370:[function(a,b,c){arguments[4][182][0].apply(c,arguments)},{"../lang/isArguments":432,"../lang/isArray":433,"./arrayPush":358,"./isArrayLike":412,"./isObjectLike":418,dup:182}],371:[function(a,b,c){arguments[4][183][0].apply(c,arguments)},{"./createBaseFor":395,dup:183}],372:[function(a,b,c){arguments[4][184][0].apply(c,arguments)},{"../object/keysIn":444,"./baseFor":371,dup:184}],373:[function(a,b,c){arguments[4][185][0].apply(c,arguments)},{"../object/keys":443,"./baseFor":371,dup:185}],374:[function(a,b,c){arguments[4][186][0].apply(c,arguments)},{"./toObject":429,dup:186}],375:[function(a,b,c){arguments[4][188][0].apply(c,arguments)},{"../lang/isObject":437,"./baseIsEqualDeep":376,"./isObjectLike":418,dup:188}],376:[function(a,b,c){arguments[4][189][0].apply(c,arguments)},{"../lang/isArray":433,"../lang/isTypedArray":440,"./equalArrays":404,"./equalByTag":405,"./equalObjects":406,dup:189}],377:[function(a,b,c){arguments[4][190][0].apply(c,arguments)},{"./baseIsEqual":375,"./toObject":429,dup:190}],378:[function(a,b,c){function d(){}b.exports=d},{}],379:[function(a,b,c){arguments[4][192][0].apply(c,arguments)},{"./baseIsMatch":377,"./getMatchData":410,"./toObject":429,dup:192}],380:[function(a,b,c){arguments[4][193][0].apply(c,arguments)},{"../array/last":343,"../lang/isArray":433,"./baseGet":374,"./baseIsEqual":375,"./baseSlice":387,"./isKey":415,"./isStrictComparable":419,"./toObject":429,"./toPath":430,dup:193}],381:[function(a,b,c){function d(a,b,c,m,n){if(!i(a))return a;var o=h(b)&&(g(b)||k(b)),p=o?void 0:l(b);return e(p||b,function(e,g){if(p&&(g=e,e=b[g]),j(e))m||(m=[]),n||(n=[]),f(a,b,g,d,c,m,n);else{var h=a[g],i=c?c(h,e,g,a,b):void 0,k=void 0===i;k&&(i=e),void 0===i&&(!o||g in a)||!k&&(i===i?i===h:h!==h)||(a[g]=i)}}),a}var e=a("./arrayEach"),f=a("./baseMergeDeep"),g=a("../lang/isArray"),h=a("./isArrayLike"),i=a("../lang/isObject"),j=a("./isObjectLike"),k=a("../lang/isTypedArray"),l=a("../object/keys");b.exports=d},{"../lang/isArray":433,"../lang/isObject":437,"../lang/isTypedArray":440,"../object/keys":443,"./arrayEach":356,"./baseMergeDeep":382,"./isArrayLike":412,"./isObjectLike":418}],382:[function(a,b,c){function d(a,b,c,d,l,m,n){for(var o=m.length,p=b[c];o--;)if(m[o]==p)return void(a[c]=n[o]);var q=a[c],r=l?l(q,p,c,a,b):void 0,s=void 0===r;s&&(r=p,h(p)&&(g(p)||j(p))?r=g(q)?q:h(q)?e(q):[]:i(p)||f(p)?r=f(q)?k(q):i(q)?q:{}:s=!1),m.push(p),n.push(r),s?a[c]=d(r,p,l,m,n):(r===r?r!==q:q===q)&&(a[c]=r)}var e=a("./arrayCopy"),f=a("../lang/isArguments"),g=a("../lang/isArray"),h=a("./isArrayLike"),i=a("../lang/isPlainObject"),j=a("../lang/isTypedArray"),k=a("../lang/toPlainObject");b.exports=d},{"../lang/isArguments":432,"../lang/isArray":433,"../lang/isPlainObject":438,"../lang/isTypedArray":440,"../lang/toPlainObject":441,"./arrayCopy":355,"./isArrayLike":412}],383:[function(a,b,c){arguments[4][194][0].apply(c,arguments)},{dup:194}],384:[function(a,b,c){arguments[4][195][0].apply(c,arguments)},{"./baseGet":374,"./toPath":430,dup:195}],385:[function(a,b,c){arguments[4][196][0].apply(c,arguments)},{dup:196}],386:[function(a,b,c){var d=a("../utility/identity"),e=a("./metaMap"),f=e?function(a,b){return e.set(a,b),a}:d;b.exports=f},{"../utility/identity":448,"./metaMap":421}],387:[function(a,b,c){arguments[4][197][0].apply(c,arguments)},{dup:197}],388:[function(a,b,c){arguments[4][199][0].apply(c,arguments)},{dup:199}],389:[function(a,b,c){arguments[4][200][0].apply(c,arguments)},{"../utility/identity":448,dup:200}],390:[function(a,b,c){function d(a,b,c){for(var d=c.length,f=-1,g=e(a.length-d,0),h=-1,i=b.length,j=Array(i+g);++h<i;)j[h]=b[h];for(;++f<d;)j[c[f]]=a[f];for(;g--;)j[h++]=a[f++];return j}var e=Math.max;b.exports=d},{}],391:[function(a,b,c){function d(a,b,c){for(var d=-1,f=c.length,g=-1,h=e(a.length-f,0),i=-1,j=b.length,k=Array(h+j);++g<h;)k[g]=a[g];for(var l=g;++i<j;)k[l+i]=b[i];for(;++d<f;)k[l+c[d]]=a[g++];return k}var e=Math.max;b.exports=d},{}],392:[function(a,b,c){function d(a,b){return function(c,d,h){var i=b?b():{};if(d=e(d,h,3),g(c))for(var j=-1,k=c.length;++j<k;){var l=c[j];a(i,l,d(l,j,c),c)}else f(c,function(b,c,e){a(i,b,d(b,c,e),e)});return i}}var e=a("./baseCallback"),f=a("./baseEach"),g=a("../lang/isArray");b.exports=d},{"../lang/isArray":433,"./baseCallback":363,"./baseEach":366}],393:[function(a,b,c){arguments[4][203][0].apply(c,arguments)},{"../function/restParam":352,"./bindCallback":389,"./isIterateeCall":414,dup:203}],394:[function(a,b,c){arguments[4][204][0].apply(c,arguments)},{"./getLength":409,"./isLength":417,"./toObject":429,dup:204}],395:[function(a,b,c){arguments[4][205][0].apply(c,arguments)},{"./toObject":429,dup:205}],396:[function(a,b,c){(function(c){function d(a,b){function d(){var e=this&&this!==c&&this instanceof d?f:a;return e.apply(b,arguments)}var f=e(a);return d}var e=a("./createCtorWrapper");b.exports=d}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./createCtorWrapper":397}],397:[function(a,b,c){function d(a){return function(){var b=arguments;switch(b.length){case 0:return new a;case 1:return new a(b[0]);case 2:return new a(b[0],b[1]);case 3:return new a(b[0],b[1],b[2]);case 4:return new a(b[0],b[1],b[2],b[3]);case 5:return new a(b[0],b[1],b[2],b[3],b[4]);case 6:return new a(b[0],b[1],b[2],b[3],b[4],b[5]);case 7:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6])}var c=e(a.prototype),d=a.apply(c,b);return f(d)?d:c}}var e=a("./baseCreate"),f=a("../lang/isObject");b.exports=d},{"../lang/isObject":437,"./baseCreate":365}],398:[function(a,b,c){arguments[4][207][0].apply(c,arguments)},{"../lang/isArray":433,"./baseCallback":363,"./baseFind":368,"./baseFindIndex":369,dup:207}],399:[function(a,b,c){arguments[4][208][0].apply(c,arguments)},{"../lang/isArray":433,"./bindCallback":389,dup:208}],400:[function(a,b,c){(function(c){function d(a,b,v,w,x,y,z,A,B,C){function D(){for(var o=arguments.length,p=o,q=Array(o);p--;)q[p]=arguments[p];if(w&&(q=f(q,w,x)),y&&(q=g(q,y,z)),H||J){var t=D.placeholder,L=k(q,t);if(o-=L.length,o<C){var M=A?e(A):void 0,N=u(C-o,0),O=H?L:void 0,P=H?void 0:L,Q=H?q:void 0,R=H?void 0:q;b|=H?r:s,b&=~(H?s:r),I||(b&=~(m|n));var S=[a,b,v,Q,O,R,P,M,B,N],T=d.apply(void 0,S);return i(a)&&l(T,S),T.placeholder=t,T}}var U=F?v:this,V=G?U[a]:a;return A&&(q=j(q,A)),E&&B<q.length&&(q.length=B),this&&this!==c&&this instanceof D&&(V=K||h(a)),V.apply(U,q)}var E=b&t,F=b&m,G=b&n,H=b&p,I=b&o,J=b&q,K=G?void 0:h(a);return D}var e=a("./arrayCopy"),f=a("./composeArgs"),g=a("./composeArgsRight"),h=a("./createCtorWrapper"),i=a("./isLaziable"),j=a("./reorder"),k=a("./replaceHolders"),l=a("./setData"),m=1,n=2,o=4,p=8,q=16,r=32,s=64,t=128,u=Math.max;b.exports=d}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./arrayCopy":355,"./composeArgs":390,"./composeArgsRight":391,"./createCtorWrapper":397,"./isLaziable":416,"./reorder":425,"./replaceHolders":426,"./setData":427}],401:[function(a,b,c){(function(c){function d(a,b,d,g){function h(){for(var b=-1,e=arguments.length,f=-1,k=g.length,l=Array(k+e);++f<k;)l[f]=g[f];for(;e--;)l[f++]=arguments[++b];var m=this&&this!==c&&this instanceof h?j:a;return m.apply(i?d:this,l)}var i=b&f,j=e(a);return h}var e=a("./createCtorWrapper"),f=1;b.exports=d}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./createCtorWrapper":397}],402:[function(a,b,c){arguments[4][209][0].apply(c,arguments)},{"../lang/isArray":433,"./baseCallback":363,"./baseReduce":385,dup:209}],403:[function(a,b,c){function d(a,b,c,d,r,s,t,u){var v=b&m;if(!v&&"function"!=typeof a)throw new TypeError(p);var w=d?d.length:0;if(w||(b&=~(n|o),d=r=void 0),w-=r?r.length:0,b&o){var x=d,y=r;d=r=void 0}var z=v?void 0:i(a),A=[a,b,c,d,r,x,y,s,t,u];if(z&&(j(A,z),b=A[1],u=A[9]),A[9]=null==u?v?0:a.length:q(u-w,0)||0,b==l)var B=f(A[0],A[2]);else B=b!=n&&b!=(l|n)||A[4].length?g.apply(void 0,A):h.apply(void 0,A);var C=z?e:k;return C(B,A)}var e=a("./baseSetData"),f=a("./createBindWrapper"),g=a("./createHybridWrapper"),h=a("./createPartialWrapper"),i=a("./getData"),j=a("./mergeData"),k=a("./setData"),l=1,m=2,n=32,o=64,p="Expected a function",q=Math.max;b.exports=d},{"./baseSetData":386,"./createBindWrapper":396,"./createHybridWrapper":400,"./createPartialWrapper":401,"./getData":407,"./mergeData":420,"./setData":427}],404:[function(a,b,c){arguments[4][210][0].apply(c,arguments)},{"./arraySome":360,dup:210}],405:[function(a,b,c){arguments[4][211][0].apply(c,arguments)},{dup:211}],406:[function(a,b,c){arguments[4][212][0].apply(c,arguments)},{"../object/keys":443,dup:212}],407:[function(a,b,c){var d=a("./metaMap"),e=a("../utility/noop"),f=d?function(a){return d.get(a)}:e;b.exports=f},{"../utility/noop":449,"./metaMap":421}],408:[function(a,b,c){function d(a){for(var b=a.name+"",c=e[b],d=c?c.length:0;d--;){var f=c[d],g=f.func;if(null==g||g==a)return f.name}return b}var e=a("./realNames");b.exports=d},{"./realNames":424}],409:[function(a,b,c){arguments[4][213][0].apply(c,arguments)},{"./baseProperty":383,dup:213}],410:[function(a,b,c){arguments[4][214][0].apply(c,arguments)},{"../object/pairs":446,"./isStrictComparable":419,dup:214}],411:[function(a,b,c){arguments[4][215][0].apply(c,arguments)},{"../lang/isNative":435,dup:215}],412:[function(a,b,c){arguments[4][217][0].apply(c,arguments)},{"./getLength":409,"./isLength":417,dup:217}],413:[function(a,b,c){arguments[4][218][0].apply(c,arguments)},{dup:218}],414:[function(a,b,c){arguments[4][219][0].apply(c,arguments)},{"../lang/isObject":437,"./isArrayLike":412,"./isIndex":413,dup:219}],415:[function(a,b,c){arguments[4][220][0].apply(c,arguments)},{"../lang/isArray":433,"./toObject":429,dup:220}],416:[function(a,b,c){function d(a){var b=g(a),c=h[b];if("function"!=typeof c||!(b in e.prototype))return!1;if(a===c)return!0;var d=f(c);return!!d&&a===d[0]}var e=a("./LazyWrapper"),f=a("./getData"),g=a("./getFuncName"),h=a("../chain/lodash");b.exports=d},{"../chain/lodash":344,"./LazyWrapper":353,"./getData":407,"./getFuncName":408}],417:[function(a,b,c){arguments[4][221][0].apply(c,arguments)},{dup:221}],418:[function(a,b,c){arguments[4][222][0].apply(c,arguments)},{dup:222}],419:[function(a,b,c){arguments[4][223][0].apply(c,arguments)},{"../lang/isObject":437,dup:223}],420:[function(a,b,c){function d(a,b){var c=a[1],d=b[1],p=c|d,q=p<l,r=d==l&&c==k||d==l&&c==m&&a[7].length<=b[8]||d==(l|m)&&c==k;if(!q&&!r)return a;d&i&&(a[2]=b[2],p|=c&i?0:j);var s=b[3];if(s){var t=a[3];a[3]=t?f(t,s,b[4]):e(s),a[4]=t?h(a[3],n):e(b[4])}return s=b[5],s&&(t=a[5],a[5]=t?g(t,s,b[6]):e(s),a[6]=t?h(a[5],n):e(b[6])),s=b[7],s&&(a[7]=e(s)),d&l&&(a[8]=null==a[8]?b[8]:o(a[8],b[8])),null==a[9]&&(a[9]=b[9]),a[0]=b[0],a[1]=p,a}var e=a("./arrayCopy"),f=a("./composeArgs"),g=a("./composeArgsRight"),h=a("./replaceHolders"),i=1,j=4,k=8,l=128,m=256,n="__lodash_placeholder__",o=Math.min;b.exports=d},{"./arrayCopy":355,"./composeArgs":390,"./composeArgsRight":391,"./replaceHolders":426}],421:[function(a,b,c){(function(c){var d=a("./getNative"),e=d(c,"WeakMap"),f=e&&new e;b.exports=f}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./getNative":411}],422:[function(a,b,c){arguments[4][224][0].apply(c,arguments)},{"./toObject":429,dup:224}],423:[function(a,b,c){arguments[4][225][0].apply(c,arguments)},{"./baseForIn":372,dup:225}],424:[function(a,b,c){var d={};b.exports=d},{}],425:[function(a,b,c){function d(a,b){for(var c=a.length,d=g(b.length,c),h=e(a);d--;){var i=b[d];a[d]=f(i,c)?h[i]:void 0}return a}var e=a("./arrayCopy"),f=a("./isIndex"),g=Math.min;b.exports=d},{"./arrayCopy":355,"./isIndex":413}],426:[function(a,b,c){function d(a,b){for(var c=-1,d=a.length,f=-1,g=[];++c<d;)a[c]===b&&(a[c]=e,g[++f]=c);return g}var e="__lodash_placeholder__";b.exports=d},{}],427:[function(a,b,c){var d=a("./baseSetData"),e=a("../date/now"),f=150,g=16,h=function(){var a=0,b=0;return function(c,h){var i=e(),j=g-(i-b);if(b=i,j>0){if(++a>=f)return c}else a=0;return d(c,h)}}();b.exports=h},{"../date/now":350,"./baseSetData":386}],428:[function(a,b,c){arguments[4][226][0].apply(c,arguments)},{"../lang/isArguments":432,"../lang/isArray":433,"../object/keysIn":444,"./isIndex":413,"./isLength":417,dup:226}],429:[function(a,b,c){arguments[4][227][0].apply(c,arguments)},{"../lang/isObject":437,dup:227}],430:[function(a,b,c){arguments[4][228][0].apply(c,arguments)},{"../lang/isArray":433,"./baseToString":388,dup:228}],431:[function(a,b,c){function d(a){return a instanceof e?a.clone():new f(a.__wrapped__,a.__chain__,g(a.__actions__))}var e=a("./LazyWrapper"),f=a("./LodashWrapper"),g=a("./arrayCopy");b.exports=d},{"./LazyWrapper":353,"./LodashWrapper":354,"./arrayCopy":355}],432:[function(a,b,c){arguments[4][229][0].apply(c,arguments)},{"../internal/isArrayLike":412,"../internal/isObjectLike":418,dup:229}],433:[function(a,b,c){arguments[4][230][0].apply(c,arguments)},{"../internal/getNative":411,"../internal/isLength":417,"../internal/isObjectLike":418,dup:230}],434:[function(a,b,c){arguments[4][231][0].apply(c,arguments)},{"./isObject":437,dup:231}],435:[function(a,b,c){arguments[4][232][0].apply(c,arguments)},{"../internal/isObjectLike":418,"./isFunction":434,dup:232}],436:[function(a,b,c){arguments[4][233][0].apply(c,arguments)},{"../internal/isObjectLike":418,dup:233}],437:[function(a,b,c){arguments[4][234][0].apply(c,arguments)},{dup:234}],438:[function(a,b,c){function d(a){var b;if(!g(a)||k.call(a)!=h||f(a)||!j.call(a,"constructor")&&(b=a.constructor,"function"==typeof b&&!(b instanceof b)))return!1;var c;return e(a,function(a,b){c=b}),void 0===c||j.call(a,c)}var e=a("../internal/baseForIn"),f=a("./isArguments"),g=a("../internal/isObjectLike"),h="[object Object]",i=Object.prototype,j=i.hasOwnProperty,k=i.toString;b.exports=d},{"../internal/baseForIn":372,"../internal/isObjectLike":418,"./isArguments":432}],439:[function(a,b,c){arguments[4][235][0].apply(c,arguments)},{"../internal/isObjectLike":418,dup:235}],440:[function(a,b,c){arguments[4][236][0].apply(c,arguments)},{"../internal/isLength":417,"../internal/isObjectLike":418,dup:236}],441:[function(a,b,c){function d(a){return e(a,f(a))}var e=a("../internal/baseCopy"),f=a("../object/keysIn");b.exports=d},{"../internal/baseCopy":364,"../object/keysIn":444}],442:[function(a,b,c){arguments[4][237][0].apply(c,arguments)},{"../internal/assignWith":361,"../internal/baseAssign":362,"../internal/createAssigner":393,dup:237}],443:[function(a,b,c){arguments[4][238][0].apply(c,arguments)},{"../internal/getNative":411,"../internal/isArrayLike":412,"../internal/shimKeys":428,"../lang/isObject":437,dup:238}],444:[function(a,b,c){arguments[4][239][0].apply(c,arguments)},{"../internal/isIndex":413,"../internal/isLength":417,"../lang/isArguments":432,"../lang/isArray":433,"../lang/isObject":437,dup:239}],445:[function(a,b,c){var d=a("../internal/baseMerge"),e=a("../internal/createAssigner"),f=e(d);b.exports=f},{"../internal/baseMerge":381,"../internal/createAssigner":393}],446:[function(a,b,c){arguments[4][241][0].apply(c,arguments)},{"../internal/toObject":429,"./keys":443,dup:241}],447:[function(a,b,c){arguments[4][242][0].apply(c,arguments)},{"../function/restParam":352,"../internal/baseFlatten":370,"../internal/bindCallback":389,"../internal/pickByArray":422,"../internal/pickByCallback":423,dup:242}],448:[function(a,b,c){arguments[4][243][0].apply(c,arguments)},{dup:243}],449:[function(a,b,c){function d(){}b.exports=d},{}],450:[function(a,b,c){arguments[4][244][0].apply(c,arguments)},{"../internal/baseProperty":383,"../internal/basePropertyDeep":384,"../internal/isKey":415,dup:244}],451:[function(a,b,c){b.exports=function(a,b,c){return 2==arguments.length?a.getAttribute(b):null===c?a.removeAttribute(b):(a.setAttribute(b,c),a)}},{}],452:[function(a,b,c){b.exports=a("component-classes")},{"component-classes":460}],453:[function(a,b,c){b.exports=function(a){for(var b;a.childNodes.length;)b=a.childNodes[0],a.removeChild(b);return a}},{}],454:[function(a,b,c){b.exports=a("component-closest")},{"component-closest":462}],455:[function(a,b,c){arguments[4][245][0].apply(c,arguments)},{"component-delegate":463,dup:245}],456:[function(a,b,c){arguments[4][246][0].apply(c,arguments)},{domify:467,dup:246}],457:[function(a,b,c){arguments[4][247][0].apply(c,arguments)},{"component-event":464,dup:247}],458:[function(a,b,c){arguments[4][248][0].apply(c,arguments)},{"component-query":466,dup:248}],459:[function(a,b,c){arguments[4][249][0].apply(c,arguments)},{dup:249}],460:[function(a,b,c){function d(a){if(!a||!a.nodeType)throw new Error("A DOM element reference is required");this.el=a,this.list=a.classList}try{var e=a("indexof")}catch(f){var e=a("component-indexof")}var g=/\s+/,h=Object.prototype.toString;b.exports=function(a){return new d(a)},d.prototype.add=function(a){if(this.list)return this.list.add(a),this;var b=this.array(),c=e(b,a);return~c||b.push(a),this.el.className=b.join(" "),this},d.prototype.remove=function(a){if("[object RegExp]"==h.call(a))return this.removeMatching(a);if(this.list)return this.list.remove(a),this;var b=this.array(),c=e(b,a);return~c&&b.splice(c,1),this.el.className=b.join(" "),this},d.prototype.removeMatching=function(a){for(var b=this.array(),c=0;c<b.length;c++)a.test(b[c])&&this.remove(b[c]);return this},d.prototype.toggle=function(a,b){return this.list?("undefined"!=typeof b?b!==this.list.toggle(a,b)&&this.list.toggle(a):this.list.toggle(a),this):("undefined"!=typeof b?b?this.add(a):this.remove(a):this.has(a)?this.remove(a):this.add(a),this)},d.prototype.array=function(){var a=this.el.getAttribute("class")||"",b=a.replace(/^\s+|\s+$/g,""),c=b.split(g);return""===c[0]&&c.shift(),c},d.prototype.has=d.prototype.contains=function(a){return this.list?this.list.contains(a):!!~e(this.array(),a)}},{"component-indexof":461,indexof:461}],461:[function(a,b,c){b.exports=function(a,b){if(a.indexOf)return a.indexOf(b);for(var c=0;c<a.length;++c)if(a[c]===b)return c;return-1}},{}],462:[function(a,b,c){arguments[4][250][0].apply(c,arguments)},{dup:250,"matches-selector":465}],463:[function(a,b,c){arguments[4][251][0].apply(c,arguments)},{closest:462,"component-closest":462,"component-event":464,dup:251,event:464}],464:[function(a,b,c){arguments[4][252][0].apply(c,arguments)},{dup:252}],465:[function(a,b,c){arguments[4][253][0].apply(c,arguments)},{"component-query":466,dup:253,query:466}],466:[function(a,b,c){arguments[4][254][0].apply(c,arguments)},{dup:254}],467:[function(a,b,c){arguments[4][255][0].apply(c,arguments)},{dup:255}],468:[function(a,b,c){arguments[4][256][0].apply(c,arguments)},{"./lib/collection":469,"./lib/refs":470,dup:256}],469:[function(a,b,c){arguments[4][257][0].apply(c,arguments)},{dup:257}],470:[function(a,b,c){arguments[4][258][0].apply(c,arguments)},{"./collection":469,dup:258}],471:[function(a,b,c){arguments[4][259][0].apply(c,arguments)},{"./appendTo":472,dup:259}],472:[function(a,b,c){arguments[4][260][0].apply(c,arguments)},{"./util/ensureImported":478,dup:260}],473:[function(a,b,c){arguments[4][261][0].apply(c,arguments)},{dup:261}],474:[function(a,b,c){arguments[4][264][0].apply(c,arguments)},{"./attr":473,"./util/ns":479,"./util/parse":480,dup:264}],475:[function(a,b,c){function d(a,b){var c,d,e=Object.keys(b);for(c=0;d=e[c];c++)a[d]=b[d];return a}function e(a,b){var c=i.createSVGPoint();switch(arguments.length){case 0:return c;case 2:a={x:a,y:b}}return d(c,a)}function f(a,b,c,e,f,g){var h=i.createSVGMatrix();switch(arguments.length){case 0:return h;case 6:a={a:a,b:b,c:c,d:e,e:f,f:g}}return d(h,a)}function g(a){return a?i.createSVGTransformFromMatrix(a):i.createSVGTransform()}var h=a("./create"),i=h("svg");b.exports.createTransform=g,b.exports.createMatrix=f,b.exports.createPoint=e},{"./create":474}],476:[function(a,b,c){arguments[4][266][0].apply(c,arguments)},{dup:266}],477:[function(a,b,c){function d(a,b){return b instanceof SVGMatrix?a.createSVGTransformFromMatrix(b):b}function e(a,b){var c,e;for(a.clear(),c=0;e=b[c];c++)a.appendItem(d(a,e));a.consolidate()}function f(a,b){var c=a.transform.baseVal;return 1===arguments.length?c.consolidate():void(b.length?e(c,b):c.initialize(d(c,b)))}b.exports=f},{}],478:[function(a,b,c){arguments[4][267][0].apply(c,arguments)},{dup:267}],479:[function(a,b,c){arguments[4][268][0].apply(c,arguments)},{dup:268}],480:[function(a,b,c){arguments[4][269][0].apply(c,arguments)},{"./ns":479,dup:269}],481:[function(a,b,c){"use strict";function d(a){f.call(this,a)}var e=a("inherits"),f=a("./Viewer");e(d,f),b.exports=d,d.prototype._navigationModules=[a("diagram-js/lib/navigation/zoomscroll"),a("diagram-js/lib/navigation/movecanvas")],d.prototype._modules=[].concat(d.prototype._modules,d.prototype._navigationModules)},{"./Viewer":482,"diagram-js/lib/navigation/movecanvas":326,"diagram-js/lib/navigation/zoomscroll":329,inherits:568}],482:[function(a,b,c){"use strict";function d(){}function e(a){return a&&1===a.length}function f(a){var b=/unparsable content <([^>]+)> detected([\s\S]*)$/,c=b.exec(a.message);return c&&(a.message="unparsable content <"+c[1]+"> detected; this may indicate an invalid DMN 1.1 diagram file"+c[2]),a}function g(a){return a+(n(a)?"px":"")}function h(a){var b=t;a=j({},y,a),this.moddle=this._createModdle(a),a.editor&&(b=a.editor),this.table=new b(j({},{container:a.container,moddle:this.moddle,loadDiagram:a.loadDiagram,isDetached:!0},a.table)),this.container=this._createContainer(a),i(this.container),this._init(this.container,this.moddle,a),this.on("decision.open",function(a){var b=a.decision;this.showDecision(b)},this)}function i(a){var b=z.BPMNIO_LOGO,c='<a href="http://bpmn.io" target="_blank" class="bjs-powered-by" title="Powered by bpmn.io" style="position: absolute; bottom: 15px; right: 15px; z-index: 100"><img src="data:image/png;base64,'+b+'"></a>',d=o(c);a.appendChild(d),A.bind(d,"click",function(a){z.open(),a.preventDefault()})}var j=a("lodash/object/assign"),k=a("lodash/collection/filter"),l=a("lodash/object/omit"),m=a("lodash/lang/isString"),n=a("lodash/lang/isNumber"),o=a("min-dom/lib/domify"),p=a("min-dom/lib/query"),q=a("min-dom/lib/remove"),r=a("diagram-js"),s=a("dmn-moddle"),t=a("./table/Viewer"),u=a("inherits"),v=a("./import/Importer"),w=a("./util/ModelUtil").is,x=a("tiny-svg/lib/innerSVG"),y={width:"100%",height:"100%",position:"relative",container:"body",loadDiagram:!1,disableDrdInteraction:!1};u(h,r),b.exports=h,h.prototype.importXML=function(a,b){var c=this._loadDiagram;b=b||d;var g=this,h='xmlns="http://www.omg.org/spec/DMN/20151101/dmn11.xsd"';a.indexOf(h)&&(a=a.replace(new RegExp(h),'xmlns="http://www.omg.org/spec/DMN/20151101/dmn.xsd"')),a=this._emit("import.parse.start",{xml:a})||a,this.moddle.fromXML(a,"dmn:Definitions",function(a,d,h){if(d=g._emit("import.parse.complete",{error:a,definitions:d,context:h})||d,a)return a=f(a),g._emit("import.done",{error:a}),b(a);var i=h.warnings;g.importDefinitions(d,function(a,f){var h,j=[].concat(i,f||[]);g._emit("import.done",{error:a,warnings:j}),h=g.getDecisions(),e(d.drgElements)&&e(h)&&c===!1?g.showDecision(h[0]):g._activeEditor=g,b(a,j)})})},h.prototype.saveXML=function(a,b){b||(b=a,a={});var c=this.definitions;return c?void this.moddle.toXML(c,a,b):b(new Error("no definitions loaded"))},h.prototype.saveSVG=function(a,b){b||(b=a,a={});var c=this.get("canvas"),d=c.getDefaultLayer(),e=p("defs",c._svg),f=x(d),g=e&&e.outerHTML||"",h=d.getBBox(),i='<?xml version="1.0" encoding="utf-8"?>\n<!-- created with dmn-js / http://bpmn.io -->\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="'+h.width+'" height="'+h.height+'" viewBox="'+h.x+" "+h.y+" "+h.width+" "+h.height+'" version="1.1">'+g+f+"</svg>";b(null,i)},h.prototype.importDefinitions=function(a,b){try{this.definitions&&this.clear(),this.definitions=a,this.table&&(this.table.definitions=a),v.importDRD(this,a,b)}catch(c){b(c)}},h.prototype.getDecisions=function(a){var b=a||this.definitions;if(b)return k(b.drgElements,function(a){return w(a,"dmn:Decision")})},h.prototype.attach=function(a,b){var c=this._parentContainer;b.parentElement===c&&c.removeChild(b),c.appendChild(a)},h.prototype.getActiveEditor=function(){return this._activeEditor},h.prototype.showDecision=function(a,b,c){var e=this.table,f=this;return"function"==typeof b&&(c=b,b={}),c=c||d,this.attach(e.container,this.container),this._activeEditor=e,e.showDecision(a,function(d,e){f._emit("view.switch",j({decision:a},b)),c(d,e)})},h.prototype.showDRD=function(a){var b=this.table.getCurrentDecision();a=a||{},this.attach(this.container,this.table.container),this._activeEditor=this,this._emit("view.switch",j({decision:b},a))},h.prototype.getModules=function(){return this._modules},h.prototype.destroy=function(){r.prototype.destroy.call(this),q(this.container)},h.prototype.on=function(a,b,c,d){return this.get("eventBus").on(a,b,c,d)},h.prototype.off=function(a,b){this.get("eventBus").off(a,b)},h.prototype._init=function(a,b,c){var d=c.modules||this.getModules(),e=c.additionalModules||[],f=[{
drdjs:["value",this],moddle:["value",b]}],g=[].concat(f,d,e),h=j(l(c,"additionalModules"),{canvas:j({},c.canvas,{container:a}),modules:g});this._loadDiagram=c.loadDiagram,r.call(this,h),c.disableDrdInteraction===!1&&this._setupTableSwitchListeners(c)},h.prototype._setupTableSwitchListeners=function(a){var b=this.table,c=this.get("translate",!1)||function(a){return a},d=this;b.get("eventBus").on("controls.init",function(a){a.controls.addControl(c("Show DRD"),function(){d.showDRD({fromTable:!0})})})},h.prototype._emit=function(a,b){return this.get("eventBus").fire(a,b)},h.prototype._createContainer=function(a){var b,c=a.container;return c.get&&(c=c.get(0)),m(c)&&(c=p(c)),this._parentContainer=c,b=o('<div class="dmn-diagram"></div>'),j(b.style,{width:g(a.width),height:g(a.height),position:a.position}),c.appendChild(b),b},h.prototype._createModdle=function(a){var b=j({},this._moddleExtensions,a.moddleExtensions);return new s(b)},h.prototype._modules=[a("./core"),a("diagram-js/lib/i18n/translate"),a("diagram-js/lib/features/selection"),a("diagram-js/lib/features/overlays"),a("./features/rules"),a("./features/drill-down"),a("./features/definition-id/viewer")],h.prototype._moddleExtensions={};var z=a("./util/PoweredByUtil"),A=a("min-dom/lib/event")},{"./core":483,"./features/definition-id/viewer":489,"./features/drill-down":491,"./features/rules":493,"./import/Importer":498,"./table/Viewer":500,"./util/ModelUtil":545,"./util/PoweredByUtil":546,"diagram-js":"diagram-js","diagram-js/lib/features/overlays":314,"diagram-js/lib/features/selection":321,"diagram-js/lib/i18n/translate":322,"dmn-moddle":547,inherits:568,"lodash/collection/filter":576,"lodash/lang/isNumber":682,"lodash/lang/isString":684,"lodash/object/assign":686,"lodash/object/omit":689,"min-dom/lib/domify":697,"min-dom/lib/event":698,"min-dom/lib/query":699,"min-dom/lib/remove":700,"tiny-svg/lib/innerSVG":753}],483:[function(a,b,c){"use strict";b.exports={__depends__:[a("../draw"),a("../import")]}},{"../draw":487,"../import":499}],484:[function(a,b,c){"use strict";function d(a,b,c){this._elementRegistry=b,this._graphicsFactory=c,a.on("view.switch",this.updateDecisionLabels,this)}var e=a("lodash/collection/forEach");d.$inject=["eventBus","elementRegistry","graphicsFactory"],b.exports=d,d.prototype.updateDecisionLabels=function(a){var b,c=this._elementRegistry,d=this._graphicsFactory;b=c.filter(function(a){return"dmn:Decision"===a.type}),e(b,function(a){var b=c.getGraphics(a.id);d.update("shape",a,b)})}},{"lodash/collection/forEach":578}],485:[function(a,b,c){"use strict";function d(a,b,c){function d(a,b){E[a]=b}function f(a){var b=E[a];return"url(#"+b.id+")"}function p(a){function b(b,c){var e=i({strokeWidth:1,strokeLinecap:"round",strokeDasharray:"none"},c.attrs),f=c.ref||{x:0,y:0},g=c.scale||1;"none"===e.strokeDasharray&&(e.strokeDasharray=[1e4,1]);var h=n("marker");m(c.element,e),l(h,c.element),m(h,{id:b,viewBox:"0 0 20 20",refX:f.x,refY:f.y,markerWidth:20*g,markerHeight:20*g,orient:"auto"});var j=k("defs",a);return j||(j=n("defs"),l(a,j)),l(j,h),d(b,h)}var c=n("path");m(c,{d:"M 11 5 L 1 10 L 11 15"}),b("association-start",{element:c,attrs:{fill:"none",stroke:"black",strokeWidth:1.5},ref:{x:1,y:10},scale:.5});var e=n("path");m(e,{d:"M 1 5 L 11 10 L 1 15"}),b("association-end",{element:e,attrs:{fill:"none",stroke:"black",strokeWidth:1.5},ref:{x:12,y:10},scale:.5});var f=n("path");m(f,{d:"M 1 5 L 11 10 L 1 15 Z"}),b("information-requirement-end",{element:f,ref:{x:11,y:10},scale:1});var g=n("path");m(g,{d:"M 1 3 L 11 10 L 1 17"}),b("knowledge-requirement-end",{element:g,attrs:{fill:"none",stroke:"black",strokeWidth:2},ref:{x:11,y:10},scale:.8});var h=n("circle");m(h,{cx:3,cy:3,r:3}),b("authority-requirement-end",{element:h,ref:{x:3,y:3},scale:.9})}function r(a,b,d){return g(b)||(d=b,b=[]),c.style(b||[],i(d,a||{}))}function v(a,b,c,d,e,f){h(e)&&(f=e,e=0),e=e||0,f=r(f,{stroke:"black",strokeWidth:2,fill:"white"});var g=n("rect");return m(g,{x:e,y:e,width:b-2*e,height:c-2*e,rx:d,ry:d}),m(g,f),l(a,g),g}function w(a,b,c){var d=D.createText(a,b||"",c);return j(d).add("djs-label"),d}function x(a,b,c){var d=t(b);return w(a,d,{box:b,align:c,padding:5})}function y(a,b,c){c=r(c,["no-fill"],{strokeWidth:2,stroke:"black"});var d=n("path");return m(d,{d:b}),m(d,c),l(a,d),d}function z(a,b){var c=F[b.type];return c?c(a,b):o.prototype.drawShape.apply(this,[a,b])}function A(a,b){var c=b.type,d=F[c];return d?d(a,b):o.prototype.drawConnection.apply(this,[a,b])}function B(a,b,c){c=r(c,["no-fill"],{stroke:"black",strokeWidth:2,fill:"none"});var d=u(b,c);return l(a,d),d}o.call(this,a);var C={fontFamily:"Arial, sans-serif",fontSize:"12px"},D=new q({style:C,size:{width:100}}),E={},F={"dmn:Decision":function(a,b,c){var d=v(a,b.width,b.height,0,c);return x(a,b,"center-middle"),d},"dmn:KnowledgeSource":function(a,c,d){var e=b.getScaledPath("KNOWLEDGE_SOURCE",{xScaleFactor:1.021,yScaleFactor:1,containerWidth:c.width,containerHeight:c.height,position:{mx:0,my:.075}}),f=y(a,e,{strokeWidth:2,fill:"white",stroke:"black"});return x(a,c,"center-middle"),f},"dmn:BusinessKnowledgeModel":function(a,c,d){var e=b.getScaledPath("BUSINESS_KNOWLEDGE_MODEL",{xScaleFactor:1,yScaleFactor:1,containerWidth:c.width,containerHeight:c.height,position:{mx:0,my:.3}}),f=y(a,e,{strokeWidth:2,fill:"white",stroke:"black"});return x(a,c,"center-middle"),f},"dmn:InputData":function(a,b,c){var d=v(a,b.width,b.height,22,c);return x(a,b,"center-middle"),d},"dmn:TextAnnotation":function(a,c,d){var f={fill:"none",stroke:"none"},g=v(a,c.width,c.height,0,0,f),h=b.getScaledPath("TEXT_ANNOTATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:c.width,containerHeight:c.height,position:{mx:0,my:0}});y(a,h);var i=e(c).text||"";return w(a,i,{box:c,align:"left-middle",padding:5}),g},"dmn:Association":function(a,b,c){var d=e(b);return c=i({strokeDasharray:"0.5, 5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"},c||{}),"One"!==d.associationDirection&&"Both"!==d.associationDirection||(c.markerEnd=f("association-end")),"Both"===d.associationDirection&&(c.markerStart=f("association-start")),B(a,b.waypoints,c)},"dmn:InformationRequirement":function(a,b,c){return c=i({strokeWidth:1,strokeLinecap:"round",strokeLinejoin:"round",markerEnd:f("information-requirement-end")},c||{}),B(a,b.waypoints,c)},"dmn:KnowledgeRequirement":function(a,b,c){return c=i({strokeWidth:1,strokeDasharray:5,strokeLinecap:"round",strokeLinejoin:"round",markerEnd:f("knowledge-requirement-end")},c||{}),B(a,b.waypoints,c)},"dmn:AuthorityRequirement":function(a,b,c){return c=i({strokeWidth:1.5,strokeDasharray:5,strokeLinecap:"round",strokeLinejoin:"round",markerEnd:f("authority-requirement-end")},c||{}),B(a,b.waypoints,c)}};this.canRender=function(a){return s(a,"dmn:DMNElement")||s(a,"dmn:InformationRequirement")||s(a,"dmn:KnowledgeRequirement")||s(a,"dmn:AuthorityRequirement")},this.drawShape=z,this.drawConnection=A,a.on("canvas.init",function(a){p(a.svg)})}function e(a){return a.businessObject}var f=a("inherits"),g=a("lodash/lang/isArray"),h=a("lodash/lang/isObject"),i=a("lodash/object/assign"),j=a("min-dom/lib/classes"),k=a("min-dom/lib/query"),l=a("tiny-svg/lib/append"),m=a("tiny-svg/lib/attr"),n=a("tiny-svg/lib/create"),o=a("diagram-js/lib/draw/BaseRenderer"),p=a("diagram-js/lib/util/RenderUtil"),q=a("diagram-js/lib/util/Text"),r=a("../util/ModelUtil"),s=r.is,t=r.getName,u=p.createLine;f(d,o),d.$inject=["eventBus","pathMap","styles"],b.exports=d},{"../util/ModelUtil":545,"diagram-js/lib/draw/BaseRenderer":306,"diagram-js/lib/util/RenderUtil":339,"diagram-js/lib/util/Text":341,inherits:568,"lodash/lang/isArray":679,"lodash/lang/isObject":683,"lodash/object/assign":686,"min-dom/lib/classes":695,"min-dom/lib/query":699,"tiny-svg/lib/append":748,"tiny-svg/lib/attr":750,"tiny-svg/lib/create":752}],486:[function(a,b,c){"use strict";function d(){this.pathMap={KNOWLEDGE_SOURCE:{d:"m {mx},{my} l 0,{e.y0} c {e.x0},{e.y1} {e.x1},-{e.y2} {e.x2},-{e.y3} c {e.x3},-{e.y4} {e.x4},{e.y5} {e.x5},{e.y6} l 0,-{e.y7}z",width:100,height:65,widthElements:[29.8,48.4,67.2,12.2,19.8,30.8],heightElements:[55.3,19.7,4.2,6.7,2.3,1.6,6.2,54.6]},BUSINESS_KNOWLEDGE_MODEL:{d:"m {mx},{my} l {e.x0},-{e.y0} l {e.x1},0 l 0,{e.y1} l -{e.x2},{e.y2} l -{e.x3},0z",width:125,height:45,widthElements:[13.8,109.2,13.8,109.1],heightElements:[13.2,29.8,13.2]},TEXT_ANNOTATION:{d:"m {mx}, {my} m 10,0 l -10,0 l 0,{e.y0} l 10,0",width:10,height:30,widthElements:[10],heightElements:[30]}},this.getRawPath=function(a){return this.pathMap[a].d},this.getScaledPath=function(a,b){var c,d,e=this.pathMap[a];b.abspos?(c=b.abspos.x,d=b.abspos.y):(c=b.containerWidth*b.position.mx,d=b.containerHeight*b.position.my);var g={};if(b.position){for(var h=b.containerHeight/e.height*b.yScaleFactor,i=b.containerWidth/e.width*b.xScaleFactor,j=0;j<e.heightElements.length;j++)g["y"+j]=e.heightElements[j]*h;for(var k=0;k<e.widthElements.length;k++)g["x"+k]=e.widthElements[k]*i}var l=f(e.d,{mx:c,my:d,e:g});return l}}function e(a,b,c){var d=c;return b.replace(h,function(a,b,c,e,f){b=b||e,d&&(b in d&&(d=d[b]),"function"==typeof d&&f&&(d=d()))}),d=(null==d||d==c?a:d)+""}function f(a,b){return String(a).replace(g,function(a,c){return e(a,c,b)})}b.exports=d;var g=/\{([^\}]+)\}/g,h=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g},{}],487:[function(a,b,c){"use strict";b.exports={__init__:["drdRenderer","decisionLabelUpdater"],drdRenderer:["type",a("./DrdRenderer")],pathMap:["type",a("./PathMap")],decisionLabelUpdater:["type",a("./DecisionLabelUpdater")]}},{"./DecisionLabelUpdater":484,"./DrdRenderer":485,"./PathMap":486}],488:[function(a,b,c){"use strict";function d(a,b){this._eventBus=a,this._canvas=b,a.on("diagram.init",function(){this._init()},this),a.on("import.done",function(a){this.update()},this)}var e=a("min-dom/lib/domify"),f=a("min-dom/lib/query"),g=a("min-dom/lib/delegate");d.$inject=["eventBus","canvas"],b.exports=d,d.prototype._init=function(){var a=this._canvas,b=this._eventBus,c=a.getContainer(),f=this._container=e(d.HTML_MARKUP);c.appendChild(f),g.bind(f,".dmn-definitions-name, .dmn-definitions-id","mousedown",function(a){a.stopPropagation()}),b.fire("definitionIdView.create",{html:f})},d.prototype.update=function(a){var b=this._canvas.getRootElement().businessObject,c=f(".dmn-definitions-name",this._container),d=f(".dmn-definitions-id",this._container);c.textContent=b.name,d.textContent=b.id},d.HTML_MARKUP='<div class="dmn-definitions"><div class="dmn-definitions-name" title="Definition Name"></div><div class="dmn-definitions-id" title="Definition ID"></div></div>'},{"min-dom/lib/delegate":696,"min-dom/lib/domify":697,"min-dom/lib/query":699}],489:[function(a,b,c){b.exports={__depends__:[],__init__:["definitionIdView"],definitionIdView:["type",a("./DefinitionIdView")]}},{"./DefinitionIdView":488}],490:[function(a,b,c){"use strict";function d(a,b,c,d){this._eventBus=a,this._overlays=b,this._drdRules=c,this._config=d,a.on(["drdElement.added","shape.create"],function(a){var b=a.element,d=c.canDrillDown(b);d&&this.addOverlay(b,d)},this)}var e=a("min-dom/lib/domify"),f=a("min-dom/lib/delegate");b.exports=d,d.$inject=["eventBus","overlays","drdRules","config"],d.prototype.addOverlay=function(a,b){var c=this._overlays,d="table"===b?"decision-table":"literal-expression",f=e(['<div class="drill-down-overlay">','<span class="dmn-icon-'+d+'" />',"</div>"].join("")),g=c.add(a,{position:{top:1,left:1},html:f});this._config.disableDrdInteraction||(f.style.cursor="pointer",this.bindEventListener(a,f,g))},d.prototype.bindEventListener=function(a,b,c){var d=this._overlays,e=this._eventBus,g=d._overlayRoot;f.bind(g,'[data-overlay-id="'+c+'"]',"click",function(){e.fire("decision.open",{decision:a.businessObject})})}},{"min-dom/lib/delegate":696,"min-dom/lib/domify":697}],491:[function(a,b,c){"use strict";b.exports={__depends__:[a("diagram-js/lib/features/context-pad")],__init__:["drillDown"],drillDown:["type",a("./DrillDown")]}},{"./DrillDown":490,"diagram-js/lib/features/context-pad":308}],492:[function(a,b,c){"use strict";function d(a){l.call(this,a)}function e(a,b){if(i(a,"dmn:Definitions")||i(b,"dmn:Definitions"))return!1;if(i(a,"dmn:Decision")||i(a,"dmn:InputData")){if(i(b,"dmn:Decision")||i(a,"dmn:Decision")&&i(b,"dmn:InputData"))return{type:"dmn:InformationRequirement"};if(i(b,"dmn:KnowledgeSource"))return{type:"dmn:AuthorityRequirement"}}return i(a,"dmn:BusinessKnowledgeModel")&&j(b,["dmn:Decision","dmn:BusinessKnowledgeModel"])?{type:"dmn:KnowledgeRequirement"}:i(a,"dmn:KnowledgeSource")&&j(b,["dmn:Decision","dmn:BusinessKnowledgeModel","dmn:KnowledgeSource"])?{type:"dmn:AuthorityRequirement"}:!!i(b,"dmn:TextAnnotation")&&{type:"dmn:Association"}}function f(a,b){return!b||!!i(b,"dmn:Definitions")}function g(a){var b=a.businessObject;return!!i(a,"dmn:Decision")&&(b.decisionTable?"table":!!b.literalExpression&&"literal")}var h=a("../../util/ModelUtil"),i=h.is,j=h.isAny,k=a("inherits"),l=a("diagram-js/lib/features/rules/RuleProvider");k(d,l),d.$inject=["eventBus"],b.exports=d,d.prototype.init=function(){this.addRule("elements.move",function(a){var b=a.target,c=a.shapes,d=a.position;return f(c,b,d)}),this.addRule("connection.create",function(a){var b=a.source,c=a.target;return e(b,c)}),this.addRule("connection.reconnectStart",function(a){var b=a.connection,c=a.hover||a.source,d=b.target;return e(c,d,b)}),this.addRule("connection.reconnectEnd",function(a){var b=a.connection,c=b.source,d=a.hover||a.target;return e(c,d,b)}),this.addRule("connection.updateWaypoints",function(a){return null})},d.prototype.canConnect=e,d.prototype.canMove=f,d.prototype.canDrillDown=g},{"../../util/ModelUtil":545,"diagram-js/lib/features/rules/RuleProvider":315,inherits:568}],493:[function(a,b,c){"use strict";b.exports={__depends__:[a("diagram-js/lib/features/rules")],__init__:["drdRules"],drdRules:["type",a("./DrdRules")]}},{"./DrdRules":492,"diagram-js/lib/features/rules":317}],494:[function(a,b,c){"use strict";function d(a){function b(a){return a.replace(e,function(a,d,e,f){var g=f||b(d),h=c[e];return"function"==typeof h?h(g):g})}var c={translate:a};return function(a){return a.replace(f,function(a,c){return b(c)})}}var e=/^\s*(?:'([^']+)')\s*(?:\|\s*(\w+)\s*)?$/g,f=/{{([^}]+)}}/g;d.$inject=["translate"],b.exports=d},{}],495:[function(a,b,c){"use strict";b.exports={__depends__:[a("diagram-js/lib/i18n/translate")],parseTemplate:["factory",a("./ParseTemplateFactory")]}},{"./ParseTemplateFactory":494,"diagram-js/lib/i18n/translate":322}],496:[function(a,b,c){"use strict";function d(a,b){return h({id:a.id,type:a.$type,businessObject:a},b)}function e(a){return a&&a.href.slice(1)}function f(a){var b=a.waypoints;if(b)return i(b,function(a){var b={x:a.x,y:a.y};return h({original:b},b)})}function g(a,b,c,d){this._eventBus=a,this._canvas=b,this._elementRegistry=d,this._elementFactory=c}var h=a("lodash/object/assign"),i=a("lodash/collection/map"),j=a("../util/ModelUtil"),k=j.is;g.$inject=["eventBus","canvas","elementFactory","elementRegistry"],b.exports=g,g.prototype.root=function(a){var b=this._elementFactory.createRoot(d(a));return this._canvas.setRootElement(b),b},g.prototype.add=function(a,b){var c,g,h,i,j,l,m,n=this._elementFactory,o=this._canvas,p=this._eventBus;if(b.$instanceOf("biodi:Bounds"))j=d(a,{x:Math.round(b.x),y:Math.round(b.y),width:Math.round(b.width),height:Math.round(b.height)}),c=n.createShape(j),o.addShape(c),p.fire("drdElement.added",{element:c,di:b});else{if(!b.$instanceOf("biodi:Edge"))throw new Error("unknown di for element "+a.id);g=f(b),l=b.source,m=a.$parent.id,k(a,"dmn:Association")&&(m=e(a.targetRef)),h=this._getShape(l),i=this._getShape(m),h&&i&&(j=d(a,{hidden:!1,source:h,target:i,waypoints:g}),c=n.createConnection(j),o.addConnection(c),p.fire("drdElement.added",{element:c,di:b}))}return c},g.prototype._getShape=function(a){return this._elementRegistry.get(a)}},{"../util/ModelUtil":545,"lodash/collection/map":579,"lodash/object/assign":686}],497:[function(a,b,c){"use strict";function d(a){return a&&a.href.slice(1)}function e(a,b){function c(b,c){var d=b.gfx;if(d)throw new Error("already rendered "+b.id);return a.element(b,c)}function e(b){a.root(b),f(["decision","drgElements","artifacts"],function(a){b[a]&&f(b[a],j)}),i(m)}function i(a){f(a,function(a){a()})}function j(a){var b=[];l(a,function(d){d.$parent.$instanceOf("dmn:ExtensionElements")&&(h(d,"biodi:Bounds")?c(a,d):h(d,"biodi:Edge")&&b.push(d))}),k(b,a)}function k(a,b){function e(b,e){var f=d(e),h=g(a,{source:f});h&&m.push(function(){c(b,h)})}return h(b,"dmn:Association")?e(b,b.sourceRef):void f(["informationRequirement","knowledgeRequirement","authorityRequirement"],function(a){f(b[a],function(a){var b=null;h(a,"dmn:InformationRequirement")?b=["requiredDecision","requiredInput"]:h(a,"dmn:KnowledgeRequirement")?b=["requiredKnowledge"]:h(a,"dmn:AuthorityRequirement")&&(b=["requiredDecision","requiredInput","requiredAuthority"]),b&&f(b,function(b){a[b]&&e(a,a[b])})})})}function l(a,b){var c,d=a.extensionElements;d&&(c=d.values,f(c,b))}var m=[];return{handleDefinitions:e}}var f=a("lodash/collection/forEach"),g=a("lodash/collection/find"),h=a("../util/ModelUtil").is;b.exports=e},{"../util/ModelUtil":545,"lodash/collection/find":577,"lodash/collection/forEach":578}],498:[function(a,b,c){"use strict";function d(a,b,c){function d(a){var b={root:function(a){return g.root(a)},element:function(a,b){return g.add(a,b)},error:function(a,b){i.push({message:a,context:b})}},c=new e(b);c.handleDefinitions(a)}var f,g=a.get("drdImporter"),h=a.get("eventBus"),i=[];h.fire("import.render.start",{definitions:b});try{d(b)}catch(j){f=j}h.fire("import.render.complete",{error:f,warnings:i}),c(f,i)}var e=a("./DrdTreeWalker");b.exports.importDRD=d},{"./DrdTreeWalker":497}],499:[function(a,b,c){"use strict";b.exports={drdImporter:["type",a("./DrdImporter")]}},{"./DrdImporter":496}],500:[function(a,b,c){"use strict";function d(a){var b=/unparsable content <([^>]+)> detected([\s\S]*)$/,c=b.exec(a.message);return c&&(a.message="unparsable content <"+c[1]+"> detected; this may indicate an invalid DMN file"+c[2]),a}function e(a){this.options=a=g({},t,a||{}),this.moddle=a.moddle,this.moddle||(this.moddle=this._createModdle(a)),this.container=this._createContainer(a),this._init(this.container,this.moddle,a),f(this.container.firstChild),this.on(["table.destroy","table.clear"],function(){s.prototype._openedDropdown&&s.prototype._openedDropdown._closeDropdown()},this)}function f(a){var b=u.BPMNIO_LOGO,c='<a href="http://bpmn.io" target="_blank" class="dmn-js-powered-by" title="Powered by bpmn.io" style="position: absolute; z-index: 100"><img src="data:image/png;base64,'+b+'"></a>',d=k(c);a.appendChild(d),v.bind(d,"click",function(a){u.open(),a.preventDefault()})}var g=a("lodash/object/assign"),h=a("lodash/object/omit"),i=a("lodash/lang/isString"),j=a("lodash/collection/filter"),k=a("min-dom/lib/domify"),l=a("min-dom/lib/query"),m=a("min-dom/lib/remove"),n=a("table-js"),o=a("dmn-moddle"),p=a("inherits"),q=a("./import/Importer"),r=a("../util/ModelUtil").is,s=a("table-js/lib/features/combo-box"),t={container:"body"};p(e,n),b.exports=e,e.prototype.importXML=function(a,b){b=b||function(){};var c=this;a=this._emit("import.parse.start",{xml:a})||a,this.moddle.fromXML(a,"dmn:Definitions",function(a,e,f){if(e=c._emit("import.parse.complete",{error:a,definitions:e,context:f})||e,a)return a=d(a),c._emit("import.done",{error:a}),b(a);var g=f.warnings;c.importDefinitions(e,function(a,d){var e=[].concat(g,d||[]);c._emit("import.done",{error:a,warnings:e}),b(a,e)})})},e.prototype.getDefinitions=function(){return this.definitions},e.prototype.getDecisions=function(a){var b=a||this.definitions;if(b)return j(b.drgElements,function(a){return r(a,"dmn:Decision")})},e.prototype.getCurrentDecision=function(){return this._decision},e.prototype.showDecision=function(a,b){var c=this;if(!this.definitions)throw new Error("Definitions not parsed yet");if(!a)throw new Error("Unknown decision object");b||(b=function(){}),this._decision=a,this.importDefinitions(this.definitions,a,function(a,d){var e=d||[];c._emit("import.done",{error:a,warnings:e}),b(a,e)})},e.prototype.saveXML=function(a,b){b||(b=a,a={});var c=this.definitions;return c?void this.moddle.toXML(c,a,b):b(new Error("no definitions loaded"))},e.prototype.importDefinitions=function(a,b,c){var d;try{this.definitions&&this.clear(),"function"==typeof b&&(c=b,d=this.getDecisions(a),b=d&&d[0]),this.definitions=a,q.importDmnTable(this,a,b,c)}catch(e){c(e)}},e.prototype._createContainer=function(a){var b,c=a.container;return c.get&&(c=c.get(0)),i(c)&&(c=l(c)),this._parentContainer=c,b=k('<div class="dmn-table"></div>'),a.isDetached!==!0&&c.appendChild(b),b},e.prototype._createModdle=function(a){var b=g({},this._moddleExtensions,a.moddleExtensions);return new o(b)},e.prototype._init=function(a,b,c){var d=[].concat(c.modules||this.getModules(),c.additionalModules||[]);d.unshift({dmnjs:["value",this],moddle:["value",b]}),c=h(c,"additionalModules"),c=g(c,{sheet:{width:c.width,height:c.height,container:a},modules:d}),n.call(this,c)},e.prototype.getModules=function(){return this._modules},e.prototype.destroy=function(){n.prototype.destroy.call(this),m(this.container)},e.prototype._emit=function(a,b){return this.get("eventBus").fire(a,b)},e.prototype.on=function(a,b,c,d){return this.get("eventBus").on(a,b,c,d)},e.prototype.off=function(a,b){this.get("eventBus").off(a,b)},e.prototype._modules=[a("./core"),a("diagram-js/lib/i18n/translate"),a("table-js/lib/features/line-numbers"),a("./features/io-label"),a("./features/table-name"),a("./features/annotations"),a("./features/mappings-row"),a("./features/type-row"),a("./features/simple-mode"),a("./features/hit-policy"),a("./features/descriptions"),a("./features/date-edit/viewer"),a("./features/string-edit/viewer"),a("./features/literal-expression"),a("table-js/lib/features/interaction-events"),a("table-js/lib/features/controls"),a("table-js/lib/features/complex-cell")];var u=a("./../util/PoweredByUtil"),v=a("min-dom/lib/event")},{"../util/ModelUtil":545,"./../util/PoweredByUtil":546,"./core":501,"./features/annotations":506,"./features/date-edit/viewer":509,"./features/descriptions":511,"./features/hit-policy":517,"./features/io-label":521,"./features/literal-expression":524,"./features/mappings-row":528,"./features/simple-mode":530,"./features/string-edit/viewer":533,"./features/table-name":535,"./features/type-row":539,"./import/Importer":540,"diagram-js/lib/i18n/translate":322,"dmn-moddle":547,inherits:568,"lodash/collection/filter":576,"lodash/lang/isString":684,"lodash/object/assign":686,"lodash/object/omit":689,"min-dom/lib/domify":697,"min-dom/lib/event":698,"min-dom/lib/query":699,"min-dom/lib/remove":700,"table-js":709,"table-js/lib/features/combo-box":719,"table-js/lib/features/complex-cell":721,"table-js/lib/features/controls":723,"table-js/lib/features/interaction-events":725,"table-js/lib/features/line-numbers":727}],501:[function(a,b,c){b.exports={__depends__:[a("../import"),a("../draw")]}},{"../draw":503,"../import":544}],502:[function(a,b,c){"use strict";function d(a,b,c,d){a.on("sheet.resized",f,function(a){var e,f,h,i=a.context,j=c.getContainer(),k=d.minColWidth,l=g,m=1;if(i||(a.context=i={}),e=b.filter(function(a){return"utilityColumn"===a.id})[0],f=e.next){for(;!f.isAnnotationsColumn;)f=f.next,m++;h=l+m*k,c.setWidth("auto"),j.clientWidth<=h&&(i.newWidth=h)}}),a.on("row.render",function(a){a.data.isClauseRow&&e(a.gfx).add("labels")}),a.on("cell.render",function(a){var b=a.data,c=a.gfx;b.column.businessObject&&(b.row.isClauseRow?c.childNodes[0].textContent=b.column.businessObject.label:b.content&&!b.content.tagName&&b.row.businessObject&&(c.childNodes[0].textContent=b.content.text),b.row.isFoot||(b.column.businessObject.inputExpression?e(c).add("input"):e(c).add("output")))})}var e=a("min-dom/lib/classes"),f=1500,g=45;d.$inject=["eventBus","elementRegistry","sheet","config"],b.exports=d},{"min-dom/lib/classes":695}],503:[function(a,b,c){b.exports={__init__:["tableRenderer"],tableRenderer:["type",a("./TableRenderer")]}},{"./TableRenderer":502}],504:[function(a,b,c){"use strict";function d(a,b,c,d,f){this.column=null;var g;a.on("import.done",function(h){var i;h.error||(a.fire("annotations.add",h),this.column=i=b.addColumn({id:"annotations",isAnnotationsColumn:!0}),g=c.filter(function(a){return"cell"===a._type&&a.column===i&&a.row.isLabelRow})[0],g.rowspan=4,g.content=e(f("Annotation")),d.update("column",i,c.getGraphics(this.column.id)),a.fire("annotations.added",i))},this),a.on(["sheet.destroy","sheet.clear"],function(c){var d=this.column;a.fire("annotations.destroy",d),b.removeColumn({id:"annotations"}),a.fire("annotations.destroyed",d)},this)}var e=a("min-dom/lib/domify");d.$inject=["eventBus","sheet","elementRegistry","graphicsFactory","translate"],b.exports=d,d.prototype.getColumn=function(){return this.column}},{"min-dom/lib/domify":697}],505:[function(a,b,c){"use strict";function d(a,b){a.on("cell.render",function(a){a.data.column!==b.getColumn()||a.data.row.isFoot||(e(a.gfx).add("annotation"),a.data.row.isHead||(a.gfx.childNodes[0].textContent=a.data.row.businessObject.description||""))})}var e=a("min-dom/lib/classes");d.$inject=["eventBus","annotations"],b.exports=d},{"min-dom/lib/classes":695}],506:[function(a,b,c){b.exports={__init__:["annotations","annotationsRenderer"],__depends__:[a("diagram-js/lib/i18n/translate")],annotations:["type",a("./Annotations")],annotationsRenderer:["type",a("./AnnotationsRenderer")]}},{"./Annotations":504,"./AnnotationsRenderer":505,"diagram-js/lib/i18n/translate":322}],507:[function(a,b,c){"use strict";function d(a,b){this._eventBus=a,this._simpleMode=b,this._eventBus.on("cell.render",function(a){if(b=a.gfx.querySelector(".date-content"),b&&b.parentNode.removeChild(b),1===a.gfx.childNodes.length&&(a.gfx.firstChild.style.display="inline",a.data.preventAutoUpdate=!1),g(a.data))if(this._simpleMode.isActive()){a.gfx.firstChild.style.display="none",a.data.preventAutoUpdate=!0;var b=a.gfx.querySelector(".date-content");b||(b=e('<span class="date-content">'),a.gfx.appendChild(b)),this.renderDate(a.data.content,b)}else a.gfx.firstChild.style.display="",a.data.preventAutoUpdate=!1,b=a.gfx.querySelector(".date-content"),b&&b.parentNode.removeChild(b)},this)}var e=a("min-dom/lib/domify"),f=a("./utils"),g=f.isDateCell,h=f.parseDate;d.prototype.renderDate=function(a,b){if(a&&a.text){var c=h(a.text);if(c){var d,e=new Date(c.date1+".000Z");if("exact"===c.type)d=e.toUTCString().slice(0,-7);else if(d=c.type+" "+e.toUTCString().slice(0,-7),c.date2){var f=new Date(c.date2+".000Z");d+=" and "+f.toUTCString().slice(0,-7)}b.textContent=d}else a.description?(b.innerHTML='<span class="expression-hint"><b>[expression]</b> (<i></i>)</span>',b.querySelector("i").textContent=a.description):b.innerHTML='<span class="expression-hint"><b>[expression]</b></span>'}else b.innerHTML='<span style="display: inline-block; width: 100%; color: #777777; text-align: center;">-</span>'},d.$inject=["eventBus","simpleMode"],b.exports=d},{"./utils":508,"min-dom/lib/domify":697}],508:[function(a,b,c){"use strict";var d=function(a){return a&&(a.inputExpression&&"date"===a.inputExpression.typeRef||"date"===a.typeRef)},e=function(a){return!a.isHead&&!a.isFoot};b.exports={isISODateString:function(a){return/\d{4}(?:-\d\d){2}T(?:\d\d:){2}\d\d/.test(a)},getSampleDate:function(a){var b=new Date;return a?b.setUTCHours(23,59,59,0):b.setUTCHours(0,0,0,0),b.toISOString().slice(0,-5)},isDateCell:function(a){return"cell"===a._type&&d(a.column.businessObject)&&e(a.row)},parseDate:function(a){if(""===a.trim())return{type:"exact",date1:""};var b=a.match(/^\[date and time\("(\d{4}(?:-\d\d){2}T(?:\d\d:){2}\d\d)"\)..date and time\("(\d{4}(?:-\d\d){2}T(?:\d\d:){2}\d\d)"/);return b?{type:"between",date1:b[1],date2:b[2]}:(b=a.match(/^(<|>)\s*date and time\("(\d{4}(?:-\d\d){2}T(?:\d\d:){2}\d\d)"\)/))?{type:"<"===b[1]?"before":"after",date1:b[2]}:(b=a.match(/^date and time\("(\d{4}(?:-\d\d){2}T(?:\d\d:){2}\d\d)"\)$/),b?{type:"exact",date1:b[1]}:void 0)}}},{}],509:[function(a,b,c){b.exports={__init__:["dateView"],__depends__:[],dateView:["type",a("./DateView")]}},{"./DateView":507}],510:[function(a,b,c){"use strict";function d(a,b,c){this._eventBus=a,this._elementRegistry=b,this._sheet=c;var d=this;document.body.addEventListener("click",function(a){d.closePopover()}),document.body.addEventListener("keydown",function(a){13===a.keyCode&&d.openedPopover&&!f(a)&&d.closePopover()}),a.on("cell.render",function(a){var b,c=a.data,f=a.gfx;c.content&&c.content.description?f.querySelector(".description-indicator")||(b=e('<div class="description-indicator"></div>'),b.addEventListener("click",function(a){a.stopPropagation(),d.openPopover(c)}),f.appendChild(b)):(b=f.querySelector(".description-indicator"),b&&b.parentNode.removeChild(b))})}var e=a("min-dom/lib/domify"),f=a("diagram-js/lib/util/Mouse").hasSecondaryModifier,g=2,h=2;d.$inject=["eventBus","elementRegistry","sheet"],b.exports=d,d.prototype.closePopover=function(){var a=this._eventBus;this.openedPopover&&(this.openedPopover.parentNode.removeChild(this.openedPopover),this.openedPopover=null,a.fire("description.popover.closed"))},d.prototype.openPopover=function(a){var b=this._sheet,c=this._eventBus,d=this._elementRegistry,f=b.getContainer(),i=d.getGraphics(a),j=e('<textarea class="descriptions-textarea"></textarea>');this.closePopover(),c.fire("description.popover.open",a),j.style.position="absolute",j.style.top=i.offsetTop+h+"px",j.style.left=i.offsetLeft+i.clientWidth+g+"px",j.style.width="200px",j.style.height="80px",j.setAttribute("disabled","disabled"),j.addEventListener("click",function(a){a.stopPropagation()}),f.appendChild(j),this.openedPopover=j,c.fire("description.popover.opened",j,a),j.focus(),j.textContent=a.content.description}},{"diagram-js/lib/util/Mouse":337,"min-dom/lib/domify":697}],511:[function(a,b,c){b.exports={__init__:["descriptions"],descriptions:["type",a("./Descriptions")]}},{"./Descriptions":510}],512:[function(a,b,c){"use strict";function d(a,b){f.call(this),this._moddle=a,this._tableFactory=b}var e=a("inherits"),f=a("table-js/lib/core/ElementFactory");e(d,f),d.$inject=["moddle","tableFactory"],b.exports=d,d.prototype.baseCreate=f.prototype.create,d.prototype.create=function(a,b){var c=this._tableFactory;b=b||{};var d=b.businessObject;if("row"===a?b.type="dmn:DecisionRule":"column"!==a||b.type||(b.type=b.isInput?"dmn:InputClause":"dmn:OutputClause"),!d){if(!b.type)throw new Error("no type specified");d="dmn:DecisionRule"===b.type?c.createRule(b.id):"column"===a?b.isInput?c.createInputClause(b.name):c.createOutputClause(b.name):c.create(b.type)}return b.businessObject=d,b.id=d.id,this.baseCreate(a,b)}},{inherits:568,"table-js/lib/core/ElementFactory":711}],513:[function(a,b,c){"use strict";function d(a){this._model=a}d.$inject=["moddle"],d.prototype._needsId=function(a){return a.$instanceOf("dmn:DMNElement")},d.prototype._ensureId=function(a){var b=(a.$type||"").replace(/^[^:]*:/g,"")+"_";!a.id&&this._needsId(a)&&(a.id=this._model.ids.nextPrefixed(b,a))},d.prototype.create=function(a,b){var c=this._model.create(a,b||{});return this._ensureId(c),c},d.prototype.createRule=function(a){var b={id:a};b.inputEntry=b.inputEntry||[],b.outputEntry=b.outputEntry||[];var c=this.create("dmn:DecisionRule",b);return c},d.prototype.createInputEntry=function(a,b,c){var d=this.create("dmn:UnaryTests",{text:a}),e=b.$parent.input.indexOf(b);return d.$parent=c,c.inputEntry||(c.inputEntry=[]),c.inputEntry.splice(e,0,d),d},d.prototype.createInputClause=function(a){var b=this.create("dmn:InputClause",{label:a});return b.inputExpression=this.create("dmn:LiteralExpression",{}),b.inputExpression.typeRef="string",b.inputExpression.$parent=b,b},d.prototype.createOutputClause=function(a){var b=this.create("dmn:OutputClause",{label:a});return b.typeRef="string",b},d.prototype.createOutputEntry=function(a,b,c){var d=this.create("dmn:LiteralExpression",{text:a}),e=b.$parent.output.indexOf(b);return d.$parent=c,
c.outputEntry||(c.outputEntry=[]),c.outputEntry.splice(e,0,d),d},d.prototype.createInputValues=function(a){var b=this.create("dmn:UnaryTests",{text:""});return a.inputValues=b,b.$parent=a,b},d.prototype.createOutputValues=function(a){var b=this.create("dmn:UnaryTests",{text:""});return a.outputValues=b,b.$parent=a,b},b.exports=d},{}],514:[function(a,b,c){b.exports={tableFactory:["type",a("./TableFactory")],elementFactory:["type",a("./ElementFactory")]}},{"./ElementFactory":512,"./TableFactory":513}],515:[function(a,b,c){"use strict";function d(a,b,c,d,j,k,l){this.table=null,this.hitPolicyCell=null;var m=this;a.on("dmnElement.added",function(a){a.element&&a.element.businessObject.$instanceOf("dmn:DecisionTable")&&(m.table=a.element.businessObject)}),a.on("cell.added",function(a){if(a.element.column===b.getColumn()&&"ioLabel"===a.element.row.id){m.hitPolicyCell=a.element,m.hitPolicyCell.rowspan=4;var c=e("<div>"),d=new g({label:l("Hit Policy"),classNames:["dmn-combobox","hitpolicy"],options:["UNIQUE","FIRST","PRIORITY","ANY","COLLECT","RULE ORDER","OUTPUT ORDER"],dropdownClassNames:["dmn-combobox-suggestions"]});c.insertBefore(d.getNode(),c.firstChild);var f=new g({label:l("Collect Operator"),classNames:["dmn-combobox","operator"],options:["LIST","SUM","MIN","MAX","COUNT"],dropdownClassNames:["dmn-combobox-suggestions"]});c.appendChild(f.getNode()),d.addEventListener("valueChanged",function(a){"collect"===a.newValue.toLowerCase()?f.getNode().style.display="table":f.getNode().style.display="none"}),a.element.complex={className:"dmn-hitpolicy-setter",template:c,element:a.element,comboBox:d,operatorComboBox:f,type:"hitPolicy",offset:{x:h,y:i}}}}),a.on("complexCell.open",function(a){var b=a.config;if("hitPolicy"===b.type){b.comboBox.setValue(m.getHitPolicy()),b.operatorComboBox.setValue(m.getAggregation());var c=b.template;if(c.querySelector(".dmn-combobox > input").focus(),!k.allowed("hitPolicy.edit")){for(var d=c.querySelectorAll("input"),e=0;e<d.length;e++)d[e].setAttribute("disabled","true");b.comboBox.disable(),f(c.parentNode).add("read-only")}}},this),a.on("complexCell.close",function(b){"hitPolicy"===b.config.type&&(a.fire("hitPolicy.edit",{table:m.table,hitPolicy:b.config.comboBox.getValue(),aggregation:"COLLECT"===b.config.comboBox.getValue()?b.config.operatorComboBox.getValue():void 0,cell:m.getCell()}),d.update("cell",m.getCell(),j.getGraphics(m.getCell())))})}var e=a("min-dom/lib/domify"),f=a("min-dom/lib/classes"),g=a("table-js/lib/features/combo-box"),h=36,i=-16;d.$inject=["eventBus","utilityColumn","ioLabel","graphicsFactory","elementRegistry","rules","translate"],d.prototype.getCell=function(){return this.hitPolicyCell},d.prototype.getHitPolicy=function(){return this.table&&this.table.hitPolicy||""},d.prototype.getAggregation=function(){return this.table&&this.table.aggregation||"LIST"},b.exports=d},{"min-dom/lib/classes":695,"min-dom/lib/domify":697,"table-js/lib/features/combo-box":719}],516:[function(a,b,c){"use strict";function d(a){switch(a){case"LIST":return"";case"SUM":return"+";case"MIN":return"<";case"MAX":return">";case"COUNT":return"#"}}function e(a,b){a.on("cell.render",function(a){if(a.data===b.getCell()){var c=b.getHitPolicy(),e=b.getAggregation();a.gfx.childNodes[0].textContent=c.charAt(0)+d(e)}})}e.$inject=["eventBus","hitPolicy"],b.exports=e},{}],517:[function(a,b,c){b.exports={__init__:["hitPolicy","hitPolicyRenderer"],__depends__:[a("diagram-js/lib/i18n/translate"),a("table-js/lib/features/utility-column"),a("../io-label")],hitPolicy:["type",a("./HitPolicy")],hitPolicyRenderer:["type",a("./HitPolicyRenderer")]}},{"../io-label":521,"./HitPolicy":515,"./HitPolicyRenderer":516,"diagram-js/lib/i18n/translate":322,"table-js/lib/features/utility-column":732}],518:[function(a,b,c){"use strict";function d(a,b,c,d,h,i){function j(b){var j=c.filter(function(a){return"cell"===a._type&&a.row===k.row}),l=j.filter(function(a){return a.column.businessObject&&a.column.businessObject.inputExpression});f(l,function(b){if(b.column.previous.businessObject)b.colspan=1;else{b.colspan=l.length;var c;h.allowed("column.create")?(c=e(i("Input")+' <a class="dmn-icon-plus"></a>'),c.querySelector("a").addEventListener("mouseup",function(){for(var c=b.column;c.next&&"dmn:InputClause"===c.next.businessObject.$type;)c=c.next;var d={id:g.next(),previous:c,name:"",isInput:!0};a.fire("ioLabel.createColumn",{newColumn:d})})):c=e(i("Input")),b.content=c}});var m=j.filter(function(a){return a.column.businessObject&&a.column.businessObject.$instanceOf("dmn:OutputClause")});f(m,function(b){if(b.column.previous.businessObject.inputExpression){b.colspan=m.length;var c;h.allowed("column.create")?(c=e(i("Output")+' <a class="dmn-icon-plus"></a>'),c.querySelector("a").addEventListener("mouseup",function(){for(var c=b.column;c.next&&c.next.businessObject&&"dmn:OutputClause"===c.next.businessObject.$type;)c=c.next;var d={id:g.next(),previous:c,name:"",isInput:!1};a.fire("ioLabel.createColumn",{newColumn:d})})):c=e(i("Output")),b.content=c}else b.colspan=1}),j.length>0&&d.update("row",j[0].row,c.getGraphics(j[0].row.id))}this.row=null;var k=this;a.on(["sheet.init","sheet.cleared"],function(c){a.fire("ioLabel.add",c),this.row=b.addRow({id:"ioLabel",isHead:!0,isLabelRow:!0,useTH:!0}),a.fire("ioLabel.added",this.row)},this),a.on(["sheet.destroy","sheet.clear"],function(c){a.fire("ioLabel.destroy",this.row),b.removeRow({id:"ioLabel"}),a.fire("ioLabel.destroyed",this.row),this.row=null},this),a.on(["cells.added","cells.removed"],function(a){"column"===a._type&&j()}),a.on(["column.move.applied"],j)}var e=a("min-dom/lib/domify"),f=a("lodash/collection/forEach"),g=new(a("diagram-js/lib/util/IdGenerator"))("clause");d.$inject=["eventBus","sheet","elementRegistry","graphicsFactory","rules","translate"],b.exports=d,d.prototype.getRow=function(){return this.row}},{"diagram-js/lib/util/IdGenerator":335,"lodash/collection/forEach":578,"min-dom/lib/domify":697}],519:[function(a,b,c){"use strict";function d(a,b){a.on("cell.render",function(a){a.data.row===b.getRow()&&a.data.content&&!a.gfx.childNodes[0].firstChild&&a.gfx.childNodes[0].appendChild(a.data.content)})}d.$inject=["eventBus","ioLabel"],b.exports=d},{}],520:[function(a,b,c){"use strict";function d(a,b){f.call(this,a),this._ioLabel=b}var e=a("inherits"),f=a("diagram-js/lib/features/rules/RuleProvider");e(d,f),d.$inject=["eventBus","ioLabel"],b.exports=d,d.prototype.init=function(){var a=this;this.addRule("cell.edit",function(b){if(b.row===a._ioLabel.row)return!1})}},{"diagram-js/lib/features/rules/RuleProvider":315,inherits:568}],521:[function(a,b,c){b.exports={__init__:["ioLabel","ioLabelRules","ioLabelRenderer"],__depends__:[a("diagram-js/lib/i18n/translate")],ioLabel:["type",a("./IoLabel")],ioLabelRules:["type",a("./IoLabelRules")],ioLabelRenderer:["type",a("./IoLabelRenderer")]}},{"./IoLabel":518,"./IoLabelRenderer":519,"./IoLabelRules":520,"diagram-js/lib/i18n/translate":322}],522:[function(a,b,c){b.exports='<div class="literal-expression-editor">\r\n  <textarea placeholder="return obj.propertyName;"></textarea>\r\n\r\n  <div>\r\n    <div class="literal-expression-field">\r\n      <div class="dmn-combobox">\r\n        <label>Variable Name:</label>\r\n        <input class="variable-name" placeholder="varName">\r\n      </div>\r\n    </div>\r\n    <div class="literal-expression-field variable-type">\r\n    </div>\r\n  </div>\r\n  <div>\r\n    <div class="literal-expression-field expression-language">\r\n    </div>\r\n  </div>\r\n</div>\r\n'},{}],523:[function(a,b,c){"use strict";function d(a,b,c){this._eventBus=a,this._sheet=b,this._rules=c,a.on("import.render.start",function(){var a=b.getContainer();a.querySelector("table").style.display="";var c=a.querySelector(".literal-expression-editor");c&&a.removeChild(c)})}var e=a("min-dom/lib/domify"),f=a("./EditorTemplate.html"),g=a("table-js/lib/features/combo-box");d.$inject=["eventBus","sheet","rules"],b.exports=d,d.prototype.show=function(a){var b=this._eventBus,c=this._sheet.getContainer();c.querySelector("table").style.display="none";var d=e(f);d.querySelector("textarea").value=a.literalExpression.text||"";var h=new g({label:"Variable Type",classNames:["dmn-combobox","datatype"],options:["string","boolean","integer","long","double","date"],dropdownClassNames:["dmn-combobox-suggestions"]});d.querySelector(".variable-type").appendChild(h.getNode()),a.variable&&(d.querySelector(".variable-name").value=a.variable.name||"",h.setValue(a.variable.typeRef||""));var i=new g({label:"Expression Language",classNames:["dmn-combobox","expression-language"],options:["javascript","groovy","python","jruby","juel","feel"],dropdownClassNames:["dmn-combobox-suggestions"]});d.querySelector(".expression-language").appendChild(i.getNode()),i.setValue(a.literalExpression.expressionLanguage||"");for(var j=function(c){b.fire("literalExpression.edit",{decision:a,text:d.querySelector("textarea").value,variableName:d.querySelector(".variable-name").value,variableType:h.getValue(),language:i.getValue()})},k=this._rules.allowed("literalExpression.edit"),l=d.querySelectorAll("input"),m=0;m<l.length;m++)k?l[m].addEventListener("input",j):l[m].setAttribute("disabled","true");k?(d.querySelector("textarea").addEventListener("input",j),h.addEventListener("valueChanged",j),i.addEventListener("valueChanged",j)):(d.querySelector("textarea").setAttribute("disabled","true"),h.disable(),i.disable()),c.appendChild(d)}},{"./EditorTemplate.html":522,"min-dom/lib/domify":697,"table-js/lib/features/combo-box":719}],524:[function(a,b,c){b.exports={__init__:["literalExpressionEditor"],literalExpressionEditor:["type",a("./LiteralExpressionEditor")]}},{"./LiteralExpressionEditor":523}],525:[function(a,b,c){b.exports='<div>\r\n  <div class="links">\r\n    <div class="toggle-type">\r\n      <label>{{ \'Use:\' | translate }}</label>\r\n      <a class="expression">{{ \'Expression\' | translate }}</a>\r\n      /\r\n      <a class="script">{{ \'Script\' | translate }}</a>\r\n    </div>\r\n    <a class="dmn-icon-clear"></a>\r\n  </div>\r\n  <div class="expression region">\r\n    <div class="input-expression">\r\n       <label>{{ \'Expression:\' | translate }}</label>\r\n      <input placeholder="propertyName">\r\n    </div>\r\n    <div class="input-expression">\r\n      <label>{{ \'Input Variable Name:\' | translate }}</label>\r\n      <input placeholder="cellInput">\r\n    </div>\r\n  </div>\r\n  <div class="script region">\r\n    <textarea placeholder="return obj.propertyName;"></textarea>\r\n    <div class="input-expression">\r\n      <label>{{ \'Input Variable Name:\' | translate }}</label>\r\n      <input placeholder="cellInput">\r\n    </div>\r\n  </div>\r\n</div>\r\n'},{}],526:[function(a,b,c){"use strict";function d(a,b,c){i(b,function(b){c(a.querySelector(b))})}function e(a,b,c,e,i,s,t,u){this.row=null,a.on(["sheet.init","sheet.cleared"],function(d){this.row||(a.fire("mappingsRow.add",d),this.row=b.addRow({id:"mappingsRow",isHead:!0,isMappingsRow:!0}),a.fire("mappingsRow.added",this.row),e.update("row",this.row,c.getGraphics(this.row.id)))},this),a.on(["sheet.clear","sheet.destroy"],function(c){a.fire("mappingsRow.destroy",this.row),b.removeRow({id:"mappingsRow"}),a.fire("mappingsRow.destroyed",this.row),this.row=null},this);var v=function(a,d,e){var f,g,i=b.getRootElement(),j=c.getGraphics(d);e?(f=i.getBoundingClientRect(),h(a.style,{top:f.top+"px",left:f.left+"px",width:i.clientWidth+"px"})):(g=j.getBoundingClientRect(),h(a.style,{top:g.top-a.offsetHeight+r+"px",left:g.left+q+"px",width:"auto",height:"auto"}))};a.on("cell.added",function(a){var b,h,q,r=a.element,u=r.column,w=r.content;if("mappingsRow"===r.row.id&&u.businessObject&&u.businessObject.inputExpression){w=r.content=u.businessObject.inputExpression;var x=f(t(j)),y=new k({label:s("Language"),classNames:["dmn-combobox","language"],options:["javascript","groovy","python","jruby","juel","feel"],dropdownClassNames:["dmn-combobox-suggestions"]});"undefined"!=typeof w.expressionLanguage?(x.querySelector(o).value=w.text||"",y.setValue(w.expressionLanguage)):(b=x.querySelector(l),b.value=w.text||""),h=w.$parent,h&&d(x,p,function(a){a.value=h.inputVariable||""}),x.querySelector(".dmn-icon-clear").addEventListener("click",function(){i.close()}),x.querySelector(".expression").addEventListener("click",function(){q=x.querySelector(n).value,g(x.parentNode).remove("use-script"),v(x.parentNode,a.element,!1),x.querySelector(l).focus(),x.querySelector(m).value=q,a.element.complex.mappingType="expression"}),x.querySelector(".script").addEventListener("click",function(){q=x.querySelector(m).value,g(x.parentNode).add("use-script"),v(x.parentNode,a.element,!0),x.querySelector(o).focus(),x.querySelector(n).value=q,a.element.complex.mappingType="script"}),d(x,p.concat(l),function(a){a.addEventListener("keydown",function(a){13===a.keyCode&&i.close()})}),x.querySelector(".script.region").insertBefore(y.getNode(),x.querySelector("textarea")),a.element.complex={className:"dmn-clauseexpression-setter",template:x,element:a.element,mappingType:"undefined"!=typeof w.expressionLanguage?"script":"expression",comboBox:y,type:"mapping"},e.update("cell",a.element,c.getGraphics(a.element))}else"mappingsRow"===a.element.row.id&&u.businessObject&&(a.element.content=u.businessObject,e.update("cell",a.element,c.getGraphics(a.element)))}),a.on("complexCell.open",function(a){var b,c,e=a.config,f=a.container,h=e.element.content;"mapping"===e.type&&(b=e.template,"undefined"!=typeof h.expressionLanguage?(e.mappingType="script",g(f).add("use-script"),v(f,e.element,!0),f.querySelector(o).focus()):(e.mappingType="expression",v(f,e.element),f.querySelector(l).focus()),c=h.$parent,c&&d(b,p,function(a){a.value=c.inputVariable||""}),u.editingAllowed||(b.querySelector(l).setAttribute("disabled","true"),d(b,p,function(a){a.setAttribute("disabled","true")}),b.querySelector(o).setAttribute("disabled","true"),e.comboBox.disable(),g(b.parentNode).add("read-only")))}),a.on("complexCell.close",function(b){var c,d,e,f,g,h=b.config;"mapping"===h.type&&(c=h.template,d=h.element,"expression"===h.mappingType?(e=c.querySelector(l).value,g=c.querySelector(m).value):"script"===h.mappingType&&(f=h.comboBox.getValue(),g=c.querySelector(n).value,e=c.querySelector(o).value),a.fire("mappingsRow.editInputMapping",{element:d,attrs:{expression:e,language:f,inputVariable:g}}))})}var f=a("min-dom/lib/domify"),g=a("min-dom/lib/classes"),h=a("lodash/object/assign"),i=a("lodash/collection/forEach"),j=a("./ExpressionTemplate.html"),k=a("table-js/lib/features/combo-box"),l='.expression .input-expression input[placeholder="propertyName"]',m='.expression .input-expression input[placeholder="cellInput"]',n='.script .input-expression input[placeholder="cellInput"]',o=".script.region > textarea",p=[m,n],q=1,r=-2;e.$inject=["eventBus","sheet","elementRegistry","graphicsFactory","complexCell","translate","parseTemplate","config"],b.exports=e,e.prototype.getRow=function(){return this.row}},{"./ExpressionTemplate.html":525,"lodash/collection/forEach":578,"lodash/object/assign":686,"min-dom/lib/classes":695,"min-dom/lib/domify":697,"table-js/lib/features/combo-box":719}],527:[function(a,b,c){"use strict";function d(a,b){a.on("row.render",function(a){a.data===b.getRow()&&e(a.gfx).add("mappings")}),a.on("cell.render",function(a){a.data.row===b.getRow()&&a.data.content&&a.data.column.businessObject.inputExpression?a.data.content.expressionLanguage?a.gfx.childNodes[0].textContent=a.data.content.expressionLanguage||"":a.gfx.childNodes[0].textContent=a.data.content.text||"":a.data.row===b.getRow()&&a.data.content&&(a.gfx.childNodes[0].textContent=a.data.content.name||"")})}var e=a("min-dom/lib/classes");d.$inject=["eventBus","mappingsRow"],b.exports=d},{"min-dom/lib/classes":695}],528:[function(a,b,c){b.exports={__depends__:[a("diagram-js/lib/i18n/translate"),a("../../../features/templates"),a("table-js/lib/features/complex-cell")],__init__:["mappingsRow","mappingsRowRenderer"],mappingsRow:["type",a("./MappingsRow")],mappingsRowRenderer:["type",a("./MappingsRowRenderer")]}},{"../../../features/templates":495,"./MappingsRow":526,"./MappingsRowRenderer":527,"diagram-js/lib/i18n/translate":322,"table-js/lib/features/complex-cell":721}],529:[function(a,b,c){"use strict";function d(a,b){return a.inputExpression&&a.inputExpression.typeRef===b||a.typeRef===b}function e(a,b,c,e,f){this._sheet=b,this._eventBus=a,this._graphicsFactory=e,this._translate=f,this.simple=!1;var h=this;a.on("controls.init",function(a){this._node=this.addControlButton(a)},this),a.on("import.done",function(a){a.error||c.advancedMode||this.activate(!0)},this),a.on("cell.render",function(b){var c,e,i,j=b.data,k=b.gfx,l=j.row,m=j.column.businessObject,n=k.querySelector(".simple-mode-checkbox"),o=k.querySelector(".expression-hint");j.preventAutoUpdate=!1,o&&(k.childNodes[0].style.display="",o.parentNode.removeChild(o)),!this.simple&&n&&(k.childNodes[0].style.display="",n.parentNode.removeChild(n),j.preventAutoUpdate=!1),m&&this.simple&&"dmn:DecisionRule"===l.type&&!l.isHead&&m&&(d(m,"boolean")&&(this.simple&&(j.preventAutoUpdate=!0),e=j.content,this.simple&&e&&""!==e.text&&"false"!==e.text&&"true"!==e.text?(k.childNodes[0].style.display="none",c=h.getExpressionNode(j.content),j.preventAutoUpdate=!0,k.appendChild(c)):this.simple&&!n?(k.childNodes[0].style.display="none",i=g(['<select class="simple-mode-checkbox">','<option value="true">'+f("Yes")+"</option>",'<option value="false">'+f("No")+"</option>",'<option value="">-</option>',"</select>"].join("")),i.setAttribute("disabled","disabled"),e&&e.text?i.selectedIndex=["true","false",""].indexOf(e.text):i.selectedIndex=2,a.fire("simpleCheckbox.render",i,j),k.appendChild(i)):this.simple&&n&&(e&&e.text?n.selectedIndex=["true","false",""].indexOf(e.text):n.selectedIndex=2)),n&&(m.inputExpression&&"boolean"===m.inputExpression.typeRef||"boolean"===m.typeRef||(n.parentNode.removeChild(n),k.childNodes[0].style.display="")))},this)}var f=a("min-dom/lib/classes"),g=a("min-dom/lib/domify");e.$inject=["eventBus","sheet","config","graphicsFactory","translate"],b.exports=e,e.prototype.addControlButton=function(a){var b=this._sheet,c=this._translate,d=a.controls,e=this;return d.addControl(c("Exit Advanced Mode"),function(){f(b.getContainer().parentNode).contains("simple-mode")?e.deactivate():e.activate()})},e.prototype.getExpressionNode=function(a){var b;return a.description?(b=g('<span class="expression-hint"><b>[expression]</b> (<i></i>)</span>'),b.querySelector("i").textContent=a.description):b=g('<span class="expression-hint"><b>[expression]</b></span>'),b},e.prototype.activate=function(a){this._node&&(f(this._sheet.getContainer().parentNode).add("simple-mode"),this._node.textContent=this._translate("Enter Advanced Mode"),this.simple=!0,this._graphicsFactory.redraw(),a?this._eventBus.fire("simpleMode.initialized"):this._eventBus.fire("simpleMode.activated"))},e.prototype.deactivate=function(){this._node&&(f(this._sheet.getContainer().parentNode).remove("simple-mode"),this._node.textContent=this._translate("Exit Advanced Mode"),this.simple=!1,this._graphicsFactory.redraw(),this._eventBus.fire("simpleMode.deactivated"))},e.prototype.toggle=function(){this.simple?this.deactivate():this.activate()},e.prototype.isActive=function(){return this.simple},e.prototype.hasComplexContent=function(a){var b,c=a.column.businessObject;return!!(c&&a.content&&a.content.text)&&(b=a.content.text,d(c,"boolean")?["true","false"].indexOf(b)===-1:d(c,"string")?!this.isString(b):void 0)},e.prototype.isString=function(a){var b,c,d=a.match(/"/g);return 0===a.length||!!(b=d&&d.length%2===0)&&(c=a.match(/".{0,1},.{0,1}"/),b&&!c)}},{"min-dom/lib/classes":695,"min-dom/lib/domify":697}],530:[function(a,b,c){b.exports={__init__:["simpleMode"],__depends__:[a("diagram-js/lib/i18n/translate")],simpleMode:["type",a("./SimpleMode")]}},{"./SimpleMode":529,"diagram-js/lib/i18n/translate":322}],531:[function(a,b,c){"use strict";function d(a,b){this._eventBus=a,this._simpleMode=b,this._eventBus.on("cell.render",function(a){if(b=a.gfx.querySelector(".string-content"),b&&b.parentNode.removeChild(b),1===a.gfx.childNodes.length&&(a.gfx.firstChild.style.display="inline",a.data.preventAutoUpdate=!1),g(a.data))if(this._simpleMode.isActive()){a.gfx.firstChild.style.display="none",a.data.preventAutoUpdate=!0;var b=a.gfx.querySelector(".string-content");b||(b=e('<span class="string-content">'),a.gfx.appendChild(b)),this.renderString(a.data.content,b)}else a.gfx.firstChild.style.display="",a.data.preventAutoUpdate=!1,b=a.gfx.querySelector(".string-content"),b&&b.parentNode.removeChild(b);else b=a.gfx.querySelector(".string-content"),b&&b.parentNode.removeChild(b),1===a.gfx.childNodes.length&&(a.gfx.firstChild.style.display="")},this)}var e=a("min-dom/lib/domify"),f=a("./utils"),g=f.isStringCell,h=f.parseString;d.prototype.renderString=function(a,b){if(a.text){var c=h(a.text);c?b.textContent=a.text:a.description?(b.innerHTML='<span class="expression-hint"><b>[expression]</b> (<i></i>)</span>',b.querySelector("i").textContent=a.description):b.innerHTML='<span class="expression-hint"><b>[expression]</b></span>'}else b.innerHTML='<span style="display: inline-block; width: 100%; color: #777777; text-align: center;">-</span>'},d.$inject=["eventBus","simpleMode"],b.exports=d},{"./utils":532,"min-dom/lib/domify":697}],532:[function(a,b,c){"use strict";var d=function(a){return a&&(a.inputExpression&&"string"===a.inputExpression.typeRef||"string"===a.typeRef)},e=function(a){return!a.isHead&&!a.isFoot},f=function(a){return a.content&&"undefined"!=typeof a.content.text};b.exports={isStringCell:function(a){return"cell"===a._type&&d(a.column.businessObject)&&f(a)&&e(a.row)},parseString:function(a){if(""===a.trim())return{type:"disjunction",values:[]};var b=a.split(","),c={type:"disjunction",values:[]},d="";if(b.forEach(function(a){d+=a,/^"[^"]*"$/.test(d.trim())?(c.values.push(d.trim().slice(1,-1)),d=""):d+=","}),!d)return c;c.type="negation",c.values=[],d="";var e=a.match(/^\s*not\((.*)\)\s*$/);return e&&(b=e[1].split(","),b.forEach(function(a){d+=a,/^"[^"]*"$/.test(d.trim())?(c.values.push(d.trim().slice(1,-1)),d=""):d+=","}),!d)?c:void 0},parseAllowedValues:function(a){var b=a.column.businessObject,c=b&&(b.inputValues||b.outputValues);if(c&&c.text)return c=c.text.split(","),c.map(function(a){return'"'===a.charAt(0)&&'"'===a.charAt(a.length-1)?a.slice(1,-1):a})}}},{}],533:[function(a,b,c){"use strict";b.exports={__init__:["stringView"],stringView:["type",a("./StringView")]}},{"./StringView":531}],534:[function(a,b,c){"use strict";function d(a,b,c){g.call(this,a,b,c),this.node=e("<header><h3>"+this.tableName+'</h3><div class="tjs-table-id mappings"></div></header');var d=this;a.on("tableName.allowEdit",function(b){b.editAllowed&&(d.node.querySelector(".tjs-table-id").setAttribute("contenteditable",!0),d.node.querySelector(".tjs-table-id").addEventListener("blur",function(b){var c=b.target.textContent;c!==d.getId()&&a.fire("tableName.editId",{newId:c})},!0))}),this.semantic=null}var e=a("min-dom/lib/domify"),f=a("inherits"),g=a("table-js/lib/features/table-name/TableName");f(d,g),d.$inject=["eventBus","sheet","config.tableName"],b.exports=d,d.prototype.setSemantic=function(a){this.semantic=a,this.setName(a.name),this.setId(a.id)},d.prototype.setName=function(a){this.semantic.name=a,this.node.querySelector("h3").textContent=a||""},d.prototype.getName=function(){return this.semantic.name},d.prototype.setId=function(a){a&&(this.semantic.id=a),this.node.querySelector("div").textContent=this.semantic.id||""},d.prototype.getId=function(){return this.semantic.id}},{inherits:568,"min-dom/lib/domify":697,"table-js/lib/features/table-name/TableName":728}],535:[function(a,b,c){b.exports={__init__:["tableName"],tableName:["type",a("./TableName")]}},{"./TableName":534}],536:[function(a,b,c){"use strict";function d(a,b,c,d,l,m,n,o,p){this._eventBus=a,this._graphicsFactory=d,this.row=null;var q=this;a.on(["sheet.init","sheet.cleared"],function(e){a.fire("typeRow.add",e),this.row=b.addRow({id:"typeRow",isHead:!0,isTypeRow:!0}),a.fire("typeRow.added",this.row),d.update("row",this.row,c.getGraphics(this.row.id))},this),a.on(["sheet.clear","sheet.destroy"],function(c){a.fire("typeRow.destroy",this.row),b.removeRow({id:"typeRow"}),a.fire("typeRow.destroyed",this.row),this.row=null},this),a.on("cell.added",function(b){if("typeRow"===b.element.row.id&&b.element.column.businessObject){b.element.content=b.element.column.businessObject;var e=f(p(i)),g="dmn:OutputClause"===b.element.column.type;g&&(e.querySelector(".allowed-values label").textContent=o("Output Values:"));var j=new h({label:o("Type"),classNames:["dmn-combobox","datatype"],options:["string","boolean","integer","long","double","date"],dropdownClassNames:["dmn-combobox-suggestions"]});j.addEventListener("valueChanged",function(c){c.oldValue!==c.newValue&&(a.fire("typeRow.editDataType",{element:b.element,dataType:c.newValue}),q.updateAllowedValues(e,b.element),n.toggle(),n.toggle())}),e.insertBefore(j.getNode(),e.firstChild),e.querySelector(".allowed-values input").addEventListener("keydown",function(a){13===a.keyCode&&q.handleValuesFromInput(b.element,e)}),q.updateAllowedValues(e,b.element),b.element.complex={className:"dmn-clausevalues-setter",template:e,element:b.element,comboBox:j,type:"type",offset:{x:0,y:k}},d.update("cell",b.element,c.getGraphics(b.element))}}),a.on("complexCell.close",function(a){var b,c=a.config;"type"===c.type&&(b=c.template,"string"===c.comboBox.getValue()&&""!==b.querySelector(".allowed-values input").value.trim()&&q.handleValuesFromInput(c.element,b))}),a.on("complexCell.open",function(a){var b,d,f,h=a.config;"type"===h.type&&(d=c.getGraphics(h.element),f=h.element.content,f.inputExpression?h.comboBox.setValue(f.inputExpression.typeRef):h.comboBox.setValue(f.typeRef),b=h.template,e(b.parentNode.style,{left:b.parentNode.offsetLeft+d.offsetWidth+j+"px"}),m.allowed("dataType.edit")||(h.comboBox.disable(),g(b.parentNode).add("read-only")))})}var e=a("lodash/object/assign"),f=a("min-dom/lib/domify"),g=a("min-dom/lib/classes"),h=a("table-js/lib/features/combo-box"),i=a("./TypeTemplate.html"),j=-4,k=-17;d.prototype.handleValuesFromInput=function(a,b){var c=b.querySelector(".allowed-values input"),d=c.value.split(","),e=this;d.forEach(function(b){e.addAllowedValue(a,b.trim())}),this.updateAllowedValues(b,a),c.value=""},d.prototype.addAllowedValue=function(a,b){this._eventBus.fire("typeRow.addAllowedValue",{element:a,value:b})},d.prototype.removeAllowedValue=function(a,b){this._eventBus.fire("typeRow.removeAllowedValue",{element:a,value:b})},d.prototype.updateAllowedValues=function(a,b){var c=this,d=b.content.inputExpression&&b.content.inputExpression.typeRef||b.content.typeRef;if("string"===d){a.querySelector(".allowed-values").style.display="block";var e=a.querySelector(".allowed-values ul");if(e.innerHTML="",b.content.inputValues&&b.content.inputValues.text||b.content.outputValues&&b.content.outputValues.text){var g;g=b.content.inputValues?b.content.inputValues.text.split(","):b.content.outputValues.text.split(","),g.forEach(function(d){var g=f('<li><span class="value-text">'+d.substr(1,d.length-2)+'</span><button class="dmn-icon-clear"></button></li>');g.querySelector("button").addEventListener("click",function(){c.removeAllowedValue(b,d),c.updateAllowedValues(a,b)}),e.appendChild(g)})}}else a.querySelector(".allowed-values").style.display="none";this._eventBus.fire("typeRow.editAllowedValues",{element:b,values:g}),this._graphicsFactory.redraw()},d.$inject=["eventBus","sheet","elementRegistry","graphicsFactory","complexCell","rules","simpleMode","translate","parseTemplate"],b.exports=d,d.prototype.getRow=function(){return this.row}},{"./TypeTemplate.html":538,"lodash/object/assign":686,"min-dom/lib/classes":695,"min-dom/lib/domify":697,"table-js/lib/features/combo-box":719}],537:[function(a,b,c){"use strict";function d(a,b){a.on("row.render",function(a){a.data===b.getRow()&&e(a.gfx).add("values")}),a.on("cell.render",function(a){var c=a.data.content;a.data.row===b.getRow()&&c&&(c.inputExpression?a.gfx.childNodes[0].textContent=c.inputExpression.typeRef||"":a.gfx.childNodes[0].textContent=c.typeRef||"")})}var e=a("min-dom/lib/classes");d.$inject=["eventBus","typeRow"],b.exports=d},{"min-dom/lib/classes":695}],538:[function(a,b,c){b.exports='<div>\r\n  <div class="allowed-values">\r\n    <label>{{ \'Input Values:\' | translate }}</label>\r\n    <ul></ul>\r\n    <input type="text" placeholder="value1, value2, otherValue">\r\n  </div>\r\n</div>\r\n'},{}],539:[function(a,b,c){b.exports={__init__:["typeRow","typeRowRenderer"],__depends__:[a("diagram-js/lib/i18n/translate"),a("../../../features/templates"),a("table-js/lib/features/complex-cell")],typeRow:["type",a("./TypeRow")],typeRowRenderer:["type",a("./TypeRowRenderer")]}},{"../../../features/templates":495,"./TypeRow":536,"./TypeRowRenderer":537,"diagram-js/lib/i18n/translate":322,"table-js/lib/features/complex-cell":721}],540:[function(a,b,c){"use strict";function d(a,b,c,d){function f(a){var b={create:function(a,b,c,d){return h.create(a,b,c,d)},table:function(a){return h.add(a)},element:function(a,b,c){return h.add(a,b,c)},error:function(a,b){l.push({message:a,context:b})}},d=new e(b,{canAddMissingEntries:g});d.handleDefinitions(a,c)}var g,h=a.get("tableImporter"),i=a.get("eventBus");try{g=a.get("modeling")}catch(j){g=!1}var k,l=[];i.fire("import.render.start",{definitions:b});try{f(b)}catch(j){k=j}i.fire("import.render.complete",{error:k,warnings:l}),d(k,l)}var e=a("./TableTreeWalker");b.exports.importDmnTable=d},{"./TableTreeWalker":542}],541:[function(a,b,c){"use strict";function d(a,b){return g({id:a.id,type:a.$type,businessObject:a},b)}function e(a,b){return h(b,function(b){return b===a}).length}function f(a,b,c,d,e,f,g,h,i,j){this._eventBus=a,this._sheet=b,this._elementRegistry=c,this._elementFactory=d,this._tableName=f,this._tableFactory=h,this._literalExpressionEditor=i,this._translate=j,this._ioLabel=g,this._moddle=e}var g=a("lodash/object/assign"),h=a("lodash/collection/filter"),i=a("lodash/array/union"),j=a("./Util").elementToString;f.$inject=["eventBus","sheet","elementRegistry","elementFactory","moddle","tableName","ioLabel","tableFactory","literalExpressionEditor","translate"],b.exports=f,f.prototype._makeCopy=function(a){var b=this._moddle.create(a.$type);for(var c in a)a.hasOwnProperty(c)&&"$type"!==c&&(b[c]=a[c]);return b.$parent=a.$parent,b},f.prototype.create=function(a,b,c,d){var f,g=this._tableFactory,h=this._translate,i=b.businessObject,j=h(e(a,["dmn:InputClause","dmn:UnaryTests"])?"Input":"Output");return e(a,["dmn:InputClause","dmn:OutputClause"])&&(f=g["create"+j+"Clause"](""),f.$parent=i,i[j.toLowerCase()].push(f)),e(a,["dmn:UnaryTests","dmn:LiteralExpression"])&&(d=c,c=b,b=void 0,f=g["create"+j+"Entry"]("",c,d)),f},f.prototype.add=function(a,b,c){var e;if(a.$instanceOf("dmn:DecisionTable"))e=this._elementFactory.createRow(d(a,{isHead:!0,isClauseRow:!0,previous:this._ioLabel.getRow()})),this._sheet.addRow(e,b),this._tableName.setSemantic(a.$parent);else if(a.$instanceOf("dmn:LiteralExpression")&&b.$instanceOf("dmn:Decision"))this._literalExpressionEditor.show(b),this._tableName.setSemantic(b);else if(a.$instanceOf("dmn:InputClause"))e=this._elementFactory.createColumn(d(a,{})),this._sheet.addColumn(e,b);else if(a.$instanceOf("dmn:OutputClause"))e=this._elementFactory.createColumn(d(a,{})),this._sheet.addColumn(e,b);else if(a.$instanceOf("dmn:DecisionRule"))a.inputEntry||(a.inputEntry=[]),a.outputEntry||(a.outputEntry=[]),e=this._elementFactory.createRow(d(a,{})),this._sheet.addRow(e,b);else{if(!b.$instanceOf("dmn:DecisionRule"))throw new Error("can not render element "+j(a));var f=i(b.inputEntry,b.outputEntry),g=this._elementRegistry.filter(function(a){if(!a.businessObject)return!1;var b=a.businessObject.$type;return"dmn:InputClause"===b||"dmn:OutputClause"===b}).sort(function(a,b){var c=a.businessObject,d=b.businessObject,e=c.$parent,f="dmn:InputClause"===c.$type?"input":"output";
return c.$type!==d.$type?"dmn:InputClause"===c.$type?-1:1:e[f].indexOf(c)-e[f].indexOf(d)}),h=g[f.indexOf(a)].id,k=this._elementRegistry.filter(function(a){return a.businessObject===b})[0].id;a.text=a.text||"",this._sheet.setCellContent({row:k,column:h,content:a})}return this._eventBus.fire("dmnElement.added",{element:e}),e}},{"./Util":543,"lodash/array/union":570,"lodash/collection/filter":576,"lodash/object/assign":686}],542:[function(a,b,c){"use strict";function d(a,b){function c(b,c,d){var e=b.gfx;if(e)throw new Error("already rendered "+f(b));return a.element(b,c,d)}function d(b){return a.table(b)}function g(b,e){var g,k=null;if(e){""===e.id&&(e.id="decision");var m=e.decisionTable,n=e.literalExpression;if(m){var o=d(m);l&&!m.input?(m.input=[],k="input",g=a.create("dmn:InputClause",o,b)):l&&!m.output&&(m.output=[],k="output",g=a.create("dmn:OutputClause",o,b)),i(m.input,o,b),i(m.output,o,b),m.rule&&k&&h(m.rule,k,g),j(m.rule,o,b)}else{if(!n)throw new Error("no table for "+f(e));c(n,e)}}}function h(b,c,d){var f="input"===c,g=b[0][(f?"output":"input")+"Entry"].length,h=f?"dmn:UnaryTests":"dmn:LiteralExpression";e(b,function(b){var c=0;for(c;c<g;c++)a.create(h,d,b)})}function i(a,b,d){e(a,function(a){c(a,b,d)})}function j(a,b,d){e(a,function(a){c(a,b,d),k(a.inputEntry,a),k(a.outputEntry,a)})}function k(a,b,d){e(a,function(a){c(a,b,d)})}var l=b&&b.canAddMissingEntries;return{handleDefinitions:g}}var e=a("lodash/collection/forEach"),f=a("./Util").elementToString;b.exports=d},{"./Util":543,"lodash/collection/forEach":578}],543:[function(a,b,c){"use strict";b.exports.elementToString=function(a){return a?"<"+a.$type+(a.id?' id="'+a.id:"")+'" />':"<null>"}},{}],544:[function(a,b,c){b.exports={__depends__:[a("../features/factory"),a("diagram-js/lib/i18n/translate")],tableImporter:["type",a("./TableImporter")]}},{"../features/factory":514,"./TableImporter":541,"diagram-js/lib/i18n/translate":322}],545:[function(a,b,c){"use strict";function d(a,b){var c=e(a);return c&&"function"==typeof c.$instanceOf&&c.$instanceOf(b)}function e(a){return a&&a.businessObject||a}function f(a){a=e(a);var b=a.name;return b}function g(a,b){return h(b,function(b){return d(a,b)})}var h=a("lodash/collection/any");b.exports.is=d,b.exports.getBusinessObject=e,b.exports.getName=f,b.exports.isAny=g},{"lodash/collection/any":574}],546:[function(a,b,c){"use strict";function d(a){return a.join(";")}function e(){f||(f=g(m),h.bind(f,".backdrop","click",function(a){document.body.removeChild(f)})),document.body.appendChild(f)}var f,g=a("min-dom/lib/domify"),h=a("min-dom/lib/delegate"),i=b.exports.BPMNIO_LOGO="iVBORw0KGgoAAAANSUhEUgAAADQAAAA0CAMAAADypuvZAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAADBQTFRFiMte9PrwldFwfcZPqtqN0+zEyOe1XLgjvuKncsJAZ70y6fXh3vDT////UrQV////G2zN+AAAABB0Uk5T////////////////////AOAjXRkAAAHDSURBVHjavJZJkoUgDEBJmAX8979tM8u3E6x20VlYJfFFMoL4vBDxATxZcakIOJTWSmxvKWVIkJ8jHvlRv1F2LFrVISCZI+tCtQx+XfewgVTfyY3plPiQEAzI3zWy+kR6NBhFBYeBuscJLOUuA2WVLpCjVIaFzrNQZArxAZKUQm6gsj37L9Cb7dnIBUKxENaaMJQqMpDXvSL+ktxdGRm2IsKgJGGPg7atwUG5CcFUEuSv+CwQqizTrvDTNXdMU2bMiDWZd8d7QIySWVRsb2vBBioxOFt4OinPBapL+neAb5KL5IJ8szOza2/DYoipUCx+CjO0Bpsv0V6mktNZ+k8rlABlWG0FrOpKYVo8DT3dBeLEjUBAj7moDogVii7nSS9QzZnFcOVBp1g2PyBQ3Vr5aIapN91VJy33HTJLC1iX2FY6F8gRdaAeIEfVONgtFCzZTmoLEdOjBDfsIOA6128gw3eu1shAajdZNAORxuQDJN5A5PbEG6gNIu24QJD5iNyRMZIr6bsHbCtCU/OaOaSvgkUyDMdDa1BXGf5HJ1To+/Ym6mCKT02Y+/Sa126ZKyd3jxhzpc1r8zVL6YM1Qy/kR4ABAFJ6iQUnivhAAAAAAElFTkSuQmCC",j=d(["z-index: 1001","position: fixed","top: 0","left: 0","right: 0","bottom: 0"]),k=d(["width: 100%","height: 100%","background: rgba(0,0,0,0.2)"]),l=d(["position: absolute","left: 50%","top: 40%","margin: 0 -130px","width: 260px","padding: 10px","background: white","border: solid 1px #AAA","border-radius: 3px","font-family: Helvetica, Arial, sans-serif","font-size: 14px","line-height: 1.2em"]),m='<div class="bjs-powered-by-lightbox" style="'+j+'"><div class="backdrop" style="'+k+'"></div><div class="notice" style="'+l+'"><a href="http://bpmn.io" target="_blank" style="float: left; margin-right: 10px"><img src="data:image/png;base64,'+i+'"></a>Web-based tooling for BPMN, DMN and CMMN diagrams powered by <a href="http://bpmn.io" target="_blank">bpmn.io</a>.</div></div>';b.exports.open=e},{"min-dom/lib/delegate":696,"min-dom/lib/domify":697}],547:[function(a,b,c){arguments[4][133][0].apply(c,arguments)},{"./lib/simple":549,dup:133}],548:[function(a,b,c){"use strict";function d(a,b){h.call(this,a,b)}var e=a("lodash/lang/isString"),f=a("lodash/lang/isFunction"),g=a("lodash/object/assign"),h=a("moddle"),i=a("moddle-xml/lib/reader"),j=a("moddle-xml/lib/writer");d.prototype=Object.create(h.prototype),b.exports=d,d.prototype.fromXML=function(a,b,c,d){e(b)||(d=c,c=b,b="dmn:Definitions"),f(c)&&(d=c,c={});var h=new i(g({model:this,lax:!0},c)),j=h.handler(b);h.fromXML(a,j,d)},d.prototype.toXML=function(a,b,c){f(b)&&(c=b,b={});var d=new j(b);try{var e=d.toXML(a);c(null,e)}catch(g){c(g)}}},{"lodash/lang/isFunction":680,"lodash/lang/isString":684,"lodash/object/assign":686,moddle:555,"moddle-xml/lib/reader":551,"moddle-xml/lib/writer":552}],549:[function(a,b,c){"use strict";var d=a("lodash/object/assign"),e=a("./dmn-moddle"),f={dmn:a("../resources/dmn/json/dmn.json"),camunda:a("../resources/dmn/camunda/camunda.json"),dc:a("../resources/dmn/bpmn-io/dc.json"),biodi:a("../resources/dmn/bpmn-io/biodi.json")};b.exports=function(a,b){return new e(d({},f,a),b)}},{"../resources/dmn/bpmn-io/biodi.json":564,"../resources/dmn/bpmn-io/dc.json":565,"../resources/dmn/camunda/camunda.json":566,"../resources/dmn/json/dmn.json":567,"./dmn-moddle":548,"lodash/object/assign":686}],550:[function(a,b,c){arguments[4][136][0].apply(c,arguments)},{dup:136}],551:[function(a,b,c){"use strict";function d(a){var b=a.attributes;return s(b,function(a,b,c){var d,e;return b.local?(e=A(b.name,b.prefix),d=e.name):d=b.prefix,a[d]=b.value,a},{})}function e(a,b,c){var d,e=A(b.value),f=a.ns[e.prefix||""],g=e.localName,h=f&&c.getPackage(f);h&&(d=h.xml&&h.xml.typePrefix,d&&0===g.indexOf(d)&&(g=g.slice(d.length)),b.value=h.prefix+":"+g)}function f(a,b,c){var d,g;if(d=a.uri||c){var h=b.getPackage(d);g=h?h.prefix:a.prefix,a.prefix=g,a.uri=d}t(a.attributes,function(c){c.uri===G&&"type"===c.local&&e(a,c,b),f(c,b,null)})}function g(a){return new Error(a)}function h(a){return a.$descriptor}function i(a){v(this,a),this.elementsById={},this.references=[],this.warnings=[],this.addReference=function(a){this.references.push(a)},this.addElement=function(a){if(!a)throw g("expected element");var b,c=this.elementsById,d=h(a),e=d.idProperty;if(e&&(b=a.get(e.name))){if(c[b])throw g("duplicate ID <"+b+">");c[b]=a}},this.addWarning=function(a){this.warnings.push(a)}}function j(){}function k(){}function l(){}function m(a,b){this.property=a,this.context=b}function n(a,b){this.element=b,this.propertyDesc=a}function o(){}function p(a,b,c){this.model=a,this.type=a.getType(b),this.context=c}function q(a,b,c){this.model=a,this.context=c}function r(a){a instanceof z&&(a={model:a}),v(this,{lax:!1},a)}var s=a("lodash/collection/reduce"),t=a("lodash/collection/forEach"),u=a("lodash/collection/find"),v=a("lodash/object/assign"),w=a("lodash/function/defer"),x=a("tiny-stack"),y=a("sax").parser,z=a("moddle"),A=a("moddle/lib/ns").parseName,B=a("moddle/lib/types"),C=B.coerceType,D=B.isSimple,E=a("./common"),F=E.XSI_TYPE,G=E.DEFAULT_NS_MAP.xsi,H=E.serializeAsType,I=E.aliasToName;j.prototype.handleEnd=function(){},j.prototype.handleText=function(){},j.prototype.handleNode=function(){},k.prototype=Object.create(j.prototype),k.prototype.handleNode=function(){return this},l.prototype=Object.create(j.prototype),l.prototype.handleText=function(a){this.body=(this.body||"")+a},m.prototype=Object.create(l.prototype),m.prototype.handleNode=function(a){if(this.element)throw g("expected no sub nodes");return this.element=this.createReference(a),this},m.prototype.handleEnd=function(){this.element.id=this.body},m.prototype.createReference=function(a){return{property:this.property.ns.name,id:""}},n.prototype=Object.create(l.prototype),n.prototype.handleEnd=function(){var a=this.body||"",b=this.element,c=this.propertyDesc;a=C(c.type,a),c.isMany?b.get(c.name).push(a):b.set(c.name,a)},o.prototype=Object.create(l.prototype),o.prototype.handleNode=function(a){var b=this,c=this.element;return c?b=this.handleChild(a):(c=this.element=this.createElement(a),this.context.addElement(c)),b},p.prototype=Object.create(o.prototype),p.prototype.addReference=function(a){this.context.addReference(a)},p.prototype.handleEnd=function(){var a=this.body,b=this.element,c=h(b),d=c.bodyProperty;d&&void 0!==a&&(a=C(d.type,a),b.set(d.name,a))},p.prototype.createElement=function(a){var b=d(a),c=this.type,e=h(c),f=this.context,g=new c({});return t(b,function(a,b){var c,d=e.propertiesByName[b];d&&d.isReference?d.isMany?(c=a.split(" "),t(c,function(a){f.addReference({element:g,property:d.ns.name,id:a})})):f.addReference({element:g,property:d.ns.name,id:a}):(d&&(a=C(d.type,a)),g.set(b,a))}),g},p.prototype.getPropertyForNode=function(a){var b,c,d,e=A(a.local,a.prefix),f=this.type,i=this.model,j=h(f),k=e.name,l=j.propertiesByName[k];if(l)return H(l)&&(d=a.attributes[F])?(b=d.value,c=i.getType(b),v({},l,{effectiveType:h(c).name})):l;var m=i.getPackage(e.prefix);if(m){if(b=e.prefix+":"+I(e.localName,j.$pkg),c=i.getType(b),l=u(j.properties,function(a){return!a.isVirtual&&!a.isReference&&!a.isAttribute&&c.hasType(a.type)}))return v({},l,{effectiveType:h(c).name})}else if(l=u(j.properties,function(a){return!a.isReference&&!a.isAttribute&&"Element"===a.type}))return l;throw g("unrecognized element <"+e.name+">")},p.prototype.toString=function(){return"ElementDescriptor["+h(this.type).name+"]"},p.prototype.valueHandler=function(a,b){return new n(a,b)},p.prototype.referenceHandler=function(a){return new m(a,this.context)},p.prototype.handler=function(a){return"Element"===a?new q(this.model,a,this.context):new p(this.model,a,this.context)},p.prototype.handleChild=function(a){var b,c,d,e;if(b=this.getPropertyForNode(a),d=this.element,c=b.effectiveType||b.type,D(c))return this.valueHandler(b,d);e=b.isReference?this.referenceHandler(b).handleNode(a):this.handler(c).handleNode(a);var f=e.element;return void 0!==f&&(b.isMany?d.get(b.name).push(f):d.set(b.name,f),b.isReference?(v(f,{element:d}),this.context.addReference(f)):f.$parent=d),e},q.prototype=Object.create(o.prototype),q.prototype.createElement=function(a){var b=a.name,c=a.prefix,d=a.ns[c],e=a.attributes;return this.model.createAny(b,d,e)},q.prototype.handleChild=function(a){var b,c=new q(this.model,"Element",this.context).handleNode(a),d=this.element,e=c.element;return void 0!==e&&(b=d.$children=d.$children||[],b.push(e),e.$parent=d),c},q.prototype.handleText=function(a){this.body=this.body||""+a},q.prototype.handleEnd=function(){this.body&&(this.element.$body=this.body)},r.prototype.fromXML=function(a,b,c){function d(){var a,b,c=q.elementsById,d=q.references;for(a=0;b=d[a];a++){var e=b.element,f=c[b.id],g=h(e).propertiesByName[b.property];if(f||q.addWarning({message:"unresolved reference <"+b.id+">",element:b.element,property:b.property,value:b.id}),g.isMany){var i=e.get(g.name),j=i.indexOf(b);j===-1&&(j=i.length),f?i[j]=f:i.splice(j,1)}else e.set(g.name,f)}}function e(a){s.pop().handleEnd()}function j(a){var b=s.peek();f(a,n);try{s.push(b.handleNode(a))}catch(c){var d=this.line,e=this.column,h="unparsable content <"+a.name+"> detected\n\tline: "+d+"\n\tcolumn: "+e+"\n\tnested error: "+c.message;if(!o)throw console.error("could not parse document"),console.error(c),g(h);q.addWarning({message:h,error:c}),console.warn("could not parse node"),console.warn(c),s.push(new k)}}function l(a){s.peek().handleText(a)}var m=b.rootHandler;b instanceof p?(m=b,b={}):"string"==typeof b?(m=this.handler(b),b={}):"string"==typeof m&&(m=this.handler(m));var n=this.model,o=this.lax,q=new i(v({},b,{rootHandler:m})),r=new y((!0),{xmlns:!0,trim:!0}),s=new x;m.context=q,s.push(m),r.onopentag=j,r.oncdata=r.ontext=l,r.onclosetag=e,r.onend=d,w(function(){var b;try{r.write(a).close()}catch(d){b=d}c(b,b?void 0:m.element,q)})},r.prototype.handler=function(a){return new p(this.model,a)},b.exports=r,b.exports.ElementHandler=p},{"./common":550,"lodash/collection/find":577,"lodash/collection/forEach":578,"lodash/collection/reduce":580,"lodash/function/defer":585,"lodash/object/assign":686,moddle:555,"moddle/lib/ns":560,"moddle/lib/types":563,sax:553,"tiny-stack":554}],552:[function(a,b,c){"use strict";function d(a,b){a.super_=b,a.prototype=Object.create(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})}function e(a){return w(a)?a:(a.prefix?a.prefix+":":"")+a.localName}function f(a){function b(b){return a.used[b.uri]}function c(a){var b="xmlns"+(a.prefix?":"+a.prefix:"");return{name:b,value:a.uri}}var d=[].concat(a.wellknown,a.custom);return u(x(d,b),c)}function g(a,b){return b.isGeneric?b.name:y({localName:C(b.ns.localName,b.$pkg)},a)}function h(a,b){return y({localName:b.ns.localName},a)}function i(a){var b=a.$descriptor;return x(b.properties,function(b){var c=b.name;if(b.isVirtual)return!1;if(!a.hasOwnProperty(c))return!1;var d=a[c];return d!==b["default"]&&(null!==d&&(!b.isMany||d.length))})}function j(a){return a=w(a)?a:""+a,a.replace(G,function(a){return"&#"+J[a]+";"})}function k(a){return x(a,function(a){return a.isAttr})}function l(a){return x(a,function(a){return!a.isAttr})}function m(a,b){this.ns=b}function n(){}function o(a){this.ns=a}function p(a,b){this.body=[],this.attrs=[],this.parent=a,this.ns=b}function q(a,b){p.call(this,a,b)}function r(){this.value="",this.write=function(a){this.value+=a}}function s(a,b){var c=[""];this.append=function(b){return a.write(b),this},this.appendNewLine=function(){return b&&a.write("\n"),this},this.appendIndent=function(){return b&&a.write(c.join("  ")),this},this.indent=function(){return c.push(""),this},this.unindent=function(){return c.pop(),this}}function t(a){function b(b,c){var d=c||new r,e=new s(d,a.format);if(a.preamble&&e.append(F),(new p).build(b).serializeTo(e),!c)return d.value}return a=y({format:!1,preamble:!0},a||{}),{toXML:b}}var u=a("lodash/collection/map"),v=a("lodash/collection/forEach"),w=a("lodash/lang/isString"),x=a("lodash/collection/filter"),y=a("lodash/object/assign"),z=a("moddle/lib/types"),A=a("moddle/lib/ns").parseName,B=a("./common"),C=B.nameToAlias,D=B.serializeAsType,E=B.serializeAsProperty,F='<?xml version="1.0" encoding="UTF-8"?>\n',G=/(<|>|'|"|&|\n\r|\n)/g,H=B.DEFAULT_NS_MAP,I=B.XSI_TYPE,J={"\n":"10","\n\r":"10",'"':"34","'":"39","<":"60",">":"62","&":"38"};m.prototype.build=function(a){return this.element=a,this},m.prototype.serializeTo=function(a){a.appendIndent().append("<"+e(this.ns)+">"+this.element.id+"</"+e(this.ns)+">").appendNewLine()},n.prototype.serializeValue=n.prototype.serializeTo=function(a){var b=this.escape;b&&a.append("<![CDATA["),a.append(this.value),b&&a.append("]]>")},n.prototype.build=function(a,b){return this.value=b,"String"===a.type&&b.search(G)!==-1&&(this.escape=!0),this},d(o,n),o.prototype.serializeTo=function(a){a.appendIndent().append("<"+e(this.ns)+">"),this.serializeValue(a),a.append("</"+e(this.ns)+">").appendNewLine()},p.prototype.build=function(a){this.element=a;var b=this.parseNsAttributes(a);if(this.ns||(this.ns=this.nsTagName(a.$descriptor)),a.$descriptor.isGeneric)this.parseGeneric(a);else{var c=i(a);this.parseAttributes(k(c)),this.parseContainments(l(c)),this.parseGenericAttributes(a,b)}return this},p.prototype.nsTagName=function(a){var b=this.logNamespaceUsed(a.ns);return g(b,a)},p.prototype.nsPropertyTagName=function(a){var b=this.logNamespaceUsed(a.ns);return h(b,a)},p.prototype.isLocalNs=function(a){return a.uri===this.ns.uri},p.prototype.nsAttributeName=function(a){var b;if(b=w(a)?A(a):a.ns,a.inherited)return{localName:b.localName};var c=this.logNamespaceUsed(b);return this.isLocalNs(c)?{localName:b.localName}:y({localName:b.localName},c)},p.prototype.parseGeneric=function(a){var b=this,c=this.body,d=this.attrs;v(a,function(a,e){"$body"===e?c.push((new n).build({type:"String"},a)):"$children"===e?v(a,function(a){c.push(new p(b).build(a))}):0!==e.indexOf("$")&&d.push({name:e,value:j(a)})})},p.prototype.parseNsAttributes=function(a){var b=this,c=a.$attrs,d=a.$model,e=[];return v(c,function(a,c){var f,g=A(c);"xmlns"===g.prefix&&(f={prefix:g.localName,uri:a}),g.prefix||"xmlns"!==g.localName||(f={uri:a}),f?d.getPackage(a)?b.logNamespace(f,!0):b.logNamespaceUsed(f):e.push({name:c,value:a})}),e},p.prototype.parseGenericAttributes=function(a,b){var c=this;v(b,function(b){if(b.name!==I)try{c.addAttribute(c.nsAttributeName(b.name),b.value)}catch(d){console.warn("missing namespace information for ",b.name,"=",b.value,"on",a,d)}})},p.prototype.parseContainments=function(a){var b=this,c=this.body,d=this.element;v(a,function(a){var e=d.get(a.name),f=a.isReference,g=a.isMany,h=b.nsPropertyTagName(a);if(g||(e=[e]),a.isBody)c.push((new n).build(a,e[0]));else if(z.isSimple(a.type))v(e,function(b){c.push(new o(h).build(a,b))});else if(f)v(e,function(a){c.push(new m(b,h).build(a))});else{var i=D(a),j=E(a);v(e,function(a){var d;d=i?new q(b,h):j?new p(b,h):new p(b),c.push(d.build(a))})}})},p.prototype.getNamespaces=function(){var a=this.namespaces,b=this.parent;return a||(a=this.namespaces=b?b.getNamespaces():{prefixMap:{},uriMap:{},used:{},wellknown:[],custom:[]}),a},p.prototype.logNamespace=function(a,b){var c=this.getNamespaces(),d=a.uri,e=c.uriMap[d];return e||(c.uriMap[d]=a,b?c.wellknown.push(a):c.custom.push(a)),c.prefixMap[a.prefix]=d,a},p.prototype.logNamespaceUsed=function(a){var b=this.element,c=b.$model,d=this.getNamespaces(),e=a.prefix;if("undefined"==typeof e)return{};var f=H[e]||c&&(c.getPackage(e)||{}).uri,g=a.uri||d.prefixMap[e]||f;if(!g)throw new Error("no namespace uri given for prefix <"+a.prefix+">");return a=d.uriMap[g],a||(a=this.logNamespace({prefix:e,uri:g},f)),d.used[a.uri]||(d.used[a.uri]=a),a},p.prototype.parseAttributes=function(a){var b=this,c=this.element;v(a,function(a){var d=c.get(a.name);if(a.isReference)if(a.isMany){var e=[];v(d,function(a){e.push(a.id)}),d=e.join(" ")}else d=d.id;b.addAttribute(b.nsAttributeName(a),d)})},p.prototype.addAttribute=function(a,b){var c=this.attrs;w(b)&&(b=j(b)),c.push({name:a,value:b})},p.prototype.serializeAttributes=function(a){var b=this.attrs,c=!this.parent;c&&(b=f(this.namespaces).concat(b)),v(b,function(b){a.append(" ").append(e(b.name)).append('="').append(b.value).append('"')})},p.prototype.serializeTo=function(a){var b=this.body[0],c=b&&b.constructor!==n;a.appendIndent().append("<"+e(this.ns)),this.serializeAttributes(a),a.append(b?">":" />"),b&&(c&&a.appendNewLine().indent(),v(this.body,function(b){b.serializeTo(a)}),c&&a.unindent().appendIndent(),a.append("</"+e(this.ns)+">")),a.appendNewLine()},d(q,p),q.prototype.build=function(a){var b=a.$descriptor;this.element=a,this.typeNs=this.nsTagName(b);var c=this.typeNs,d=a.$model.getPackage(c.uri),e=d.xml&&d.xml.typePrefix||"";return this.addAttribute(this.nsAttributeName(I),(c.prefix?c.prefix+":":"")+e+b.ns.localName),p.prototype.build.call(this,a)},q.prototype.isLocalNs=function(a){return a.uri===this.typeNs.uri},b.exports=t},{"./common":550,"lodash/collection/filter":576,"lodash/collection/forEach":578,"lodash/collection/map":579,"lodash/lang/isString":684,"lodash/object/assign":686,"moddle/lib/ns":560,"moddle/lib/types":563}],553:[function(a,b,c){(function(b){!function(c){function d(a,b){if(!(this instanceof d))return new d(a,b);var e=this;f(e),e.q=e.c="",e.bufferCheckPosition=c.MAX_BUFFER_LENGTH,e.opt=b||{},e.opt.lowercase=e.opt.lowercase||e.opt.lowercasetags,e.looseCase=e.opt.lowercase?"toLowerCase":"toUpperCase",e.tags=[],e.closed=e.closedRoot=e.sawRoot=!1,e.tag=e.error=null,e.strict=!!a,e.noscript=!(!a&&!e.opt.noscript),e.state=S.BEGIN,e.ENTITIES=Object.create(c.ENTITIES),e.attribList=[],e.opt.xmlns&&(e.ns=Object.create(P)),e.trackPosition=e.opt.position!==!1,e.trackPosition&&(e.position=e.line=e.column=0),n(e,"onready")}function e(a){for(var b=Math.max(c.MAX_BUFFER_LENGTH,10),d=0,e=0,f=B.length;e<f;e++){var g=a[B[e]].length;if(g>b)switch(B[e]){case"textNode":p(a);break;case"cdata":o(a,"oncdata",a.cdata),a.cdata="";break;case"script":o(a,"onscript",a.script),a.script="";break;default:r(a,"Max buffer length exceeded: "+B[e])}d=Math.max(d,g)}a.bufferCheckPosition=c.MAX_BUFFER_LENGTH-d+a.position}function f(a){for(var b=0,c=B.length;b<c;b++)a[B[b]]=""}function g(a){p(a),""!==a.cdata&&(o(a,"oncdata",a.cdata),a.cdata=""),""!==a.script&&(o(a,"onscript",a.script),a.script="")}function h(a,b){return new i(a,b)}function i(a,b){if(!(this instanceof i))return new i(a,b);C.apply(this),this._parser=new d(a,b),this.writable=!0,this.readable=!0;var c=this;this._parser.onend=function(){c.emit("end")},this._parser.onerror=function(a){c.emit("error",a),c._parser.error=null},this._decoder=null,E.forEach(function(a){Object.defineProperty(c,"on"+a,{get:function(){return c._parser["on"+a]},set:function(b){return b?void c.on(a,b):(c.removeAllListeners(a),c._parser["on"+a]=b)},enumerable:!0,configurable:!1})})}function j(a){return a.split("").reduce(function(a,b){return a[b]=!0,a},{})}function k(a){return"[object RegExp]"===Object.prototype.toString.call(a)}function l(a,b){return k(a)?!!b.match(a):a[b]}function m(a,b){return!l(a,b)}function n(a,b,c){a[b]&&a[b](c)}function o(a,b,c){a.textNode&&p(a),n(a,b,c)}function p(a){a.textNode=q(a.opt,a.textNode),a.textNode&&n(a,"ontext",a.textNode),a.textNode=""}function q(a,b){return a.trim&&(b=b.trim()),a.normalize&&(b=b.replace(/\s+/g," ")),b}function r(a,b){return p(a),a.trackPosition&&(b+="\nLine: "+a.line+"\nColumn: "+a.column+"\nChar: "+a.c),b=new Error(b),a.error=b,n(a,"onerror",b),a}function s(a){return a.closedRoot||t(a,"Unclosed root tag"),a.state!==S.BEGIN&&a.state!==S.TEXT&&r(a,"Unexpected end"),p(a),a.c="",a.closed=!0,n(a,"onend"),d.call(a,a.strict,a.opt),a}function t(a,b){if("object"!=typeof a||!(a instanceof d))throw new Error("bad call to strictFail");a.strict&&r(a,b)}function u(a){a.strict||(a.tagName=a.tagName[a.looseCase]());var b=a.tags[a.tags.length-1]||a,c=a.tag={name:a.tagName,attributes:{}};a.opt.xmlns&&(c.ns=b.ns),a.attribList.length=0}function v(a,b){var c=a.indexOf(":"),d=c<0?["",a]:a.split(":"),e=d[0],f=d[1];return b&&"xmlns"===a&&(e="xmlns",f=""),{prefix:e,local:f}}function w(a){if(a.strict||(a.attribName=a.attribName[a.looseCase]()),a.attribList.indexOf(a.attribName)!==-1||a.tag.attributes.hasOwnProperty(a.attribName))return a.attribName=a.attribValue="";if(a.opt.xmlns){var b=v(a.attribName,!0),c=b.prefix,d=b.local;if("xmlns"===c)if("xml"===d&&a.attribValue!==N)t(a,"xml: prefix must be bound to "+N+"\nActual: "+a.attribValue);else if("xmlns"===d&&a.attribValue!==O)t(a,"xmlns: prefix must be bound to "+O+"\nActual: "+a.attribValue);else{var e=a.tag,f=a.tags[a.tags.length-1]||a;e.ns===f.ns&&(e.ns=Object.create(f.ns)),e.ns[d]=a.attribValue}a.attribList.push([a.attribName,a.attribValue])}else a.tag.attributes[a.attribName]=a.attribValue,o(a,"onattribute",{name:a.attribName,value:a.attribValue});a.attribName=a.attribValue=""}function x(a,b){if(a.opt.xmlns){var c=a.tag,d=v(a.tagName);c.prefix=d.prefix,c.local=d.local,c.uri=c.ns[d.prefix]||"",c.prefix&&!c.uri&&(t(a,"Unbound namespace prefix: "+JSON.stringify(a.tagName)),c.uri=d.prefix);var e=a.tags[a.tags.length-1]||a;c.ns&&e.ns!==c.ns&&Object.keys(c.ns).forEach(function(b){o(a,"onopennamespace",{prefix:b,uri:c.ns[b]})});for(var f=0,g=a.attribList.length;f<g;f++){var h=a.attribList[f],i=h[0],j=h[1],k=v(i,!0),l=k.prefix,m=k.local,n=""==l?"":c.ns[l]||"",p={name:i,value:j,prefix:l,local:m,uri:n};l&&"xmlns"!=l&&!n&&(t(a,"Unbound namespace prefix: "+JSON.stringify(l)),p.uri=l),a.tag.attributes[i]=p,o(a,"onattribute",p)}a.attribList.length=0}a.tag.isSelfClosing=!!b,a.sawRoot=!0,a.tags.push(a.tag),o(a,"onopentag",a.tag),b||(a.noscript||"script"!==a.tagName.toLowerCase()?a.state=S.TEXT:a.state=S.SCRIPT,a.tag=null,a.tagName=""),a.attribName=a.attribValue="",a.attribList.length=0}function y(a){if(!a.tagName)return t(a,"Weird empty close tag."),a.textNode+="</>",void(a.state=S.TEXT);if(a.script){if("script"!==a.tagName)return a.script+="</"+a.tagName+">",a.tagName="",void(a.state=S.SCRIPT);o(a,"onscript",a.script),a.script=""}var b=a.tags.length,c=a.tagName;a.strict||(c=c[a.looseCase]());for(var d=c;b--;){var e=a.tags[b];if(e.name===d)break;t(a,"Unexpected close tag")}if(b<0)return t(a,"Unmatched closing tag: "+a.tagName),a.textNode+="</"+a.tagName+">",void(a.state=S.TEXT);a.tagName=c;for(var f=a.tags.length;f-- >b;){var g=a.tag=a.tags.pop();a.tagName=a.tag.name,o(a,"onclosetag",a.tagName);var h={};for(var i in g.ns)h[i]=g.ns[i];var j=a.tags[a.tags.length-1]||a;a.opt.xmlns&&g.ns!==j.ns&&Object.keys(g.ns).forEach(function(b){var c=g.ns[b];o(a,"onclosenamespace",{prefix:b,uri:c})})}0===b&&(a.closedRoot=!0),a.tagName=a.attribValue=a.attribName="",a.attribList.length=0,a.state=S.TEXT}function z(a){var b,c=a.entity,d=c.toLowerCase(),e="";return a.ENTITIES[c]?a.ENTITIES[c]:a.ENTITIES[d]?a.ENTITIES[d]:(c=d,"#"===c.charAt(0)&&("x"===c.charAt(1)?(c=c.slice(2),b=parseInt(c,16),e=b.toString(16)):(c=c.slice(1),b=parseInt(c,10),e=b.toString(10))),c=c.replace(/^0+/,""),e.toLowerCase()!==c?(t(a,"Invalid character entity"),"&"+a.entity+";"):String.fromCodePoint(b))}function A(a){var b=this;if(this.error)throw this.error;if(b.closed)return r(b,"Cannot write after close. Assign an onready handler.");if(null===a)return s(b);for(var c=0,d="";b.c=d=a.charAt(c++);)switch(b.trackPosition&&(b.position++,"\n"===d?(b.line++,b.column=0):b.column++),b.state){case S.BEGIN:"<"===d?(b.state=S.OPEN_WAKA,b.startTagPosition=b.position):m(F,d)&&(t(b,"Non-whitespace before first tag."),b.textNode=d,b.state=S.TEXT);continue;case S.TEXT:if(b.sawRoot&&!b.closedRoot){for(var f=c-1;d&&"<"!==d&&"&"!==d;)d=a.charAt(c++),d&&b.trackPosition&&(b.position++,"\n"===d?(b.line++,b.column=0):b.column++);b.textNode+=a.substring(f,c-1)}"<"===d?(b.state=S.OPEN_WAKA,b.startTagPosition=b.position):(!m(F,d)||b.sawRoot&&!b.closedRoot||t(b,"Text data outside of root node."),"&"===d?b.state=S.TEXT_ENTITY:b.textNode+=d);continue;case S.SCRIPT:"<"===d?b.state=S.SCRIPT_ENDING:b.script+=d;continue;case S.SCRIPT_ENDING:"/"===d?b.state=S.CLOSE_TAG:(b.script+="<"+d,b.state=S.SCRIPT);continue;case S.OPEN_WAKA:if("!"===d)b.state=S.SGML_DECL,b.sgmlDecl="";else if(l(F,d));else if(l(Q,d))b.state=S.OPEN_TAG,b.tagName=d;else if("/"===d)b.state=S.CLOSE_TAG,b.tagName="";else if("?"===d)b.state=S.PROC_INST,b.procInstName=b.procInstBody="";else{if(t(b,"Unencoded <"),b.startTagPosition+1<b.position){var g=b.position-b.startTagPosition;d=new Array(g).join(" ")+d}b.textNode+="<"+d,b.state=S.TEXT}continue;case S.SGML_DECL:(b.sgmlDecl+d).toUpperCase()===L?(o(b,"onopencdata"),b.state=S.CDATA,b.sgmlDecl="",b.cdata=""):b.sgmlDecl+d==="--"?(b.state=S.COMMENT,b.comment="",b.sgmlDecl=""):(b.sgmlDecl+d).toUpperCase()===M?(b.state=S.DOCTYPE,(b.doctype||b.sawRoot)&&t(b,"Inappropriately located doctype declaration"),b.doctype="",b.sgmlDecl=""):">"===d?(o(b,"onsgmldeclaration",b.sgmlDecl),b.sgmlDecl="",b.state=S.TEXT):l(I,d)?(b.state=S.SGML_DECL_QUOTED,b.sgmlDecl+=d):b.sgmlDecl+=d;continue;case S.SGML_DECL_QUOTED:d===b.q&&(b.state=S.SGML_DECL,b.q=""),b.sgmlDecl+=d;continue;case S.DOCTYPE:">"===d?(b.state=S.TEXT,o(b,"ondoctype",b.doctype),b.doctype=!0):(b.doctype+=d,"["===d?b.state=S.DOCTYPE_DTD:l(I,d)&&(b.state=S.DOCTYPE_QUOTED,b.q=d));continue;case S.DOCTYPE_QUOTED:b.doctype+=d,d===b.q&&(b.q="",b.state=S.DOCTYPE);continue;case S.DOCTYPE_DTD:b.doctype+=d,"]"===d?b.state=S.DOCTYPE:l(I,d)&&(b.state=S.DOCTYPE_DTD_QUOTED,b.q=d);continue;case S.DOCTYPE_DTD_QUOTED:b.doctype+=d,d===b.q&&(b.state=S.DOCTYPE_DTD,b.q="");continue;case S.COMMENT:"-"===d?b.state=S.COMMENT_ENDING:b.comment+=d;continue;case S.COMMENT_ENDING:"-"===d?(b.state=S.COMMENT_ENDED,b.comment=q(b.opt,b.comment),b.comment&&o(b,"oncomment",b.comment),b.comment=""):(b.comment+="-"+d,b.state=S.COMMENT);continue;case S.COMMENT_ENDED:">"!==d?(t(b,"Malformed comment"),b.comment+="--"+d,b.state=S.COMMENT):b.state=S.TEXT;continue;case S.CDATA:"]"===d?b.state=S.CDATA_ENDING:b.cdata+=d;continue;case S.CDATA_ENDING:"]"===d?b.state=S.CDATA_ENDING_2:(b.cdata+="]"+d,b.state=S.CDATA);continue;case S.CDATA_ENDING_2:">"===d?(b.cdata&&o(b,"oncdata",b.cdata),o(b,"onclosecdata"),b.cdata="",b.state=S.TEXT):"]"===d?b.cdata+="]":(b.cdata+="]]"+d,b.state=S.CDATA);continue;case S.PROC_INST:"?"===d?b.state=S.PROC_INST_ENDING:l(F,d)?b.state=S.PROC_INST_BODY:b.procInstName+=d;continue;case S.PROC_INST_BODY:if(!b.procInstBody&&l(F,d))continue;"?"===d?b.state=S.PROC_INST_ENDING:b.procInstBody+=d;continue;case S.PROC_INST_ENDING:">"===d?(o(b,"onprocessinginstruction",{name:b.procInstName,body:b.procInstBody}),b.procInstName=b.procInstBody="",b.state=S.TEXT):(b.procInstBody+="?"+d,b.state=S.PROC_INST_BODY);continue;case S.OPEN_TAG:l(R,d)?b.tagName+=d:(u(b),">"===d?x(b):"/"===d?b.state=S.OPEN_TAG_SLASH:(m(F,d)&&t(b,"Invalid character in tag name"),b.state=S.ATTRIB));continue;case S.OPEN_TAG_SLASH:">"===d?(x(b,!0),y(b)):(t(b,"Forward-slash in opening tag not followed by >"),b.state=S.ATTRIB);continue;case S.ATTRIB:if(l(F,d))continue;">"===d?x(b):"/"===d?b.state=S.OPEN_TAG_SLASH:l(Q,d)?(b.attribName=d,b.attribValue="",b.state=S.ATTRIB_NAME):t(b,"Invalid attribute name");continue;case S.ATTRIB_NAME:"="===d?b.state=S.ATTRIB_VALUE:">"===d?(t(b,"Attribute without value"),b.attribValue=b.attribName,w(b),x(b)):l(F,d)?b.state=S.ATTRIB_NAME_SAW_WHITE:l(R,d)?b.attribName+=d:t(b,"Invalid attribute name");continue;case S.ATTRIB_NAME_SAW_WHITE:if("="===d)b.state=S.ATTRIB_VALUE;else{if(l(F,d))continue;t(b,"Attribute without value"),b.tag.attributes[b.attribName]="",b.attribValue="",o(b,"onattribute",{name:b.attribName,value:""}),b.attribName="",">"===d?x(b):l(Q,d)?(b.attribName=d,b.state=S.ATTRIB_NAME):(t(b,"Invalid attribute name"),b.state=S.ATTRIB)}continue;case S.ATTRIB_VALUE:if(l(F,d))continue;l(I,d)?(b.q=d,b.state=S.ATTRIB_VALUE_QUOTED):(t(b,"Unquoted attribute value"),b.state=S.ATTRIB_VALUE_UNQUOTED,b.attribValue=d);continue;case S.ATTRIB_VALUE_QUOTED:if(d!==b.q){"&"===d?b.state=S.ATTRIB_VALUE_ENTITY_Q:b.attribValue+=d;continue}w(b),b.q="",b.state=S.ATTRIB_VALUE_CLOSED;continue;case S.ATTRIB_VALUE_CLOSED:l(F,d)?b.state=S.ATTRIB:">"===d?x(b):"/"===d?b.state=S.OPEN_TAG_SLASH:l(Q,d)?(t(b,"No whitespace between attributes"),b.attribName=d,b.attribValue="",b.state=S.ATTRIB_NAME):t(b,"Invalid attribute name");continue;case S.ATTRIB_VALUE_UNQUOTED:if(m(K,d)){"&"===d?b.state=S.ATTRIB_VALUE_ENTITY_U:b.attribValue+=d;continue}w(b),">"===d?x(b):b.state=S.ATTRIB;continue;case S.CLOSE_TAG:if(b.tagName)">"===d?y(b):l(R,d)?b.tagName+=d:b.script?(b.script+="</"+b.tagName,b.tagName="",b.state=S.SCRIPT):(m(F,d)&&t(b,"Invalid tagname in closing tag"),b.state=S.CLOSE_TAG_SAW_WHITE);else{if(l(F,d))continue;m(Q,d)?b.script?(b.script+="</"+d,b.state=S.SCRIPT):t(b,"Invalid tagname in closing tag."):b.tagName=d}continue;case S.CLOSE_TAG_SAW_WHITE:if(l(F,d))continue;">"===d?y(b):t(b,"Invalid characters in closing tag");continue;case S.TEXT_ENTITY:case S.ATTRIB_VALUE_ENTITY_Q:case S.ATTRIB_VALUE_ENTITY_U:switch(b.state){case S.TEXT_ENTITY:var h=S.TEXT,i="textNode";break;case S.ATTRIB_VALUE_ENTITY_Q:var h=S.ATTRIB_VALUE_QUOTED,i="attribValue";break;case S.ATTRIB_VALUE_ENTITY_U:var h=S.ATTRIB_VALUE_UNQUOTED,i="attribValue"}";"===d?(b[i]+=z(b),b.entity="",b.state=h):l(J,d)?b.entity+=d:(t(b,"Invalid character entity"),b[i]+="&"+b.entity+d,b.entity="",b.state=h);continue;default:throw new Error(b,"Unknown state: "+b.state)}return b.position>=b.bufferCheckPosition&&e(b),b}c.parser=function(a,b){return new d(a,b)},c.SAXParser=d,c.SAXStream=i,c.createStream=h,c.MAX_BUFFER_LENGTH=65536;var B=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];c.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],
Object.create||(Object.create=function(a){function b(){this.__proto__=a}return b.prototype=a,new b}),Object.getPrototypeOf||(Object.getPrototypeOf=function(a){return a.__proto__}),Object.keys||(Object.keys=function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b}),d.prototype={end:function(){s(this)},write:A,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){g(this)}};try{var C=a("stream").Stream}catch(D){var C=function(){}}var E=c.EVENTS.filter(function(a){return"error"!==a&&"end"!==a});i.prototype=Object.create(C.prototype,{constructor:{value:i}}),i.prototype.write=function(c){if("function"==typeof b&&"function"==typeof b.isBuffer&&b.isBuffer(c)){if(!this._decoder){var d=a("string_decoder").StringDecoder;this._decoder=new d("utf8")}c=this._decoder.write(c)}return this._parser.write(c.toString()),this.emit("data",c),!0},i.prototype.end=function(a){return a&&a.length&&this.write(a),this._parser.end(),!0},i.prototype.on=function(a,b){var c=this;return c._parser["on"+a]||E.indexOf(a)===-1||(c._parser["on"+a]=function(){var b=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);b.splice(0,0,a),c.emit.apply(c,b)}),C.prototype.on.call(c,a,b)};var F="\r\n\t ",G="0124356789",H="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",I="'\"",J=G+H+"#",K=F+">",L="[CDATA[",M="DOCTYPE",N="http://www.w3.org/XML/1998/namespace",O="http://www.w3.org/2000/xmlns/",P={xml:N,xmlns:O};F=j(F),G=j(G),H=j(H);var Q=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,R=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;I=j(I),J=j(J),K=j(K);var S=0;c.STATE={BEGIN:S++,TEXT:S++,TEXT_ENTITY:S++,OPEN_WAKA:S++,SGML_DECL:S++,SGML_DECL_QUOTED:S++,DOCTYPE:S++,DOCTYPE_QUOTED:S++,DOCTYPE_DTD:S++,DOCTYPE_DTD_QUOTED:S++,COMMENT_STARTING:S++,COMMENT:S++,COMMENT_ENDING:S++,COMMENT_ENDED:S++,CDATA:S++,CDATA_ENDING:S++,CDATA_ENDING_2:S++,PROC_INST:S++,PROC_INST_BODY:S++,PROC_INST_ENDING:S++,OPEN_TAG:S++,OPEN_TAG_SLASH:S++,ATTRIB:S++,ATTRIB_NAME:S++,ATTRIB_NAME_SAW_WHITE:S++,ATTRIB_VALUE:S++,ATTRIB_VALUE_QUOTED:S++,ATTRIB_VALUE_CLOSED:S++,ATTRIB_VALUE_UNQUOTED:S++,ATTRIB_VALUE_ENTITY_Q:S++,ATTRIB_VALUE_ENTITY_U:S++,CLOSE_TAG:S++,CLOSE_TAG_SAW_WHITE:S++,SCRIPT:S++,SCRIPT_ENDING:S++},c.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(c.ENTITIES).forEach(function(a){var b=c.ENTITIES[a],d="number"==typeof b?String.fromCharCode(b):b;c.ENTITIES[a]=d});for(var S in c.STATE)c.STATE[c.STATE[S]]=S;S=c.STATE,String.fromCodePoint||!function(){var a=String.fromCharCode,b=Math.floor,c=function(){var c,d,e=16384,f=[],g=-1,h=arguments.length;if(!h)return"";for(var i="";++g<h;){var j=Number(arguments[g]);if(!isFinite(j)||j<0||j>1114111||b(j)!=j)throw RangeError("Invalid code point: "+j);j<=65535?f.push(j):(j-=65536,c=(j>>10)+55296,d=j%1024+56320,f.push(c,d)),(g+1==h||f.length>e)&&(i+=a.apply(null,f),f.length=0)}return i};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:c,configurable:!0,writable:!0}):String.fromCodePoint=c}()}("undefined"==typeof c?sax={}:c)}).call(this,a("buffer").Buffer)},{buffer:272,stream:298,string_decoder:299}],554:[function(a,b,c){arguments[4][140][0].apply(c,arguments)},{dup:140}],555:[function(a,b,c){arguments[4][141][0].apply(c,arguments)},{"./lib/moddle":559,dup:141}],556:[function(a,b,c){arguments[4][142][0].apply(c,arguments)},{dup:142}],557:[function(a,b,c){"use strict";function d(a){this.ns=a,this.name=a.name,this.allTypes=[],this.allTypesByName={},this.properties=[],this.propertiesByName={}}var e=a("lodash/object/pick"),f=a("lodash/object/assign"),g=a("lodash/collection/forEach"),h=a("./ns").parseName;b.exports=d,d.prototype.build=function(){return e(this,["ns","name","allTypes","allTypesByName","properties","propertiesByName","bodyProperty","idProperty"])},d.prototype.addProperty=function(a,b,c){"boolean"==typeof b&&(c=b,b=void 0),this.addNamedProperty(a,c!==!1);var d=this.properties;void 0!==b?d.splice(b,0,a):d.push(a)},d.prototype.replaceProperty=function(a,b,c){var d=a.ns,e=this.properties,f=this.propertiesByName,g=a.name!==b.name;if(a.isId){if(!b.isId)throw new Error("property <"+b.ns.name+"> must be id property to refine <"+a.ns.name+">");this.setIdProperty(b,!1)}if(a.isBody){if(!b.isBody)throw new Error("property <"+b.ns.name+"> must be body property to refine <"+a.ns.name+">");this.setBodyProperty(b,!1)}var h=e.indexOf(a);if(h===-1)throw new Error("property <"+d.name+"> not found in property list");e.splice(h,1),this.addProperty(b,c?void 0:h,g),f[d.name]=f[d.localName]=b},d.prototype.redefineProperty=function(a,b,c){var d=a.ns.prefix,e=b.split("#"),f=h(e[0],d),g=h(e[1],f.prefix).name,i=this.propertiesByName[g];if(!i)throw new Error("refined property <"+g+"> not found");this.replaceProperty(i,a,c),delete a.redefines},d.prototype.addNamedProperty=function(a,b){var c=a.ns,d=this.propertiesByName;b&&(this.assertNotDefined(a,c.name),this.assertNotDefined(a,c.localName)),d[c.name]=d[c.localName]=a},d.prototype.removeNamedProperty=function(a){var b=a.ns,c=this.propertiesByName;delete c[b.name],delete c[b.localName]},d.prototype.setBodyProperty=function(a,b){if(b&&this.bodyProperty)throw new Error("body property defined multiple times (<"+this.bodyProperty.ns.name+">, <"+a.ns.name+">)");this.bodyProperty=a},d.prototype.setIdProperty=function(a,b){if(b&&this.idProperty)throw new Error("id property defined multiple times (<"+this.idProperty.ns.name+">, <"+a.ns.name+">)");this.idProperty=a},d.prototype.assertNotDefined=function(a,b){var c=a.name,d=this.propertiesByName[c];if(d)throw new Error("property <"+c+"> already defined; override of <"+d.definedBy.ns.name+"#"+d.ns.name+"> by <"+a.definedBy.ns.name+"#"+a.ns.name+"> not allowed without redefines")},d.prototype.hasProperty=function(a){return this.propertiesByName[a]},d.prototype.addTrait=function(a,b){var c=this.allTypesByName,d=this.allTypes,e=a.name;e in c||(g(a.properties,function(c){c=f({},c,{name:c.ns.localName,inherited:b}),Object.defineProperty(c,"definedBy",{value:a});var d=c.replaces,e=c.redefines;d||e?this.redefineProperty(c,d||e,d):(c.isBody&&this.setBodyProperty(c),c.isId&&this.setIdProperty(c),this.addProperty(c))},this),d.push(a),c[e]=a)}},{"./ns":560,"lodash/collection/forEach":578,"lodash/object/assign":686,"lodash/object/pick":691}],558:[function(a,b,c){arguments[4][144][0].apply(c,arguments)},{"./base":556,dup:144,"lodash/collection/forEach":578}],559:[function(a,b,c){"use strict";function d(a){this.properties=new j(this),this.factory=new h(this,this.properties),this.registry=new i(a,this.properties),this.typeCache={}}var e=a("lodash/lang/isString"),f=a("lodash/lang/isObject"),g=a("lodash/collection/forEach"),h=a("./factory"),i=a("./registry"),j=a("./properties"),k=a("./ns").parseName;b.exports=d,d.prototype.create=function(a,b){var c=this.getType(a);if(!c)throw new Error("unknown type <"+a+">");return new c(b)},d.prototype.getType=function(a){var b=this.typeCache,c=e(a)?a:a.ns.name,d=b[c];return d||(a=this.registry.getEffectiveDescriptor(c),d=b[c]=this.factory.createType(a)),d},d.prototype.createAny=function(a,b,c){var d=k(a),e={$type:a,$instanceOf:function(a){return a===this.$type}},h={name:a,isGeneric:!0,ns:{prefix:d.prefix,localName:d.localName,uri:b}};return this.properties.defineDescriptor(e,h),this.properties.defineModel(e,this),this.properties.define(e,"$parent",{enumerable:!1,writable:!0}),g(c,function(a,b){f(a)&&void 0!==a.value?e[a.name]=a.value:e[b]=a}),e},d.prototype.getPackage=function(a){return this.registry.getPackage(a)},d.prototype.getPackages=function(){return this.registry.getPackages()},d.prototype.getElementDescriptor=function(a){return a.$descriptor},d.prototype.hasType=function(a,b){void 0===b&&(b=a,a=this);var c=a.$model.getElementDescriptor(a);return b in c.allTypesByName},d.prototype.getPropertyDescriptor=function(a,b){return this.getElementDescriptor(a).propertiesByName[b]},d.prototype.getTypeDescriptor=function(a){return this.registry.typeMap[a]}},{"./factory":558,"./ns":560,"./properties":561,"./registry":562,"lodash/collection/forEach":578,"lodash/lang/isObject":683,"lodash/lang/isString":684}],560:[function(a,b,c){arguments[4][146][0].apply(c,arguments)},{dup:146}],561:[function(a,b,c){arguments[4][147][0].apply(c,arguments)},{dup:147}],562:[function(a,b,c){"use strict";function d(a,b){this.packageMap={},this.typeMap={},this.packages=[],this.properties=b,g(a,this.registerPackage,this)}function e(a,b,c){var d=b[c];if(d in a)throw new Error("package with "+c+" <"+d+"> already defined")}var f=a("lodash/object/assign"),g=a("lodash/collection/forEach"),h=a("./types"),i=a("./descriptor-builder"),j=a("./ns").parseName,k=h.isBuiltIn;b.exports=d,d.prototype.getPackage=function(a){return this.packageMap[a]},d.prototype.getPackages=function(){return this.packages},d.prototype.registerPackage=function(a){a=f({},a);var b=this.packageMap;e(b,a,"prefix"),e(b,a,"uri"),g(a.types,function(b){this.registerType(b,a)},this),b[a.uri]=b[a.prefix]=a,this.packages.push(a)},d.prototype.registerType=function(a,b){a=f({},a,{superClass:(a.superClass||[]).slice(),"extends":(a["extends"]||[]).slice(),properties:(a.properties||[]).slice(),meta:f(a.meta||{})});var c=j(a.name,b.prefix),d=c.name,e={};g(a.properties,function(a){var b=j(a.name,c.prefix),d=b.name;k(a.type)||(a.type=j(a.type,b.prefix).name),f(a,{ns:b,name:d}),e[d]=a}),f(a,{ns:c,name:d,propertiesByName:e}),g(a["extends"],function(a){var b=this.typeMap[a];b.traits=b.traits||[],b.traits.push(d)},this),this.definePackage(a,b),this.typeMap[d]=a},d.prototype.mapTypes=function(a,b,c){function d(a){return e(a,!0)}function e(c,d){var e=j(c,k(c)?"":a.prefix);h.mapTypes(e,b,d)}var f=k(a.name)?{name:a.name}:this.typeMap[a.name],h=this;if(!f)throw new Error("unknown type <"+a.name+">");g(f.superClass,c?d:e),b(f,!c),g(f.traits,d)},d.prototype.getEffectiveDescriptor=function(a){var b=j(a),c=new i(b);this.mapTypes(b,function(a,b){c.addTrait(a,b)});var d=c.build();return this.definePackage(d,d.allTypes[d.allTypes.length-1].$pkg),d},d.prototype.definePackage=function(a,b){this.properties.define(a,"$pkg",{value:b})}},{"./descriptor-builder":557,"./ns":560,"./types":563,"lodash/collection/forEach":578,"lodash/object/assign":686}],563:[function(a,b,c){arguments[4][149][0].apply(c,arguments)},{dup:149}],564:[function(a,b,c){b.exports={name:"bpmn.io DI for DMN",uri:"http://bpmn.io/schema/dmn/biodi/1.0",prefix:"biodi",xml:{tagAlias:"lowerCase"},types:[{name:"Edge",superClass:["Element"],properties:[{name:"source",type:"String",isAttr:!0},{name:"waypoints",type:"Waypoint",isMany:!0,xml:{serialize:"property"}}]},{name:"Bounds",superClass:["dc:Bounds","Element"]},{name:"Waypoint",superClass:["dc:Point"]}]}},{}],565:[function(a,b,c){b.exports={name:"DC",uri:"http://www.omg.org/spec/DD/20100524/DC",types:[{name:"Boolean"},{name:"Integer"},{name:"Real"},{name:"String"},{name:"Font",properties:[{name:"name",type:"String",isAttr:!0},{name:"size",type:"Real",isAttr:!0},{name:"isBold",type:"Boolean",isAttr:!0},{name:"isItalic",type:"Boolean",isAttr:!0},{name:"isUnderline",type:"Boolean",isAttr:!0},{name:"isStrikeThrough",type:"Boolean",isAttr:!0}]},{name:"Point",properties:[{name:"x",type:"Real","default":"0",isAttr:!0},{name:"y",type:"Real","default":"0",isAttr:!0}]},{name:"Bounds",properties:[{name:"x",type:"Real","default":"0",isAttr:!0},{name:"y",type:"Real","default":"0",isAttr:!0},{name:"width",type:"Real",isAttr:!0},{name:"height",type:"Real",isAttr:!0}]}],prefix:"dc",associations:[]}},{}],566:[function(a,b,c){b.exports={name:"Camunda",uri:"http://camunda.org/schema/1.0/dmn",prefix:"camunda",xml:{tagAlias:"lowerCase"},types:[{name:"InputVariable","extends":["dmn:InputClause"],properties:[{name:"inputVariable",isAttr:!0,type:"String"}]}]}},{}],567:[function(a,b,c){b.exports={name:"DMN",uri:"http://www.omg.org/spec/DMN/20151101/dmn.xsd",xml:{tagAlias:"lowerCase"},prefix:"dmn",types:[{name:"DMNElement",isAbstract:!0,properties:[{name:"description",type:"String"},{name:"id",type:"String",isAttr:!0,isId:!0},{name:"label",type:"String",isAttr:!0},{name:"extensionElements",type:"ExtensionElements"}]},{name:"NamedElement",isAbstract:!0,superClass:["DMNElement"],properties:[{name:"name",type:"String",isAttr:!0}]},{name:"DMNElementReference",properties:[{name:"href",type:"String",isAttr:!0}]},{name:"ExtensionElements",properties:[{name:"values",type:"Element",isMany:!0}]},{name:"Definitions",superClass:["NamedElement"],properties:[{name:"namespace",type:"String",isAttr:!0},{name:"typeLanguage",type:"String",isAttr:!0,"default":"http://www.omg.org/spec/FEEL/20140401"},{name:"expressionLanguage",type:"String",isAttr:!0,"default":"http://www.omg.org/spec/FEEL/20140401"},{name:"exporter",type:"String",isAttr:!0},{name:"exporterVersion",type:"String",isAttr:!0},{name:"itemDefinition",type:"ItemDefinition",isMany:!0,xml:{serialize:"property"}},{name:"drgElements",type:"DRGElement",isMany:!0},{name:"artifacts",type:"Artifact",isMany:!0}]},{name:"Import",properties:[{name:"namespace",type:"String",isAttr:!0},{name:"locationURI",type:"String",isAttr:!0},{name:"importType",type:"String",isAttr:!0}]},{name:"DRGElement",isAbstract:!0,superClass:["NamedElement"]},{name:"Decision",superClass:["DRGElement"],properties:[{name:"question",type:"String"},{name:"allowedAnswers",type:"String"},{name:"variable",type:"InformationItem",xml:{serialize:"property"}},{name:"informationRequirement",type:"InformationRequirement",isMany:!0,xml:{serialize:"property"}},{name:"knowledgeRequirement",type:"KnowledgeRequirement",isMany:!0,xml:{serialize:"property"}},{name:"authorityRequirement",type:"AuthorityRequirement",isMany:!0,xml:{serialize:"property"}},{name:"decisionTable",type:"DecisionTable",xml:{serialize:"property"}},{name:"literalExpression",type:"LiteralExpression",xml:{serialize:"property"}}]},{name:"BusinessKnowledgeModel",superClass:["DRGElement"],properties:[{name:"encapsulatedLogic",type:"FunctionDefinition"},{name:"variable",type:"InformationItem",xml:{serialize:"property"}},{name:"knowledgeRequirement",type:"KnowledgeRequirement",isMany:!0,xml:{serialize:"property"}},{name:"authorityRequirement",type:"AuthorityRequirement",isMany:!0,xml:{serialize:"property"}}]},{name:"InputData",superClass:["DRGElement"],properties:[{name:"variable",type:"InformationItem",xml:{serialize:"property"}}]},{name:"KnowledgeSource",superClass:["DRGElement"],properties:[{name:"authorityRequirement",type:"AuthorityRequirement",isMany:!0,xml:{serialize:"property"}},{name:"type",type:"String",isAttr:!0},{name:"owner",type:"DMNElementReference",isAttr:!0},{name:"locationURI",type:"String",isAttr:!0}]},{name:"InformationRequirement",properties:[{name:"requiredDecision",type:"DMNElementReference",xml:{serialize:"property"}},{name:"requiredInput",type:"DMNElementReference",xml:{serialize:"property"}}]},{name:"KnowledgeRequirement",properties:[{name:"requiredKnowledge",type:"DMNElementReference",isUnique:!0,xml:{serialize:"property"}}]},{name:"AuthorityRequirement",properties:[{name:"requiredDecision",type:"DMNElementReference",xml:{serialize:"property"}},{name:"requiredInput",type:"DMNElementReference",xml:{serialize:"property"}},{name:"requiredAuthority",type:"DMNElementReference",xml:{serialize:"property"}}]},{name:"Expression",isAbstract:!0,superClass:["DMNElement"],properties:[{name:"typeRef",type:"String",isAttr:!0}]},{name:"ItemDefinition",superClass:["NamedElement"],properties:[{name:"typeLanguage",type:"String",isAttr:!0},{name:"isCollection",type:"Boolean",isAttr:!0,"default":!1},{name:"typeRef",type:"String"},{name:"allowedValues",type:"UnaryTests",isMany:!0,xml:{serialize:"property"}}]},{name:"LiteralExpression",superClass:["Expression"],properties:[{name:"expressionLanguage",type:"String",isAttr:!0},{name:"importedValues",type:"ImportedValues"},{name:"text",type:"String"}]},{name:"InformationItem",superClass:["NamedElement"],properties:[{name:"typeRef",type:"String",isAttr:!0}]},{name:"DecisionTable",superClass:["Expression"],properties:[{name:"input",type:"InputClause",isMany:!0,xml:{serialize:"property"}},{name:"output",type:"OutputClause",isMany:!0,xml:{serialize:"property"}},{name:"rule",type:"DecisionRule",isMany:!0,xml:{serialize:"property"}},{name:"hitPolicy",type:"HitPolicy",isAttr:!0,"default":"UNIQUE"},{name:"aggregation",type:"BuiltinAggregator",isAttr:!0},{name:"preferredOrientation",type:"DecisionTableOrientation",isAttr:!0,"default":"Rule-as-Row"},{name:"outputLabel",type:"String",isAttr:!0}]},{name:"DecisionRule",superClass:["DMNElement"],properties:[{name:"inputEntry",type:"UnaryTests",isMany:!0,xml:{serialize:"property"}},{name:"outputEntry",type:"LiteralExpression",isMany:!0,xml:{serialize:"property"}}]},{name:"ImportedValues",superClass:["Import"],properties:[{name:"importedElement",type:"String",isMany:!0,xml:{serialize:"property"}},{name:"expressionLanguage",type:"String",isAttr:!0}]},{name:"Artifact",isAbstract:!0,superClass:["DMNElement"]},{name:"TextAnnotation",superClass:["Artifact"],properties:[{name:"text",type:"String",xml:{serialize:"property"}},{name:"textFormat",type:"String",isAttr:!0}]},{name:"Association",superClass:["Artifact"],properties:[{name:"sourceRef",type:"DMNElementReference",xml:{serialize:"property"}},{name:"targetRef",type:"DMNElementReference",xml:{serialize:"property"}},{name:"associationDirection",type:"AssociationDirection",isAttr:!0,"default":"None"}]},{name:"InputClause",superClass:["DMNElement"],properties:[{name:"inputExpression",type:"LiteralExpression",xml:{serialize:"property"}},{name:"inputValues",type:"UnaryTests",xml:{serialize:"property"}}]},{name:"OutputClause",superClass:["DMNElement"],properties:[{name:"outputValues",type:"UnaryTests",xml:{serialize:"property"}},{name:"defaultOutputEntry",type:"LiteralExpression",xml:{serialize:"property"}},{name:"name",type:"String",isAttr:!0},{name:"typeRef",type:"String",isAttr:!0}]},{name:"UnaryTests",superClass:["DMNElement"],properties:[{name:"text",type:"String"},{name:"expressionLanguage",type:"String",isAttr:!0}]},{name:"FunctionDefinition",superClass:["Expression"],properties:[{name:"formalParameter",type:"InformationItem",isMany:!0,xml:{serialize:"property"}},{name:"expression",type:"String",isReference:!0,xml:{serialize:"property"}}]}],emumerations:[{name:"AssociationDirection",literalValues:[{name:"None"},{name:"One"},{name:"Both"}]},{name:"HitPolicy",literalValues:[{name:"UNIQUE"},{name:"FIRST"},{name:"PRIORITY"},{name:"ANY"},{name:"COLLECT"},{name:"RULE ORDER"},{name:"OUTPUT ORDER"}]},{name:"BuiltinAggregator",literalValues:[{name:"SUM"},{name:"COUNT"},{name:"MIN"},{name:"MAX"}]},{name:"DecisionTableOrientation",literalValues:[{name:"Rule-as-Row"},{name:"Rule-as-Column"},{name:"CrossTable"}]}]}},{}],568:[function(a,b,c){arguments[4][154][0].apply(c,arguments)},{dup:154}],569:[function(a,b,c){arguments[4][155][0].apply(c,arguments)},{dup:155}],570:[function(a,b,c){var d=a("../internal/baseFlatten"),e=a("../internal/baseUniq"),f=a("../function/restParam"),g=f(function(a){return e(d(a,!1,!0))});b.exports=g},{"../function/restParam":586,"../internal/baseFlatten":610,"../internal/baseUniq":630}],571:[function(a,b,c){function d(a,b,c,d){var i=a?a.length:0;return i?(null!=b&&"boolean"!=typeof b&&(d=c,c=g(a,b,d)?void 0:b,b=!1),c=null==c?c:e(c,d,3),b?h(a,c):f(a,c)):[]}var e=a("../internal/baseCallback"),f=a("../internal/baseUniq"),g=a("../internal/isIterateeCall"),h=a("../internal/sortedUniq");b.exports=d},{"../internal/baseCallback":600,"../internal/baseUniq":630,"../internal/isIterateeCall":659,"../internal/sortedUniq":674}],572:[function(a,b,c){b.exports=a("./uniq")},{"./uniq":571}],573:[function(a,b,c){arguments[4][344][0].apply(c,arguments)},{"../internal/LazyWrapper":587,"../internal/LodashWrapper":588,"../internal/baseLodash":619,"../internal/isObjectLike":663,"../internal/wrapperClone":677,"../lang/isArray":679,dup:344}],574:[function(a,b,c){arguments[4][156][0].apply(c,arguments)},{"./some":581,dup:156}],575:[function(a,b,c){function d(a,b,c){var d=h(a)?e:g;return c&&i(a,b,c)&&(b=void 0),"function"==typeof b&&void 0===c||(b=f(b,c,3)),d(a,b)}var e=a("../internal/arrayEvery"),f=a("../internal/baseCallback"),g=a("../internal/baseEvery"),h=a("../lang/isArray"),i=a("../internal/isIterateeCall");b.exports=d},{"../internal/arrayEvery":592,"../internal/baseCallback":600,"../internal/baseEvery":606,"../internal/isIterateeCall":659,"../lang/isArray":679}],576:[function(a,b,c){arguments[4][157][0].apply(c,arguments)},{"../internal/arrayFilter":593,"../internal/baseCallback":600,"../internal/baseFilter":607,"../lang/isArray":679,dup:157}],577:[function(a,b,c){arguments[4][158][0].apply(c,arguments)},{"../internal/baseEach":605,"../internal/createFind":642,dup:158}],578:[function(a,b,c){arguments[4][159][0].apply(c,arguments)},{"../internal/arrayEach":591,"../internal/baseEach":605,"../internal/createForEach":643,dup:159}],579:[function(a,b,c){arguments[4][160][0].apply(c,arguments)},{"../internal/arrayMap":594,"../internal/baseCallback":600,"../internal/baseMap":620,"../lang/isArray":679,dup:160}],580:[function(a,b,c){arguments[4][161][0].apply(c,arguments)},{"../internal/arrayReduce":596,"../internal/baseEach":605,"../internal/createReduce":646,dup:161}],581:[function(a,b,c){arguments[4][162][0].apply(c,arguments)},{"../internal/arraySome":597,"../internal/baseCallback":600,"../internal/baseSome":628,"../internal/isIterateeCall":659,"../lang/isArray":679,dup:162}],582:[function(a,b,c){arguments[4][350][0].apply(c,arguments)},{"../internal/getNative":655,dup:350}],583:[function(a,b,c){arguments[4][351][0].apply(c,arguments)},{"../internal/createWrapper":647,"../internal/replaceHolders":671,"./restParam":586,dup:351}],584:[function(a,b,c){function d(a,b,c){function d(){r&&clearTimeout(r),n&&clearTimeout(n),t=0,n=r=s=void 0}function i(b,c){c&&clearTimeout(c),n=r=s=void 0,b&&(t=f(),o=a.apply(q,m),r||n||(m=q=void 0))}function j(){var a=b-(f()-p);a<=0||a>b?i(s,n):r=setTimeout(j,a)}function k(){i(v,r)}function l(){if(m=arguments,p=f(),q=this,s=v&&(r||!w),u===!1)var c=w&&!r;else{n||w||(t=p);var d=u-(p-t),e=d<=0||d>u;e?(n&&(n=clearTimeout(n)),t=p,o=a.apply(q,m)):n||(n=setTimeout(k,d))}return e&&r?r=clearTimeout(r):r||b===u||(r=setTimeout(j,b)),c&&(e=!0,o=a.apply(q,m)),!e||r||n||(m=q=void 0),o}var m,n,o,p,q,r,s,t=0,u=!1,v=!0;if("function"!=typeof a)throw new TypeError(g);if(b=b<0?0:+b||0,c===!0){var w=!0;v=!1}else e(c)&&(w=!!c.leading,u="maxWait"in c&&h(+c.maxWait||0,b),v="trailing"in c?!!c.trailing:v);return l.cancel=d,l}var e=a("../lang/isObject"),f=a("../date/now"),g="Expected a function",h=Math.max;b.exports=d},{"../date/now":582,"../lang/isObject":683}],585:[function(a,b,c){arguments[4][163][0].apply(c,arguments)},{"../internal/baseDelay":603,"./restParam":586,dup:163}],586:[function(a,b,c){arguments[4][164][0].apply(c,arguments)},{dup:164}],587:[function(a,b,c){arguments[4][353][0].apply(c,arguments)},{"./baseCreate":602,"./baseLodash":619,dup:353}],588:[function(a,b,c){arguments[4][354][0].apply(c,arguments)},{"./baseCreate":602,"./baseLodash":619,dup:354}],589:[function(a,b,c){(function(c){function d(a){var b=a?a.length:0;for(this.data={hash:h(null),set:new g};b--;)this.push(a[b])}var e=a("./cachePush"),f=a("./getNative"),g=f(c,"Set"),h=f(Object,"create");d.prototype.push=e,b.exports=d}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./cachePush":633,"./getNative":655}],590:[function(a,b,c){arguments[4][355][0].apply(c,arguments)},{dup:355}],591:[function(a,b,c){arguments[4][166][0].apply(c,arguments)},{dup:166}],592:[function(a,b,c){function d(a,b){for(var c=-1,d=a.length;++c<d;)if(!b(a[c],c,a))return!1;return!0}b.exports=d},{}],593:[function(a,b,c){arguments[4][167][0].apply(c,arguments)},{dup:167}],594:[function(a,b,c){arguments[4][168][0].apply(c,arguments)},{dup:168}],595:[function(a,b,c){arguments[4][169][0].apply(c,arguments)},{dup:169}],596:[function(a,b,c){arguments[4][170][0].apply(c,arguments)},{dup:170}],597:[function(a,b,c){arguments[4][171][0].apply(c,arguments)},{dup:171}],598:[function(a,b,c){arguments[4][172][0].apply(c,arguments)},{"../object/keys":687,dup:172}],599:[function(a,b,c){arguments[4][173][0].apply(c,arguments)},{"../object/keys":687,"./baseCopy":601,dup:173}],600:[function(a,b,c){arguments[4][174][0].apply(c,arguments)},{"../utility/identity":692,"../utility/property":694,"./baseMatches":621,"./baseMatchesProperty":622,"./bindCallback":631,dup:174}],601:[function(a,b,c){arguments[4][175][0].apply(c,arguments)},{dup:175}],602:[function(a,b,c){arguments[4][365][0].apply(c,arguments)},{"../lang/isObject":683,dup:365}],603:[function(a,b,c){arguments[4][176][0].apply(c,arguments)},{dup:176}],604:[function(a,b,c){arguments[4][177][0].apply(c,arguments)},{"./baseIndexOf":615,"./cacheIndexOf":632,"./createCache":640,dup:177}],605:[function(a,b,c){arguments[4][178][0].apply(c,arguments)},{"./baseForOwn":613,"./createBaseEach":637,dup:178}],606:[function(a,b,c){function d(a,b){var c=!0;return e(a,function(a,d,e){return c=!!b(a,d,e)}),c}var e=a("./baseEach");b.exports=d},{"./baseEach":605}],607:[function(a,b,c){arguments[4][179][0].apply(c,arguments)},{"./baseEach":605,dup:179}],608:[function(a,b,c){arguments[4][180][0].apply(c,arguments)},{dup:180}],609:[function(a,b,c){arguments[4][181][0].apply(c,arguments)},{dup:181}],610:[function(a,b,c){arguments[4][182][0].apply(c,arguments)},{"../lang/isArguments":678,"../lang/isArray":679,"./arrayPush":595,"./isArrayLike":657,"./isObjectLike":663,dup:182}],611:[function(a,b,c){arguments[4][183][0].apply(c,arguments)},{"./createBaseFor":638,dup:183}],612:[function(a,b,c){arguments[4][184][0].apply(c,arguments)},{"../object/keysIn":688,"./baseFor":611,dup:184}],613:[function(a,b,c){arguments[4][185][0].apply(c,arguments)},{"../object/keys":687,"./baseFor":611,dup:185}],614:[function(a,b,c){arguments[4][186][0].apply(c,arguments)},{"./toObject":675,dup:186}],615:[function(a,b,c){arguments[4][187][0].apply(c,arguments)},{"./indexOfNaN":656,dup:187}],616:[function(a,b,c){arguments[4][188][0].apply(c,arguments)},{"../lang/isObject":683,"./baseIsEqualDeep":617,"./isObjectLike":663,dup:188}],617:[function(a,b,c){arguments[4][189][0].apply(c,arguments)},{"../lang/isArray":679,"../lang/isTypedArray":685,"./equalArrays":648,"./equalByTag":649,"./equalObjects":650,dup:189}],618:[function(a,b,c){arguments[4][190][0].apply(c,arguments)},{"./baseIsEqual":616,"./toObject":675,dup:190}],619:[function(a,b,c){arguments[4][378][0].apply(c,arguments)},{dup:378}],620:[function(a,b,c){arguments[4][191][0].apply(c,arguments)},{"./baseEach":605,"./isArrayLike":657,dup:191}],621:[function(a,b,c){arguments[4][192][0].apply(c,arguments)},{"./baseIsMatch":618,"./getMatchData":654,"./toObject":675,dup:192}],622:[function(a,b,c){arguments[4][193][0].apply(c,arguments)},{"../array/last":569,"../lang/isArray":679,"./baseGet":614,"./baseIsEqual":616,"./baseSlice":627,"./isKey":660,"./isStrictComparable":664,"./toObject":675,"./toPath":676,dup:193}],623:[function(a,b,c){arguments[4][194][0].apply(c,arguments)},{dup:194}],624:[function(a,b,c){arguments[4][195][0].apply(c,arguments)},{"./baseGet":614,"./toPath":676,dup:195}],625:[function(a,b,c){arguments[4][196][0].apply(c,arguments)},{dup:196}],626:[function(a,b,c){arguments[4][386][0].apply(c,arguments)},{"../utility/identity":692,"./metaMap":666,dup:386}],627:[function(a,b,c){arguments[4][197][0].apply(c,arguments)},{dup:197}],628:[function(a,b,c){arguments[4][198][0].apply(c,arguments)},{"./baseEach":605,dup:198}],629:[function(a,b,c){arguments[4][199][0].apply(c,arguments)},{dup:199}],630:[function(a,b,c){function d(a,b){var c=-1,d=e,i=a.length,j=!0,k=j&&i>=h,l=k?g():null,m=[];l?(d=f,j=!1):(k=!1,l=b?[]:m);a:for(;++c<i;){var n=a[c],o=b?b(n,c,a):n;if(j&&n===n){for(var p=l.length;p--;)if(l[p]===o)continue a;b&&l.push(o),m.push(n)}else d(l,o,0)<0&&((b||k)&&l.push(o),m.push(n))}return m}var e=a("./baseIndexOf"),f=a("./cacheIndexOf"),g=a("./createCache"),h=200;b.exports=d},{"./baseIndexOf":615,"./cacheIndexOf":632,"./createCache":640}],631:[function(a,b,c){arguments[4][200][0].apply(c,arguments)},{"../utility/identity":692,dup:200}],632:[function(a,b,c){arguments[4][201][0].apply(c,arguments)},{"../lang/isObject":683,dup:201}],633:[function(a,b,c){arguments[4][202][0].apply(c,arguments)},{"../lang/isObject":683,dup:202}],634:[function(a,b,c){arguments[4][390][0].apply(c,arguments)},{dup:390}],635:[function(a,b,c){arguments[4][391][0].apply(c,arguments)},{dup:391}],636:[function(a,b,c){arguments[4][203][0].apply(c,arguments)},{"../function/restParam":586,"./bindCallback":631,"./isIterateeCall":659,dup:203}],637:[function(a,b,c){arguments[4][204][0].apply(c,arguments)},{"./getLength":653,"./isLength":662,"./toObject":675,dup:204}],638:[function(a,b,c){arguments[4][205][0].apply(c,arguments)},{"./toObject":675,dup:205}],639:[function(a,b,c){(function(c){function d(a,b){function d(){var e=this&&this!==c&&this instanceof d?f:a;return e.apply(b,arguments)}var f=e(a);return d}var e=a("./createCtorWrapper");b.exports=d}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./createCtorWrapper":641}],640:[function(a,b,c){(function(c){function d(a){return h&&g?new e(a):null;
}var e=a("./SetCache"),f=a("./getNative"),g=f(c,"Set"),h=f(Object,"create");b.exports=d}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./SetCache":589,"./getNative":655}],641:[function(a,b,c){arguments[4][397][0].apply(c,arguments)},{"../lang/isObject":683,"./baseCreate":602,dup:397}],642:[function(a,b,c){arguments[4][207][0].apply(c,arguments)},{"../lang/isArray":679,"./baseCallback":600,"./baseFind":608,"./baseFindIndex":609,dup:207}],643:[function(a,b,c){arguments[4][208][0].apply(c,arguments)},{"../lang/isArray":679,"./bindCallback":631,dup:208}],644:[function(a,b,c){(function(c){function d(a,b,v,w,x,y,z,A,B,C){function D(){for(var o=arguments.length,p=o,q=Array(o);p--;)q[p]=arguments[p];if(w&&(q=f(q,w,x)),y&&(q=g(q,y,z)),H||J){var t=D.placeholder,L=k(q,t);if(o-=L.length,o<C){var M=A?e(A):void 0,N=u(C-o,0),O=H?L:void 0,P=H?void 0:L,Q=H?q:void 0,R=H?void 0:q;b|=H?r:s,b&=~(H?s:r),I||(b&=~(m|n));var S=[a,b,v,Q,O,R,P,M,B,N],T=d.apply(void 0,S);return i(a)&&l(T,S),T.placeholder=t,T}}var U=F?v:this,V=G?U[a]:a;return A&&(q=j(q,A)),E&&B<q.length&&(q.length=B),this&&this!==c&&this instanceof D&&(V=K||h(a)),V.apply(U,q)}var E=b&t,F=b&m,G=b&n,H=b&p,I=b&o,J=b&q,K=G?void 0:h(a);return D}var e=a("./arrayCopy"),f=a("./composeArgs"),g=a("./composeArgsRight"),h=a("./createCtorWrapper"),i=a("./isLaziable"),j=a("./reorder"),k=a("./replaceHolders"),l=a("./setData"),m=1,n=2,o=4,p=8,q=16,r=32,s=64,t=128,u=Math.max;b.exports=d}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./arrayCopy":590,"./composeArgs":634,"./composeArgsRight":635,"./createCtorWrapper":641,"./isLaziable":661,"./reorder":670,"./replaceHolders":671,"./setData":672}],645:[function(a,b,c){(function(c){function d(a,b,d,g){function h(){for(var b=-1,e=arguments.length,f=-1,k=g.length,l=Array(k+e);++f<k;)l[f]=g[f];for(;e--;)l[f++]=arguments[++b];var m=this&&this!==c&&this instanceof h?j:a;return m.apply(i?d:this,l)}var i=b&f,j=e(a);return h}var e=a("./createCtorWrapper"),f=1;b.exports=d}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./createCtorWrapper":641}],646:[function(a,b,c){arguments[4][209][0].apply(c,arguments)},{"../lang/isArray":679,"./baseCallback":600,"./baseReduce":625,dup:209}],647:[function(a,b,c){arguments[4][403][0].apply(c,arguments)},{"./baseSetData":626,"./createBindWrapper":639,"./createHybridWrapper":644,"./createPartialWrapper":645,"./getData":651,"./mergeData":665,"./setData":672,dup:403}],648:[function(a,b,c){arguments[4][210][0].apply(c,arguments)},{"./arraySome":597,dup:210}],649:[function(a,b,c){arguments[4][211][0].apply(c,arguments)},{dup:211}],650:[function(a,b,c){arguments[4][212][0].apply(c,arguments)},{"../object/keys":687,dup:212}],651:[function(a,b,c){arguments[4][407][0].apply(c,arguments)},{"../utility/noop":693,"./metaMap":666,dup:407}],652:[function(a,b,c){arguments[4][408][0].apply(c,arguments)},{"./realNames":669,dup:408}],653:[function(a,b,c){arguments[4][213][0].apply(c,arguments)},{"./baseProperty":623,dup:213}],654:[function(a,b,c){arguments[4][214][0].apply(c,arguments)},{"../object/pairs":690,"./isStrictComparable":664,dup:214}],655:[function(a,b,c){arguments[4][215][0].apply(c,arguments)},{"../lang/isNative":681,dup:215}],656:[function(a,b,c){arguments[4][216][0].apply(c,arguments)},{dup:216}],657:[function(a,b,c){arguments[4][217][0].apply(c,arguments)},{"./getLength":653,"./isLength":662,dup:217}],658:[function(a,b,c){arguments[4][218][0].apply(c,arguments)},{dup:218}],659:[function(a,b,c){arguments[4][219][0].apply(c,arguments)},{"../lang/isObject":683,"./isArrayLike":657,"./isIndex":658,dup:219}],660:[function(a,b,c){arguments[4][220][0].apply(c,arguments)},{"../lang/isArray":679,"./toObject":675,dup:220}],661:[function(a,b,c){arguments[4][416][0].apply(c,arguments)},{"../chain/lodash":573,"./LazyWrapper":587,"./getData":651,"./getFuncName":652,dup:416}],662:[function(a,b,c){arguments[4][221][0].apply(c,arguments)},{dup:221}],663:[function(a,b,c){arguments[4][222][0].apply(c,arguments)},{dup:222}],664:[function(a,b,c){arguments[4][223][0].apply(c,arguments)},{"../lang/isObject":683,dup:223}],665:[function(a,b,c){arguments[4][420][0].apply(c,arguments)},{"./arrayCopy":590,"./composeArgs":634,"./composeArgsRight":635,"./replaceHolders":671,dup:420}],666:[function(a,b,c){(function(c){var d=a("./getNative"),e=d(c,"WeakMap"),f=e&&new e;b.exports=f}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./getNative":655}],667:[function(a,b,c){arguments[4][224][0].apply(c,arguments)},{"./toObject":675,dup:224}],668:[function(a,b,c){arguments[4][225][0].apply(c,arguments)},{"./baseForIn":612,dup:225}],669:[function(a,b,c){arguments[4][424][0].apply(c,arguments)},{dup:424}],670:[function(a,b,c){arguments[4][425][0].apply(c,arguments)},{"./arrayCopy":590,"./isIndex":658,dup:425}],671:[function(a,b,c){arguments[4][426][0].apply(c,arguments)},{dup:426}],672:[function(a,b,c){arguments[4][427][0].apply(c,arguments)},{"../date/now":582,"./baseSetData":626,dup:427}],673:[function(a,b,c){arguments[4][226][0].apply(c,arguments)},{"../lang/isArguments":678,"../lang/isArray":679,"../object/keysIn":688,"./isIndex":658,"./isLength":662,dup:226}],674:[function(a,b,c){function d(a,b){for(var c,d=-1,e=a.length,f=-1,g=[];++d<e;){var h=a[d],i=b?b(h,d,a):h;d&&c===i||(c=i,g[++f]=h)}return g}b.exports=d},{}],675:[function(a,b,c){arguments[4][227][0].apply(c,arguments)},{"../lang/isObject":683,dup:227}],676:[function(a,b,c){arguments[4][228][0].apply(c,arguments)},{"../lang/isArray":679,"./baseToString":629,dup:228}],677:[function(a,b,c){arguments[4][431][0].apply(c,arguments)},{"./LazyWrapper":587,"./LodashWrapper":588,"./arrayCopy":590,dup:431}],678:[function(a,b,c){arguments[4][229][0].apply(c,arguments)},{"../internal/isArrayLike":657,"../internal/isObjectLike":663,dup:229}],679:[function(a,b,c){arguments[4][230][0].apply(c,arguments)},{"../internal/getNative":655,"../internal/isLength":662,"../internal/isObjectLike":663,dup:230}],680:[function(a,b,c){arguments[4][231][0].apply(c,arguments)},{"./isObject":683,dup:231}],681:[function(a,b,c){arguments[4][232][0].apply(c,arguments)},{"../internal/isObjectLike":663,"./isFunction":680,dup:232}],682:[function(a,b,c){arguments[4][233][0].apply(c,arguments)},{"../internal/isObjectLike":663,dup:233}],683:[function(a,b,c){arguments[4][234][0].apply(c,arguments)},{dup:234}],684:[function(a,b,c){arguments[4][235][0].apply(c,arguments)},{"../internal/isObjectLike":663,dup:235}],685:[function(a,b,c){arguments[4][236][0].apply(c,arguments)},{"../internal/isLength":662,"../internal/isObjectLike":663,dup:236}],686:[function(a,b,c){arguments[4][237][0].apply(c,arguments)},{"../internal/assignWith":598,"../internal/baseAssign":599,"../internal/createAssigner":636,dup:237}],687:[function(a,b,c){arguments[4][238][0].apply(c,arguments)},{"../internal/getNative":655,"../internal/isArrayLike":657,"../internal/shimKeys":673,"../lang/isObject":683,dup:238}],688:[function(a,b,c){arguments[4][239][0].apply(c,arguments)},{"../internal/isIndex":658,"../internal/isLength":662,"../lang/isArguments":678,"../lang/isArray":679,"../lang/isObject":683,dup:239}],689:[function(a,b,c){arguments[4][240][0].apply(c,arguments)},{"../function/restParam":586,"../internal/arrayMap":594,"../internal/baseDifference":604,"../internal/baseFlatten":610,"../internal/bindCallback":631,"../internal/pickByArray":667,"../internal/pickByCallback":668,"./keysIn":688,dup:240}],690:[function(a,b,c){arguments[4][241][0].apply(c,arguments)},{"../internal/toObject":675,"./keys":687,dup:241}],691:[function(a,b,c){arguments[4][242][0].apply(c,arguments)},{"../function/restParam":586,"../internal/baseFlatten":610,"../internal/bindCallback":631,"../internal/pickByArray":667,"../internal/pickByCallback":668,dup:242}],692:[function(a,b,c){arguments[4][243][0].apply(c,arguments)},{dup:243}],693:[function(a,b,c){arguments[4][449][0].apply(c,arguments)},{dup:449}],694:[function(a,b,c){arguments[4][244][0].apply(c,arguments)},{"../internal/baseProperty":623,"../internal/basePropertyDeep":624,"../internal/isKey":660,dup:244}],695:[function(a,b,c){arguments[4][452][0].apply(c,arguments)},{"component-classes":701,dup:452}],696:[function(a,b,c){arguments[4][245][0].apply(c,arguments)},{"component-delegate":704,dup:245}],697:[function(a,b,c){arguments[4][246][0].apply(c,arguments)},{domify:708,dup:246}],698:[function(a,b,c){arguments[4][247][0].apply(c,arguments)},{"component-event":705,dup:247}],699:[function(a,b,c){arguments[4][248][0].apply(c,arguments)},{"component-query":707,dup:248}],700:[function(a,b,c){arguments[4][249][0].apply(c,arguments)},{dup:249}],701:[function(a,b,c){arguments[4][460][0].apply(c,arguments)},{"component-indexof":702,dup:460,indexof:702}],702:[function(a,b,c){arguments[4][461][0].apply(c,arguments)},{dup:461}],703:[function(a,b,c){arguments[4][250][0].apply(c,arguments)},{dup:250,"matches-selector":706}],704:[function(a,b,c){arguments[4][251][0].apply(c,arguments)},{closest:703,"component-closest":703,"component-event":705,dup:251,event:705}],705:[function(a,b,c){arguments[4][252][0].apply(c,arguments)},{dup:252}],706:[function(a,b,c){arguments[4][253][0].apply(c,arguments)},{"component-query":707,dup:253,query:707}],707:[function(a,b,c){arguments[4][254][0].apply(c,arguments)},{dup:254}],708:[function(a,b,c){arguments[4][255][0].apply(c,arguments)},{dup:255}],709:[function(a,b,c){b.exports=a("./lib/Table")},{"./lib/Table":710}],710:[function(a,b,c){"use strict";function d(a){function b(a){return e.indexOf(a)>=0}function c(a){e.push(a)}function d(a){b(a)||((a.__depends__||[]).forEach(d),b(a)||(c(a),(a.__init__||[]).forEach(function(a){f.push(a)})))}var e=[],f=[];a.forEach(d);var h=new g.Injector(e);return f.forEach(function(a){try{h["string"==typeof a?"get":"invoke"](a)}catch(b){throw console.error("Failed to instantiate component"),console.error(b.stack),b}}),h}function e(b){b=b||{};var c={config:["value",b]},e=a("./core"),f=[c,e].concat(b.modules||[]);return d(f)}function f(a,b){this.injector=b=b||e(a),this.get=b.get,this.invoke=b.invoke,this.get("eventBus").fire("table.init")}var g=a("didi");b.exports=f,f.prototype.destroy=function(){this.get("eventBus").fire("table.destroy"),this.get("eventBus").fire("diagram.destroy")},f.prototype.clear=function(){this.get("eventBus").fire("table.clear"),this.get("eventBus").fire("diagram.clear")}},{"./core":715,didi:745}],711:[function(a,b,c){"use strict";function d(){this._uid=12}var e=a("../model");b.exports=d,d.prototype.createTable=function(a){return document.createElement("table")},d.prototype.createRow=function(a){return this.create("row",a)},d.prototype.createColumn=function(a){return this.create("column",a)},d.prototype.create=function(a,b){return b=b||{},b.id||(b.id=a+"_"+this._uid++),e.create(a,b)}},{"../model":733}],712:[function(a,b,c){"use strict";function d(){this._elements={}}var e="data-element-id";b.exports=d,d.prototype.add=function(a,b,c){var d=a.id;this._validateId(d),b.setAttribute(e,d),c&&c.setAttribute(e,d),this._elements[d]={element:a,gfx:b,secondaryGfx:c}},d.prototype.remove=function(a){var b=this._elements,c=a.id||a,d=c&&b[c];d&&(d.gfx.setAttribute(e,null),d.secondaryGfx&&d.secondaryGfx.setAttribute(e,null),delete b[c])},d.prototype.updateId=function(a,b){this._validateId(b),"string"==typeof a&&(a=this.get(a));var c=this.getGraphics(a),d=this.getGraphics(a,!0);this.remove(a),a.id=b,this.add(a,c,d)},d.prototype.get=function(a){var b;b="string"==typeof a?a:a&&a.getAttribute(e);var c=this._elements[b];return c&&c.element},d.prototype.filter=function(a){var b=[];return this.forEach(function(c,d){a(c,d)&&b.push(c)}),b},d.prototype.forEach=function(a){var b=this._elements;Object.keys(b).forEach(function(c){var d=b[c],e=d.element,f=d.gfx;return a(e,f)})},d.prototype.getGraphics=function(a,b){var c=a.id||a,d=this._elements[c];return d&&(b?d.secondaryGfx:d.gfx)},d.prototype.getAll=function(){return this.filter(function(a){return a})},d.prototype._validateId=function(a){if(!a)throw new Error("element must have an id");if(this._elements[a])throw new Error("element with id "+a+" already added")}},{}],713:[function(a,b,c){"use strict";function d(a,b){this._renderer=b,this._elementRegistry=a}var e=a("lodash/collection/forEach");d.$inject=["elementRegistry","renderer"],b.exports=d,d.prototype.create=function(a,b,c){var d;switch(a){case"row":d=document.createElement("tr");break;case"cell":d=document.createElement(b.row.useTH?"th":"td");var e=document.createElement("span");d.appendChild(e)}if(d&&"row"===a)b.next?c.insertBefore(d,this._elementRegistry.getGraphics(b.next)):c.appendChild(d);else if("cell"===a){var f=this._elementRegistry.filter(function(a){return a.row===b.row&&a.column===b.column.next})[0];f?c.insertBefore(d,this._elementRegistry.getGraphics(f)):c.appendChild(d)}return d||document.createElement("div")},d.prototype.moveRow=function(a,b,c){var d,e=this._elementRegistry.getGraphics(a);c?(d=this._elementRegistry.getGraphics(b),d.parentNode.insertBefore(e,d)):a.next?(d=this._elementRegistry.getGraphics(a.next),d.parentNode.insertBefore(e,d)):e.parentNode.appendChild(e)},d.prototype.moveColumn=function(a,b,c){var d=this;this._elementRegistry.forEach(function(e,f){"cell"===e._type&&e.column===a&&d._elementRegistry.forEach(function(d,g){"cell"===d._type&&d.row===e.row&&(c&&d.column===b?g.parentNode.insertBefore(f,g):c||d.column!==a.next||g.parentNode.insertBefore(f,g))})})},d.prototype.redraw=function(){var a=this;this._elementRegistry.forEach(function(b){"row"===b._type&&a.update("row",b,a._elementRegistry.getGraphics(b))})},d.prototype.update=function(a,b,c){if(b.parent){var d=this;if("row"===a)this._renderer.drawRow(c,b),e(this._elementRegistry.filter(function(a){return a.row===b}),function(a){d.update("cell",a,d._elementRegistry.getGraphics(a))});else if("column"===a)this._renderer.drawColumn(c,b),e(this._elementRegistry.filter(function(a){return a.column===b}),function(a){d.update("cell",a,d._elementRegistry.getGraphics(a))});else{if("cell"!==a)throw new Error("unknown type: "+a);this._renderer.drawCell(c,b)}}},d.prototype.remove=function(a){var b=this._elementRegistry.getGraphics(a);b.parentNode&&b.parentNode.removeChild(b)}},{"lodash/collection/forEach":578}],714:[function(a,b,c){"use strict";function d(a){return g(a)?a+"px":a}function e(a){a=h({},{width:"100%",height:"100%"},a);var b=a.container||document.body,c=document.createElement("div");return c.setAttribute("class","tjs-container"),b.appendChild(c),c}function f(a,b,c,d){this._eventBus=b,this._elementRegistry=c,this._graphicsFactory=d,this._config=a,this._init(a||{})}var g=a("lodash/lang/isNumber"),h=a("lodash/object/assign"),i=a("lodash/collection/forEach"),j=a("lodash/collection/every"),k={row:["next","previous"],column:["next","previous"],cell:["row","column"]},l=250;f.$inject=["config.sheet","eventBus","elementRegistry","graphicsFactory"],b.exports=f,f.prototype._init=function(a){var b=this._eventBus,c=e(a),f=this;this._container=c,this._rootNode=document.createElement("table"),h(this._rootNode.style,{width:d(a.width),height:d(a.height)}),c.appendChild(this._rootNode),this._head=document.createElement("thead"),this._body=document.createElement("tbody"),this._foot=document.createElement("tfoot"),this._rootNode.appendChild(this._head),this._rootNode.appendChild(this._body),this._rootNode.appendChild(this._foot),this._lastColumn=null,this._lastRow={head:null,body:null,foot:null},b.on("table.init",function(a){b.fire("sheet.init",{sheet:f._rootNode}),b.fire("sheet.resized")}),b.on("sheet.resized",l,function(a){var b=a.context;b&&f.setWidth(b.newWidth)}),b.on("table.destroy",l,this._destroy,this),b.on("table.clear",l,function(){b.fire("sheet.clear"),this._clear(),b.fire("sheet.cleared",{sheet:f._rootNode}),b.fire("sheet.resized")},this)},f.prototype._destroy=function(){var a,b=this._eventBus,c=this._container,d=this._rootNode;b.fire("sheet.destroy",{sheet:d}),a=c.parentNode,a&&a.removeChild(c),delete this._container,delete this._rootNode},f.prototype._clear=function(){var a=this._elementRegistry,b=this,c=a.getAll();c.forEach(function(a){a.element&&"decisionTable"===a.element.id?b.setRootElement(null,!0):b._removeElement(a,a.type)}),this._lastColumn=null,this._lastRow={head:null,body:null,foot:null}},f.prototype.getLastColumn=function(){return this._lastColumn},f.prototype.setLastColumn=function(a){this._lastColumn=a},f.prototype.getLastRow=function(a){return this._lastRow[a]},f.prototype.setLastRow=function(a,b){this._lastRow[b]=a},f.prototype.setSibling=function(a,b){a&&(a.next=b),b&&(b.previous=a)},f.prototype.addSiblings=function(a,b){var c,d;if("row"===a&&(d=b.isHead?"head":b.isFoot?"foot":"body"),b.previous||b.next){if(b.previous&&!b.next)c=b.previous.next,this.setSibling(b.previous,b),this.setSibling(b,c),c||("row"===a?this.setLastRow(b,d):"column"===a&&this.setLastColumn(b,d));else if(!b.previous&&b.next)c=b.next.previous,this.setSibling(c,b),this.setSibling(b,b.next);else if(b.previous&&b.next){if(b.previous.next!==b.next)throw new Error("cannot set both previous and next when adding new element <"+a+">");this.setSibling(b.previous,b),this.setSibling(b,b.next)}}else"column"===a?(b.next=null,this.setSibling(this.getLastColumn(),b),this.setLastColumn(b)):"row"===a&&(b.next=null,this.setSibling(this.getLastRow(d),b),this.setLastRow(b,d))},f.prototype.removeSiblings=function(a,b){var c;"row"===a&&(c=b.isHead?"head":b.isFoot?"foot":"body"),"column"===a?this.getLastColumn()===b&&this.setLastColumn(b.previous):"row"===a&&this.getLastRow(c)===b&&this.setLastRow(b.previous,c),b.previous&&(b.previous.next=b.next),b.next&&(b.next.previous=b.previous),delete b.previous,delete b.next},f.prototype.getContainer=function(){return this._container},f.prototype.getBody=function(){return this._body},f.prototype.moveRow=function(a,b,c){var d=this._eventBus,e=this._graphicsFactory;a!==b&&(d.fire("row.move",{source:a,target:b,above:c}),this.getLastRow("body")===a&&this.setLastRow(a.previous,"body"),a.previous&&(a.previous.next=a.next),a.next&&(a.next.previous=a.previous),c?b.previous?(b.previous.next=a,a.previous=b.previous,a.next=b,b.previous=a):(a.previous=null,a.next=b,b.previous=a):b.next?(b.next.previous=a,a.next=b.next,a.previous=b,b.next=a):(a.next=null,a.previous=b,b.next=a,this.setLastRow(a,"body")),e.moveRow(a,b,c),d.fire("row.moved",{source:a,target:b,above:c}))},f.prototype.moveColumn=function(a,b,c){var d=this._eventBus,e=this._graphicsFactory;a!==b&&(d.fire("column.move",{source:a,target:b,left:c}),this.getLastColumn()===a&&this.setLastColumn(a.previous),a.previous&&(a.previous.next=a.next),a.next&&(a.next.previous=a.previous),c?b.previous?(b.previous.next=a,a.previous=b.previous,a.next=b,b.previous=a):(a.previous=null,a.next=b,b.previous=a):b.next?(b.next.previous=a,a.next=b.next,a.previous=b,b.next=a):(a.next=null,a.previous=b,b.next=a,this.setLastColumn(a)),e.moveColumn(a,b,c),d.fire("column.moved",{source:a,target:b,left:c}))},f.prototype._ensureValid=function(a,b){var c=this._elementRegistry;if(!b.id)throw new Error("element must have an id");if(c.get(b.id))throw new Error("element with id "+b.id+" already exists");var d=k[a],e=j(d,function(a){return"undefined"!=typeof b[a]});if(!e)throw new Error("must supply { "+d.join(", ")+" } with "+a)},f.prototype._addElement=function(a,b,c){var d=this._eventBus,e=this._graphicsFactory;b._type=a,this._ensureValid(a,b),d.fire(a+".add",b),b.parent=c||this._rootNode;var f=e.create(a,b,b.parent);return this._elementRegistry.add(b,f),e.update(a,b,f),d.fire(a+".added",{element:b,gfx:f}),b},f.prototype.addRow=function(a){var b,c=this._eventBus,d=this._elementRegistry,e=this;this.addSiblings("row",a);var f=this._addElement("row",a,a.isHead?this._head:a.isFoot?this._foot:this._body);return c.fire("cells.add",f),b=d.filter(function(a){return"column"===a._type}),i(b.sort(function(a,b){for(var c=a;c=c.next;)if(c===b)return-1;return 1}),function(a){e._addCell({row:f,column:a,id:"cell_"+a.id+"_"+f.id})}),c.fire("cells.added",f),f},f.prototype.addColumn=function(a){var b,c=this._eventBus,d=this._elementRegistry,e=this;this.addSiblings("column",a);var f=this._addElement("column",a);return c.fire("cells.add",f),b=d.filter(function(a){return"row"===a._type}),i(b,function(a){e._addCell({row:a,column:f,id:"cell_"+f.id+"_"+a.id})}),c.fire("cells.added",f),f},f.prototype._addCell=function(a){var b=this._elementRegistry,c=b.getGraphics(a.row.id);return this._addElement("cell",a,c)},f.prototype.setCellContent=function(a){var b=this._elementRegistry,c=this._graphicsFactory;"object"==typeof a.column&&(a.column=a.column.id),"object"==typeof a.row&&(a.row=a.row.id),b.get("cell_"+a.column+"_"+a.row).content=a.content,c.update("cell",b.get("cell_"+a.column+"_"+a.row),b.getGraphics("cell_"+a.column+"_"+a.row))},f.prototype.getCellContent=function(a){var b=this._elementRegistry;return b.get("cell_"+a.column+"_"+a.row).content},f.prototype._removeElement=function(a,b){var c=this._elementRegistry,d=this._graphicsFactory,e=this._eventBus;if(a=c.get(a.id||a))return e.fire(b+".remove",{element:a}),d.remove(a),a.parent=null,c.remove(a),e.fire(b+".removed",{element:a}),a},f.prototype.removeRow=function(a){var b=this._eventBus;this.removeSiblings("row",a);var c=this._removeElement(a,"row");b.fire("cells.remove",c);var d=this;return i(this._elementRegistry.filter(function(b){return b.row===a}),function(a){d._removeElement(a.id,"cell")}),b.fire("cells.removed",c),c},f.prototype.removeColumn=function(a){var b=this._eventBus;this.removeSiblings("column",a);var c=this._removeElement(a,"column");b.fire("cells.remove",c);var d=this;return i(this._elementRegistry.filter(function(b){return b.column===a}),function(a){d._removeElement(a.id,"cell")}),b.fire("cells.removed",c),c},f.prototype.getRootElement=function(){return this._rootNode},f.prototype.setRootElement=function(a,b){a&&this._ensureValid("root",a);var c=this._rootNode,d=this._elementRegistry,e=this._eventBus;if(c){if(!b)throw new Error("rootNode already set, need to specify override");e.fire("root.remove",{element:c}),e.fire("root.removed",{element:c}),d.remove(c)}if(a){var f=this.getDefaultLayer();e.fire("root.add",{element:a}),d.add(a,f,this._svg),e.fire("root.added",{element:a,gfx:f})}return this._rootNode=a,a},f.prototype.setWidth=function(a){var b=this.getContainer();a&&("number"==typeof a&&(a+="px"),b.style.width=a)},f.prototype.resized=function(){var a=this._eventBus;a.fire("sheet.resized")}},{"lodash/collection/every":575,"lodash/collection/forEach":578,"lodash/lang/isNumber":682,"lodash/object/assign":686}],715:[function(a,b,c){b.exports={__depends__:[a("../draw")],__init__:["sheet"],sheet:["type",a("./Sheet")],elementRegistry:["type",a("./ElementRegistry")],elementFactory:["type",a("./ElementFactory")],graphicsFactory:["type",a("./GraphicsFactory")],eventBus:["type",a("diagram-js/lib/core/EventBus")]}},{"../draw":717,"./ElementFactory":711,"./ElementRegistry":712,"./GraphicsFactory":713,"./Sheet":714,"diagram-js/lib/core/EventBus":737}],716:[function(a,b,c){"use strict";function d(a,b){for(var c=0,d=a.column;d&&d!==b.column;)d=d.next,c++;return d?c:-1}function e(a,b){for(var c=0,d=a.row;d&&d!==b.row;)d=d.next,c++;return d?c:-1}function f(a,b){this._elementRegistry=a,this._eventBus=b}var g=a("lodash/collection/forEach");f.$inject=["elementRegistry","eventBus"],b.exports=f,f.prototype.drawRow=function(a,b){return this._eventBus.fire("row.render",{gfx:a,data:b}),a},f.prototype.drawColumn=function(a,b){return this._eventBus.fire("column.render",{gfx:a,data:b}),a},f.prototype.drawCell=function(a,b){b.colspan&&a.setAttribute("colspan",b.colspan),b.rowspan&&a.setAttribute("rowspan",b.rowspan),a.setAttribute("style","");var c=this._elementRegistry.filter(function(a){return"cell"===a._type&&a.row===b.row});return g(c,function(c){var e=d(c,b);c.colspan&&e>0&&e<c.colspan&&a.setAttribute("style","display: none;")}),c=this._elementRegistry.filter(function(a){return"cell"===a._type&&a.column===b.column}),g(c,function(c){var d=e(c,b);c.rowspan&&d>0&&d<c.rowspan&&a.setAttribute("style","display: none;")}),b.content?"string"!=typeof b.content||b.content.tagName?b.content.tagName&&a.childNodes[0].appendChild(b.content):a.childNodes[0].textContent=b.content:a.childNodes[0].textContent="",this._eventBus.fire("cell.render",{gfx:a,data:b}),a}},{"lodash/collection/forEach":578}],717:[function(a,b,c){b.exports={renderer:["type",a("./Renderer")]}},{"./Renderer":716}],718:[function(a,b,c){b.exports='<div>\r\n  <label></label>\r\n  <input tabindex="0" />\r\n  <span class="cb-caret"></span>\r\n</div>\r\n'},{}],719:[function(a,b,c){"use strict";function d(a){var b=this,c=e(i),d=a.label,g=a.classNames,j=a.options,k=a.dropdownClassNames;this._dropdown=document.createElement("ul"),this._template=c,this._dropdownOpen=!1,this._disabled=!1,this._listeners={},h(g,function(a){f(c).add(a)}),h(k,function(a){f(b._dropdown).add(a)}),h(j,function(a){var c=document.createElement("li");c.setAttribute("tabindex","1"),c.textContent=a,b._dropdown.appendChild(c)}),d&&(c.querySelector("label").textContent=d+":"),c.querySelector("span").addEventListener("click",function(a){b._toggleDropdown(j),a.stopPropagation()}),document.body.addEventListener("click",function(a){b._closeDropdown()});var l=function(a){var c=a.target.textContent;j.indexOf(c)!==-1&&b.setValue(a.target.textContent)};if(this._dropdown.addEventListener("click",function(a){l(a),a.stopPropagation(),b._closeDropdown()}),this._dropdown.addEventListener("focus",l,!0),!a.disableKeyboard){var m=function(a){var c=a.which||a.keyCode;27===c?b._closeDropdown():13===c?b._toggleDropdown(j):9===c||40===c?(a.preventDefault(),b._focusNext(9===c&&a.shiftKey)):38===c&&(a.preventDefault(),b._focusNext(!0))};this._dropdown.addEventListener("keydown",m),this._template.querySelector("input").addEventListener("keydown",m)}return this._template.querySelector("input").addEventListener("input",function(a){var c=j.filter(function(a){return a.toLowerCase().indexOf(b._template.querySelector("input").value.toLowerCase())!==-1});b._openDropdown(c),b._fireEvent("valueChanged",{newValue:b._template.querySelector("input").value})}),this}var e=a("min-dom/lib/domify"),f=a("min-dom/lib/classes"),g=a("lodash/object/assign"),h=a("lodash/collection/forEach"),i=a("./ComboBoxTemplate.html");d.prototype._focusNext=function(a){if(!this._isDropdownOpen())return void this._openDropdown();var b,c=document.activeElement;for(c===this._template.querySelector("input")?b=this._dropdown[a?"lastChild":"firstChild"]:c.parentNode===this._dropdown&&(b=c[a?"previousSibling":"nextSibling"]);b&&"none"===b.style.display;)b=b[a?"previousSibling":"nextSibling"];b||(b=this._template.querySelector("input")),b.focus()},d.prototype._toggleDropdown=function(a){this._isDropdownOpen()?this._closeDropdown():this._openDropdown(a)},d.prototype._openedDropdown=null,d.prototype._isDropdownOpen=function(){return this._dropdownOpen},d.prototype._closeDropdown=function(){this._isDropdownOpen()&&(this._dropdownOpen=!1,d.prototype._openedDropdown=null,f(this._template).remove("expanded"),this._dropdown.parentNode.removeChild(this._dropdown))},d.prototype._openDropdown=function(a){if(d.prototype._openedDropdown&&d.prototype._openedDropdown._closeDropdown(),a&&0===a.length||this._disabled)return void this._closeDropdown();h(this._dropdown.childNodes,function(b){a&&a.indexOf(b.textContent)===-1?b.style.display="none":b.style.display="block"});for(var b=this._template.querySelector("input"),c=b,e={x:0,y:0};c;)e.x+=c.offsetLeft,e.y+=c.offsetTop,c=c.offsetParent;g(this._dropdown.style,{display:"block",position:"fixed",top:e.y+b.clientHeight+"px",left:e.x+"px",width:b.clientWidth+"px","z-index":9001}),document.body.appendChild(this._dropdown),d.prototype._openedDropdown=this,this._dropdownOpen=!0,f(this._template).add("expanded")},d.prototype._fireEvent=function(a,b){h(this._listeners[a],function(a){a(b)})},d.prototype.setValue=function(a){this._fireEvent("valueChanged",{oldValue:this._template.querySelector("input").value,newValue:a}),this._template.querySelector("input").value=a},d.prototype.getValue=function(){return this._template.querySelector("input").value},d.prototype.getNode=function(){return this._template},d.prototype.addEventListener=function(a,b){this._listeners[a]=this._listeners[a]||[],this._listeners[a].push(b)},d.prototype.disable=function(){this._disabled=!0,this._template.querySelector("input").setAttribute("disabled","true")},d.prototype.enable=function(){this._disabled=!1,this._template.querySelector("input").setAttribute("disabled","false")},b.exports=d},{"./ComboBoxTemplate.html":718,"lodash/collection/forEach":578,"lodash/object/assign":686,"min-dom/lib/classes":695,"min-dom/lib/domify":697}],720:[function(a,b,c){"use strict";function d(a,b,c){this._eventBus=a,this._elementRegistry=b,this._sheet=c,this.setupListeners()}var e=a("lodash/object/assign"),f=a("min-dom/lib/classes"),g=a("min-dom/lib/remove");d.prototype.setupListeners=function(){var a=this._eventBus,b=this._elementRegistry,c=this;document.body.addEventListener("click",function(a){a.preventDialogClose||c.close()}),document.body.addEventListener("keydown",function(a){a.preventDialogClose||27!==a.keyCode||c.close()}),window.addEventListener("hashchange",function(a){c.close()}),a.on(["table.scroll","table.destroy","popupmenu.open"],this.close,this),a.on("element.click",function(a){var c,d,e;this.close(),a.originalEvent&&(a.originalEvent.preventDialogClose=!0),a.element&&a.element.complex&&(e=a.element,c=b.getGraphics(e),d=c.getBoundingClientRect(),e.complex.position={x:d.left,y:d.top},this.open(e.complex))},this)},d.prototype.close=function(){this._current&&(this._eventBus.fire("complexCell.close",this._current),g(this._current.container),this._current=null)},d.prototype.isOpen=function(){return!!this._current},d.prototype._createContainer=function(a,b){var c=document.createElement("div");if(e(c.style,{position:"fixed",left:b.x+"px",top:b.y+"px",width:"auto",height:"auto","z-index":9e3}),c.addEventListener("click",function(a){a.stopPropagation()}),"string"==typeof a)f(c).add(a);else for(var d=0;d<a.length;d++)f(c).add(a[d]);return c},d.prototype.open=function(a){var b=this._eventBus,c=this._sheet,d=a.className||"complex-cell",e=a.template;this.isOpen()&&this.close();var f={x:a.position.x+(a.offset&&a.offset.x||0),y:a.position.y+(a.offset&&a.offset.y||0)},g=c.getContainer(),h=this._createContainer(d,f);return this._attachContainer(h,g),this._attachContent(e,h),this._current={container:h,config:a},b.fire("complexCell.open",this._current),this},d.prototype._attachContainer=function(a,b){b.appendChild(a)},d.prototype._attachContent=function(a,b){b.appendChild(a)},d.$inject=["eventBus","elementRegistry","sheet"],b.exports=d},{"lodash/object/assign":686,"min-dom/lib/classes":695,"min-dom/lib/remove":700}],721:[function(a,b,c){"use strict";b.exports={__init__:["complexCell"],complexCell:["type",a("./ComplexCell")]}},{"./ComplexCell":720}],722:[function(a,b,c){"use strict";function d(a){this._eventBus=a,this.controlsContainer;var b=this;a.on(["sheet.init","sheet.cleared"],function(c){var d=c.sheet.parentNode,f=d.querySelector(".tjs-controls");f&&d.removeChild(f);var g=document.createElement("div");e(g).add("tjs-controls"),b.controlsContainer=g,d.appendChild(g),a.fire("controls.init",{node:g,controls:b})})}var e=a("min-dom/lib/classes");d.prototype.addControl=function(a,b){this._eventBus.fire("controls.add",{label:a});var c=document.createElement("button");return c.textContent=a,c.addEventListener("click",b),this.controlsContainer.appendChild(c),this._eventBus.fire("controls.added",{label:a,node:c}),c},d.$inject=["eventBus"],b.exports=d},{"min-dom/lib/classes":695}],723:[function(a,b,c){"use strict";b.exports={__init__:["controls"],controls:["type",a("./Controls")]
}},{"./Controls":722}],724:[function(a,b,c){"use strict";function d(a,b){function c(c,d){var e,f=d.delegateTarget||d.target,g=f,h=b.get(g);g&&h&&(e=a.fire(c,{element:h,gfx:g,originalEvent:d}),e===!1&&(d.stopPropagation(),d.preventDefault()))}function d(a){var b=p[a];return b||(b=p[a]=function(b){(g(b)||"element.contextmenu"===a)&&c(a,b)}),b}function h(a){return"focus"===a||"blur"===a}function i(a,b,c){var e=d(c);e.$delegate=f.bind(a,r,b,e,h(b))}function j(a,b,c){f.unbind(a,b,d(c).$delegate,h(b))}function k(a){e(q,function(b,c){i(a,c,b)})}function l(a){e(q,function(b,c){j(a,c,b)})}function m(b){var c=p.scroll;return c||(c=p.scroll=function(c){c.target.contains(b)&&a.fire("table.scroll",{gfx:c.target,originalEvent:c})}),c}function n(a){document.addEventListener("scroll",m(a),!0)}function o(a){document.removeEventListener("scroll",m(a),!0)}var p={},q={mouseover:"element.hover",mouseout:"element.out",click:"element.click",dblclick:"element.dblclick",mousedown:"element.mousedown",mousemove:"element.mousemove",mouseup:"element.mouseup",focus:"element.focus",blur:"element.blur",input:"element.input",contextmenu:"element.contextmenu"},r="td,th";a.on("sheet.destroy",function(a){l(a.sheet),o(a.sheet)}),a.on("sheet.init",function(a){k(a.sheet),n(a.sheet)}),this.fire=c,this.mouseHandler=d,this.registerEvent=i,this.unregisterEvent=j}var e=a("lodash/collection/forEach"),f=a("min-dom/lib/delegate"),g=a("diagram-js/lib/util/Mouse").isPrimaryButton;d.$inject=["eventBus","elementRegistry"],b.exports=d},{"diagram-js/lib/util/Mouse":742,"lodash/collection/forEach":578,"min-dom/lib/delegate":696}],725:[function(a,b,c){b.exports={__init__:["interactionEvents"],interactionEvents:["type",a("./InteractionEvents")]}},{"./InteractionEvents":724}],726:[function(a,b,c){"use strict";function d(a,b){this._sheet=b,this._utilityColumn=null;var c=this;a.on("utilityColumn.added",function(a){var b=a.column;this._utilityColumn=b,this.updateLineNumbers()},this),a.on(["cells.added","row.removed","row.moved"],e(c.updateLineNumbers.bind(c),100,{leading:!0,trailing:!0})),a.on(["sheet.clear","sheet.destroy"],f,function(){this._utilityColumn=null},this)}var e=a("lodash/function/debounce"),f=150;d.$inject=["eventBus","sheet"],b.exports=d,d.prototype.updateLineNumbers=function(){if(this._utilityColumn&&this._sheet.getLastRow("body")){for(var a=this._sheet.getLastRow("body");a.previous;)a=a.previous;for(var b=1;a;)this._sheet.setCellContent({row:a,column:this._utilityColumn,content:b}),b++,a=a.next}}},{"lodash/function/debounce":584}],727:[function(a,b,c){b.exports={__init__:["lineNumbers"],__depends__:[a("../utility-column")],lineNumbers:["type",a("./LineNumbers")]}},{"../utility-column":732,"./LineNumbers":726}],728:[function(a,b,c){"use strict";function d(a,b,c){this.tableName=c,this.node=e('<header><h3 class="tjs-table-name">'+this.tableName+"</h3></header>");var d=this;a.on(["sheet.init","sheet.cleared"],function(c){b.getContainer().insertBefore(d.node,b.getRootElement()),a.fire("tableName.init",{node:d.node.querySelector("h3")})}),a.on("sheet.destroy",function(c){b.getContainer().removeChild(d.node),a.fire("tableName.destroy",{node:d.node.querySelector("h3")})})}var e=a("min-dom/lib/domify");d.$inject=["eventBus","sheet","config.tableName"],b.exports=d,d.prototype.setName=function(a){this.tableName=a,this.node.querySelector("h3").textContent=a},d.prototype.getName=function(){return this.tableName},d.prototype.getNode=function(){return this.node.querySelector("h3")}},{"min-dom/lib/domify":697}],729:[function(a,b,c){"use strict";function d(a,b){this.column=null,a.on(["sheet.init","sheet.cleared"],function(c){a.fire("utilityColumn.add",c),this.column=b.addColumn({id:"utilityColumn"}),a.fire("utilityColumn.added",{column:this.column})},this),a.on(["sheet.clear","sheet.destroy"],function(c){a.fire("utilityColumn.destroy",{column:this.column}),b.removeColumn({id:"utilityColumn"}),a.fire("utilityColumn.destroyed",{column:this.column}),this.column=null},this)}d.$inject=["eventBus","sheet"],b.exports=d,d.prototype.getColumn=function(){return this.column}},{}],730:[function(a,b,c){"use strict";function d(a,b){a.on("cell.render",function(a){a.data.column!==b.getColumn()||a.data.row.isFoot||(a.gfx.childNodes[0].textContent=a.data.content,e(a.gfx).add(a.data.row.isHead?"hit":"number"),a.gfx.style.width="45px")})}var e=a("min-dom/lib/classes");d.$inject=["eventBus","utilityColumn"],b.exports=d},{"min-dom/lib/classes":695}],731:[function(a,b,c){"use strict";function d(a,b){f.call(this,a),this._utilityColumn=b}var e=a("inherits"),f=a("diagram-js/lib/features/rules/RuleProvider");e(d,f),d.$inject=["eventBus","utilityColumn"],b.exports=d,d.prototype.init=function(){var a=this;this.addRule("cell.edit",function(b){if(b.column===a._utilityColumn.getColumn())return!1})}},{"diagram-js/lib/features/rules/RuleProvider":738,inherits:568}],732:[function(a,b,c){b.exports={__init__:["utilityColumn","utilityColumnRules","utilityColumnRenderer"],__depends__:[a("diagram-js/lib/command"),a("diagram-js/lib/features/rules")],utilityColumn:["type",a("./UtilityColumn")],utilityColumnRules:["type",a("./UtilityColumnRules")],utilityColumnRenderer:["type",a("./UtilityColumnRenderer")]}},{"./UtilityColumn":729,"./UtilityColumnRenderer":730,"./UtilityColumnRules":731,"diagram-js/lib/command":736,"diagram-js/lib/features/rules":740}],733:[function(a,b,c){"use strict";function d(){Object.defineProperty(this,"businessObject",{writable:!0})}function e(){d.call(this)}function f(){d.call(this)}function g(){d.call(this)}var h=a("lodash/object/assign"),i=a("inherits");i(e,d),i(f,d),i(g,d);var j={table:e,row:f,column:g};b.exports.create=function(a,b){var c=j[a];if(!c)throw new Error("unknown type: <"+a+">");return h(new c,b)},b.exports.Table=e,b.exports.Row=f,b.exports.Column=g},{inherits:568,"lodash/object/assign":686}],734:[function(a,b,c){arguments[4][305][0].apply(c,arguments)},{dup:305,"lodash/collection/forEach":578,"lodash/lang/isArray":679,"lodash/lang/isFunction":680,"lodash/lang/isNumber":682}],735:[function(a,b,c){"use strict";function d(a,b){this._handlerMap={},this._stack=[],this._stackIdx=-1,this._currentExecution={actions:[],dirty:[]},this._injector=b,this._eventBus=a,this._uid=1,a.on(["diagram.destroy","diagram.clear"],this.clear,this)}var e=a("lodash/array/unique"),f=a("lodash/lang/isArray"),g=a("lodash/object/assign"),h=a("../core/EventBus").Event;d.$inject=["eventBus","injector"],b.exports=d,d.prototype.execute=function(a,b){if(!a)throw new Error("command required");var c={command:a,context:b};this._pushAction(c),this._internalExecute(c),this._popAction(c)},d.prototype.canExecute=function(a,b){var c={command:a,context:b},d=this._getHandler(a),e=this._fire(a,"canExecute",c);if(void 0===e){if(!d)return!1;d.canExecute&&(e=d.canExecute(b))}return e},d.prototype.clear=function(){this._stack.length=0,this._stackIdx=-1,this._fire("changed")},d.prototype.undo=function(){var a,b=this._getUndoAction();if(b){for(this._pushAction(b);b&&(this._internalUndo(b),a=this._getUndoAction(),a&&a.id===b.id);)b=a;this._popAction()}},d.prototype.redo=function(){var a,b=this._getRedoAction();if(b){for(this._pushAction(b);b&&(this._internalExecute(b,!0),a=this._getRedoAction(),a&&a.id===b.id);)b=a;this._popAction()}},d.prototype.register=function(a,b){this._setHandler(a,b)},d.prototype.registerHandler=function(a,b){if(!a||!b)throw new Error("command and handlerCls must be defined");var c=this._injector.instantiate(b);this.register(a,c)},d.prototype.canUndo=function(){return!!this._getUndoAction()},d.prototype.canRedo=function(){return!!this._getRedoAction()},d.prototype._getRedoAction=function(){return this._stack[this._stackIdx+1]},d.prototype._getUndoAction=function(){return this._stack[this._stackIdx]},d.prototype._internalUndo=function(a){var b=this,c=a.command,d=a.context,e=this._getHandler(c);this._atomicDo(function(){b._fire(c,"revert",a),e.revert&&b._markDirty(e.revert(d)),b._revertedAction(a),b._fire(c,"reverted",a)})},d.prototype._fire=function(a,b,c){arguments.length<3&&(c=b,b=null);var d,e,f,i=b?[a+"."+b,b]:[a];for(c=g(new h,c),d=0;(e=i[d])&&(f=this._eventBus.fire("commandStack."+e,c),!c.cancelBubble);d++);return f},d.prototype._createId=function(){return this._uid++},d.prototype._atomicDo=function(a){var b=this._currentExecution;b.atomic=!0;try{a()}finally{b.atomic=!1}},d.prototype._internalExecute=function(a,b){var c=this,d=a.command,e=a.context,f=this._getHandler(d);if(!f)throw new Error("no command handler registered for <"+d+">");this._pushAction(a),b||(this._fire(d,"preExecute",a),f.preExecute&&f.preExecute(e),this._fire(d,"preExecuted",a)),this._atomicDo(function(){c._fire(d,"execute",a),f.execute&&c._markDirty(f.execute(e)),c._executedAction(a,b),c._fire(d,"executed",a)}),b||(this._fire(d,"postExecute",a),f.postExecute&&f.postExecute(e),this._fire(d,"postExecuted",a)),this._popAction(a)},d.prototype._pushAction=function(a){var b=this._currentExecution,c=b.actions,d=c[0];if(b.atomic)throw new Error("illegal invocation in <execute> or <revert> phase (action: "+a.command+")");a.id||(a.id=d&&d.id||this._createId()),c.push(a)},d.prototype._popAction=function(){var a=this._currentExecution,b=a.actions,c=a.dirty;b.pop(),b.length||(this._eventBus.fire("elements.changed",{elements:e(c)}),c.length=0,this._fire("changed"))},d.prototype._markDirty=function(a){var b=this._currentExecution;a&&(a=f(a)?a:[a],b.dirty=b.dirty.concat(a))},d.prototype._executedAction=function(a,b){var c=++this._stackIdx;b||this._stack.splice(c,this._stack.length,a)},d.prototype._revertedAction=function(a){this._stackIdx--},d.prototype._getHandler=function(a){return this._handlerMap[a]},d.prototype._setHandler=function(a,b){if(!a||!b)throw new Error("command and handler required");if(this._handlerMap[a])throw new Error("overriding handler for command <"+a+">");this._handlerMap[a]=b}},{"../core/EventBus":737,"lodash/array/unique":572,"lodash/lang/isArray":679,"lodash/object/assign":686}],736:[function(a,b,c){b.exports={commandStack:["type",a("./CommandStack")]}},{"./CommandStack":735}],737:[function(a,b,c){"use strict";function d(){this._listeners={},this.on("diagram.destroy",1,this._destroy,this)}function e(){}function f(a,b){return a.apply(null,b)}var g=a("lodash/lang/isFunction"),h=a("lodash/lang/isArray"),i=a("lodash/lang/isNumber"),j=a("lodash/function/bind"),k=a("lodash/object/assign"),l="__fn",m=1e3,n=Array.prototype.slice;b.exports=d,d.prototype.on=function(a,b,c,d){if(a=h(a)?a:[a],g(b)&&(d=c,c=b,b=m),!i(b))throw new Error("priority must be a number");var e=c;d&&(e=j(c,d),e[l]=c[l]||c);var f=this,k={priority:b,callback:e};a.forEach(function(a){f._addListener(a,k)})},d.prototype.once=function(a,b,c,d){function e(){return f.off(a,e),c.apply(d,arguments)}var f=this;if(g(b)&&(d=c,c=b,b=m),!i(b))throw new Error("priority must be a number");e[l]=c,this.on(a,b,e)},d.prototype.off=function(a,b){var c,d,e,f=this._getListeners(a);if(b)for(e=f.length-1;c=f[e];e--)d=c.callback,d!==b&&d[l]!==b||f.splice(e,1);else f.length=0},d.prototype.fire=function(a,b){var c,d,f,g;if(g=n.call(arguments),"object"==typeof a&&(c=a,a=c.type),!a)throw new Error("no event type specified");if(d=this._listeners[a]){b instanceof e?c=b:(c=new e,c.init(b)),g[0]=c;var h=c.type;a!==h&&(c.type=a);try{f=this._invokeListeners(c,g,d)}finally{a!==h&&(c.type=h)}return void 0===f&&c.defaultPrevented&&(f=!1),f}},d.prototype.handleError=function(a){return this.fire("error",{error:a})===!1},d.prototype._destroy=function(){this._listeners={}},d.prototype._invokeListeners=function(a,b,c){var d,e,f;for(d=0;(e=c[d])&&!a.cancelBubble;d++)f=this._invokeListener(a,b,e);return f},d.prototype._invokeListener=function(a,b,c){var d;try{d=f(c.callback,b),void 0!==d&&(a.returnValue=d,a.stopPropagation()),d===!1&&a.preventDefault()}catch(e){if(!this.handleError(e))throw console.error("unhandled error in event listener"),console.error(e.stack),e}return d},d.prototype._addListener=function(a,b){var c,d,e=this._getListeners(a);for(d=0;c=e[d];d++)if(c.priority<b.priority)return void e.splice(d,0,b);e.push(b)},d.prototype._getListeners=function(a){var b=this._listeners[a];return b||(this._listeners[a]=b=[]),b},b.exports.Event=e,e.prototype.stopPropagation=function(){this.cancelBubble=!0},e.prototype.preventDefault=function(){this.defaultPrevented=!0},e.prototype.init=function(a){k(this,a||{})}},{"lodash/function/bind":583,"lodash/lang/isArray":679,"lodash/lang/isFunction":680,"lodash/lang/isNumber":682,"lodash/object/assign":686}],738:[function(a,b,c){arguments[4][315][0].apply(c,arguments)},{"../../command/CommandInterceptor":734,dup:315,inherits:568}],739:[function(a,b,c){arguments[4][316][0].apply(c,arguments)},{dup:316}],740:[function(a,b,c){arguments[4][317][0].apply(c,arguments)},{"./Rules":739,dup:317}],741:[function(a,b,c){arguments[4][334][0].apply(c,arguments)},{dup:334}],742:[function(a,b,c){arguments[4][337][0].apply(c,arguments)},{"./Event":741,"./Platform":743,dup:337}],743:[function(a,b,c){arguments[4][338][0].apply(c,arguments)},{dup:338}],744:[function(a,b,c){var d=function(a){return"[object Array]"===Object.prototype.toString.call(a)},e=function(){var a=Array.prototype.slice.call(arguments);1===a.length&&d(a[0])&&(a=a[0]);var b=a.pop();return b.$inject=a,b},f=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,g=/\/\*([^\*]*)\*\//m,h=function(a){if("function"!=typeof a)throw new Error('Cannot annotate "'+a+'". Expected a function!');var b=a.toString().match(f);return b[1]&&b[1].split(",").map(function(a){return b=a.match(g),b?b[1].trim():a.trim()})||[]};c.annotate=e,c.parse=h,c.isArray=d},{}],745:[function(a,b,c){b.exports={annotate:a("./annotation").annotate,Module:a("./module"),Injector:a("./injector")}},{"./annotation":744,"./injector":746,"./module":747}],746:[function(a,b,c){var d=a("./module"),e=a("./annotation").parse,f=a("./annotation").annotate,g=a("./annotation").isArray,h=function(a,b){b=b||{get:function(a,b){if(c.push(a),b===!1)return null;throw l('No provider for "'+a+'"!')}};var c=[],i=this._providers=Object.create(b._providers||null),j=this._instances=Object.create(null),k=j.injector=this,l=function(a){var b=c.join(" -> ");return c.length=0,new Error(b?a+" (Resolving: "+b+")":a)},m=function(a,d){if(!i[a]&&a.indexOf(".")!==-1){for(var e=a.split("."),f=m(e.shift());e.length;)f=f[e.shift()];return f}if(Object.hasOwnProperty.call(j,a))return j[a];if(Object.hasOwnProperty.call(i,a)){if(c.indexOf(a)!==-1)throw c.push(a),l("Cannot resolve circular dependency!");return c.push(a),j[a]=i[a][0](i[a][1]),c.pop(),j[a]}return b.get(a,d)},n=function(a){var b=Object.create(a.prototype),c=o(a,b);return"object"==typeof c?c:b},o=function(a,b){if("function"!=typeof a){if(!g(a))throw new Error('Cannot invoke "'+a+'". Expected a function!');a=f(a.slice())}var c=a.$inject&&a.$inject||e(a),d=c.map(function(a){return m(a)});return a.apply(b,d)},p=function(a){return f(function(b){return a.get(b)})},q=function(a,b){if(b&&b.length){var c,d,e,f,g=Object.create(null),j=Object.create(null),l=[],m=[],n=[];for(var o in i)c=i[o],b.indexOf(o)!==-1&&("private"===c[2]?(d=l.indexOf(c[3]),d===-1?(e=c[3].createChild([],b),f=p(e),l.push(c[3]),m.push(e),n.push(f),g[o]=[f,o,"private",e]):g[o]=[n[d],o,"private",m[d]]):g[o]=[c[2],c[1]],j[o]=!0),"factory"!==c[2]&&"type"!==c[2]||!c[1].$scope||b.forEach(function(a){c[1].$scope.indexOf(a)!==-1&&(g[o]=[c[2],c[1]],j[a]=!0)});b.forEach(function(a){if(!j[a])throw new Error('No provider for "'+a+'". Cannot use provider from the parent!')}),a.unshift(g)}return new h(a,k)},r={factory:o,type:n,value:function(a){return a}};a.forEach(function(a){function b(a,b){return"value"!==a&&g(b)&&(b=f(b.slice())),b}if(a instanceof d)a.forEach(function(a){var c=a[0],d=a[1],e=a[2];i[c]=[r[d],b(d,e),d]});else if("object"==typeof a)if(a.__exports__){var c=Object.keys(a).reduce(function(b,c){return"__"!==c.substring(0,2)&&(b[c]=a[c]),b},Object.create(null)),e=new h((a.__modules__||[]).concat([c]),k),j=f(function(a){return e.get(a)});a.__exports__.forEach(function(a){i[a]=[j,a,"private",e]})}else Object.keys(a).forEach(function(c){if("private"===a[c][2])return void(i[c]=a[c]);var d=a[c][0],e=a[c][1];i[c]=[r[d],b(d,e),d]})}),this.get=m,this.invoke=o,this.instantiate=n,this.createChild=q};b.exports=h},{"./annotation":744,"./module":747}],747:[function(a,b,c){var d=function(){var a=[];this.factory=function(b,c){return a.push([b,"factory",c]),this},this.value=function(b,c){return a.push([b,"value",c]),this},this.type=function(b,c){return a.push([b,"type",c]),this},this.forEach=function(b){a.forEach(b)}};b.exports=d},{}],748:[function(a,b,c){arguments[4][259][0].apply(c,arguments)},{"./appendTo":749,dup:259}],749:[function(a,b,c){arguments[4][260][0].apply(c,arguments)},{"./util/ensureImported":755,dup:260}],750:[function(a,b,c){arguments[4][261][0].apply(c,arguments)},{dup:261}],751:[function(a,b,c){arguments[4][263][0].apply(c,arguments)},{"./remove":754,dup:263}],752:[function(a,b,c){arguments[4][264][0].apply(c,arguments)},{"./attr":750,"./util/ns":756,"./util/parse":757,dup:264}],753:[function(a,b,c){arguments[4][265][0].apply(c,arguments)},{"./appendTo":749,"./clear":751,"./util/parse":757,"./util/serialize":758,dup:265}],754:[function(a,b,c){arguments[4][266][0].apply(c,arguments)},{dup:266}],755:[function(a,b,c){arguments[4][267][0].apply(c,arguments)},{dup:267}],756:[function(a,b,c){arguments[4][268][0].apply(c,arguments)},{dup:268}],757:[function(a,b,c){arguments[4][269][0].apply(c,arguments)},{"./ns":756,dup:269}],758:[function(a,b,c){arguments[4][270][0].apply(c,arguments)},{dup:270}],759:[function(a,b,c){function d(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function e(a){return"function"==typeof a}function f(a){return"number"==typeof a}function g(a){return"object"==typeof a&&null!==a}function h(a){return void 0===a}b.exports=d,d.EventEmitter=d,d.prototype._events=void 0,d.prototype._maxListeners=void 0,d.defaultMaxListeners=10,d.prototype.setMaxListeners=function(a){if(!f(a)||a<0||isNaN(a))throw TypeError("n must be a positive number");return this._maxListeners=a,this},d.prototype.emit=function(a){var b,c,d,f,i,j;if(this._events||(this._events={}),"error"===a&&(!this._events.error||g(this._events.error)&&!this._events.error.length)){if(b=arguments[1],b instanceof Error)throw b;throw TypeError('Uncaught, unspecified "error" event.')}if(c=this._events[a],h(c))return!1;if(e(c))switch(arguments.length){case 1:c.call(this);break;case 2:c.call(this,arguments[1]);break;case 3:c.call(this,arguments[1],arguments[2]);break;default:f=Array.prototype.slice.call(arguments,1),c.apply(this,f)}else if(g(c))for(f=Array.prototype.slice.call(arguments,1),j=c.slice(),d=j.length,i=0;i<d;i++)j[i].apply(this,f);return!0},d.prototype.addListener=function(a,b){var c;if(!e(b))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",a,e(b.listener)?b.listener:b),this._events[a]?g(this._events[a])?this._events[a].push(b):this._events[a]=[this._events[a],b]:this._events[a]=b,g(this._events[a])&&!this._events[a].warned&&(c=h(this._maxListeners)?d.defaultMaxListeners:this._maxListeners,c&&c>0&&this._events[a].length>c&&(this._events[a].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[a].length),"function"==typeof console.trace&&console.trace())),this},d.prototype.on=d.prototype.addListener,d.prototype.once=function(a,b){function c(){this.removeListener(a,c),d||(d=!0,b.apply(this,arguments))}if(!e(b))throw TypeError("listener must be a function");var d=!1;return c.listener=b,this.on(a,c),this},d.prototype.removeListener=function(a,b){var c,d,f,h;if(!e(b))throw TypeError("listener must be a function");if(!this._events||!this._events[a])return this;if(c=this._events[a],f=c.length,d=-1,c===b||e(c.listener)&&c.listener===b)delete this._events[a],this._events.removeListener&&this.emit("removeListener",a,b);else if(g(c)){for(h=f;h-- >0;)if(c[h]===b||c[h].listener&&c[h].listener===b){d=h;break}if(d<0)return this;1===c.length?(c.length=0,delete this._events[a]):c.splice(d,1),this._events.removeListener&&this.emit("removeListener",a,b)}return this},d.prototype.removeAllListeners=function(a){var b,c;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[a]&&delete this._events[a],this;if(0===arguments.length){for(b in this._events)"removeListener"!==b&&this.removeAllListeners(b);return this.removeAllListeners("removeListener"),this._events={},this}if(c=this._events[a],e(c))this.removeListener(a,c);else if(c)for(;c.length;)this.removeListener(a,c[c.length-1]);return delete this._events[a],this},d.prototype.listeners=function(a){var b;return b=this._events&&this._events[a]?e(this._events[a])?[this._events[a]]:this._events[a].slice():[]},d.prototype.listenerCount=function(a){if(this._events){var b=this._events[a];if(e(b))return 1;if(b)return b.length}return 0},d.listenerCount=function(a,b){return a.listenerCount(b)}},{}],760:[function(a,b,c){!function(a,c,d){function e(a,b,c){return a.addEventListener?void a.addEventListener(b,c,!1):void a.attachEvent("on"+b,c)}function f(a){if("keypress"==a.type){var b=String.fromCharCode(a.which);return a.shiftKey||(b=b.toLowerCase()),b}return s[a.which]?s[a.which]:t[a.which]?t[a.which]:String.fromCharCode(a.which).toLowerCase()}function g(a,b){return a.sort().join(",")===b.sort().join(",")}function h(a){var b=[];return a.shiftKey&&b.push("shift"),a.altKey&&b.push("alt"),a.ctrlKey&&b.push("ctrl"),a.metaKey&&b.push("meta"),b}function i(a){return a.preventDefault?void a.preventDefault():void(a.returnValue=!1)}function j(a){return a.stopPropagation?void a.stopPropagation():void(a.cancelBubble=!0)}function k(a){return"shift"==a||"ctrl"==a||"alt"==a||"meta"==a}function l(){if(!r){r={};for(var a in s)a>95&&a<112||s.hasOwnProperty(a)&&(r[s[a]]=a)}return r}function m(a,b,c){return c||(c=l()[a]?"keydown":"keypress"),"keypress"==c&&b.length&&(c="keydown"),c}function n(a){return"+"===a?["+"]:(a=a.replace(/\+{2}/g,"+plus"),a.split("+"))}function o(a,b){var c,d,e,f=[];for(c=n(a),e=0;e<c.length;++e)d=c[e],v[d]&&(d=v[d]),b&&"keypress"!=b&&u[d]&&(d=u[d],f.push("shift")),k(d)&&f.push(d);return b=m(d,f,b),{key:d,modifiers:f,action:b}}function p(a,b){return null!==a&&a!==c&&(a===b||p(a.parentNode,b))}function q(a){function b(a){a=a||{};var b,c=!1;for(b in u)a[b]?c=!0:u[b]=0;c||(x=!1)}function d(a,b,c,d,e,f){var h,i,j=[],l=c.type;if(!s._callbacks[a])return[];for("keyup"==l&&k(a)&&(b=[a]),h=0;h<s._callbacks[a].length;++h)if(i=s._callbacks[a][h],(d||!i.seq||u[i.seq]==i.level)&&l==i.action&&("keypress"==l&&!c.metaKey&&!c.ctrlKey||g(b,i.modifiers))){var m=!d&&i.combo==e,n=d&&i.seq==d&&i.level==f;(m||n)&&s._callbacks[a].splice(h,1),j.push(i)}return j}function l(a,b,c,d){s.stopCallback(b,b.target||b.srcElement,c,d)||a(b,c)===!1&&(i(b),j(b))}function m(a){"number"!=typeof a.which&&(a.which=a.keyCode);var b=f(a);if(b)return"keyup"==a.type&&v===b?void(v=!1):void s.handleKey(b,h(a),a)}function n(){clearTimeout(t),t=setTimeout(b,1e3)}function p(a,c,d,e){function g(b){return function(){x=b,++u[a],n()}}function h(c){l(d,c,a),"keyup"!==e&&(v=f(c)),setTimeout(b,10)}u[a]=0;for(var i=0;i<c.length;++i){var j=i+1===c.length,k=j?h:g(e||o(c[i+1]).action);r(c[i],k,e,a,i)}}function r(a,b,c,e,f){s._directMap[a+":"+c]=b,a=a.replace(/\s+/g," ");var g,h=a.split(" ");return h.length>1?void p(a,h,b,c):(g=o(a,c),s._callbacks[g.key]=s._callbacks[g.key]||[],d(g.key,g.modifiers,{type:g.action},e,a,f),void s._callbacks[g.key][e?"unshift":"push"]({callback:b,modifiers:g.modifiers,action:g.action,seq:e,level:f,combo:a}))}var s=this;if(a=a||c,!(s instanceof q))return new q(a);s.target=a,s._callbacks={},s._directMap={};var t,u={},v=!1,w=!1,x=!1;s._handleKey=function(a,c,e){var f,g=d(a,c,e),h={},i=0,j=!1;for(f=0;f<g.length;++f)g[f].seq&&(i=Math.max(i,g[f].level));for(f=0;f<g.length;++f)if(g[f].seq){if(g[f].level!=i)continue;j=!0,h[g[f].seq]=1,l(g[f].callback,e,g[f].combo,g[f].seq)}else j||l(g[f].callback,e,g[f].combo);var m="keypress"==e.type&&w;e.type!=x||k(a)||m||b(h),w=j&&"keydown"==e.type},s._bindMultiple=function(a,b,c){for(var d=0;d<a.length;++d)r(a[d],b,c)},e(a,"keypress",m),e(a,"keydown",m),e(a,"keyup",m)}for(var r,s={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},t={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},u={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},v={option:"alt",command:"meta","return":"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},w=1;w<20;++w)s[111+w]="f"+w;for(w=0;w<=9;++w)s[w+96]=w;q.prototype.bind=function(a,b,c){var d=this;return a=a instanceof Array?a:[a],d._bindMultiple.call(d,a,b,c),d},q.prototype.unbind=function(a,b){var c=this;return c.bind.call(c,a,function(){},b)},q.prototype.trigger=function(a,b){var c=this;return c._directMap[a+":"+b]&&c._directMap[a+":"+b]({},a),c},q.prototype.reset=function(){var a=this;return a._callbacks={},a._directMap={},a},q.prototype.stopCallback=function(a,b){var c=this;return!((" "+b.className+" ").indexOf(" mousetrap ")>-1)&&(!p(b,c.target)&&("INPUT"==b.tagName||"SELECT"==b.tagName||"TEXTAREA"==b.tagName||b.isContentEditable))},q.prototype.handleKey=function(){var a=this;return a._handleKey.apply(a,arguments)},q.init=function(){var a=q(c);for(var b in a)"_"!==b.charAt(0)&&(q[b]=function(b){return function(){return a[b].apply(a,arguments)}}(b))},q.init(),a.Mousetrap=q,"undefined"!=typeof b&&b.exports&&(b.exports=q),"function"==typeof define&&define.amd&&define(function(){return q})}(window,document)},{}],761:[function(a,b,c){"use strict";var d='<!-- EE # src/main/resources-plugin/cockpit/drd/app/definition/tabs/decision-instances/component/drd-decision-instances-pagination.html -->\n<pagination ng-if="Pagination.total > Pagination.pages.size"\n            class="pagination-sm"\n\n            page="Pagination.pages.current"\n            ng-model="Pagination.pages.current"\n\n            total-items="Pagination.total"\n            items-per-page="Pagination.pages.size"\n\n            boundary-links="true"></pagination>\n<!-- EE / src/main/resources-plugin/cockpit/drd/app/definition/tabs/decision-instances/component/drd-decision-instances-pagination.html -->\n';b.exports=function(){return{restrict:"A",template:d,controller:"CamPaginationController as Pagination",scope:{total:"=",onPaginationChange:"&camPagination"}}}},{}],762:[function(a,b,c){"use strict";var d='<div cam-widget-search\n     cam-widget-search-total="Searchable.pages.total"\n     cam-widget-search-valid-searches="Searchable.config.searches"\n     cam-widget-search-translations="Searchable.config.tooltips"\n     cam-widget-search-types="Searchable.config.types"\n     cam-widget-search-id="{{searchId}}"\n     cam-widget-search-operators="Searchable.config.operators"\n     cam-widget-search-storage-group="Searchable.storageGroup"\n     cam-widget-search-mode="filter">\n</div>\n<div cam-widget-loader\n     text-error="{{Searchable.loadingError}}"\n     text-empty="{{Searchable.textEmpty}}"\n     loading-state="{{Searchable.loadingState}}">\n\n  <div ng-transclude></div>\n\n  <pagination ng-if="Searchable.pages.total > Searchable.pages.size"\n              class="pagination-sm"\n              page="Searchable.pages.current"\n              ng-model="Searchable.pages.current"\n              total-items="Searchable.pages.total"\n              items-per-page="Searchable.pages.size"\n              boundary-links="true">\n  </pagination>\n</div>\n';b.exports=function(){return{restrict:"A",transclude:!0,template:d,controller:"CamPaginationSearchIntegrationController as Searchable",scope:{config:"=",loadingState:"=",loadingError:"@",arrayTypes:"=?",variableTypes:"=?",buildCustomQuery:"&",onSearchChange:"&",textEmpty:"@",storageGroup:"=",searchId:"@?",blocked:"="}}}},{}],763:[function(a,b,c){"use strict";var d='<ul class="nav nav-tabs"\n    ng-if="Tabs.providers.length > 1">\n  <li ng-repeat="tabProvider in Tabs.providers"\n      ng-class="{ active: Tabs.isSelected(tabProvider) }">\n    <a href ng-click="Tabs.selectTab(tabProvider)">{{ tabProvider.label | translate }}</a>\n  </li>\n</ul>\n\n<h4 ng-if="Tabs.providers.length === 1">{{ Tabs.providers[0].label }}:</h4>\n\n<div class="ctn-tabbed-content ctn-scroll"\n     ng-if="Tabs.providers.length">\n  <view provider="Tabs.selected"\n        vars="Tabs.vars" />\n</div>\n';b.exports=function(){return{restrict:"A",template:d,controller:"CamTabsController as Tabs",scope:{providerParams:"=camTabs",tabsApi:"=?",vars:"=?",varsValues:"=?"}}}},{}],764:[function(a,b,c){"use strict";var d='<!-- # CE - ui/common/scripts/module/components/cam-toolbar.html -->\n<div class="ctn-toolbar">\n  <!-- Toolbar actions are provided by plugins -->\n  <span ng-repeat="provider in providers">\n    <view provider="provider"\n          vars="vars" />\n  </span>\n</div>\n<!-- / CE - ui/common/scripts/module/components/cam-toolbar.html -->\n';b.exports=function(){return{restrict:"A",template:d,scope:{providers:"=camToolbar",vars:"=?"}}}},{}],765:[function(a,b,c){"use strict";function d(a,b,c,d,e){this.searchWidgetUtils=c,this.search=d,this.lastSearchQueryString=null,this.locationChange=!0,e(a,this,["config","arrayTypes","variableTypes","onSearchChange","buildCustomQuery","loadingError","loadingState","textEmpty","storageGroup","blocked"]),this.arrayTypes=g.isArray(this.arrayTypes)?this.arrayTypes:[],this.variableTypes=g.isArray(this.variableTypes)?this.variableTypes:[],this.pages={size:50,total:0,current:this.getCurrentPageFromSearch()};var f=function(){return this.pages.current}.bind(this);a.$watch(f,this.onPageChange.bind(this)),a.$on("$locationChangeSuccess",this.onLocationChange.bind(this)),a.$watch("config.searches",this.updateQuery.bind(this),!0),a.$watch("blocked",this.onBlockedChange.bind(this));var h=b.$on("cam-common:cam-searchable:query-force-change",this.onForcedRefresh.bind(this));a.$on("$destroy",function(){h()})}function e(a){return a&&a.map(function(a){return f(a)})}function f(a){var b=a.value&&a.value.value,c=a.type&&a.type.value.value,d=a.operator&&a.operator.value.key,e=a.name&&a.name.value;return{value:b,type:c,operator:d,name:e}}var g=a("camunda-commons-ui/vendor/angular");b.exports=["$scope","$rootScope","searchWidgetUtils","search","exposeScopeProperties",d],d.prototype.onForcedRefresh=function(){this.resetPage(),this.executeQueries()},d.prototype.onBlockedChange=function(a,b){!a&&b&&this.query&&this.executeQueries()},d.prototype.getSearchQueryString=function(){return this.search().searchQuery},d.prototype.hasSearchQueryStringChanged=function(){var a=this.getSearchQueryString();return a!==this.lastSearchQueryString&&(this.lastSearchQueryString||"[]"!==a)},d.prototype.onPageChange=function(a,b){var c=this.getCurrentPageFromSearch();a!=b&&a!==c&&(this.search("page",a&&1!=a?a:null),this.hasSearchQueryStringChanged()||this.executeQueries())},d.prototype.onLocationChange=function(){var a=this.getCurrentPageFromSearch();+this.pages.current!==+a&&(this.pages.current=a,this.hasSearchQueryStringChanged()?this.locationChange=!0:this.executeQueries())},d.prototype.getCurrentPageFromSearch=function(){return+this.search().page||1},d.prototype.updateQuery=function(a,b){this.areSearchesDifferent(a,b)&&(this.query=this.buildCustomQuery&&this.buildCustomQuery(a)||this.createQuery(a),this.locationChange||this.resetPage(),this.lastSearchQueryString=this.getSearchQueryString(),this.executeQueries())},d.prototype.resetPage=function(){var a=this.search();this.pages.current=1,a.page=1,this.search.updateSilently(a,!0);
},d.prototype.executeQueries=function(){this.query&&!this.blocked&&(this.locationChange=!1,this.onSearchChange({query:g.copy(this.query),pages:g.copy(this.pages)}).then(function(a){this.pages.total=a}.bind(this)))},d.prototype.createQuery=function(a){return this.searchWidgetUtils.createSearchQueryForSearchWidget(a,this.arrayTypes,this.variableTypes)},d.prototype.areSearchesDifferent=function(a,b){var c=e(a),d=e(b);return!g.equals(c,d)}},{"camunda-commons-ui/vendor/angular":300}],766:[function(a,b,c){"use strict";function d(a,b,c,d){c.initializePaginationInController(a,b,function(){a.onPaginationChange({pages:a.pages})}),d(a,this,["total","pages"]),a.onPaginationChange({pages:a.pages})}b.exports=["$scope","search","paginationUtils","exposeScopeProperties",d]},{}],767:[function(a,b,c){"use strict";function d(a,b,c){this.providers=this.getProviders(c,a),this.selected=this.providers[0],this.search=b,this.initializeVars(a),a.$on("$locationChangeSuccess",this.onLocationChange.bind(this)),this.onLocationChange()}function e(a,b){return(b.priority||0)-(a.priority||0)}var f=a("camunda-commons-ui/vendor/angular");b.exports=["$scope","search","Views",d],d.prototype.initializeVars=function(a){this.vars=a.vars||{read:["tabsApi"]},a.varsValues&&f.extend(a,a.varsValues)},d.prototype.getProviders=function(a,b){return a.getProviders(b.providerParams).sort(e)},d.prototype.onLocationChange=function(){var a=this.search();this.isTabSelectionChangedInUrl(a)?this.selected=this.providers.filter(function(b){return b.id===a.tab})[0]:a.tab||(this.selected=this.providers[0])},d.prototype.isTabSelectionChangedInUrl=function(a){return f.isString(a.tab)&&(!this.selected||a.tab!==this.selected.id)},d.prototype.selectTab=function(a){var b=this.search(),c={tab:a.id};this.selected=a,this.search.updateSilently(f.extend(b,c))},d.prototype.isSelected=function(a){return this.selected===a}},{"camunda-commons-ui/vendor/angular":300}],768:[function(a,b,c){"use strict";function d(){this._hovered=null,this._listeners=[]}b.exports=d,d.prototype.hoverTitle=function(a){this._hovered=a,this._fireListeners()},d.prototype.cleanHover=function(){this._hovered=null,this._fireListeners()},d.prototype.addHoverListener=function(a,b){var c={title:a,listener:b};return this._listeners.push(c),this._fireEntry(c),function(){this._listeners=this._listeners.filter(function(a){return a.listener!==b})}.bind(this)},d.prototype._fireListeners=function(){this._listeners.forEach(this._fireEntry.bind(this))},d.prototype._fireEntry=function(a){a.listener(a.title===this._hovered)}},{}],769:[function(a,b,c){"use strict";b.exports=["readFiles",function(a){return{restrict:"A",scope:{onChange:"&camFile"},link:function(b,c){c[0].addEventListener("change",function(d){b.$apply(function(){a(c[0].files).then(function(a){b.onChange({$event:d,files:a})})})})}}}]},{}],770:[function(a,b,c){"use strict";b.exports=function(){return{restrict:"A",transclude:!0,scope:!0,controller:"HoverAreaController as HoverArea",link:function(a,b,c,d,e){e(function(a){b.empty(),b.append(a)})}}}},{}],771:[function(a,b,c){"use strict";b.exports=function(){return{restrict:"A",require:"^camHoverArea",link:function(a,b,c,d){b.on("mouseenter",function(){a.$apply(function(){d.hoverTitle(c.camHoverTrigger)})}),b.on("mouseleave",function(){a.$apply(d.cleanHover.bind(d))})}}}},{}],772:[function(a,b,c){"use strict";b.exports=function(){return{restrict:"A",require:"^camHoverArea",link:function(a,b,c,d){function e(){f&&f()}var f,g=c.hoverClass||"hovered";c.$observe("camHoverableTitle",function(a){e(),f=d.addHoverListener(a,function(a){a?b.addClass(g):b.removeClass(g)})}),b.on("$destroy",e)}}}},{}],773:[function(a,b,c){"use strict";var d='<span cam-widget-inline-field\n  class="set-value"\n  type="{{type}}"\n  change="onChange()"\n  value="property">\n  <span ng-show="property == null" class="null-value">{{ \'TIME_TO_LIVE_NULL\' | translate }}</span>\n  <span ng-show="property != null">\n    {{format({property: property}) || property}}\n    <button type="button" class="btn btn-link btn-xs" ng-click="remove($event)">\n      <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>\n    </button>\n  </span>\n</span>\n';b.exports=function(){return{restrict:"A",template:d,scope:{property:"=camInlinePanelProperty",format:"&",onChange:"&",onRemove:"&",type:"@"},link:function(a){a.remove=function(b){b.preventDefault(),b.stopPropagation(),a.onRemove()}}}}},{}],774:[function(a,b,c){"use strict";var d='<!-- CE ui/common/scripts/module/external-tasks-common/components/external-task-activity-link.html -->\n<a ng-href="{{Link.getLink()}}">\n  {{Link.getActivityName()}}\n</a>\n<!-- / CE ui/common/scripts/module/external-tasks-common/components/external-task-activity-link.html -->\n';b.exports=function(){return{restrict:"A",template:d,controller:"ExternalTaskActivityLinkController as Link",scope:{activityId:"=externalTaskActivityLink",bpmnElements:"=",searchQueryType:"=?"}}}},{}],775:[function(a,b,c){"use strict";var d='<a ng-href="{{Link.getStacktraceUrl()}}" target="_blank" ng-transclude></a>\n';b.exports=function(){return{restrict:"A",template:d,transclude:!0,controller:"ExternalTaskErrorMessageLinkController as Link",scope:{taskId:"=externalTaskErrorMessageLink",historic:"=?"}}}},{}],776:[function(a,b,c){"use strict";var d='<!-- # EE - ui/common/scripts/module/external-tasks-common/components/external-tasks-tab.html -->\n<div cam-widget-loader\n     loading-state="{{ TasksTab.loadingState }}"\n     text-empty="{{ \'PLUGIN_EXTERNAL_TASK_NO_EXTERNAL_TASK_FOR_THIS_PROCESS\' | translate }}">\n\n  <!-- transclustion target -->\n  <div ng-transclude></div>\n  <!-- / transclustion target -->\n\n  <div cam-pagination="TasksTab.onPaginationChange(pages)" total="TasksTab.total" >\n  </div>\n</div>\n<!-- / EE - ui/common/scripts/module/external-tasks-common/components/external-tasks-tab.html -->\n';b.exports=function(){return{restrict:"A",template:d,transclude:!0,controller:"ExternalTasksTabController as TasksTab",scope:{onLoad:"&externalTasksTab",processData:"="}}}},{}],777:[function(a,b,c){"use strict";function d(a,b,c,d,e,f){b(a,this,["activityId","bpmnElements","searchQueryType"]),this.search=c,this.params=e,this.path=d.path(),this.searchWidgetUtils=f}var e=a("camunda-commons-ui/vendor/angular");b.exports=["$scope","exposeScopeProperties","search","$location","params","searchWidgetUtils",d],d.prototype.getLink=function(){var a=e.copy(this.search()),b=JSON.parse(a.searchQuery||"[]");return this.searchQueryType?a.searchQuery=JSON.stringify(this.searchWidgetUtils.replaceActivitiesInSearchQuery(b,this.searchQueryType,[this.activityId])):a.activityIds=this.activityId,"#"+this.path+"?"+this.params(a)},d.prototype.getActivityName=function(){var a=this.activityId;return this.bpmnElements[a]&&this.bpmnElements[a].name?this.bpmnElements[a].name:a}},{"camunda-commons-ui/vendor/angular":300}],778:[function(a,b,c){"use strict";function d(a,b,c){c(a,this,["taskId","historic"]),this.Uri=b}b.exports=["$scope","Uri","exposeScopeProperties",d],d.prototype.getStacktraceUrl=function(){var a="engine://engine/:engine/external-task/"+this.taskId+"/errorDetails";return this.historic&&(a="engine://engine/:engine/history/external-task-log/"+this.taskId+"/error-details"),this.Uri.appUri(a)}},{}],779:[function(a,b,c){"use strict";function d(a,b){b(a,this,["onLoad"]);var c=a.processData.newChild(a);c.observe("filter",this.onFilterChanged.bind(this))}function e(a){return a&&a.activityIds&&a.activityIds.length?a.activityIds:null}var f=a("camunda-commons-ui/vendor/angular");b.exports=["$scope","exposeScopeProperties",d],b.exports.ExternalTasksTabController=d,d.prototype.onFilterChanged=function(a){this.isFilterChanged(a)&&(this.filter=a,this.pages&&this.loadTasks())},d.prototype.isFilterChanged=function(a){var b=e(this.filter),c=e(a);return!this.filter||!f.equals(b,c)},d.prototype.onPaginationChange=function(a){this.pages=a,this.filter&&this.loadTasks()},d.prototype.loadTasks=function(){this.loadingState="LOADING",this.onLoad({pages:f.copy(this.pages),activityIds:e(this.filter)}).then(function(a){this.total=a.count,a.list?this.loadingState="LOADED":this.loadingState="EMPTY"}.bind(this))}},{"camunda-commons-ui/vendor/angular":300}],780:[function(a,b,c){"use strict";var d=a("camunda-commons-ui/vendor/angular"),e=a("./services/observe-bpmn-elements"),f=a("./components/external-task-activity-link"),g=a("./components/external-tasks-tab"),h=a("./components/external-task-error-message-link"),i=a("./controllers/external-task-activity-link-controller"),j=a("./controllers/external-tasks-tab-controller"),k=a("./controllers/external-task-error-message-link-controller"),l=d.module("cam-common.external-tasks-common",[]);l.factory("observeBpmnElements",e),l.directive("externalTaskActivityLink",f),l.directive("externalTasksTab",g),l.directive("externalTaskErrorMessageLink",h),l.controller("ExternalTaskActivityLinkController",i),l.controller("ExternalTasksTabController",j),l.controller("ExternalTaskErrorMessageLinkController",k),b.exports=l},{"./components/external-task-activity-link":774,"./components/external-task-error-message-link":775,"./components/external-tasks-tab":776,"./controllers/external-task-activity-link-controller":777,"./controllers/external-task-error-message-link-controller":778,"./controllers/external-tasks-tab-controller":779,"./services/observe-bpmn-elements":781,"camunda-commons-ui/vendor/angular":300}],781:[function(a,b,c){"use strict";b.exports=function(){return function(a,b){var c=b.processData.newChild(a);c.observe("bpmnElements",function(a){b.bpmnElements=a})}}},{}],782:[function(a,b,c){"use strict";var d=a("camunda-commons-ui/vendor/angular"),e=a("./services/is-module-available"),f=a("./services/expose-scope-properties"),g=a("./services/loaders"),h=a("./services/integrate-activity-instance-filter"),i=a("./services/params"),j=a("./services/create-list-query-function"),k=a("./services/create-is-search-query-changed-function"),l=a("./services/read-files"),m=a("./services/upload"),n=a("./services/get-deployment-url"),o=a("./services/is-file-upload-supported"),p=a("./services/get"),q=a("./components/cam-toolbar"),r=a("./components/cam-pagination"),s=a("./components/cam-searchable-area"),t=a("./components/cam-tabs"),u=a("./directives/cam-hover-area"),v=a("./directives/cam-hover-trigger"),w=a("./directives/cam-hoverable-title"),x=a("./directives/cam-file"),y=a("./directives/cam-inline-panel-property"),z=a("./controllers/hover-area"),A=a("./controllers/cam-pagination"),B=a("./controllers/cam-tabs"),C=a("./controllers/cam-pagination-search-integration"),D=a("../util/routeUtil"),E=a("../util/pagination-utils"),F=a("../util/search-widget-utils"),G=a("./external-tasks-common"),H=d.module("cam-common",[G.name]);H.factory("isModuleAvailable",e),H.factory("exposeScopeProperties",f),H.factory("Loaders",g),H.factory("integrateActivityInstanceFilter",h),H.factory("params",i),H.factory("createListQueryFunction",j),H.factory("createIsSearchQueryChangedFunction",k),H.factory("readFiles",l),H.factory("upload",m),H.factory("getDeploymentUrl",n),H.factory("isFileUploadSupported",o),H.factory("get",p),H.directive("camToolbar",q),H.directive("camPagination",r),H.directive("camSearchableArea",s),H.directive("camTabs",t),H.directive("camHoverArea",u),H.directive("camHoverTrigger",v),H.directive("camHoverableTitle",w),H.directive("camFile",x),H.directive("camInlinePanelProperty",y),H.controller("HoverAreaController",z),H.controller("CamPaginationController",A),H.controller("CamTabsController",B),H.controller("CamPaginationSearchIntegrationController",C),H.value("routeUtil",D),H.value("paginationUtils",E),H.value("searchWidgetUtils",F),b.exports=H},{"../util/pagination-utils":798,"../util/routeUtil":799,"../util/search-widget-utils":800,"./components/cam-pagination":761,"./components/cam-searchable-area":762,"./components/cam-tabs":763,"./components/cam-toolbar":764,"./controllers/cam-pagination":766,"./controllers/cam-pagination-search-integration":765,"./controllers/cam-tabs":767,"./controllers/hover-area":768,"./directives/cam-file":769,"./directives/cam-hover-area":770,"./directives/cam-hover-trigger":771,"./directives/cam-hoverable-title":772,"./directives/cam-inline-panel-property":773,"./external-tasks-common":780,"./services/create-is-search-query-changed-function":783,"./services/create-list-query-function":784,"./services/expose-scope-properties":785,"./services/get":787,"./services/get-deployment-url":786,"./services/integrate-activity-instance-filter":788,"./services/is-file-upload-supported":789,"./services/is-module-available":790,"./services/loaders":791,"./services/params":792,"./services/read-files":793,"./services/upload":794,"camunda-commons-ui/vendor/angular":300}],783:[function(a,b,c){"use strict";b.exports=["search",function(a){return function(){var b=null;return function(){var c=a().searchQuery;if(c!==b&&(b||"[]"!==c))return b=c,!0}}}]},{}],784:[function(a,b,c){"use strict";var d=a("camunda-commons-ui/vendor/angular");b.exports=["$q",function(a){return function(b,c){return function(e,f){return b(e).then(function(b){var g=(f.current-1)*f.size,h=b.count,i=d.extend({},e,{firstResult:g,maxResults:f.size});return h>g?a.all({count:h,list:c(i)}):b})}}}]},{"camunda-commons-ui/vendor/angular":300}],785:[function(a,b,c){"use strict";b.exports=function(){return function(a,b,c){var d=c.reduce(function(b,c){return b[c]={get:function(){return a[c]},set:function(b){a[c]=b}},b},{});Object.defineProperties(b,d)}}},{}],786:[function(a,b,c){"use strict";b.exports=["$location","routeUtil",function(a,b){return function(c,d){var e="#/repository",f={deployment:c.id,deploymentsQuery:JSON.stringify([{type:"id",operator:"eq",value:c.id}])};d&&(f.resourceName=d.name);var g=a.search()||{};return g.deploymentsSortBy&&(f.deploymentsSortBy=g.deploymentsSortBy),g.deploymentsSortOrder&&(f.deploymentsSortOrder=g.deploymentsSortOrder),b.redirectTo(e,f,["deployment","resourceName","deploymentsQuery","deploymentsSortOrder","deploymentsSortBy"])}}]},{}],787:[function(a,b,c){"use strict";b.exports=function(){return function(a,b,c){for(var d,e=a,f=0;f<b.length;f++){if(d=b[f],!e||!e[d])return c;e=e[d]}return e}}},{}],788:[function(a,b,c){"use strict";var d=a("camunda-commons-ui/vendor/angular");b.exports=["search","$location","searchWidgetUtils",function(a,b,c){return function(e,f,g){function h(b){var d=a(),e=c.getActivityIdsFromUrlParams("activityInstanceIdIn",d),f=d.activityIds?d.activityIds.split(","):[],g=i(b,f,e);return g&&(f=[]),{activityIds:f,activityInstanceIds:e,page:parseInt(d.page,10)||void 0,replace:g||!b}}function i(a,b,c){return a&&d.equals(b,a.activityIds)&&!d.equals(c,a.activityInstanceIds)}function j(b,f){var g=d.isArray(b.activityInstanceIds)?b.activityInstanceIds:[],h=d.isArray(b.activityIds)?b.activityIds:[],i=a(),j=JSON.parse(i.searchQuery||"[]");j=i.searchQuery||g.length||h.length?c.replaceActivitiesInSearchQuery(j,"activityInstanceIdIn",g):null,a.updateSilently({searchQuery:j?JSON.stringify(j):null,activityIds:h.length?h.join(","):null},f),e.filter=b}function k(a,b,c){var f,h=a.activityIds||[],i=a.activityInstanceIds||[],k=parseInt(a.page,10)||null,m=a.scrollToBpmnElement,n=a!==e.filter,o=a.replace;if(delete a.replace,d.forEach(i,function(a){var c=b[a]||{},d=c.activityId||c.targetActivityId,e=h.indexOf(d);e===-1&&d&&h.push(d)}),d.forEach(h,function(a){var b=c[a],d=!1,e=[];if(b){for(var f,g=0;f=b[g];g++){var h=i.indexOf(f.id);if(h!==-1){d=!0;break}e.push(f.id)}d||(i=i.concat(e))}}),g.shouldRemoveActivityIds)for(var p=0;p<h.length;p++)c[h[p]]||(h.splice(p,1),p--);for(p=0;p<i.length;p++)b[i[p]]||(i.splice(p,1),p--);if(h.length>0){var q=h[h.length-1];q!==m&&(m=q)}f={activityIds:h,activityInstanceIds:i,scrollToBpmnElement:m,page:k},d.equals(f,e.filter)||(e.filter=f,l.set("filter",e.filter)),n&&e.filter&&j(e.filter,o)}var l=e.processData,m=e.processInstance;g=g||{},e.filter=h(),l.provide("filter",h()),l.observe(["filter","instanceIdToInstanceMap","activityIdToInstancesMap"],k),e.$on("$locationChangeSuccess",function(){var a=h(e.filter);b.path().indexOf(m.id)>-1&&(c.shouldUpdateFilter(a,e.filter,["activityIds","activityInstanceIds","page"])&&l.set("filter",a),f(e.processInstanceTabs))})}}]},{"camunda-commons-ui/vendor/angular":300}],789:[function(a,b,c){b.exports=["$window",function(a){return function(){var b=a.FileReader;return"function"==typeof b&&"function"==typeof b.prototype.readAsText}}]},{}],790:[function(a,b,c){"use strict";var d=a("camunda-commons-ui/vendor/angular");b.exports=function(){return function(a){try{return!!d.module(a)}catch(b){return!1}}}},{"camunda-commons-ui/vendor/angular":300}],791:[function(a,b,c){"use strict";b.exports=["$rootScope",function(a){function b(){var a=function(){f=f.filter(function(b){return b!==a}),c()};return f.push(a),c(),a}function c(){a.$broadcast(g)}function d(a,b){return b(e()),a.$on(g,function(){var a=e();b(a)})}function e(){return 0===f.length?"LOADED":"LOADING"}var f=[],g="LoaderService:active-loaders-changed";return{startLoading:b,addStatusListener:d}}]},{}],792:[function(a,b,c){b.exports=function(){return function(a){return Object.keys(a).reduce(function(b,c){var d=a[c],e=c+"="+encodeURIComponent(d);return b.length?b+"&"+e:e},"")}}},{}],793:[function(a,b,c){"use strict";b.exports=["$q","$window",function(a,b){function c(c){var d=a.defer(),e=new b.FileReader;return e.onload=function(a){d.resolve({file:c,content:a.target.result})},e.onerror=function(a){d.reject(a)},e.readAsText(c),d.promise}return function(b){return a.all(Array.prototype.map.call(b,c))}}]},{}],794:[function(a,b,c){"use strict";var d=a("camunda-commons-ui/vendor/angular");b.exports=["$window","$q","$rootScope",function(a,b,c){return function(e,f,g){var h=b.defer();d.isArray(f)||(f=[f]),g=g||{};var i=f.map(function(a,b){return'Content-Disposition: form-data; name="data'+b+'"; filename="'+a.file.name+'"\r\nContent-Type: text/xml\r\n\r\n'+a.content+"\r\n"});i=i.concat(Object.keys(g).map(function(a){var b=g[a];return'Content-Disposition: form-data; name="'+a+'"\r\n\r\n'+b+"\r\n"}));var j=new a.XMLHttpRequest;j.onload=function(a){4===a.target.readyState&&(200===a.target.status?h.resolve(JSON.parse(a.target.responseText)):401===a.target.status?(c.$broadcast("authentication.changed",null),c.authentication=null,c.$broadcast("authentication.login.required"),h.reject(a)):h.reject(a))},j.open("post",e,!0);var k="---------------------------"+Date.now().toString(16);j.setRequestHeader("Content-Type","multipart/form-data; boundary="+k);var l="--"+k+"\r\n"+i.join("--"+k+"\r\n")+"--"+k+"--\r\n";return j.send(l),h.promise}}]},{"camunda-commons-ui/vendor/angular":300}],795:[function(a,b,c){"use strict";var d={dateFormat:{monthName:"MMMM",day:"DD",abbr:"lll",normal:"LLL","long":"LLLL","short":"LL"},locales:{availableLocales:["en"],fallbackLocale:"en"}};b.exports=function(a,b){return[function(){var c=window.localStorage,e=JSON.parse(c.getItem("camunda-web")||"{}");this.get=function(a,b){return"undefined"!=typeof e[a]?e[a]:b},this.set=function(a,b){e[a]=b,c.setItem("camunda-web",JSON.stringify(e))},this.getDateFormat=function(b){var c=a.dateFormat||d.dateFormat;return c[b]||d.dateFormat[b]},this.getFallbackLocale=function(){return a.locales&&a.locales.fallbackLocale?a.locales.fallbackLocale:d.locales.fallbackLocale},this.getAvailableLocales=function(){return a.locales&&a.locales.availableLocales?a.locales.availableLocales:d.locales.availableLocales},this.getDateLocales=function(){return a.camDateLocales},this.getAppVendor=function(){return a.app&&a.app.vendor?a.app.vendor:"Camunda"},this.getAppName=function(){return a.app&&a.app.name?a.app.name:b},this.$get=function(){return this}}]}},{}],796:[function(a,b,c){"use strict";var d=a("camunda-commons-ui/vendor/moment"),e=a("camunda-commons-ui/vendor/angular");b.exports=function(a,b,c){a.factory("localeLoader",["$q","$http","Notifications","configuration",function(a,b,c,d){return function(f){if(!f||!e.isString(f.prefix)||!e.isString(f.suffix))throw new Error("Couldn't load static files, no prefix or suffix specified!");var g=a.defer(),h=f.prefix+"_locales_data_"+f.key,i=d.get(h);return i?(i=JSON.parse(i),"function"==typeof f.callback&&f.callback(null,i,f.key),g.resolve(i.labels)):b(e.extend({url:[f.prefix,f.key,f.suffix].join(""),method:"GET",params:""},f.$http)).success(function(a){d.set(h,JSON.stringify(a)),"function"==typeof f.callback&&f.callback(null,a,f.key),g.resolve(a.labels)}).error(function(a){"function"==typeof f.callback&&f.callback(a,null,f.key),c.addError({status:"Error in localization configuration",message:'"'+f.key+'" is declared as available locale, but no such locale file exists.'}),g.reject(f.key)}),g.promise}}]),a.config(["$translateProvider","configurationProvider",function(a,f){var g=f.getAvailableLocales(),h=f.getFallbackLocale();a.useLoader("localeLoader",{prefix:b+"/app/"+c+"/locales/",suffix:".json",callback:function(a,b,c){!a&&b&&b.dateLocales&&d.locale(c||h,b.dateLocales)}}),a.registerAvailableLanguageKeys(g),a.fallbackLanguage(h),a.determinePreferredLanguage(function(){var a=window.navigator,b=((e.isArray(a.languages)?a.languages[0]:a.language||a.browserLanguage||a.systemLanguage||a.userLanguage)||"").split("-"),c=g.indexOf(e.lowercase(b[0]));return c>-1?g[c]:h})}])}},{"camunda-commons-ui/vendor/angular":300,"camunda-commons-ui/vendor/moment":303}],797:[function(a,b,c){"use strict";function d(a,b){return a.indexOf(b)!==-1}b.exports=d},{}],798:[function(a,b,c){"use strict";function d(a,b,c){var d=a.pages=f.copy(g);return d.current=e(b),a.$watch("pages.current",function(a,d){var f=e(b);a!=d&&a!==f&&(b("page",a&&1!=a?a:null),c(a,d))}),a.$on("$locationChangeSuccess",function(){var a=e(b);if(+d.current!==+a){var f=d.current;d.current=a,c(d.current,f)}}),d}function e(a){return a().page||1}var f=a("camunda-commons-ui/vendor/angular"),g={size:50,total:0,current:1};b.exports={initializePaginationInController:d}},{"camunda-commons-ui/vendor/angular":300}],799:[function(a,b,c){"use strict";var d={};d.redirectToRuntime=function(a,b,c){var e=b+"/runtime";return d.redirectTo(e,c,!0)},d.replaceLastPathFragment=function(a,b,c,e){var f=b.replace(/[^\/]*$/,a);return d.redirectTo(f,c,e)},d.redirectTo=function(a,b,c){var d,e=[];if(b&&c){var f="[object Array]"===Object.prototype.toString.call(c);for(d in b)f&&c.indexOf(d)===-1||e.push(d+"="+encodeURIComponent(b[d]))}return a+(e.length?"?"+e.join("&"):"")},b.exports=d},{}],800:[function(a,b,c){"use strict";function d(a,b){b=[].concat(b);var c=JSON.stringify(q(a,b));return e("searchQuery="+c)}function e(a){return encodeURI(a).replace(/#/g,"%23")}function f(a,b,c){return c=C.isArray(c)?c:[],!C.equals(g(a,c),g(b,c))}function g(a,b){return C.isObject(a)?i(h(a,b)):a}function h(a,b){return Object.keys(a).reduce(function(c,d){var e=a[d];return E(b,d)&&(c[d]=e),c},{})}function i(a){return Object.keys(a).reduce(function(b,c){var d=a[c];return null!=d&&(b[c]=d),b},{})}function j(a,b){var c=JSON.parse(b.searchQuery||"[]");return k(a,c)}function k(a,b){return b.filter(function(b){return b.type===a}).map(function(a){return a.value})}function l(a,b,c){var d=m(a,c,b),e=n(c,a,b);return d.concat(q(b,e))}function m(a,b,c){return a.filter(function(a){return a.type!==c||!E(b,a.value)})}function n(a,b,c){var d=b.filter(function(a){return a.type===c}).map(function(a){return a.value});return a.filter(function(a){return!E(d,a)})}function o(a,b,c){return p(b,a).concat(q(b,c))}function p(a,b){return b.filter(function(b){return b.type!==a})}function q(a,b){return b.map(r.bind(null,a))}function r(a,b){return{type:a,operator:"eq",value:b}}function s(a,b,c){return a=C.isArray(a)?a:[],b=C.isArray(b)?b:[],c=C.isArray(c)?c:["variables"],b=b.concat(c),a.reduce(t.bind(null,b,c),{})}function t(a,b,c,d){var e=u(d,b),f=x(d,e,b);return E(b,e)&&(f=A(d,f)),E(a,e)?c[e]=B(c,e,f):c[e]=f,c}function u(a,b){var c=a.type.value.key,d=a.operator.value.key;return v(c)&&(c=c.slice(0,-4)),w(d)&&!E(b,c)&&(c+=d),c}function v(a){return a.indexOf("Date")!==-1}function w(a){return E(["After","Before","Like"],a)}function x(a){return!!a.basic||y(a.value.value,a.operator.value.key,a)}function y(a,b,c){var d=/(\\%)|(\\_)/g,e=/(\%)|(\_)/;return"like"!==b.toLowerCase()||e.test(a.replace(d,""))?c.allowDates&&F.test(a)?D(a).format("YYYY-MM-DDTHH:mm:ss.SSSZZ"):a:"%"+a+"%"}function z(a){return isNaN(a)||""===a.trim()?"true"===a||"false"!==a&&("NULL"===a?null:0===a.indexOf("'")&&a.lastIndexOf("'")===a.length-1?a.substr(1,a.length-2):a):+a}function A(a,b){return{name:a.name.value,operator:a.operator.value.key,value:z(b)}}function B(a,b,c){return C.isArray(a[b])?a[b].concat([c]):[c]}var C=a("camunda-commons-ui/vendor/angular"),D=a("camunda-commons-ui/vendor/moment"),E=a("./includes");b.exports={getSearchQueryForSearchType:d,getActivityIdsFromUrlParams:j,replaceActivitiesInSearchQuery:o,createSearchQueryForSearchWidget:s,shouldUpdateFilter:f,createSearchesForActivityIds:q,encodeQuery:e,updateSearchValuesForTypeInCtrlMode:l};var F=/^[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}(|\.[0-9]{0,4})$/},{"./includes":797,"camunda-commons-ui/vendor/angular":300,"camunda-commons-ui/vendor/moment":303}],801:[function(a,b,c){"use strict";var d=a("camunda-commons-ui/vendor/angular"),e=a("camunda-commons-ui/vendor/camunda-bpm-sdk-angular"),f=d.module("cam.tasklist.client",[]);f.value("HttpClient",e.Client),f.value("CamForm",e.Form),f.factory("camAPI",["camAPIHttpClient","$window","Uri",function(a,b,c){var d={apiUri:"engine-rest/api/engine",HttpClient:a,engine:c.appUri(":engine")};if(b.tasklistConf)for(var f in b.tasklistConf)d[f]=b.tasklistConf[f];return new e.Client(d)}]),b.exports=f},{"camunda-commons-ui/vendor/angular":300,"camunda-commons-ui/vendor/camunda-bpm-sdk-angular":301}],802:[function(a,b,c){"use strict";function d(){e(document).ready(function(){h.bootstrap(document.documentElement,["cam.tasklist","cam.embedded.forms","cam.tasklist.custom"]),setTimeout(function(){var a=e("[autofocus]");a.length&&a[0].focus()},300)})}var e=window.jQuery=window.$=a("jquery"),f=a("camunda-commons-ui/lib"),g=a("camunda-commons-ui/vendor/camunda-bpm-sdk-angular");a("angular-data-depend");var h=a("camunda-commons-ui/vendor/angular"),i=a("angular-data-depend"),j=a("../../../common/scripts/module"),k=a("camunda-commons-ui/vendor/lodash");b.exports=function(b){function c(){for(var a=e("base"),b={},c=["href","app-root","admin-api","tasklist-api","engine-api"],d=0;d<c.length;d++)b[c[d]]=a.attr(c[d]);return b}var g=[f.name,"pascalprecht.translate","ngRoute","dataDepend",a("./tasklist/index").name,a("./task/index").name,a("./process/index").name,a("./navigation/index").name,a("./form/index").name,a("./filter/index").name,a("./api/index").name,a("./shortcuts/plugins/index").name].concat(b.map(function(a){return a.ngModuleName})),i=c(),j=h.module("cam.tasklist",g);j.factory("assignNotification",a("./services/cam-tasklist-assign-notification")),j.provider("configuration",a("./../../../common/scripts/services/cam-configuration")(window.camTasklistConf,"Tasklist")),a("./../../../common/scripts/services/locales")(j,i["app-root"],"tasklist"),a("./config/uris")(j,i),j.config(a("./config/routes")),j.config(a("./config/date")),j.config(a("./config/tooltip")),j.controller("camTasklistAppCtrl",a("./controller/cam-tasklist-app-ctrl")),j.controller("camTasklistViewCtrl",a("./controller/cam-tasklist-view-ctrl")),d()},b.exports.exposePackages=function(a){a.angular=h,a.jquery=e,a["camunda-commons-ui"]=f,a["camunda-bpm-sdk-js"]=g,a["angular-data-depend"]=i,a["cam-common"]=j,a.lodash=k}},{"../../../common/scripts/module":782,"./../../../common/scripts/services/cam-configuration":795,"./../../../common/scripts/services/locales":796,"./api/index":801,"./config/date":803,"./config/routes":804,"./config/tooltip":805,"./config/uris":806,"./controller/cam-tasklist-app-ctrl":807,"./controller/cam-tasklist-view-ctrl":808,"./filter/index":817,"./form/index":825,"./navigation/index":828,"./process/index":829,"./services/cam-tasklist-assign-notification":832,"./shortcuts/plugins/index":834,"./task/index":839,"./tasklist/index":849,"angular-data-depend":"angular-data-depend","camunda-commons-ui/lib":21,"camunda-commons-ui/vendor/angular":300,"camunda-commons-ui/vendor/camunda-bpm-sdk-angular":301,"camunda-commons-ui/vendor/lodash":302,jquery:"jquery"}],803:[function(a,b,c){"use strict";b.exports=["camDateFormatProvider","configurationProvider",function(a,b){for(var c=["monthName","day","abbr","normal","long","short"],d=0;d<c.length;d++)a.setDateFormat(b.getDateFormat(c[d]),c[d])}]},{}],804:[function(a,b,c){"use strict";var d='<div class="columns"\n     ng-controller="camLayoutCtrl">\n\n  <!-- # filters column -->\n  <section class="column column-left task-filters"\n           ng-controller="camFiltersCtrl">\n    <header class="cell top">\n      <button class="btn btn-link"\n              ng-show="userCanCreateFilter"\n              ng-click="openModal($event)">\n        {{ \'FILTER_CREATE\' | translate }}\n        <span class="glyphicon glyphicon-plus-sign"></span>\n      </button>\n\n      <button ng-click="toggleRegion($event)"\n              data-region="filters"\n              class="region-toggle btn btn-link">\n        <span class="glyphicon"></span>\n      </button>\n    </header>\n\n    <div class="cell content">\n      <div cam-tasklist-filters\n           filters-data="filtersData"\n           open-modal="openModal"\n           user-can-create-filter="userCanCreateFilter"></div>\n    </div>\n  </section>\n  <!-- / filters column -->\n\n\n\n\n\n  <!-- # list column -->\n  <section class="column column-center tasks-list"\n           ng-controller="camListCtrl">\n    <header class="cell top">\n      <view ng-repeat="tasklistHeaderPlugin in tasklistHeaderPlugins"\n            provider="tasklistHeaderPlugin"\n            vars="tasklistVars"></view>\n\n      <button ng-click="toggleRegion($event)"\n              data-region="list"\n              class="region-toggle btn btn-link">\n        <span class="glyphicon"></span>\n      </button>\n    </header>\n\n    <div class="cell content">\n      <view ng-repeat="tasklistPlugin in tasklistPlugins"\n            provider="tasklistPlugin"\n            vars="tasklistVars"></view>\n\n      <div cam-tasks\n           tasklist-data="tasklistData"></div>\n    </div>\n  </section>\n  <!-- / list column -->\n\n\n\n\n\n  <!-- # task column -->\n  <section class="column column-right task-details"\n           ng-controller="camTaskActionCtrl">\n    <header class="cell top">\n      <button ng-click="toggleRegion($event)"\n              data-region="task"\n              class="region-toggle btn btn-link">\n        <span class="glyphicon"></span>\n      </button>\n\n      <button ng-click="maximizeRegion($event)"\n              data-region="task"\n              class="btn btn-link maximize">\n        <span class="glyphicon glyphicon-resize-full"></span>\n      </button>\n\n      <button ng-click="resetRegions($event)"\n              class="btn btn-link reset-regions">\n        <span class="glyphicon glyphicon-resize-small"></span>\n      </button>\n\n      <div class="task-actions"\n           ng-show="task"\n           ng-repeat="taskAction in taskActions">\n        <view provider="taskAction" vars="taskVars">\n      </div>\n    </header>\n\n    <div class="cell content">\n      <div cam-tasklist-task\n           tasklist-data="tasklistData"></div>\n    </div>\n  </section>\n  <!-- # task column -->\n\n</div>\n';b.exports=["$routeProvider",function(a){a.when("/",{template:d,controller:"camTasklistViewCtrl",authentication:"required",reloadOnSearch:!1}).otherwise({redirectTo:"/"})}]},{}],805:[function(a,b,c){"use strict";b.exports=["$tooltipProvider",function(a){a.options({appendToBody:!0,popupDelay:500})}]},{}],806:[function(a,b,c){"use strict";b.exports=function(a,b){a.config(["UriProvider",function(a){a.replace(":appName","tasklist"),a.replace("app://",b.href),a.replace("adminbase://",b["app-root"]+"/app/admin/"),a.replace("tasklistbase://",b["app-root"]+"/app/tasklist/"),
a.replace("cockpitbase://",b["app-root"]+"/app/cockpit/"),a.replace("admin://",b["admin-api"]),a.replace("plugin://",b["tasklist-api"]+"plugin/"),a.replace("engine://",b["engine-api"]),a.replace(":engine",["$window",function(a){var b=a.location.href,c=b.match(/\/app\/tasklist\/([\w-]+)(|\/)/);if(c)return c[1];throw new Error("no process engine selected")}])}])}},{}],807:[function(a,b,c){"use strict";var d=function(){function a(){this.refreshProvider=null}return a}();b.exports=["camAPI","configuration","$window","$interval","$scope",function(a,b,c,e,f){function g(b){if(!b||!b.name)return void(f.userFullName=null);var c=a.resource("user");c.profile(b.name,function(a,b){if(a)throw f.userFullName=null,a;f.userFullName=b.firstName+" "+b.lastName})}f.tasklistApp=new d,f.appVendor=b.getAppVendor(),f.appName=b.getAppName();var h=document.querySelector("head > title");h.textContent=f.appVendor+" "+f.appName,f.$on("authentication.changed",function(a,b){g(b)}),g(f.authentication);var i=e(function(){f.$root.$broadcast("refresh")},1e4);f.$on("$destroy",function(){e.cancel(i)})}]},{}],808:[function(a,b,c){"use strict";var d=a("camunda-commons-ui/vendor/angular");b.exports=["$scope","$q","$location","$interval","search","dataDepend","camAPI",function(a,b,c,e,f,g,h){function i(a){var b=c.search()||{};return b[a]||null}function j(a){f.updateSilently(a)}var k,l=a.tasklistData=g.create(a),m=i("task"),n=i("detailsTab"),o=h.resource("filter"),p=h.resource("task");l.provide("filters",[function(){var a=b.defer();return o.list({itemCount:!1,resoureType:"Task"},function(b,c){b?a.reject(b):a.resolve(c)}),a.promise}]),l.provide("currentFilter",["filters",function(a){for(var b,c,e=i("filter"),f=0;c=a[f];f++){if(e===c.id){b=c;break}(!b||c.properties.priority<b.properties.priority)&&(b=c)}if(k&&b&&k.id!==b.id){var g=i("page");g&&j({page:"1"})}return b&&b.id!==e&&j({filter:b.id}),d.copy(b)}]),l.provide("searchQuery",{processVariables:[],taskVariables:[],caseInstanceVariables:[]}),l.provide("taskListQuery",["currentFilter","searchQuery",function(a,b){if(!a)return null;var c=d.copy(b),e=15*((i("page")||1)-1),f=i("sorting");try{f=JSON.parse(f)}catch(g){f=[{}]}return f=Array.isArray(f)&&f.length?f:[{}],f[0].sortOrder=f[0].sortOrder||"desc",f[0].sortBy=f[0].sortBy||"created",c.id=a.id,c.firstResult=e,c.maxResults=15,c.sorting=f,c.active=!0,c}]),l.provide("taskList",["taskListQuery",function(a){var c=b.defer();return a&&null!==a.id?o.getTasks(d.copy(a),function(a,b){a?c.reject(a):c.resolve(b)}):c.resolve({count:0,_embedded:{}}),c.promise}]),l.provide("taskId",{taskId:m}),l.provide("task",["taskId",function(a){var c=b.defer(),d=a.taskId;return"string"!=typeof d?c.resolve(null):p.get(d,function(a,b){a?c.reject(a):c.resolve(b)}),c.promise}]),l.observe("currentFilter",function(a){k=a}),a.$on("refresh",function(){k&&k.properties.refresh&&l.changed("taskList")}),a.$on("$routeChanged",function(){var a=m,b=n;m=i("task"),n=i("detailsTab"),a===m&&b!==n||l.set("taskId",{taskId:m}),k=null,l.changed("currentFilter")})}]},{"camunda-commons-ui/vendor/angular":300}],809:[function(a,b,c){"use strict";var d=a("jquery"),e='<div class="modal-header">\n  <h3 class="modal-title">\n    {{ (\n      filter.id && !deletion ?\n      (accesses.update ? \'FILTER_EDIT\' : \'FILTER_DETAILS\') :\n      (deletion ? \'FILTER_DELETE\' : \'FILTER_CREATE\')\n    ) | translate }}\n  </h3>\n</div>\n\n\n\n<div class="modal-body">\n\n  <div notifications-panel></div>\n\n  <div ng-show="!deletion"\n       cam-tasklist-filter-modal-form\n       filter="filter"\n       filter-modal-data="filterModalData"\n       register-is-valid-provider="registerValidationProvider"\n       register-post-filter-saved-provider="registerPostFilterSavedProvider">\n  </div>\n\n  <div ng-show="deletion"\n       class="alert alert-warning"\n       role="alert">\n    <span class="glyphicon glyphicon-exclamation-sign"></span>\n    {{ \'FILTER_DELETION_WARNING\' | translate }}\n  </div>\n\n</div>\n\n\n<div class="modal-footer">\n\n  <div class="row row-action">\n\n    <div class="col-xs-4 align-left">\n\n      <button ng-show="!deletion && filter.id && accesses.delete"\n              class="btn btn-link"\n              type="button"\n              ng-click="confirmDeletion()"\n              translate="FILTER_DELETE">Delete filter</button>\n\n\n      <button ng-show="deletion"\n              class="btn btn-link"\n              type="button"\n              ng-click="abortDeletion()"\n              translate="FILTER_EDIT">Edit filter</button>\n    </div>\n\n    <div class="col-xs-8">\n      <div class="row">\n        <div class="col-xs-12">\n\n          <button class="btn btn-link"\n                  type="button"\n                  ng-click="$dismiss()"\n                  translate="CLOSE">Close</button>\n\n          <button ng-if="!deletion && (!filter.id || (filter.id && accesses.update))"\n                  class="btn btn-primary"\n                  type="submit"\n                  ng-disabled="!isValid()"\n                  ng-click="submit()"\n                  translate="SAVE">Save</button>\n\n\n          <button ng-if="deletion"\n                  class="btn btn-primary"\n                  type="submit"\n                  ng-click="delete()"\n                  translate="DELETE">Delete</button>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n';b.exports=["$scope","$modal","$q","camAPI","$timeout",function(a,b,c,f,g){var h=a.filtersData=a.tasklistData.newChild(a),i=f.resource("filter");a.userCanCreateFilter=!1,h.provide("filterAuthorizations",function(){var a=c.defer();return i.authorizations(function(b,c){b?a.reject(b):a.resolve(c)}),a.promise}),h.provide("userCanCreateFilter",["filterAuthorizations",function(a){a=a||{};for(var b,c=a.links||[],d=0;b=c[d];d++)if("create"===b.rel)return!0;return!1}]),h.observe("userCanCreateFilter",function(b){a.userCanCreateFilter=b});var j=[];h.observe("filters",function(a){j.forEach(function(b){b(a)}),j=[]});var k=function(a){a?j.push(function(){g(function(){var a=d(".task-filters .content div.item.active .actions a")[0];a&&a.focus()})}):document.querySelector(".task-filters header button.btn-link").focus()};a.$on("shortcut:focusFilter",function(){d(".task-filters .content h4 a")[0].focus()}),a.openModal=function(a,c){a.stopPropagation(),b.open({windowClass:"filter-modal",size:"lg",controller:"camFilterModalCtrl",template:e,resolve:{filter:function(){return c},filtersData:function(){return h}}}).result.then(function(){h.changed("filters"),k(c)},function(){h.changed("filters"),k(c)})}}]},{jquery:"jquery"}],810:[function(a,b,c){"use strict";function d(a,b,c){return function(d){if(c&&j.test(d))return{valid:!0};if(a.test(d)){if("date"===b){var e=!isNaN(new Date(d).getTime());if(!e)return{valid:!1,error:"dateValue"}}return{valid:!0}}return{valid:!1,error:b||"format"}}}var e="E.g.: `${ now() }`, `${ dateTime() }` or `${ dateTime().plusWeeks(2) }`",f="E.g.: `${ currentUser() }`",g="List of values separated by comma or an expression which evaluates to a list. E.g.: `camunda-admin, accounting` or `${ currentUserGroups() }`",h="List of values seperated by comma. E.g.: `keyC, keyA, keyB`",i=/^[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}(|\.[0-9]{0,4})$/,j=/^[\s]*(\#|\$)\{/,k=/^-?[\d]+$/,l=[{group:"Process Instance",options:[{name:"processInstanceId",label:"ID"},{name:"processInstanceBusinessKey",label:"Business Key",expressionSupport:!0,help:f},{name:"processInstanceBusinessKeyLike",label:"Business Key Like",expressionSupport:!0,help:f}]},{group:"Process definition",options:[{name:"processDefinitionId",label:"ID"},{name:"processDefinitionKey",label:"Key"},{name:"processDefinitionKeyIn",label:"Key In",help:h},{name:"processDefinitionName",label:"Name"},{name:"processDefinitionNameLike",label:"Name Like"}]},{group:"Case Instance",options:[{name:"caseInstanceId",label:"ID"},{name:"caseInstanceBusinessKey",label:"Business Key"},{name:"caseInstanceBusinessKeyLike",label:"Business Key Like"}]},{group:"Case definition",options:[{name:"caseDefinitionId",label:"ID"},{name:"caseDefinitionKey",label:"Key"},{name:"caseDefinitionName",label:"Name"},{name:"caseDefinitionNameLike",label:"Name Like"}]},{group:"Other",options:[{name:"active",label:"Active",bool:!0},{name:"activityInstanceIdIn",label:"Activity Instance ID In",help:h},{name:"executionId",label:"Execution ID"}]},{group:"User / Group",options:[{name:"assignee",label:"Assignee",expressionSupport:!0,help:f},{name:"assigneeLike",label:"Assignee Like",expressionSupport:!0,help:f},{name:"owner",label:"Owner",expressionSupport:!0,help:f},{name:"candidateGroup",label:"Candidate Group",expressionSupport:!0,includeAssignedTasksSupport:!0},{name:"candidateGroups",label:"Candidate Groups",expressionSupport:!0,help:g,includeAssignedTasksSupport:!0},{name:"candidateUser",label:"Candidate User",expressionSupport:!0,help:f,includeAssignedTasksSupport:!0},{name:"involvedUser",label:"Involved User",expressionSupport:!0,help:f},{name:"unassigned",label:"Unassigned",bool:!0},{name:"delegationState",label:"Delegation State"}]},{group:"Task",options:[{name:"taskDefinitionKey",label:"Definition Key"},{name:"taskDefinitionKeyIn",label:"Definition Key In",help:h},{name:"taskDefinitionKeyLike",label:"Definition Key Like"},{name:"name",label:"Name"},{name:"nameLike",label:"Name Like"},{name:"description",label:"Description"},{name:"descriptionLike",label:"Description Like"},{name:"priority",label:"Priority",validate:d(k,"number")},{name:"maxPriority",label:"Priority Max",validate:d(k,"number")},{name:"minPriority",label:"Priority Min",validate:d(k,"number")},{name:"tenantIdIn",label:"Tenant ID In",help:h},{name:"withoutTenantId",label:"Without Tenant ID",bool:!0}]},{group:"Dates",validate:d(i,"date",!0),options:[{name:"createdBefore",label:"Created Before",expressionSupport:!0,help:e},{name:"createdAfter",label:"Created After",expressionSupport:!0,help:e},{name:"dueBefore",label:"Due Before",expressionSupport:!0,help:e},{name:"dueAfter",label:"Due After",expressionSupport:!0,help:e},{name:"followUpAfter",label:"Follow Up After",expressionSupport:!0,help:e},{name:"followUpBefore",label:"Follow Up Before",expressionSupport:!0,help:e},{name:"followUpBeforeOrNotExistent",label:"Follow Up Before or Not Existent",expressionSupport:!0,help:e}]}];b.exports=l.map(function(a){return a.name=a.group.toLowerCase().replace(/[^a-z0-9-]+/g,"-"),a})},{}],811:[function(a,b,c){"use strict";var d='<div ng-form class="form-horizontal" name="filterCriteriaForm" role="form">\n\n  <div class="row labels-left">\n    <div class="col-xs-2 row-action" ng-show="!filter.id || (filter.id && accesses.update)">\n      <a ng-click="addCriterion()"\n         href>\n        <span class="hidden-sm hidden-xs">{{ \'FILTER_ADD_CRITERION\' | translate }}</span>\n        <span class="glyphicon glyphicon-plus-sign"></span>\n      </a>\n    </div>\n\n    <div ng-class="{ \'col-xs-10\': !filter.id || (filter.id && accesses.update) , \'col-xs-12\': !(!filter.id || (filter.id && accesses.update)) }">\n      <div class="form-group" ng-show="query.length">\n        <label class="col-xs-6 control-label"\n               translate="FILTER_CRITERIA_KEY">Key</label>\n        <label class="col-xs-6 control-label"\n               translate="FILTER_CRITERIA_VALUE">Value</label>\n      </div>\n    </div>\n  </div>\n\n  <div ng-repeat="(delta, queryParam) in query" class="row" ng-if="isQueryParameter(queryParam)">\n\n    <div ng-form name="criteriaFieldForm">\n      <div ng-init="addForm(this.criteriaFieldForm)"></div>\n\n      <div class="col-xs-2 row-action" ng-show="!filter.id || (filter.id && accesses.update)">\n        <a ng-click="removeCriterion(delta)"\n           href>\n          <span class="hidden-sm hidden-xs">{{ \'FILTER_REMOVE_CRITERION\' | translate }}</span>\n          <span class="glyphicon glyphicon-remove-sign"></span>\n        </a>\n      </div>\n\n      <div ng-class="{ \'col-xs-10\': !filter.id || (filter.id && accesses.update) , \'col-xs-12\': !(!filter.id || (filter.id && accesses.update)) }">\n        <div class="form-group">\n\n          <div class="col-xs-6">\n\n            <select class="form-control"\n                    ng-model="queryParam.key"\n                    name="queryParamKey"\n                    ng-change="valueChanged(queryParam, this.criteriaFieldForm.queryParamValue)"\n                    cam-unique-value="{{ getQueryParamKeys() }}"\n                    required\n                    ng-disabled="filter.id && !accesses.update">\n              <optgroup ng-repeat="criteriaGroup in criteria"\n                        label="{{ criteriaGroup.group | translate }}">\n\n                <option ng-repeat="criterion in criteriaGroup.options"\n                        ng-selected="criterion.name === getCriterionName(queryParam.key)"\n                        ng-value="criterion.name">\n\n                  {{ criterion.label | translate }}\n                  {{ (criterion.expressionSupport ? \'*\' : \'\') }}\n\n                </option>\n              </optgroup>\n\n            </select>\n            <div ng-if="this.criteriaFieldForm.queryParamKey.$invalid && this.criteriaFieldForm.queryParamKey.$dirty"\n                    class="has-error">\n                <span ng-show="this.criteriaFieldForm.queryParamKey.$error.required" class="help-block">\n                  {{ \'REQUIRED_FIELD\' | translate }}\n                </span>\n                <span ng-show="this.criteriaFieldForm.queryParamKey.$error.camUniqueValue" class="help-block">\n                  {{ \'REQUIRE_UNIQUE_KEY\' | translate }}\n                </span>\n            </div>\n          </div>\n\n          <div class="col-xs-6">\n\n            <div ng-if="!booleanCriterion[getCriterionName(queryParam.key)]">\n              <input class="form-control"\n                     name="queryParamValue"\n                     type="text"\n                     ng-model="queryParam.value"\n                     ng-change="valueChanged(queryParam, this.criteriaFieldForm.queryParamValue)"\n                     required\n                     ng-readonly="filter.id && !accesses.update"\n                     ng-disabled="filter.id && !accesses.update" />\n              <span class="help-block text-help"\n                    ng-show="isCriteriaHelpAvailable(queryParam.key)">\n                {{ getCriteriaHelp(queryParam.key) | translate }}\n              </span>\n\n              <div ng-if="this.criteriaFieldForm.queryParamValue.$invalid && this.criteriaFieldForm.queryParamValue.$dirty"\n                   class="has-error">\n                <span ng-show="this.criteriaFieldForm.queryParamValue.$error.required"\n                      class="help-block">\n                  {{ \'REQUIRED_FIELD\' | translate }}\n                </span>\n                <span ng-show="this.criteriaFieldForm.queryParamValue.$error.number"\n                      class="help-block">\n                  {{ \'REQUIRED_INTEGER_FIELD\' | translate }}\n                </span>\n                <span ng-show="this.criteriaFieldForm.queryParamValue.$error.date"\n                      class="help-block">\n                  {{ \'INVALID_DATE\' | translate }}\n                </span>\n                <span ng-show="this.criteriaFieldForm.queryParamValue.$error.dateValue"\n                      class="help-block">\n                  {{ \'INVALID_DATE_VALUE\' | translate }}\n                </span>\n              </div>\n            </div>\n\n            <div ng-if="booleanCriterion[getCriterionName(queryParam.key)]"\n                 class="form-control-static">\n              <span class="glyphicon glyphicon-ok"></span>\n              <input type="hidden"\n                     name="queryParamValue"\n                     ng-model="queryParam.value" />\n            </div>\n\n          </div>\n\n        </div>\n\n      </div>\n    </div>\n\n  </div>\n\n  <div ng-if="canIncludeAssignedTasks()"\n       class="row">\n    <div class="col-xs-10 col-xs-offset-2 checkbox">\n      <label>\n        <input type="checkbox"\n               class="form-control"\n               ng-model="filter.includeAssignedTasks" />\n        {{ \'FILTER_CRITERIA_INCLUDE_ASSIGNED_TASKS\' | translate }}\n      </label>\n      <div class="help-block"\n           translate="FILTER_CRITERIA_INCLUDE_ASSIGNED_TASKS_HINT"></div>\n    </div>\n  </div>\n\n  <div ng-if="query.length > 0"\n       class="row match-type">\n    <div class="col-xs-10 col-xs-offset-2">\n      <button ng-click="switchMatchType()"\n              class="btn btn-default btn-xs"\n              ng-disabled="query.length < 2"\n              type="button">\n        {{ (filter.matchType === \'all\' ? \'MATCH_TYPE_ALL\' : \'MATCH_TYPE_ANY\') | translate }}\n      </button>\n      <span ng-disabled="query.length < 2">{{ \'MATCH_TYPE\' | translate }}</span>\n    </div>\n  </div>\n</div>\n',e=a("camunda-commons-ui/vendor/angular"),f=a("./cam-tasklist-filter-modal-criteria"),g=e.forEach,h=e.copy,i={},j={},k={},l={},m={},n=function(){return{valid:!0}};g(f,function(a){g(a.options,function(b){i[b.name]=b.includeAssignedTasksSupport,i[b.name]&&(i[b.name+"Expression"]=!0),b.bool&&(j[b.name]=!0),k[b.name]=b.expressionSupport,l[b.name]=b.help||a.help,m[b.name]=b.validate||a.validate||n})}),b.exports=[function(){return{restrict:"A",require:"^camTasklistFilterModalForm",scope:{filter:"=",accesses:"="},template:d,link:function(a,b,c,d){a.switchMatchType=function(){"any"===a.filter.matchType?a.filter.matchType="all":a.filter.matchType="any"};var e={key:"",value:""};a.criteria=f,a.criteriaExpressionSupport=k,a.criteriaHelp=l,a.booleanCriterion=j,a.query=a.filter.query=a.filter.query||[],a.query=a.filter.query=a.query.filter(function(b){return"includeAssignedTasks"===b.key&&(a.includeAssignedTasks=a.filter.includeAssignedTasks=b.value),"includeAssignedTasks"!==b.key}),a.isQueryParameter=function(a){return"sorting"!==a.key},a.canIncludeAssignedTasks=function(){for(var b=0;b<a.query.length;b++)if(i[a.query[b].key])return!0;return!1},a.$watch("query",function(){a.includeAssignedTasks=a.filter.includeAssignedTasks=a.canIncludeAssignedTasks()&&a.filter.includeAssignedTasks},!0);var g=function(){for(var a,b=0;a=n[b];b++){var c=a.queryParamKey,d=a.queryParamValue;if(c.$dirty&&c.$invalid)return!0;if(d.$dirty&&d.$invalid)return!0}return!1};d.registerHintProvider("filterCriteriaForm",g);var n=[];a.addForm=function(a){n.push(a)},a.addCriterion=function(){var b=h(e);a.query.push(b)},a.removeCriterion=function(b){a.filter.query=a.query=d.removeArrayItem(a.query,b),n=d.removeArrayItem(n,b)},a.valueChanged=function(a,b){if(b.$setValidity("number",!0),b.$setValidity("date",!0),b.$setValidity("dateValue",!0),j[a.key])a.value=!0;else if(a.value){b.$pristine&&b.$setViewValue(a.value);var c=o(a.key),d=m[c](a.value);d.valid||b.$setValidity(d.error,!1)}},a.getQueryParamKeys=function(){for(var b,c=[],d=0;b=a.query[d];d++){var e=o(b.key);c.push(e),k[e]&&c.push(e+"Expression")}return c};var o=a.getCriterionName=function(a){if(!a)return a;var b=a.replace("Expression","");return b},p=a.getCriteriaHelp=function(a){return a=o(a),l[a]};a.isCriteriaHelpAvailable=function(a){return!!p(a)}}}}]},{"./cam-tasklist-filter-modal-criteria":810,"camunda-commons-ui/vendor/angular":300}],812:[function(a,b,c){"use strict";var d='<div ng-form class="form-horizontal" role="form" name="filterGeneralForm">\n\n  <div class="row">\n    <div class="col-xs-8">\n      <div class="form-group">\n\n        <label for="filterName"\n               class="col-xs-3 control-label"\n               translate="FILTER_NAME_LABEL">Name</label>\n\n        <div class="col-xs-9">\n          <input class="form-control"\n                 name="filterName"\n                 ng-model="filter.name"\n                 type="text"\n                 required\n                 placeholder="{{ \'FILTER_NAME_PLACEHOLDER\' | translate }}"\n                 ng-readonly="filter.id && !accesses.update"\n                 ng-disabled="filter.id && !accesses.update" />\n\n          <span ng-if="this.filterGeneralForm.filterName.$invalid && this.filterGeneralForm.filterName.$dirty"\n                class="has-error">\n            <span ng-show="this.filterGeneralForm.filterName.$error.required" class="help-block">\n              {{ \'REQUIRED_FIELD\' | translate }}\n            </span>\n          </span>\n\n        </div>\n\n      </div>\n    </div>\n\n    <div class="col-xs-4">\n\n      <div class="form-group">\n\n        <label for="filter-form-color"\n               class="col-xs-6 control-label"\n               translate="FILTER_COLOR_LABEL">Color</label>\n\n        <div class="col-xs-6">\n\n          <input class="form-control"\n                 name="filterColor"\n                 ng-model="filter.properties.color"\n                 ng-pattern="/^#([0-9a-f]{6}|[0-9a-f]{3})$/i"\n                 type="color"\n                 ng-readonly="filter.id && !accesses.update"\n                 ng-disabled="filter.id && !accesses.update" />\n\n          <span ng-if="this.filterGeneralForm.filterColor.$invalid && this.filterGeneralForm.filterColor.$dirty"\n                class="has-error">\n            <span ng-show="this.filterGeneralForm.filterColor.$error.pattern" class="help-block">\n              {{ \'REQUIRED_HEX_COLOR_FIELD\' | translate }}\n            </span>\n          </span>\n\n        </div>\n      </div>\n\n    </div>\n  </div>\n\n  <div class="row">\n    <div class="col-xs-8">\n      <div class="form-group">\n\n        <label for="filter-form-description"\n               class="col-xs-3 control-label"\n               translate="FILTER_DESCRIPTION_LABEL">Description</label>\n\n        <div class="col-xs-9">\n          <input class="col-xs-9 form-control"\n                 name="filterDescription"\n                 ng-model="filter.properties.description"\n                 type="text"\n                 placeholder="{{ \'FILTER_DESCRIPTION_PLACEHOLDER\' | translate }}"\n                 ng-readonly="filter.id && !accesses.update"\n                 ng-disabled="filter.id && !accesses.update" />\n        </div>\n\n      </div>\n    </div>\n\n    <div class="col-xs-4">\n      <div class="form-group">\n\n        <label for="filter-form-priority"\n               class="col-xs-6 control-label"\n               translate="FILTER_PRIORITY_LABEL">Priority</label>\n\n        <div class="col-xs-6">\n          <input class="form-control"\n                 name="filterPriority"\n                 ng-model="filter.properties.priority"\n                 ng-pattern="/^-?[\\d]+$/"\n                 type="text"\n                 ng-readonly="filter.id && !accesses.update"\n                 ng-disabled="filter.id && !accesses.update" />\n\n\n          <span ng-if="this.filterGeneralForm.filterPriority.$invalid && this.filterGeneralForm.filterPriority.$dirty"\n                class="has-error">\n            <span ng-show="this.filterGeneralForm.filterPriority.$error.pattern" class="help-block">\n              {{ \'REQUIRED_INTEGER_FIELD\' | translate }}\n            </span>\n          </span>\n\n        </div>\n\n      </div>\n    </div>\n  </div>\n\n  <div class="row">\n    <div class="col-xs-offset-2 col-md-offset-10 col-xs-4 col-md-2 checkbox">\n      <label>\n        <input class="form-control"\n               name="filterRefresh"\n               ng-model="filter.properties.refresh"\n               type="checkbox"\n               tooltip-append-to-body="false"\n               tooltip="{{ \'FILTER_REFRESH_TOOLTIP\' | translate }}"\n               ng-disabled="filter.id && !accesses.update" />\n        {{ \'FILTER_REFRESH_LABEL\' | translate }}\n      </label>\n    </div>\n  </div>\n\n</div>\n';b.exports=[function(){return{restrict:"A",require:"^camTasklistFilterModalForm",scope:{filter:"=",accesses:"="},template:d,link:function(a,b,c,d){var e=a.filterGeneralForm,f=[];f.push(e.filterColor),f.push(e.filterName),f.push(e.filterPriority),f.push(e.filterDescription),f.push(e.filterRefresh);var g=function(){for(var a,b=0;a=f[b];b++)if(a.$dirty&&a.$invalid)return!0;return!1};d.registerHintProvider("filterGeneralForm",g)}}}]},{}],813:[function(a,b,c){"use strict";var d='<div ng-form class="form-horizontal" name="filterPermissionForm" role="form">\n\n  <div ng-show="!authorizationState.$loaded && !authorizationState.$error"\n       class="loader">\n    <span class="animate-spin glyphicon glyphicon-refresh"></span>\n    {{ \'LOADING\' | translate }}\n  </div>\n\n  <div ng-show="authorizationState.$error" class="alert alert-danger" role="alert">\n    <span class="glyphicon glyphicon-exclamation-sign"></span>\n    <strong class="status">{{ \'FAILURE\' | translate }}:</strong>\n    <span class="message">{{ \'FILTER_FORM_PERMISSIONS_LOADING_FAILURE\' | translate }}</span>\n  </div>\n\n  <div ng-show="authorizationState.$loaded && !authorizationState.$error">\n\n    <div class="alert alert-warning">\n      <span class="glyphicon glyphicon-exclamation-sign"></span>\n      <span>{{ \'FILTER_FORM_PERMISSIONS_EDIT_HINT\' | translate }}</span>\n    </div>\n\n    <div class="global-access checkbox form-control-static"\n         ng-show="!filter.id || (filter.id && accesses.update)">\n      <label>\n        <input type="checkbox"\n               class="form-control"\n               ng-model="isGlobalReadAuthorization"\n               ng-change="globalReadAuthorizationChanged()"\n               ng-disabled="filter.id && !accesses.update" />\n         {{ \'FILTER_FORM_PERMISSIONS_GLOBAL\' | translate }}\n      </label>\n    </div>\n\n    <div class="user-read-permissions"\n         ng-show="(!filter.id || (filter.id && accesses.update)) && !isGlobalReadAuthorization">\n      <div class="form-group labels-left">\n\n        <div class="col-xs-2 align-right">\n          <button class="btn btn-link"\n                  ng-click="addReadPermission()"\n                  type="button"\n                  ng-disabled="disableAddButton()">\n            <span class="hidden-sm hidden-xs">{{ \'ADD_PERMISSION\' | translate }}</span>\n            <span class="glyphicon glyphicon-plus-sign"></span>\n          </button>\n        </div>\n\n        <label class="col-xs-2 control-label">\n          {{ \'FILTER_FORM_PERMISSION_GROUP_USER\' | translate }}\n        </label>\n        <label class="col-xs-8 control-label">\n          {{ \'FILTER_FORM_PERMISSION_IDENTIFIER\' | translate }}\n        </label>\n      </div>\n\n\n\n\n\n\n\n      <div class="form-group"\n           ng-repeat="auth in getReadAuthorizations(authorizations)">\n        <div class="col-xs-2 row-action"\n             ng-show="!filter.id || (filter.id && accesses.update)">\n          <button class="btn btn-link btn-remove"\n                  ng-if="!isGlobalReadAuthorization"\n                  ng-click="removeReadPermission(auth)">\n            <span class="hidden-sm hidden-xs">\n              {{ \'FILTER_FORM_PERMISSIONS_REMOVE\' | translate }}\n            </span>\n            <span class="glyphicon glyphicon-remove-sign"></span>\n          </button>\n        </div>\n\n        <div class="col-xs-2">\n          <span class="fake-button">\n            <span class="glyphicon"\n                  ng-class="\'glyphicon-\' + (!!auth.userId ? \'user\' : \'th\')"></span>\n          </span>\n        </div>\n\n        <div class="form-control-static"\n             ng-class="{ \'col-xs-8\': !filter.id || (filter.id && accesses.update) , \'col-xs-10\': !(!filter.id || (filter.id && accesses.update)) }">\n\n          {{ (auth.userId || auth.groupId) }}\n        </div>\n      </div><!-- repeat auth -->\n\n      <div class="form-group new-permission"\n           ng-if="showNewPermissionFields">\n        <div class="col-xs-2 col-xs-offset-2">\n          <button class="btn btn-default"\n                  type="button"\n                  tooltip-append-to-body="false"\n                  tooltip="{{ \'FILTER_FORM_PERMISSIONS_IDENTITY_TYPE_TOOLTIP\' | translate }}: {{ (newPermission.type === \'user\' ? \'FILTER_FORM_PERMISSIONS_IDENTITY_TYPE_USER\' : \'FILTER_FORM_PERMISSIONS_IDENTITY_TYPE_GROUP\') | translate }}"\n                  ng-click="switchType()"\n                  ng-disabled="isGlobalReadAuthorization">\n            <span class="glyphicon"\n                  ng-class="newPermission.type === \'user\' ? \'glyphicon-user\' : \'glyphicon-th\'"></span>\n          </button>\n        </div>\n\n        <div class="col-xs-8">\n          <input type="text"\n                 name="newPermission"\n                 placeholder="{{ (newPermission.type === \'user\' ? \'FILTER_FORM_PERMISSIONS_USER_ID\' : \'FILTER_FORM_PERMISSIONS_GROUP_ID\') | translate }}"\n                 class="form-control"\n                 ng-model="newPermission.id"\n                 ng-change="validateNewPermission()"\n                 ng-keydown="keyPressed($event)"\n                 ng-readonly="isGlobalReadAuthorization"\n                 ng-disabled="filter.id && !accesses.update" />\n\n          <div ng-if="this.filterPermissionForm.newPermission.$invalid && this.filterPermissionForm.newPermission.$dirty"\n               class="has-error">\n            <span ng-show="this.filterPermissionForm.newPermission.$error.required"\n                  class="help-block">\n              {{ \'REQUIRED_FIELD\' | translate }}\n            </span>\n            <span ng-show="this.filterPermissionForm.newPermission.$error.duplicate && newPermission.type === \'user\'"\n                  class="help-block">\n              {{ \'FILTER_FORM_PERMISSIONS_DUPLICATE_USER\' | translate }}\n            </span>\n            <span ng-show="this.filterPermissionForm.newPermission.$error.duplicate && newPermission.type === \'group\'"\n                  class="help-block">\n              {{ \'FILTER_FORM_PERMISSIONS_DUPLICATE_GROUP\' | translate }}\n            </span>\n          </div>\n        </div>\n      </div><!-- new perm -->\n    </div>\n\n  </div>\n\n</div>\n',e=a("camunda-commons-ui/vendor/angular"),f=e.copy,g=5;b.exports=["camAPI","$q","$timeout",function(a,b,c){return{restrict:"A",require:"^camTasklistFilterModalForm",scope:{filter:"=",accesses:"=",filterModalFormData:"=",isOpen:"="},template:d,link:function(d,h,i,j){function k(a,c){function d(a,b){var d=b.$permissions;delete b.$permissions,delete b.$$hashKey,b.resourceId=b.resourceId||c.id;var h=function(c,h){g-=1,c?(L.push({status:"FILTER_FORM_PERMISSIONS_SAVE_ERROR",error:c}),b.$permissions=d):"create"===a?(b.id=h.id,b.permissions=f(h.permissions||[]),b.$permissions=f(h.permissions||[])):("delete"===a&&(b.id=null),b.permissions=f(b.permissions||[]),b.$permissions=f(b.permissions||[])),0===g&&e.resolve()};"create"===a?y.create(b,h):"update"===a?y.update(b,h):"delete"===a&&y["delete"](b.id,h)}var e=b.defer();a=a||[];var g=a.length;0===g&&e.resolve();for(var h,i=0;h=a[i];i++){var j=h.type,k=h.authorization;d(j,k)}return e.promise}function l(a){for(var b,c=0;b=a[c];c++)b.$permissions=f(b.permissions||[])}function m(){return A.newPermission}function n(a){return a&&0===a.type}function o(a){return a&&1===a.type}function p(a){a=a||{};var b=a.userId||a.groupId;return"*"===b}function q(a,b){return!!a[b]}function r(a){if(a&&a.permissions)for(var b,c=a.permissions,d=0;b=c[d];d++)if("READ"===b||"ALL"===b)return!0;return!1}function s(a){for(var b,c=0;b=a[c];c++)if(n(b))return b}function t(a){for(var b,c=[],d=0;b=a[d];d++)o(b)&&!p(b)&&r(b)&&c.push(b);return c}function u(a,b){for(var c,d=v(a,b),e={},f=0;c=d[f];f++){var g=c[b];e[g]=c}return e}function v(a,b){for(var c,d=[],e=0;c=a[e];e++)o(c)&&q(c,b)&&!p(c)&&d.push(c);return d}function w(a){if(a){var b=a.permissions;b&&b.length?b&&1===b.length?a.permissions=a.permissions.concat(["READ"]):a.permissions=["ALL"]:a.permissions=["READ"]}}function x(a){if(a){var b=a.permissions;if(b&&1===b.length){var c=b[0];"ALL"===c?a.permissions=["UPDATE","DELETE"]:"READ"===c&&(a.permissions=[])}else{a.permissions=[];for(var d,e=0;d=b[e];e++)"READ"!==d&&a.permissions.push(d)}}}d.showNewPermissionFields=!1,
d.$watch("isOpen",function(a,b){d.disableAddButton()||a||!b||d.addReadPermission(),d.showNewPermissionFields=!1}),d.$on("pre-submit",function(){d.disableAddButton()||d.addReadPermission(),d.showNewPermissionFields=!1});var y=a.resource("authorization"),z=d.filterModalFormData.newChild(d),A=d.filterPermissionForm,B=null,C=null,D=null,E=null,F={resourceType:g,permissions:["READ"]},G={type:"user",id:null},H=d.newPermission=f(G),I=function(){var a=m();return a&&a.$error&&a.$error.duplicate};j.registerHintProvider("filterPermissionForm",I),z.provide("authorizations",["filter",function(a){var c=b.defer();return a&&a.id?y.list({resourceType:g,resourceId:a.id},function(a,b){a?c.reject(a):c.resolve(b)}):c.resolve([]),c.promise}]),d.authorizationState=z.observe("authorizations",function(a){B=d.authorizations=f(a)||[],l(B),C=s(B),d.isGlobalReadAuthorization=r(C),D=u(B,"groupId"),E=u(B,"userId")}),d.globalReadAuthorizationChanged=function(){d.isGlobalReadAuthorization?(C?w(C):(C=e.extend({userId:"*",type:0},F),B.push(C)),H.id=null,J()):C&&x(C)},d.switchType=function(){H.type="user"===H.type?"group":"user",J()},d.getReadAuthorizations=function(a){if(a)return t(a)};var J=d.validateNewPermission=function(){var a=m();if(a){a.$setValidity("authorization",!0),a.$setValidity("duplicate",!0);var b=H.id;if(b){var c="user"===H.type?E:D,d=c[b];if(d&&r(d))return a.$setValidity("duplicate",!1)}}};d.disableAddButton=function(){if(!d.showNewPermissionFields)return!1;var a=m();return d.isGlobalReadAuthorization||!H.id||a&&a.$error&&a.$error.duplicate};var K=d.addReadPermission=function(){if(!d.showNewPermissionFields)return d.showNewPermissionFields=!0,void c(function(){var a=h[0].querySelector(".new-permission button");a&&a.focus()});var a=m(),b=H.id,f="user"===H.type?E:D,g=f[b];if(g){w(g);var i=B;B=d.authorizations=[];for(var j,k=0;j=i[k];k++)j!==g&&B.push(j);B.push(g)}else{g={type:1};var l="user"===H.type?"userId":"groupId";g[l]=b,e.extend(g,F),B.push(g),f[b]=g}H.id=null,a.$setValidity("authorization",!0),a.$setPristine(),c(function(){var a=h[0].querySelector(".new-permission button");a&&a.focus()})};d.keyPressed=function(a){var b=a.keyCode;if(13===b){a.preventDefault&&a.preventDefault();var c=m();return H.id&&c&&(!c.$error||!c.$error.duplicate)&&K()}},d.removeReadPermission=function(a){x(a),J(),h[0].querySelector(".global-access input").focus()};var L=[],M=function(a,b){var c=[];if(L=[],d.isGlobalReadAuthorization)for(var e,f=0;e=B[f];f++)o(e)&&r(e)&&x(e);for(var g,h=0;g=B[h];h++){var i=g.permissions,j=g.$permissions;(o(g)||n(g))&&(g.id?!i.length&&j.length?c.push({type:"delete",authorization:g}):i.length!==j.length&&c.push({type:"update",authorization:g}):i.length&&c.push({type:"create",authorization:g}))}k(c,a).then(function(){if(L&&L.length||(L=null),"function"==typeof b)return b(L)})};j.registerPostFilterSavedProvider(M)}}}]},{"camunda-commons-ui/vendor/angular":300}],814:[function(a,b,c){"use strict";var d='<div ng-form class="form-horizontal" name="filterVariableForm" role="form">\n\n  <div ng-show="variables.length > 5"\n       class="alert alert-warning"\n       role="alert">\n    <span class="glyphicon glyphicon-exclamation-sign"></span>\n    {{ \'FILTER_VARIABLES_AMOUNT_WARNING\' | translate }}\n  </div>\n\n\n  <div class="row labels-left">\n    <div class="col-xs-12">\n      <div class="undefined-variable checkbox">\n        <label>\n          <input type="checkbox"\n                 class="form-control"\n                 ng-model="filter.properties.showUndefinedVariable" />\n          {{ \'FILTER_FORM_VARIABLES_SHOW_UNDEFINED\' | translate }}\n        </label>\n      </div>\n    </div>\n\n    <div class="col-xs-2 row-action" ng-show="!filter.id || (filter.id && accesses.update)">\n      <a ng-click="addVariable()"\n         href>\n        <span class="hidden-sm hidden-xs">{{ \'FILTER_ADD_VARIABLE\' | translate }}</span>\n        <span class="glyphicon glyphicon-plus-sign"></span>\n      </a>\n    </div>\n\n    <div ng-class="{ \'col-xs-10\': !filter.id || (filter.id && accesses.update) , \'col-xs-12\': !(!filter.id || (filter.id && accesses.update)) }">\n      <div class="form-group" ng-show="variables.length">\n        <label class="col-xs-6 control-label"\n               translate="FILTER_VARIABLE_NAME">Name</label>\n        <label class="col-xs-6 control-label"\n               translate="FILTER_VARIABLE_LABEL">Label</label>\n      </div>\n    </div>\n  </div>\n\n  <div ng-repeat="(delta, variable) in variables" class="row">\n\n    <div ng-form name="variableFieldForm">\n      <div ng-init="addForm(this.variableFieldForm)"></div>\n\n      <div class="col-xs-2 row-action" ng-show="!filter.id || (filter.id && accesses.update)">\n        <a ng-click="removeVariable(delta)"\n           href>\n          <span class="hidden-sm hidden-xs">{{ \'FILTER_REMOVE_VARIABLE\' | translate }}</span>\n          <span class="glyphicon glyphicon-remove-sign"></span>\n        </a>\n      </div>\n\n\n      <div ng-class="{ \'col-xs-10\': !filter.id || (filter.id && accesses.update) , \'col-xs-12\': !(!filter.id || (filter.id && accesses.update)) }">\n        <div class="form-group">\n\n          <div class="col-xs-6">\n\n            <input class="form-control"\n                   type="text"\n                   name="variableName"\n                   ng-model="variable.name"\n                   placeholder="{{ \'FILTER_VARIABLE_NAME_PLACEHOLDER\' | translate }}"\n                   required\n                   ng-readonly="filter.id && !accesses.update"\n                   ng-disabled="filter.id && !accesses.update" />\n\n              <div ng-if="this.variableFieldForm.variableName.$invalid && this.variableFieldForm.variableName.$dirty"\n                    class="has-error">\n                <span ng-show="this.variableFieldForm.variableName.$error.required" class="help-block">\n                  {{ \'REQUIRED_FIELD\' | translate }}\n                </span>\n              </div>\n\n          </div>\n\n          <div class="col-xs-6">\n            <input class="form-control"\n                   type="text"\n                   name="variableLabel"\n                   ng-model="variable.label"\n                   placeholder="{{ \'FILTER_VARIABLE_LABEL_PLACEHOLDER\' | translate }}"\n                   required\n                   ng-readonly="filter.id && !accesses.update"\n                   ng-disabled="filter.id && !accesses.update" />\n              <div ng-if="this.variableFieldForm.variableLabel.$invalid && this.variableFieldForm.variableLabel.$dirty"\n                    class="has-error">\n                <span ng-show="this.variableFieldForm.variableLabel.$error.required" class="help-block">\n                  {{ \'REQUIRED_FIELD\' | translate }}\n                </span>\n              </div>\n          </div>\n\n        </div>\n      </div>\n    </div>\n  </div>\n\n</div>\n',e=a("camunda-commons-ui/vendor/angular"),f=e.copy;b.exports=[function(){return{restrict:"A",require:"^camTasklistFilterModalForm",scope:{filter:"=",accesses:"="},template:d,link:function(a,b,c,d){var e={name:"",label:""};a.filter.properties.showUndefinedVariable=a.filter.properties.showUndefinedVariable||!1,a.variables=a.filter.properties.variables=a.filter.properties.variables||[];var g=function(){for(var a,b=0;a=h[b];b++){var c=a.variableName,d=a.variableLabel;if(c.$dirty&&c.$invalid)return!0;if(d.$dirty&&d.$invalid)return!0}return!1};d.registerHintProvider("filterVariableForm",g);var h=[];a.addForm=function(a){h.push(a)},a.addVariable=function(){var b=f(e);a.variables.push(b)},a.removeVariable=function(b){a.filter.properties.variables=a.variables=d.removeArrayItem(a.variables,b),h=d.removeArrayItem(h,b)}}}}]},{"camunda-commons-ui/vendor/angular":300}],815:[function(a,b,c){"use strict";var d='<form name="filterForm" role="form">\n\n  <accordion close-others="true">\n\n    <accordion-group is-open="accordion.general">\n\n      <accordion-heading>\n        {{ \'FILTER_FORM_BASICS\' | translate }}\n        <span class="glyphicon glyphicon-exclamation-sign"\n              ng-show="showHint(\'filterGeneralForm\')"></span>\n      </accordion-heading>\n\n      <div class="task-filter-hint text-help">\n        <span class="glyphicon glyphicon-info-sign"></span>\n        {{ \'FILTER_FORM_BASICS_HINT\' | translate }}\n      </div>\n\n      <div cam-tasklist-filter-modal-form-general\n           filter="filter"\n           accesses="accesses">\n      </div>\n\n    </accordion-group>\n\n    <accordion-group is-open="accordion.criteria">\n      <accordion-heading>\n        {{ \'FILTER_FORM_CRITERIA\' | translate }}\n        <span class="glyphicon glyphicon-exclamation-sign"\n              ng-show="showHint(\'filterCriteriaForm\')"></span>\n      </accordion-heading>\n\n      <div class="task-filter-hint text-help">\n        <span class="glyphicon glyphicon-info-sign"></span>\n        {{ \'FILTER_FORM_CRITERIA_HINT\' | translate }}\n      </div>\n\n      <div cam-tasklist-filter-modal-form-criteria\n           filter="filter"\n           accesses="accesses">\n      </div>\n\n    </accordion-group>\n\n    <accordion-group is-open="accordion.permission">\n      <accordion-heading>\n        {{ \'FILTER_FORM_PERMISSIONS\' | translate }}\n        <span class="glyphicon glyphicon-exclamation-sign"\n              ng-show="showHint(\'filterPermissionForm\')"></span>\n      </accordion-heading>\n\n      <div class="task-filter-hint text-help">\n        <span class="glyphicon glyphicon-info-sign"></span>\n        {{ \'FILTER_FORM_PERMISSIONS_HINT\' | translate }}\n      </div>\n\n      <div cam-tasklist-filter-modal-form-permission\n           filter="filter"\n           accesses="accesses"\n           filter-modal-form-data="filterModalFormData"\n           is-open="accordion.permission">\n      </div>\n\n    </accordion-group>\n\n    <accordion-group is-open="accordion.variable">\n      <accordion-heading>\n        {{ \'FILTER_FORM_VARIABLES\' | translate }}\n        <span class="glyphicon glyphicon-exclamation-sign"\n              ng-show="showHint(\'filterVariableForm\')"></span>\n      </accordion-heading>\n\n      <div class="task-filter-hint text-help">\n        <span class="glyphicon glyphicon-info-sign"></span>\n        {{ \'FILTER_FORM_VARIABLES_HINT\' | translate }}\n      </div>\n\n      <div cam-tasklist-filter-modal-form-variable\n           filter="filter"\n           accesses="accesses">\n      </div>\n\n    </accordion-group>\n\n  </accordion>\n\n</form>\n\n',e=a("camunda-commons-ui/vendor/angular"),f=e.isArray,g=function(){},h="general",i="permission",j="criteria",k="variable";b.exports=[function(){return{restrict:"A",scope:{filter:"=",filterModalData:"=",registerIsValidProvider:"&",registerPostFilterSavedProvider:"&"},template:d,controller:["$scope",function(a){var b=a.filterModalFormData=a.filterModalData.newChild(a);a.registerIsValidProvider=a.registerIsValidProvider()||g,a.registerPostFilterSavedProvider=a.registerPostFilterSavedProvider()||g;var c=h;a.accordion={general:c===h,permission:c===i,criteria:c===j,variable:c===k},b.observe("accesses",function(b){a.accesses=b});var d=function(){return a.filterForm.$valid};a.registerIsValidProvider(d);var e={};this.registerHintProvider=function(a,b){b=b||g,e[a]=b},a.showHint=function(a){var b=e[a];return b&&b()};var l=[];this.registerPostFilterSavedProvider=function(a){l.push(a||function(a,b){return b()})};var m=function(a,b){var c=l.length;if(0===c)return b();for(var d,e=[],g=function(a){if(c-=1,a&&(f(a)?a.length&&(e=e.concat(a)):e.push(a)),0===c){if(1===e.length)return b(e[0]);if(e.length)return b(e);b()}},h=0;d=l[h];h++)d(a,g)};a.registerPostFilterSavedProvider(m),this.removeArrayItem=function(a,b){var c=[];for(var d in a)d!=b&&c.push(a[d]);return c}}]}}]},{"camunda-commons-ui/vendor/angular":300}],816:[function(a,b,c){"use strict";var d='<div ng-show="!state.$loaded && !state.$error"\n     class="loader">\n  <span class="animate-spin glyphicon glyphicon-refresh"></span>\n  {{ \'LOADING\' | translate }}\n</div>\n\n<div ng-show="state.$error" class="alert alert-danger" role="alert">\n  <span class="glyphicon glyphicon-exclamation-sign"></span>\n  <strong class="status">{{ \'FAILURE\' | translate }}:</strong>\n  <span class="message">{{ \'FILTERS_LOADING_FAILURE\' | translate }}</span>\n</div>\n\n<div ng-show="state.$loaded && !state.$error"\n     class="list-unstyled">\n\n  <div ng-hide="totalItems"\n       class="well">\n    <span class="glyphicon glyphicon-info-sign"></span>\n    {{ \'NO_AVAILABLE_FILTER\' | translate }}\n    <div class="add-initial-filter" ng-if="userCanCreateFilter">\n      <a class="filter-hint"\n         ng-click="addAllFilter()">\n        <span class="glyphicon glyphicon-plus"></span>\n        {{ \'ADD_FILTER_HINT\' | translate }}\n      </a>\n    </div>\n  </div>\n\n  <div ng-show="totalItems"\n       ng-repeat="(delta, filter) in filters | orderBy:\'properties.priority\'"\n       class="item task-filter cells-wrapper"\n       ng-class="{active: isFocused(filter)}"\n       ng-style="filter.style"\n       ng-click="focus(filter)">\n\n    <h4 class="name"\n        tooltip="{{ filter.properties.description }}"\n        tooltip-placement="top">\n      <a href\n         ng-style="{color: filter.properties.color}">\n        {{ filter.name }}\n\n        <span ng-show="isFocused(filter)"\n              class="counter">{{ filterCount }}</span>\n      </a>\n    </h4>\n\n    <div class="actions"\n         ng-style="{visibility: isFocused(filter) ? \'visible\' : \'hidden\'}">\n      <a ng-click="openModal($event, filter)"\n         tooltip="{{ \'FILTER_DETAILS\' | translate }}"\n         tooltip-placement="top"\n         href>\n        <span class="glyphicon glyphicon-pencil"></span>\n      </a>\n    </div>\n  </div>\n</div>\n',e=function(){};b.exports=[function(){return{restrict:"A",scope:{filtersData:"=",openModal:"&",userCanCreateFilter:"="},template:d,controller:["$scope","search","camAPI","Uri","Notifications","$translate",function(a,b,c,d,f,g){var h=a.filtersData=a.filtersData.newChild(a);a.openModal=a.openModal()||e;var i=c.resource("filter");h.observe("taskList",function(b){a.filterCount=b.count}),a.state=h.observe("filters",function(b){a.totalItems=b.length;for(var c,d=0;c=b[d];d++)c.style={"z-index":b.length+10-d};a.filters=b}),h.observe("currentFilter",function(b){a.currentFilter=b}),a.focus=function(c){a.filterCount=void 0,b.updateSilently({filter:c.id}),h.changed("currentFilter")},a.isFocused=function(b){return b.id===a.currentFilter.id},a.addAllFilter=function(){return g("ALL_TASKS").then(function(a){var b={name:a,resourceType:"Task",query:{},properties:{description:"Unfiltered Tasks",priority:1,color:"#555555",refresh:!1,howUndefinedVariable:!1}};return i.create(b)}).then(function(){a.filtersData.changed("filters")})["catch"](function(a){return g("FILTER_SAVE_ERROR").then(function(b){f.addError({status:b,message:a.message||""})})})}}]}}]},{}],817:[function(a,b,c){"use strict";var d=a("camunda-commons-ui/vendor/angular"),e=a("./directives/cam-tasklist-filters"),f=a("./directives/cam-tasklist-filter-modal-form"),g=a("./directives/cam-tasklist-filter-modal-form-general"),h=a("./directives/cam-tasklist-filter-modal-form-criteria"),i=a("./directives/cam-tasklist-filter-modal-form-variable"),j=a("./directives/cam-tasklist-filter-modal-form-permission"),k=a("./controllers/cam-tasklist-filters-ctrl"),l=a("./modals/cam-tasklist-filter-modal"),m=d.module("cam.tasklist.filter",["ui.bootstrap"]);m.directive("camTasklistFilters",e),m.directive("camTasklistFilterModalForm",f),m.directive("camTasklistFilterModalFormGeneral",g),m.directive("camTasklistFilterModalFormCriteria",h),m.directive("camTasklistFilterModalFormVariable",i),m.directive("camTasklistFilterModalFormPermission",j),m.controller("camFiltersCtrl",k),m.controller("camFilterModalCtrl",l),b.exports=m},{"./controllers/cam-tasklist-filters-ctrl":809,"./directives/cam-tasklist-filter-modal-form":815,"./directives/cam-tasklist-filter-modal-form-criteria":811,"./directives/cam-tasklist-filter-modal-form-general":812,"./directives/cam-tasklist-filter-modal-form-permission":813,"./directives/cam-tasklist-filter-modal-form-variable":814,"./directives/cam-tasklist-filters":816,"./modals/cam-tasklist-filter-modal":818,"camunda-commons-ui/vendor/angular":300}],818:[function(a,b,c){"use strict";function d(a,b){if(p.test(a)){"%"!==b[0]&&(b="%"+b);var c=b.length-1;"%"!==b[c]&&(b+="%")}return b}function e(a,b){return p.test(a)&&("%"===b[0]&&(b=b.slice(1,b.length)),"%"===b.slice(-1)&&(b=b.slice(0,-1))),b}function f(a){return t.test(a)}function g(a){return u.test(a)}function h(a){return k(Object.keys(a),function(b){"$"===b[0]||l(a[b])&&!a[b].length?delete a[b]:(m(a[b])||l(a[b]))&&(a[b]=h(a[b]))}),a}var i=a("camunda-commons-ui/vendor/angular"),j=i.copy,k=i.forEach,l=i.isArray,m=i.isObject,n="Task",o="#555555",p=/Like$/,q=["createdBefore","createdAfter","dueBefore","dueAfter","followUpBefore","followUpAfter"],r=/^[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}(|\.[0-9]{0,4})([+-][0-9]{4}|Z)$/,s=/^[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}(|\.[0-9]{0,4})$/,t=/Variables$/,u=/^[\s]*(\#|\$)\{/;b.exports=["$scope","$translate","$q","Notifications","camAPI","filter","filtersData","fixDate","unfixDate",function(a,b,c,i,m,p,t,u,v){function w(c,d,e){b(c).then(function(b){i.addError({status:b,message:d?d.message:"",exclusive:e,scope:a})})}var x=m.resource("filter"),y=a.filterModalData=t.newChild(a);a.$on("$locationChangeStart",function(){a.$dismiss()}),a.deletion=!1,a.filter=j(p||{}),a.filter.name=a.filter.name,a.filter.matchType=a.filter.matchType,a.filter.properties=a.filter.properties||{},a.filter.properties.description=a.filter.properties.description,a.filter.properties.priority=parseInt(a.filter.properties.priority||0,10),a.filter.properties.color=a.filter.properties.color||o,a.filter.properties.refresh=a.filter.properties.refresh||!1,a.filter.properties.showUndefinedVariable=a.filter.properties.showUndefinedVariable||!1;var z=a.filter.id;a.filter.properties.variables=a.filter.properties.variables||[];var A=a.filter.query=a.filter.query||{};A.orQueries&&A.orQueries.length>0?(A=A.orQueries[0],a.filter.matchType="any"):(delete A.orQueries,a.filter.matchType="all");var B=[],C=[];for(var D in A){var E=A[D];f(D)?C.push({key:D,value:E}):(E=e(D,E),q.indexOf(D)!==-1&&r.test(E)&&(E=v(E)),B.push({key:D,value:E}))}a.filter.query=B,y.provide("filter",a.filter),y.provide("userFilterAccess",["filter",function(a){var b=c.defer();return a&&a.id?x.authorizations(a.id,function(a,c){a?b.reject(a):b.resolve(c)}):b.resolve({links:[]}),b.promise}]),y.provide("accesses",["userFilterAccess",function(a){var b={};return k(a.links,function(a){b[a.rel]=!0}),b}]),y.observe("accesses",function(b){a.accesses=b});var F=function(){return!1};a.isValid=F,a.registerValidationProvider=function(b){a.isValid=b||F};var G=function(a,b){return b()};a.registerPostFilterSavedProvider=function(a){G=a||G},a.submit=function(){a.$broadcast("pre-submit");for(var b,c=(a.filter.query||[]).concat(C),e={},i=0;b=c[i];i++){var j=b.key,k=b.value;if(!f(j)&&"sorting"!==j)if(k=d(j,k),q.indexOf(j)!==-1&&s.test(k)&&(k=u(k)),g(k)?j.indexOf("Expression")===-1&&(j+="Expression"):j.indexOf("Expression")!==-1&&(j=j.slice(0,j.indexOf("Expression"))),"candidateGroups"===j||"In"===j.slice(-2)){if("string"==typeof k){k=k.split(",");for(var m=0;m<k.length;m++)k[m]&&(k[m]=k[m].trim())}}else k=""+k;e[j]=k}a.filter.includeAssignedTasks&&(e.includeAssignedTasks=!0),"any"===a.filter.matchType&&(e={orQueries:[e]});var p={id:z,name:a.filter.name,resourceType:n,query:e,properties:{description:a.filter.properties.description,priority:parseInt(a.filter.properties.priority||0,10),color:a.filter.properties.color||o,refresh:a.filter.properties.refresh,variables:a.filter.properties.variables,showUndefinedVariable:a.filter.properties.showUndefinedVariable}};h(p),x.save(p,function(b,c){return b?w("FILTER_SAVE_ERROR",b,!0):(p.id=z=z||c.id,void G(p,function(b){if(b)if(l(b)&&b.length)for(var c,d=0;c=b[d];d++)w(c.status,c.error,0===d);else w(b.status,b.error,!0);else a.$close()}))})},a.abortDeletion=function(){a.deletion=!1},a.confirmDeletion=function(){a.deletion=!0},a["delete"]=function(){x["delete"](a.filter.id,function(b){return b?w("FILTER_DELETION_ERROR",b,!0):void a.$close()})}}]},{"camunda-commons-ui/vendor/angular":300}],819:[function(a,b,c){"use strict";var d='<div class="form-container" ng-keypress="formKeyPressed($event)">\n</div>\n',e=a("camunda-commons-ui/vendor/angular"),f=a("jquery");b.exports=["CamForm","camAPI","$timeout",function(a,b,c){return{restrict:"A",require:"^camTasklistForm",scope:!0,template:d,link:function(d,g,h,i){function j(){var a=n.variableManager.variables;for(var b in a)n.variableManager.destroyVariable(b);n.variableManager.variables=o}function k(a){a&&a.loaded&&l(m,a,i.getParams()),a&&a.failure&&i.notifyFormInitializationFailed(a.error)}function l(c,f,g){var h=f.key;g=e.copy(g),delete g.processDefinitionKey,e.extend(g,{urlParams:{taskId:g.taskId||null,userId:d.$root.authentication.name},containerElement:c,client:b,formUrl:h,done:q}),n=new a(g)}var m=f(g[0]).find(".form-container"),n=null,o=null,p=d.form={$valid:!1,$invalid:!0};d.$watch("asynchronousFormKey",k,!0),d.$watch(function(){return p&&p.$valid},function(a){i.notifyFormValidated(!a)}),d.$watch(function(){return p&&p.$dirty},function(a){i.notifyFormDirty(a)});var q=function(a,b){if(a)return i.notifyFormInitializationFailed(a);n=b,o=e.copy(n.variableManager.variables);var c=b.formElement.attr("name"),f=b.formElement.scope();f&&(p=f[c],p.$setPristine(),i.notifyFormInitialized(),d.$root.$broadcast("embedded.form.rendered"))};d.$on("shortcut:focusForm",function(){if(n){var a=n.formElement[0].querySelectorAll("input")[0];a&&a.focus()}}),d.formKeyPressed=function(a){if(a.ctrlKey&&(13===a.keyCode||10===a.keyCode))return i.attemptComplete()};var r=function(a){return function(b,c){return b&&j(),a(b,c)}},s=function(a){n.submit(r(a))},t=function(a){p.$setPristine(),n.store(),c(function(){e.element(a.target).triggerHandler(f.Event("mouseleave"))})};i.registerCompletionHandler(s),i.registerSaveHandler(t),d.$on("authentication.login.required",function(){t()})}}}]},{"camunda-commons-ui/vendor/angular":300,jquery:"jquery"}],820:[function(a,b,c){"use strict";var d='<div class="text-help">\n  <span class="glyphicon glyphicon-info-sign"></span>\n  {{ EXTERNAL_FORM_NOTE | translate }}\n</div>\n\n<a ng-href="{{ externalFormUrl  }}"\n   class="external-form">\n  {{ \'EXTERNAL_FORM_LINK\' |translate }}\n  <span class="glyphicon glyphicon-folder-open"></span>\n</a>\n';b.exports=["$location",function(a){return{restrict:"A",require:"^camTasklistForm",scope:!0,template:d,link:function(b,c,d,e){e.notifyFormValidated(!0),b.externalFormUrl=null,b.EXTERNAL_FORM_NOTE=null,b.$watch(function(){return e.getTasklistForm()&&e.getParams()},function(c){if(c){var d=e.getTasklistForm(),f=e.getParams(),g=d.key,h=f.taskId,i=f.processDefinitionKey,j=null;if(h)j="taskId="+h,b.EXTERNAL_FORM_NOTE="TASK_EXTERNAL_FORM_NOTE";else{if(!i)return e.notifyFormInitializationFailed({message:"INIT_EXTERNAL_FORM_FAILED"});j="processDefinitionKey="+i,b.EXTERNAL_FORM_NOTE="PROCESS_EXTERNAL_FORM_NOTE"}var k=a.absUrl(),l=a.url();k=k.replace(l,"/"),b.externalFormUrl=encodeURI(g+"?"+j+"&callbackUrl="+k),e.notifyFormInitialized()}}),b.$watch(function(){return e.getOptions()},function(a){a&&(a.hideCompleteButton=!0)})}}}]},{}],821:[function(a,b,c){"use strict";var d='<form name="generic-form"\n      class="form-horizontal">\n\n  <div class="form-group"\n       ng-if="showBusinessKey">\n    <label for="business-key-field"\n           translate="BUSINESS_KEY"\n           class="control-label col-xs-2">Business key</label>\n    <div class="col-xs-10">\n      <input type="text"\n            ng-readonly="readonly"\n            ng-model="businessKey"\n             id="business-key-field"\n             cam-business-key\n             class="form-control" />\n    </div>\n  </div>\n\n  <div class="form-group labels-left">\n    <div class="col-xs-2 row-action">\n      <a href\n         ng-click="addVariable()"\n         ng-disabled="options.disableAddVariableButton">\n        <span class="hidden-xs hidden-sm"\n              translate="ADD_VARIABLE">Add variable</span>\n        <span class="glyphicon glyphicon-plus-sign"></span>\n      </a>\n    </div>\n\n\n\n    <div class="col-xs-10"\n         ng-if="variables.length">\n      <div class="row">\n        <label class="control-label col-xs-4"\n               translate="NAME">Name</label>\n\n\n\n        <label class="control-label col-xs-4"\n               translate="TYPE">Type</label>\n\n\n\n        <label class="control-label col-xs-4"\n               translate="VALUE">Value</label>\n      </div>\n    </div>\n  </div>\n\n\n\n  <div ng-if="variables.length"\n       ng-repeat="(delta, variable) in variables"\n       class="form-group"\n       ng-form="repeatForm">\n\n    <div class="col-xs-2 row-action">\n      <a href\n         ng-click="removeVariable(delta)"\n         ng-if="!variable.fixedName">\n        <span class="hidden-sm hidden-xs"\n              translate="REMOVE">Remove</span>\n        <span class="glyphicon glyphicon-remove-sign"></span>\n      </a>\n    </div>\n\n\n\n    <div class="col-xs-10">\n      <div class="row">\n        <div class="col-xs-4">\n          <input required\n                 type="text"\n                 class="form-control"\n                 placeholder="{{ \'VARIABLE_NAME\' | translate }}"\n                 ng-model="variable.name"\n                 name="name"\n                 cam-unique-value="{{ getVariableNames() }}"\n                 ng-readonly="variable.fixedName" />\n          <span ng-if="repeatForm.name.$invalid && repeatForm.name.$dirty" class="has-error">\n            <span ng-if="repeatForm.name.$error.required"\n                  class="help-block">\n              {{ \'REQUIRED_FIELD\' | translate }}\n            </span>\n            <span ng-if="repeatForm.name.$error.camUniqueValue"\n                  class="help-block">\n              {{ \'REQUIRE_UNIQUE_NAME\' | translate }}\n            </span>\n          </span>\n        </div>\n\n\n\n        <div class="col-xs-4">\n          <select required\n                  ng-disabled="!variable.name"\n                  class="form-control"\n                  ng-model="variable.type">\n\n            <option disabled\n                    value=""\n                    translate="VARIABLE_TYPE">Type</option>\n\n            <option value="Boolean">Boolean</option>\n            <option value="Short">Short</option>\n            <option value="Integer">Integer</option>\n            <option value="Long">Long</option>\n            <option value="Double">Double</option>\n            <option value="String">String</option>\n            <option value="Date">Date</option>\n          </select>\n        </div>\n\n\n\n        <div class="col-xs-4"\n             ng-switch="variable.type">\n          <input ng-switch-when=""\n                 readonly\n                 type="text"\n                 class="form-control"\n                 placeholder="{{ \'VARIABLE_VALUE\' | translate }}" />\n\n\n          <input ng-switch-when="Boolean"\n                 class="form-control"\n                 type="checkbox"\n                 ng-model="variable.value"\n                 ng-checked="variable.value"\n                 cam-variable-name="{{ variable.name }}"\n                 cam-variable-type="{{ variable.type }}" />\n\n\n          <input ng-switch-default\n                 class="form-control"\n                 type="{{ variableTypes[variable.type] }}"\n                 required\n                 ng-model="variable.value"\n                 name="value"\n                 cam-variable-name="{{ variable.name }}"\n                 cam-variable-type="{{ variable.type }}"\n                 placeholder="{{ \'VARIABLE_VALUE\' | translate }}" />\n\n          <span ng-if="repeatForm.value.$invalid && repeatForm.value.$dirty" class="has-error">\n            <span ng-if="repeatForm.value.$error.required"\n                  class="help-block">\n              {{ \'REQUIRED_FIELD\' | translate }}\n            </span>\n            <span ng-if="repeatForm.value.$error.camVariableType"\n                  class="help-block">\n              Only a {{ variable.type }} value is allowed\n            </span>\n          </span>\n\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class="form-group"\n       ng-if="!options.hideLoadVariablesButton && !variablesLoaded">\n    <div class="col-xs-2 row-action">\n      <a href\n         ng-click="loadVariables()">\n        <span class="hidden-sm hidden-xs"\n              translate="LOAD_VARIABLES">Load Variables</span>\n        <span class="glyphicon glyphicon-download"></span>\n      </a>\n    </div>\n  </div>\n\n</form>\n',e=a("camunda-commons-ui/vendor/angular");b.exports=["camAPI","Notifications","$translate","unfixDate",function(a,b,c,f){return{restrict:"A",require:"^camTasklistForm",template:d,link:function(d,g,h,i){var j=a.resource("task"),k=a.resource("process-instance"),l=a.resource("case-instance");d.showBusinessKey=!1;var m={name:"",value:"",type:""},n=d.variableTypes={Boolean:"checkbox",Integer:"text",Long:"text",Short:"text",Double:"text",String:"text",Date:"text"},o=i.getParams(),p=o.processInstanceId||o.caseInstanceId;if(o.processDefinitionId||o.caseDefinitionId)if(p){d.readonly=!0;var q=o.processInstanceId?k:l;q.get(p).then(function(a){a.businessKey&&(d.showBusinessKey=!0,d.businessKey=a.businessKey)})}else d.showBusinessKey=!0;else d.showBusinessKey=!1;d.$watch("tasklistForm",function(){d.variablesLoaded=!1}),d.addVariable=function(){var a=e.copy(m);d.variables.push(a)},d.removeVariable=function(a){var b=[];e.forEach(d.variables,function(c,d){d!=a&&b.push(c)}),d.variables=b},d.getVariableNames=function(){return d.variables.map(function(a){return a.name})},d.loadVariables=function(){d.variablesLoaded=!0,j.formVariables({id:i.getParams().taskId,deserializeValues:!1},function(a,g){if(a)return d.variablesLoaded=!1,c("LOAD_VARIABLES_FAILURE").then(function(c){b.addError({status:c,message:a.message,scope:d})});var h=!1;e.forEach(g,function(a,b){if(n[a.type]){var c=a.value;"Date"===a.type&&(c=f(c)),d.variables.push({name:b,value:c,type:a.type,fixedName:!0}),h=!0}}),h||c("NO_TASK_VARIABLES").then(function(a){b.addMessage({duration:5e3,status:a,scope:d})})})}}}}]},{"camunda-commons-ui/vendor/angular":300}],822:[function(a,b,c){"use strict";var d='<div class="generic-form-fields">\n\n  <div class="text-help">\n    <span class="glyphicon glyphicon-info-sign"></span>\n    {{ \'USE_GENERIC_FORM\' | translate }}\n  </div>\n\n  <div cam-tasklist-form-generic-variables>\n  </div>\n\n</div>\n',e=a("camunda-commons-ui/vendor/angular"),f=a("jquery");b.exports=["CamForm","camAPI","$timeout",function(a,b,c){return{restrict:"A",require:"^camTasklistForm",scope:!0,template:d,link:function(d,g,h,i){function j(c,d){d=e.copy(d),delete d.processDefinitionKey,e.extend(d,{client:b,formElement:m,done:q}),n=new a(d)}function k(){var a=n.variableManager.variables;for(var b in a)n.variableManager.destroyVariable(b)}function l(){n.fields=[]}var m=f(g[0]).find("form"),n=null,o={$valid:!1,$invalid:!0},p=!1;d.$watch(function(){return p},function(a){a&&(j(a,i.getParams()),p=!1)}),d.$watch(function(){return i.getTasklistForm()},function(a){a&&(p=!0,d.variables=[])}),d.$watch(function(){return o&&o.$valid},function(a){i.notifyFormValidated(!a)});var q=function(a,b){if(a)return i.notifyFormInitializationFailed(a);n=b;var e=b.formElement.attr("name"),f=b.formElement.scope();f&&(o=f[e],i.notifyFormInitialized(),d.options.autoFocus&&c(function(){var a=b.formElement[0].querySelectorAll("input")[0];a&&a.focus()}))},r=function(a){function b(b,c){return k(),l(),a(b,c)}try{n.initializeFieldHandlers()}catch(c){return b(c)}var d=n.variableManager.variables;for(var e in d)d[e].value=null;
n.submit(b)};i.registerCompletionHandler(r)}}}]},{"camunda-commons-ui/vendor/angular":300,jquery:"jquery"}],823:[function(a,b,c){"use strict";function d(a){var b=[];for(var c in a)a[c]&&b.push(a[c]);return b}var e='<div ng-show="tasklistForm && !$loaded"\n     class="loader">\n  <span class="animate-spin glyphicon glyphicon-refresh"></span>\n  {{ \'LOADING\' | translate }}\n</div>\n\n<div ng-if="tasklistForm.type"\n     ng-show="tasklistForm && $loaded"\n     ng-class="{ \'disabled-form\': options.disableForm, \'task-removed\': taskRemoved}">\n\n  <div ng-show="tasklistForm.$error" class="alert alert-danger" role="alert">\n    <span class="glyphicon glyphicon-exclamation-sign"></span>\n    <strong class="status">{{ \'FORM_FAILURE\' | translate }}</strong>\n    <span class="message">{{ tasklistForm.$error.message | translate }}</span>\n  </div>\n\n  <div ng-switch="tasklistForm.type"\n       ng-show="!tasklistForm.$error">\n\n    <div ng-switch-when="embedded">\n      <div cam-tasklist-form-embedded>\n      </div>\n    </div>\n\n    <div ng-switch-when="external">\n      <div cam-tasklist-form-external>\n      </div>\n    </div>\n\n    <div ng-switch-default>\n      <div cam-tasklist-form-generic>\n      </div>\n    </div>\n\n  </div>\n\n  <div class="form-actions" ng-show="showCompleteButton()">\n    <button class="btn btn-default"\n            type="submit"\n            ng-click="save($event)"\n            ng-hide="tasklistForm.type === \'generic\'"\n            tooltip-placement="top"\n            tooltip="{{ \'SAVE_HINT\' | translate }}"\n            ng-disabled="!$dirty">\n      {{ \'SAVE\' | translate }}\n    </button>\n    <button class="btn btn-primary"\n            type="submit"\n            ng-click="complete()"\n            ng-disabled="disableCompleteButton()">\n      {{ \'COMPLETE\' | translate }}\n    </button>\n  </div>\n\n</div>\n',f="embedded:",g="app:",h="engine:",i="deployment:",j=function(){};b.exports=function(){return{restrict:"A",scope:{tasklistForm:"=",options:"=",params:"=",onFormCompletionCallback:"&",onFormCompletion:"&",onFormValidation:"&"},template:e,controller:["$scope","Uri",function(a,b){function c(b){a.asynchronousFormKey.key=b,a.asynchronousFormKey.loaded=!0}function e(e){var j=e.key,l=e.contextPath;return j?(0===j.indexOf(f)?(j=j.substring(f.length),e.type="embedded"):e.type="external",0===j.indexOf(g)?l?(j=d([l,j.substring(g.length)]).join("/").replace(/\/([\/]+)/,"/"),c(j)):k.notifyFormInitializationFailed({message:"EMPTY_CONTEXT_PATH"}):0===j.indexOf(i)?(j=a.params.taskId?b.appUri("engine://engine/:engine/task/"+a.params.taskId+"/deployed-form"):b.appUri("engine://engine/:engine/process-definition/"+a.params.processDefinitionId+"/deployed-start-form"),c(j)):0===j.indexOf(h)?(j=b.appUri(j),c(j)):c(j),void(e.key=j)):void(e.type="generic")}a.taskRemoved=!1,a.$on("taskremoved",function(){a.taskRemoved=!0}),a.onFormCompletionCallback=a.onFormCompletionCallback()||j,a.onFormCompletion=a.onFormCompletion()||j,a.onFormValidation=a.onFormValidation()||j,a.completionHandler=j,a.saveHandler=j,a.$loaded=!1,a.completeInProgress=!1,a.$watch("tasklistForm",function(b){a.$loaded=!1,b&&(e(b),a.taskRemoved=!1)}),a.asynchronousFormKey={loaded:!1,failure:!1};var k=this,l=function(b,c){a.onFormCompletionCallback(b,c),a.completeInProgress=!1},m=a.complete=function(){a.completeInProgress=!0,a.completionHandler(l)};a.onFormCompletion(m),a.showCompleteButton=function(){return a.options&&!a.options.hideCompleteButton&&a.$loaded};var n=a.disableCompleteButton=function(){return a.taskRemoved||a.completeInProgress||a.$invalid||a.options&&a.options.disableCompleteButton},o=function(){var a=!n();return a&&m()};a.save=function(b){a.saveHandler(b)},this.notifyFormInitialized=function(){a.$loaded=!0},this.notifyFormInitializationFailed=function(b){a.tasklistForm.$error=b,this.notifyFormInitialized(),this.notifyFormValidated(!0)},this.notifyFormCompleted=function(b){a.onFormCompletion(b)},this.notifyFormValidated=function(b){a.$invalid=b,a.onFormValidation(b)},this.notifyFormDirty=function(b){a.$dirty=b},this.getOptions=function(){return a.options||{}},this.getTasklistForm=function(){return a.tasklistForm},this.getParams=function(){return a.params||{}},this.registerCompletionHandler=function(b){a.completionHandler=b||j},this.registerSaveHandler=function(b){a.saveHandler=b||j},this.attemptComplete=o}]}}},{}],824:[function(a,b,c){"use strict";b.exports=[function(){return{require:"ngModel",link:function(a,b,c,d){var e=function(a){var e=JSON.parse(c.camUniqueValue);if(d.$setValidity("camUniqueValue",!0),a){d.$pristine&&(d.$pristine=!1,d.$dirty=!0,b.addClass("ng-dirty"),b.removeClass("ng-pristine"));for(var f=!1,g=0;g<e.length;g++)if(e[g]===a){if(f){d.$setValidity("camUniqueValue",!1);break}f=!0}}return a};d.$parsers.unshift(e),d.$formatters.push(e),c.$observe("camUniqueValue",function(){return e(d.$viewValue)})}}}]},{}],825:[function(a,b,c){"use strict";var d=a("camunda-commons-ui/vendor/angular"),e=a("./directives/cam-tasklist-form"),f=a("./directives/cam-tasklist-form-generic"),g=a("./directives/cam-tasklist-form-generic-variables"),h=a("./directives/cam-tasklist-form-embedded"),i=a("./directives/cam-tasklist-form-external"),j=a("./directives/cam-tasklist-unique-value"),k=d.module("cam.tasklist.form",["ui.bootstrap"]);k.directive("camTasklistForm",e),k.directive("camTasklistFormGeneric",f),k.directive("camTasklistFormGenericVariables",g),k.directive("camTasklistFormEmbedded",h),k.directive("camTasklistFormExternal",i),k.directive("camUniqueValue",j),b.exports=k},{"./directives/cam-tasklist-form":823,"./directives/cam-tasklist-form-embedded":819,"./directives/cam-tasklist-form-external":820,"./directives/cam-tasklist-form-generic":822,"./directives/cam-tasklist-form-generic-variables":821,"./directives/cam-tasklist-unique-value":824,"camunda-commons-ui/vendor/angular":300}],826:[function(a,b,c){"use strict";b.exports=["$scope","Views",function(a,b){a.navbarVars={read:["tasklistApp"]},a.navbarActions=b.getProviders({component:"tasklist.navbar.action"})}]},{}],827:[function(a,b,c){"use strict";var d=a("jquery"),e=d("body");b.exports=["$scope","$timeout",function(a,b){function c(a){return d(a.currentTarget).attr("data-region")}function f(a){return e.hasClass(a+"-column-close")}function g(a){return e.removeClass(a+"-column-close")}function h(a){return e.addClass(a+"-column-close")}a.toggleVariableSearch=function(a){a&&a.preventDefault&&a.preventDefault(),d(".tasks-list").toggleClass("show-search")},a.toggleRegion=function(d){d&&d.preventDefault&&d.preventDefault();var h=c(d);"task"===h?f("list")&&!f("task")&&g("list"):"list"===h&&f("task")&&!f("list")&&g("task"),e.toggleClass(h+"-column-close"),b(function(){a.$root.$broadcast("layout:change")},600)},a.maximizeRegion=function(a){a&&a.preventDefault&&a.preventDefault(),h("filters"),h("list"),g("task"),document.querySelector(".reset-regions").focus()},a.resetRegions=function(a){a&&a.preventDefault&&a.preventDefault(),g("filters"),g("list"),g("task"),document.querySelector(".maximize").focus()}}]},{jquery:"jquery"}],828:[function(a,b,c){"use strict";var d=a("camunda-commons-ui/vendor/angular"),e=a("./controllers/cam-layout-ctrl"),f=a("./controllers/cam-header-views-ctrl");a("camunda-commons-ui/lib/util/index");var g=d.module("cam.tasklist.navigation",[a("camunda-commons-ui/lib/util/index").name,"ui.bootstrap"]);g.controller("camHeaderViewsCtrl",f),g.controller("camLayoutCtrl",e),b.exports=g},{"./controllers/cam-header-views-ctrl":826,"./controllers/cam-layout-ctrl":827,"camunda-commons-ui/lib/util/index":41,"camunda-commons-ui/vendor/angular":300}],829:[function(a,b,c){"use strict";var d=a("camunda-commons-ui/vendor/angular"),e=a("./plugins/action/cam-tasklist-navbar-action-start-process-plugin"),f=a("./plugins/action/modals/cam-tasklist-process-start-modal"),g=d.module("cam.tasklist.process",["cam.tasklist.client","cam.tasklist.form","ui.bootstrap"]);g.config(e),g.controller("camProcessStartModalCtrl",f),b.exports=g},{"./plugins/action/cam-tasklist-navbar-action-start-process-plugin":830,"./plugins/action/modals/cam-tasklist-process-start-modal":831,"camunda-commons-ui/vendor/angular":300}],830:[function(a,b,c){"use strict";var d=a("camunda-commons-ui/vendor/angular"),e='<a ng-click="open()"\n   href>\n  <span class="glyphicon glyphicon-list-alt"></span>\n  {{ \'START_PROCESS\' | translate }}\n</a>\n',f='<div class="modal-header">\n  <div class="row">\n    <div class="col-xs-6">\n      <h3 class="modal-title">{{ \'START_PROCESS\' | translate }}</h3>\n    </div>\n\n    <div class="col-xs-6">\n      <form>\n        <div class="form-group has-feedback"\n             ng-if="!PROCESS_TO_START_SELECTED">\n          <input type="text"\n                 ng-model="page.searchValue"\n                 placeholder="{{ \'SEARCH_PROCESS_BY_NAME\' | translate }}"\n                 ng-change="lookupProcessDefinitionByName()"\n                 class="form-control">\n        </div>\n      </form>\n    </div>\n  </div>\n</div>\n\n<div class="modal-body">\n\n  <div notifications-panel></div>\n\n  <div ng-if="!PROCESS_TO_START_SELECTED">\n\n    <div ng-if="!processDefinitionState.$loaded || lookupProcessDefinitionByName.$loading"\n       class="loader">\n      <span class="animate-spin glyphicon glyphicon-refresh"></span>\n      {{ \'LOADING\' | translate }}\n    </div>\n\n    <div ng-hide="!processDefinitionState.$loaded || lookupProcessDefinitionByName.$loading">\n\n      <div ng-hide="page.total"\n           class="well">\n        <span class="glyphicon glyphicon-info-sign"></span>\n        {{ \'NO_PROCESS_DEFINITION_AVAILABLE\' | translate }}\n      </div>\n\n      <div ng-if="page.total" class="available-processes">\n\n        <div class="text-help">\n          <span class="glyphicon glyphicon-info-sign"></span>\n          {{ \'CLICK_PROCESS_TO_START\' | translate }}\n        </div>\n\n        <ul class="processes">\n          <li ng-repeat="processDefinition in processDefinitions">\n            <a href\n               ng-click="selectProcessDefinition(processDefinition)">\n              {{ processDefinition.name || processDefinition.key }}\n            </a>\n            <span ng-if="processDefinition.tenantId"\n                  class="tenant-id">\n              {{ processDefinition.tenantId }}\n            </span>\n          </li>\n        </ul>\n\n      </div>\n\n      <pagination ng-if="page.total > page.size"\n                  total-items="page.total"\n                  items-per-page="page.size"\n                  max-size="5"\n                  class="pagination-sm"\n                  boundary-links="true"\n                  ng-model="page.current"\n                  ng-change="pageChange()"\n                  next-text="&rsaquo;"\n                  last-text="&raquo;"\n                  previous-text="&lsaquo;"\n                  first-text="&laquo;"></pagination>\n    </div>\n  </div>\n\n  <div ng-if="PROCESS_TO_START_SELECTED">\n\n    <div ng-if="startFormState.$error" class="alert alert-danger" role="alert">\n      <span class="glyphicon glyphicon-exclamation-sign"></span>\n      <strong class="status">{{ \'FORM_FAILURE\' | translate }}</strong>\n      <span class="message">{{ startFormState.$error.message }}</span>\n    </div>\n\n    <div ng-if="startFormState.$loaded && !startFormState.$error"\n         cam-tasklist-form\n         tasklist-form="startForm"\n         on-form-completion-callback="completionCallback"\n         on-form-completion="registerCompletionHandler"\n         on-form-validation="notifyFormValidation"\n         options="options"\n         params="params" >\n    </div>\n  </div>\n\n</div>\n\n<div class="modal-footer">\n  <div ng-if="!PROCESS_TO_START_SELECTED"\n       class="row row-action">\n\n    <div class="col-xs-12">\n      <button class="btn btn-link"\n              type="button"\n              ng-click="$dismiss()">\n        {{ \'CLOSE\' | translate }}\n      </button>\n    </div>\n  </div>\n\n  <div ng-if="PROCESS_TO_START_SELECTED"\n       class="row">\n\n    <div class="col-xs-4 align-left">\n      <button class="btn btn-link"\n              type="button"\n              ng-click="back()">\n        {{ \'BACK\' | translate }}\n      </button>\n    </div>\n\n    <div class="col-xs-8">\n      <button class="btn btn-link"\n              type="button"\n              ng-click="$dismiss()">\n        {{ \'CLOSE\' | translate }}\n      </button>\n\n      <button class="btn btn-primary"\n              type="submit"\n              ng-disabled="$invalid || requestInProgress"\n              ng-click="startProcessInstance()">\n        {{ \'START\' | translate }}\n      </button>\n    </div>\n\n  </div>\n\n</div>\n',g=["$scope","$modal","$q","camAPI","dataDepend",function(a,b,c,e,g){var h=e.resource("process-definition"),i=a.processData=g.create(a),j={latest:!0,active:!0,firstResult:0,maxResults:15};i.provide("processDefinitionQuery",j),i.provide("processDefinitions",["processDefinitionQuery",function(a){var b=c.defer();return h.list(a,function(a,c){a?b.reject(a):b.resolve(c)}),b.promise}]),i.provide("currentProcessDefinitionId",{id:null}),i.provide("startForm",["currentProcessDefinitionId",function(a){var b=c.defer();return a.id?h.startForm(a,function(a,c){a?b.reject(a):b.resolve(c)}):b.resolve(null),b.promise}]),a.open=function(){i.set("processDefinitionQuery",d.copy(j));var c=b.open({size:"lg",controller:"camProcessStartModalCtrl",template:f,resolve:{processData:function(){return i}}});c.result.then(function(){a.$root.$broadcast("refresh"),document.querySelector(".start-process-action a").focus()},function(){document.querySelector(".start-process-action a").focus()})},a.$on("shortcut:startProcess",a.open)}],h=function(a){a.registerDefaultView("tasklist.navbar.action",{id:"start-process-action",template:e,controller:g,priority:100})};h.$inject=["ViewsProvider"],b.exports=h},{"camunda-commons-ui/vendor/angular":300}],831:[function(a,b,c){"use strict";var d=a("camunda-commons-ui/vendor/angular");b.exports=["$rootScope","$scope","$translate","$timeout","debounce","Notifications","processData","assignNotification",function(a,b,c,e,f,g,h,i){function j(a,d){c(a).then(function(a){g.addError({status:a,message:d?d.message:"",scope:b})})}function k(a){c(a).then(function(a){g.addMessage({duration:3e3,status:a})})}b.$on("$locationChangeSuccess",function(){b.$dismiss()});var l=h.newChild(b);l.set("currentProcessDefinitionId",{id:null});var m=b.options={hideCompleteButton:!0,hideLoadVariablesButton:!0,autoFocus:!0,disableForm:!1,disableAddVariableButton:!1};b.PROCESS_TO_START_SELECTED=!1;var n=null,o=b.page={total:0,current:1,searchValue:null};b.triggerOnStart=function(){},l.observe("processDefinitionQuery",function(a){n=d.copy(a),o.size=a.maxResults,o.current=a.firstResult/o.size+1}),b.startFormState=l.observe("startForm",function(a){b.startForm=d.copy(a)}),b.processDefinitionState=l.observe("processDefinitions",function(a){o.total=a.count,b.processDefinitions=a.items.sort(function(a,b){var c=(a.name||a.key).toLowerCase(),d=(b.name||b.key).toLowerCase(),e=a.tenantId?a.tenantId.toLowerCase():"",f=b.tenantId?b.tenantId.toLowerCase():"";return c<d?-1:c>d?1:e<f?-1:e>f?1:0}),o.total>0&&e(function(){var a=document.querySelectorAll("div.modal-content ul.processes a")[0];a&&a.focus()})}),b.pageChange=function(){n.firstResult=o.size*(o.current-1),l.set("processDefinitionQuery",n)},b.lookupProcessDefinitionByName=f(function(){var a=o.searchValue;a?n.nameLike="%"+a+"%":delete n.nameLike,n.firstResult=0,l.set("processDefinitionQuery",n)},2e3),b.selectProcessDefinition=function(a){b.PROCESS_TO_START_SELECTED=!0;var c=a.id,e=a.key,f=a.deploymentId;b.options=d.copy(m),b.params={processDefinitionId:c,processDefinitionKey:e,deploymentId:f},l.set("currentProcessDefinitionId",{id:c})},b.$invalid=!0,b.requestInProgress=!1,b.$on("embedded.form.rendered",function(){e(function(){var a=document.querySelectorAll(".modal-body .form-container input")[0];a&&a.focus()})}),b.back=function(){b.$invalid=!0,b.requestInProgress=!1,b.PROCESS_TO_START_SELECTED=!1,b.options=m,l.set("currentProcessDefinitionId",{id:null}),e(function(){var a=document.querySelectorAll("div.modal-content ul.processes a")[0];a&&a.focus()})};var p=[];b.$on("$destroy",function(){for(var a;a=p.pop();)"function"==typeof a&&a()}),b.completionCallback=function(c,d){return c?(b.requestInProgress=!1,j("PROCESS_START_ERROR",c)):(p.push(function(){k("PROCESS_START_OK"),i({assignee:a.authentication.name,processInstanceId:d.id})}),void b.$close())},b.registerCompletionHandler=function(a){b.triggerOnStart=a||function(){}},b.startProcessInstance=function(){b.requestInProgress=!0,b.triggerOnStart()},b.notifyFormValidation=function(a){b.$invalid=a}}]},{"camunda-commons-ui/vendor/angular":300}],832:[function(a,b,c){"use strict";b.exports=["camAPI","Notifications","$translate",function(a,b,c){var d=a.resource("task");return function(a){a.assignee&&(a.processInstanceId||a.caseInstanceId)&&d.list(a,function(d,e){if(e._embedded.task.length>0){for(var f,g="",h=0;f=e._embedded.task[h];h++)g+='<a ng-href="#/?task='+f.id+'" ng-click="removeNotification(notification)">'+f.name+"</a>, ";c(a.processInstanceId?"ASSIGN_NOTE_PROCESS":"ASSIGN_NOTE_CASE").then(function(a){b.addMessage({duration:16e3,status:a,unsafe:!0,message:g.slice(0,-2)})})}})}}]},{}],833:[function(a,b,c){"use strict";a("mousetrap");var d='<a href\n   class="showShortcutHelp"\n   ng-click="showHelp()">\n  {{ \'SHORTCUT_HELP\' | translate }}\n</a>\n',e='<div class="modal-header">\n  <h3 class="modal-title">\n    {{ \'SHORTCUT_HELP\' | translate }}\n  </h3>\n</div>\n\n<div class="modal-body">\n    <table class="cam-table">\n      <thead>\n        <tr>\n          <th>{{ \'SHORTCUT\' | translate }}</th>\n          <th>{{ \'DESCRIPTION\' | translate }}</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr ng-repeat="shortcut in shortcuts">\n          <td>{{shortcut.key}}</td>\n          <td>{{shortcut.description}}</td>\n        </tr>\n      </tbody>\n    </table>\n</div>\n\n<div class="modal-footer">\n  <div class="row row-action">\n    <div class="col-xs-12">\n      <button class="btn btn-xs btn-link"\n              type="button"\n              ng-click="$dismiss()"\n              translate="CLOSE">Close</button>\n    </div>\n  </div>\n</div>\n',f=["$scope","$modal",function(b,c){var d=a("mousetrap");if("undefined"!=typeof window.camTasklistConf&&window.camTasklistConf.shortcuts){b.shortcuts=window.camTasklistConf.shortcuts;for(var f in window.camTasklistConf.shortcuts){var g=window.camTasklistConf.shortcuts[f];d.bind(g.key,function(a){return function(){b.$root.$broadcast("shortcut:"+a)}}(f))}}b.showHelp=function(){var a=c.open({scope:b,windowClass:"shortcut-modal",size:"lg",template:e});a.result.then(function(){document.querySelector("a.showShortcutHelp").focus()},function(){document.querySelector("a.showShortcutHelp").focus()})}}],g=function(a){a.registerDefaultView("tasklist.navbar.action",{id:"shortcut-help",template:d,controller:f,priority:300})};g.$inject=["ViewsProvider"],b.exports=g},{mousetrap:760}],834:[function(a,b,c){"use strict";var d=a("camunda-commons-ui/vendor/angular"),e=a("./action/cam-tasklist-shortcut-help-plugin"),f=d.module("cam.tasklist.shortcuts",[]);f.config(e),b.exports=f},{"./action/cam-tasklist-shortcut-help-plugin":833,"camunda-commons-ui/vendor/angular":300}],835:[function(a,b,c){"use strict";b.exports=["$scope","Views","CamForm",function(a,b,c){var d=a.taskData=a.tasklistData.newChild(a);d.observe("task",function(b){a.task=b}),c.cleanLocalStorage(Date.now()-6048e5),a.taskVars={read:["task","taskData"]},a.taskActions=b.getProviders({component:"tasklist.task.action"})}]},{}],836:[function(a,b,c){"use strict";var d=a("camunda-commons-ui/vendor/angular"),e="candidate";b.exports=["$scope","$translate","$q","Notifications","camAPI",function(a,b,c,f,g){var h=g.resource("task"),i=null,j={groupId:null,type:e},k=a.newGroup=d.copy(j),l=a.taskGroupsData,m=a.groupsChanged,n=a.errorHandler();a._groups=[];var o={};b(["FAILURE","INIT_GROUPS_FAILURE","ADD_GROUP_FAILED","REMOVE_GROUP_FAILED"]).then(function(a){o.failure=a.FAILURE,o.initGroupsFailed=a.INIT_GROUPS_FAILURE,o.addGroupFailed=a.ADD_GROUP_FAILED,o.removeGroupFailed=a.REMOVE_GROUP_FAILED}),a.modalGroupsState=l.observe("groups",function(b){a._groups=d.copy(b)||[],a.validateNewGroup()}),l.observe("task",function(a){i=a}),a.$watch("modalGroupsState.$error",function(b){b&&f.addError({status:o.failure,message:o.initGroupsFailed,exclusive:!0,scope:a})}),a.addGroup=function(){var b=i.id;m(),delete k.error,h.identityLinksAdd(b,k,function(b){return b?n("TASK_UPDATE_ERROR",b):(a.taskGroupForm.$setPristine(),a._groups.push({id:k.groupId}),void(k=a.newGroup=d.copy(j)))})},a.removeGroup=function(b,c){var d=i.id;m(),h.identityLinksDelete(d,{type:e,groupId:b.id},function(b){return b?f.addError({status:o.failure,message:o.removeGroupFailed,exclusive:!0,scope:a}):void a._groups.splice(c,1)})},a.validateNewGroup=function(){if(delete k.error,a.taskGroupForm&&a.taskGroupForm.newGroup){a.taskGroupForm.newGroup.$setValidity("duplicate",!0);var b=k.groupId;if(b)for(var c,d=0;c=a._groups[d];d++)b===c.id&&(k.error={message:"DUPLICATE_GROUP"},a.taskGroupForm.newGroup.$setValidity("duplicate",!1))}},a.isValid=function(){return!(!k.groupId||k.error)}}]},{"camunda-commons-ui/vendor/angular":300}],837:[function(a,b,c){"use strict";var d='<ul class="meta list-inline dates times">\n\n  <li>\n\n    <span cam-widget-inline-field\n          tabindex="0"\n          ng-keydown="openDatepicker($event)"\n          class="followup-date"\n          ng-class="{overdue: task.followUp && (task.followUp < now) }"\n          type="datetime"\n          change="saveFollowUpDate(this)"\n          on-start-editing="startEditingFollowUpDate(this)"\n          on-cancel-editing="cancelEditingFollowUpDate(this)"\n          value="task.followUp">\n      <span tooltip-placement="top"\n            tooltip="{{ \'FOLLOW_UP_DATE\' | translate }}"\n            class="glyphicon glyphicon-calendar"></span>\n\n      <span ng-if="task.followUp"\n            tooltip-placement="top"\n            tooltip="{{ task.followUp | camDate:\'long\' }}"\n            am-time-ago="task.followUp">{{ task.followUp }}</span>\n      <a ng-if="!task.followUp"\n         translate="SET_FOLLOW_UP_DATE">Set follow up</a>\n    </span>\n\n    <a href\n       ng-if="task.followUp && !editingState.followUp"\n       tooltip-placement="top"\n       tooltip="{{ \'RESET_FOLLOW_UP_DATE\' | translate }}"\n       ng-click="resetFollowUpDate()"\n       class="reset-follow-up-date glyphicon glyphicon-remove">\n    </a>\n\n  </li>\n\n  <li>\n\n    <span cam-widget-inline-field\n          tabindex="0"\n          ng-keydown="openDatepicker($event)"\n          class="due-date"\n          ng-class="{overdue: task.due && (task.due < now) }"\n          type="datetime"\n          change="saveDueDate(this)"\n          on-start-editing="startEditingDueDate(this)"\n          on-cancel-editing="cancelEditingDueDate(this)"\n          value="task.due">\n\n      <span tooltip-placement="top"\n            tooltip="{{ \'DUE_DATE\' | translate }}"\n            class="glyphicon glyphicon-bell"></span>\n\n      <span ng-if="task.due"\n            tooltip-placement="top"\n            tooltip="{{ task.due | camDate:\'long\' }}"\n            am-time-ago="task.due">{{ task.due }}</span>\n\n      <a ng-if="!task.due"\n         translate="SET_DUE_DATE">Set due date</a>\n    </span>\n\n    <a href\n       ng-if="task.due && !editingState.due"\n       tooltip-placement="top"\n       tooltip="{{ \'RESET_DUE_DATE\' | translate }}"\n       ng-click="resetDueDate()"\n       class="reset-due-date glyphicon glyphicon-remove">\n    </a>\n  </li>\n</ul>\n\n\n<ul class="meta list-inline actors">\n  <li class="groups">\n    <span ng-click="editGroups()">\n      <span tooltip-placement="top"\n            tooltip="{{ \'GROUPS\' | translate }}"\n            class="glyphicon glyphicon-th"></span>\n\n      <a href ng-if="groupNames.length > 0">\n        {{ groupNames.join(\', \') }}\n      </a>\n\n      <a href ng-if="groupNames.length === 0"\n         translate="ADD_GROUPS">\n        Add groups\n      </a>\n    </span>\n  </li>\n\n  <li class="assignee set-value"\n      ng-if="!task.assignee">\n    <span tooltip-placement="top"\n          tooltip="{{ \'ASSIGNEE\' | translate }}"\n          class="glyphicon glyphicon-user"></span>\n\n    <a href\n       class="claim"\n       ng-click="claim()"\n       translate="CLAIM_TASK">Claim</a>\n  </li>\n\n  <li class="assignee"\n      ng-if="task.assignee">\n    <span cam-widget-inline-field\n          tabindex="0"\n          ng-keydown="editAssignee($event)"\n          ng-paste="editAssignee($event)"\n          ng-class="{\'has-error\': !validAssignee, \'validating\': validationInProgress}"\n          class="set-value"\n          type="text"\n          validate="isInvalidUser(this)"\n          change="assign(this)"\n          on-start-editing="startEditingAssignee(this)"\n          on-cancel-editing="cancelEditingAssignee(this)"\n          value="assignee.id">\n\n      <span tooltip-placement="top"\n            tooltip="{{ \'ASSIGNEE\' | translate }}"\n            class="glyphicon glyphicon-user"></span>\n      <span ng-if="assignee.firstName || assignee.lastName">{{ assignee.firstName }} {{ assignee.lastName }}</span>\n      <span ng-if="!(assignee.firstName || assignee.lastName)">{{ assignee.id }}</span>\n    </span>\n\n    <a href\n       ng-if="isAssignee && !editingState.assignee"\n       tooltip-placement="top"\n       tooltip="{{ \'UNCLAIM_TASK\' | translate }}"\n       ng-click="unclaim()"\n       class="unclaim glyphicon glyphicon-remove">\n    </a>\n\n    <a href\n       ng-if="!isAssignee && !editingState.assignee"\n       tooltip-placement="top"\n       tooltip="{{ \'RESET_TASK_ASSIGNEE\' | translate }}"\n       ng-click="resetAssignee()"\n       class="reset-assignee glyphicon glyphicon-remove">\n    </a>\n\n  </li>\n\n</ul>\n',e='<div class="modal-header">\n  <h3 class="modal-title">\n    {{ \'MANAGE_GROUPS\' | translate }}\n  </h3>\n</div>\n\n<div class="modal-body groups-modal">\n\n  <div notifications-panel></div>\n\n  <form name="taskGroupForm"\n        class="form-horizontal"\n        ng-controller="camTaskGroupsCtrl"\n        ng-hide="!modalGroupsState.$loaded || modalGroupsState.$error"\n        ng-submit="(isValid() && addGroup())">\n\n  <div ng-show="!modalGroupsState.$loaded && !modalGroupsState.$error"\n       class="loader">\n    <span class="animate-spin glyphicon glyphicon-refresh"></span>\n    {{ \'LOADING\' | translate }}\n  </div>\n\n  <div class="text-help">\n    <span class="glyphicon glyphicon-info-sign"></span>\n    {{ \'USE_ADD_GROUP\' | translate }}\n  </div>\n\n    <div class="form-group">\n      <div class="col-xs-4 align-right">\n        <button class="btn btn-link"\n                ng-click="addGroup()"\n                type="button"\n                ng-disabled="!isValid()">\n          <span class="hidden-sm hidden-xs">{{ \'GROUP_ADD\' | translate }}</span>\n          <span class="glyphicon glyphicon-plus-sign"></span>\n        </button>\n      </div>\n\n      <div class="col-xs-8"\n           ng-class="{\'has-error\': newGroup.error }">\n        <input type="text"\n               name="newGroup"\n               required\n               placeholder="{{ \'GROUP_ID\' | translate }}"\n               class="form-control"\n               ng-model="newGroup.groupId"\n               ng-change="validateNewGroup()"/>\n\n        <span ng-if="newGroup.error"\n              class="help-block">\n          {{ newGroup.error.message | translate }}\n        </span>\n      </div>\n    </div>\n\n    <div class="form-group values"\n         ng-repeat="group in _groups">\n      <div class="col-xs-4 row-action">\n        <a href\n           ng-click="removeGroup(group, $index)"\n           class="glyphicon glyphicon-remove-sign"></a>\n      </div>\n\n      <div class="col-xs-8 value">\n        {{ group.id }}\n      </div>\n    </div>\n\n  </form>\n\n</div>\n\n<div class="modal-footer">\n  <div class="row row-action">\n    <div class="col-xs-12">\n      <button class="btn btn-xs btn-link"\n              type="button"\n              ng-click="$dismiss()"\n              translate="CLOSE">Close</button>\n    </div>\n  </div>\n</div>\n',f=a("camunda-commons-ui/vendor/angular");b.exports=["$modal","$timeout","camAPI","fixDate","unfixDate",function(a,b,c,g,h){var i=c.resource("task");return{scope:{taskData:"=",successHandler:"&",errorHandler:"&"},template:d,link:function(d,j){function k(){u.changed("task"),u.changed("taskList")}function l(a){return function(b){r(a,!1),d.task[a]=b.varValue,n(),document.querySelector("[cam-widget-inline-field]."+a.toLowerCase()+"-date").focus()}}function m(a){return function(){d.task[a]=null,n(),document.querySelector("[cam-widget-inline-field]."+a.toLowerCase()+"-date").focus()}}function n(){var a=d.task;delete a._embedded,delete a._links,a.due=g(a.due),a.followUp=g(a.followUp),i.update(a,function(a){if(k(),a)return v("TASK_UPDATE_ERROR",a)})}function o(){var a=document.querySelector('[cam-tasklist-task-meta] [cam-widget-inline-field][value="assignee.id"]');a?a.focus():(a=document.querySelector("[cam-tasklist-task-meta] .claim"),a&&a.focus())}function p(a){return function(){return"assignee"===a?s(d.assignee.id,function(){r(a,!0)}):void r(a,!0)}}function q(a){return function(){var b;r(a,!1),b="assignee"===a?document.querySelector('[cam-tasklist-task-meta] [cam-widget-inline-field][value="assignee.id"]'):document.querySelector("[cam-widget-inline-field]."+a.toLowerCase()+"-date"),b&&b.focus()}}function r(a,b){d.editingState[a]=b}function s(a,b){b=b||f.noop;var c=a.value;return d.validationInProgress||x===c?b():c?(x=c,d.validAssignee=!1,d.validationInProgress=!0,void w.list({maxResults:1,id:c},function(e,f){return c!==a.value?(d.validationInProgress=!1,s(a,b)):(d.validAssignee=!e&&f.length,d.validationInProgress=!1,void b())})):(d.validAssignee=!0,d.validationInProgress=!1,b())}function t(a){var b=y[a];return function(a){return a?v(b.error,a):void k()}}var u=d.taskData.newChild(d);d.successHandler()||function(){};var v=d.errorHandler()||function(){};u.observe("task",function(a){d.task=f.copy(a),d.task&&(d.task.followUp=h(d.task.followUp),d.task.due=h(d.task.due))}),u.observe("assignee",function(a){d.assignee=f.copy(a)}),u.observe("isAssignee",function(a){d.isAssignee=a}),u.observe("groups",function(a){a=a||[];for(var b,c=[],e=0;b=a[e];e++)c.push(b.name||b.id);d.groupNames=c}),d.saveFollowUpDate=l("followUp"),d.resetFollowUpDate=m("followUp"),d.startEditingFollowUpDate=p("followUp"),d.cancelEditingFollowUpDate=q("followUp"),d.saveDueDate=l("due"),d.resetDueDate=m("due"),d.startEditingDueDate=p("due"),d.cancelEditingDueDate=q("due"),d.editingState={followUp:!1,due:!1,assignee:!1},d.now=(new Date).toJSON(),d.openDatepicker=function(a){13===a.keyCode&&a.target===a.currentTarget&&b(function(){a.target.firstChild.click()})};var w=c.resource("user");d.validAssignee=!0,d.validationInProgress=!1;var x;d.isInvalidUser=function(){return d.validationInProgress||!d.validAssignee},d.editAssignee=function(a){b(function(){s(a.target,function(){13===a.keyCode&&a.target===a.currentTarget&&a.target.firstChild.click()})})};var y={assigned:{error:"ASSIGNED_ERROR"},assigneeReseted:{error:"ASSIGNEE_RESET_ERROR"},claimed:{error:"CLAIM_ERROR"},unclaimed:{error:"UNCLAIM_ERROR"}};d.startEditingAssignee=p("assignee"),d.cancelEditingAssignee=q("assignee"),d.assign=function(a){var b=d.assignee?d.assignee.id:"";s(j.find(".assignee input")[0],function(){if(!d.validAssignee)return a.varValue=b,void(d.validAssignee=!0);r("assignee",!1);var c=a.varValue.trim();c?B(c):d.isAssignee?A():C()})};var z=d.claim=function(){var a=d.$root.authentication.name;i.claim(d.task.id,a,function(a){E.push(o),t("claimed")(a)})};d.$on("shortcut:claimTask",z);var A=d.unclaim=function(){i.unclaim(d.task.id,function(a){
E.push(o),t("unclaimed")(a)})},B=d.setAssignee=function(a){i.assignee(d.task.id,a,function(a){E.push(o),t("assigned")(a)})},C=d.resetAssignee=function(){i.assignee(d.task.id,null,function(a){E.push(o),t("assigneeReseted")(a)})};d.editGroups=function(){function c(){f?(u.set("taskId",{taskId:d.task.id}),u.changed("taskList"),D.push(function(){b(function(){document.querySelector(".meta .groups a").focus()})})):document.querySelector(".meta .groups a").focus()}var f;a.open({scope:d,windowClass:"filter-edit-modal",template:e,controller:"camGroupEditModalCtrl",resolve:{taskMetaData:function(){return u},groupsChanged:function(){return function(){f=!0}},errorHandler:function(){return d.errorHandler}}}).result.then(c,c)};var D=[];d.$watch("groupNames",function(){D.forEach(function(a){a()}),D=[]});var E=[];d.$watch("assignee",function(){E.forEach(function(a){b(a)}),E=[]})}}}]},{"camunda-commons-ui/vendor/angular":300}],838:[function(a,b,c){"use strict";var d='<div ng-show="!taskState.$loaded"\n     class="loader">\n  <span class="animate-spin glyphicon glyphicon-refresh"></span>\n  {{ \'LOADING\' | translate }}\n</div>\n\n<div ng-show="taskState.$loaded">\n  <div ng-hide="task">\n    <div class="no-task well">\n      <span class="glyphicon glyphicon-info-sign"></span>\n      {{ \'SELECT_TASK_IN_LIST\' | translate }}\n    </div>\n  </div>\n\n  <section ng-if="task"\n           class="task-card"\n           ng-class="{\'task-removed\': !taskExists}">\n    <header class="row">\n      <div class="col-xs-12">\n        <div class="tenant-id"\n             ng-if="task.tenantId"\n             tooltip="{{ task.tenantId }}">\n          {{ task.tenantId }}\n        </div>\n\n        <div class="names">\n          <h2 class="task">{{ task.name || task.taskDefinitionKey || task.id }}</h2>\n          <h4 class="process-definition"\n              ng-if="task.processDefinitionId">\n            {{ task._embedded.processDefinition[0].name || task._embedded.processDefinition[0].key }}\n          </h4>\n          <h4 class="case-definition"\n              ng-if="task.caseDefinitionId">\n            {{ task._embedded.caseDefinition[0].name || task._embedded.caseDefinition[0].key }}\n          </h4>\n        </div>\n\n        <div cam-tasklist-task-meta\n             task-data="taskData"\n             error-handler="errorHandler"></div>\n      </div>\n    </header>\n\n    <div class="task-removed-alert">\n      <div class="alert alert-info row">\n        <div class="col-xs-8 text-padded">\n          {{ \'TASK_HAS_BEEN_REMOVED\' | translate }}\n        </div>\n        <div class="col-xs-4 text-right">\n          <button class="btn btn-default"\n                  ng-click="dismissTask()">{{ \'CLOSE_TASK\' | translate }}</button>\n        </div>\n      </div>\n    </div>\n\n    <div class="row tabbed-content">\n\n      <div ng-show="taskDetailTabs.length" class="col-xs-12">\n        <ul class="nav nav-tabs">\n          <li ng-class="{ active: selectedTaskDetailTab == taskDetailTab }" ng-repeat="taskDetailTab in taskDetailTabs">\n            <a href ng-click="selectTaskDetailTab(taskDetailTab)">{{ taskDetailTab.label | translate }}</a>\n          </li>\n        </ul>\n\n        <div class="tab-content">\n          <view provider="selectedTaskDetailTab" vars="taskVars"></view>\n        </div>\n\n      </div>\n    </div>\n\n  </section>\n\n</div>\n\n\n',e=a("camunda-commons-ui/vendor/angular");b.exports=[function(){return{restrict:"A",scope:{tasklistData:"="},template:d,controller:["$scope","$q","$location","$translate","$interval","camAPI","Notifications","Views","search",function(a,b,c,d,f,g,h,i,j){function k(b,c){d(b).then(function(b){h.addError({status:b,message:c?c.message:"",exclusive:!0,scope:a})})}function l(a){if(a){if(a.indexOf("task is null")!==-1||a.indexOf("No matching task")!==-1)return"TASK_NOT_EXIST";if(a.indexOf("is suspended")!==-1)return"INSTANCE_SUSPENDED";if(a.indexOf("submission prevented")!==-1)return"SUBMISSION_PREVENTED"}return a}function m(a){if(a){var b=c.search()||{};delete b.task,delete b.detailsTab,c.search(e.copy(b))}else o.set("taskId",{taskId:null});o.changed("taskList")}function n(b){var c=j().detailsTab;if(b&&b.length){if(c){var d=i.getProvider({component:"tasklist.task.detail",id:c});if(d&&b.indexOf(d)!=-1)return void(a.selectedTaskDetailTab=d)}j.updateSilently({detailsTab:null}),a.selectedTaskDetailTab=b[0]}}var o=a.taskData=a.tasklistData.newChild(a);a.errorHandler=function(a,b){var c=l(b.message);return"TASK_NOT_EXIST"===c||"INSTANCE_SUSPENDED"===c?d(c).then(function(c){b.message=c,k(a,b),m(!0)}):void("SUBMISSION_PREVENTED"!==c&&k(a,b))},a.$watch("taskState.$error",function(a){if(a){var b=l(a.message);k(b,a),m(!1)}}),o.provide("assignee",["task",function(a){if(a&&a._embedded&&a._embedded.identityLink)for(var b=0;b<a._embedded.identityLink.length;b++)if("assignee"===a._embedded.identityLink[b].type)return a._embedded.identityLink[b]._embedded.user?a._embedded.identityLink[b]._embedded.user[0]:{id:a._embedded.identityLink[b].userId};return null}]),o.provide("groups",["task",function(a){var b=[];if(a&&a._embedded&&a._embedded.identityLink)for(var c=0;c<a._embedded.identityLink.length;c++)"candidate"===a._embedded.identityLink[c].type&&null!==a._embedded.identityLink[c].groupId&&(a._embedded.identityLink[c]._embedded.group?b.push(a._embedded.identityLink[c]._embedded.group[0]):b.push({id:a._embedded.identityLink[c].groupId}));return b}]),o.provide("isAssignee",["assignee",function(b){return!!b&&b.id===a.$root.authentication.name}]),o.provide("processDefinition",["task",function(a){return a&&a._embedded&&a._embedded.processDefinition?a._embedded.processDefinition[0]:null}]),o.provide("caseDefinition",["task",function(a){return a&&a._embedded&&a._embedded.caseDefinition?a._embedded.caseDefinition[0]:null}]),a.taskState=o.observe("task",function(b){a.task=b}),o.observe("isAssignee",function(b){a.isAssignee=b}),a.taskVars={read:["task","taskData","errorHandler"]},a.taskDetailTabs=i.getProviders({component:"tasklist.task.detail"}),a.selectedTaskDetailTab=a.taskDetailTabs[0],a.selectTaskDetailTab=function(b){a.taskExists&&(a.selectedTaskDetailTab=b,j.updateSilently({detailsTab:b.id}))},n(a.taskDetailTabs),a.$on("$routeChanged",function(){n(a.taskDetailTabs)});var p=g.resource("task");a.taskExists=!1,a.$watch("task.id",function(b){a.taskExists=!!b}),a.dismissTask=function(){m(!0)},a.$on("refresh",function(){a.task&&a.taskExists&&p.get(a.task.id,function(b){b&&(a.taskExists=!1,a.$broadcast("taskremoved"))})})}]}}]},{"camunda-commons-ui/vendor/angular":300}],839:[function(a,b,c){"use strict";var d=a("camunda-commons-ui/vendor/angular"),e=a("./directives/cam-tasklist-task"),f=a("./directives/cam-tasklist-task-meta"),g=a("./controller/cam-tasklist-task-action-ctrl"),h=a("./controller/cam-tasklist-task-groups-ctrl"),i=a("./plugins/detail/cam-tasklist-task-detail-form-plugin"),j=a("./plugins/detail/cam-tasklist-task-detail-history-plugin"),k=a("./plugins/detail/cam-tasklist-task-detail-diagram-plugin"),l=a("./plugins/detail/cam-tasklist-task-detail-description-plugin"),m=a("./plugins/action/cam-tasklist-task-action-comment-plugin"),n=a("./plugins/action/modals/cam-tasklist-comment-form"),o=a("./modals/cam-tasklist-groups-modal"),p=a("../api/index");a("camunda-commons-ui/vendor/ui-bootstrap-tpls-0.11.2-camunda"),a("angular-moment");var q=d.module("cam.tasklist.task",[p.name,"ui.bootstrap","cam.tasklist.form","angularMoment"]);q.directive("camTasklistTask",e),q.directive("camTasklistTaskMeta",f),q.controller("camTaskActionCtrl",g),q.controller("camTaskGroupsCtrl",h),q.config(i),q.config(j),q.config(k),q.config(l),q.config(m),q.controller("camCommentCreateModalCtrl",n),q.controller("camGroupEditModalCtrl",o),b.exports=q},{"../api/index":801,"./controller/cam-tasklist-task-action-ctrl":835,"./controller/cam-tasklist-task-groups-ctrl":836,"./directives/cam-tasklist-task":838,"./directives/cam-tasklist-task-meta":837,"./modals/cam-tasklist-groups-modal":840,"./plugins/action/cam-tasklist-task-action-comment-plugin":841,"./plugins/action/modals/cam-tasklist-comment-form":842,"./plugins/detail/cam-tasklist-task-detail-description-plugin":843,"./plugins/detail/cam-tasklist-task-detail-diagram-plugin":844,"./plugins/detail/cam-tasklist-task-detail-form-plugin":845,"./plugins/detail/cam-tasklist-task-detail-history-plugin":846,"angular-moment":"angular-moment","camunda-commons-ui/vendor/angular":300,"camunda-commons-ui/vendor/ui-bootstrap-tpls-0.11.2-camunda":304}],840:[function(a,b,c){"use strict";b.exports=["$scope","taskMetaData","groupsChanged",function(a,b,c){a.taskGroupsData=b.newChild(a),a.groupsChanged=c||function(){},a.$on("$locationChangeSuccess",function(){a.$dismiss()})}]},{}],841:[function(a,b,c){"use strict";var d='<a href\n   class="createCommentLink"\n   ng-click="createComment()">\n  {{ \'COMMENT_CREATE\' | translate }}\n  <span class="glyphicon glyphicon-plus-sign"></span>\n</a>\n',e='<form class="form form-horizontal"\n      name="newComment"\n      role="form">\n\n  <div class="modal-header">\n    <h3 class="modal-title">\n      {{ \'COMMENT_CREATE\' | translate }}\n    </h3>\n  </div>\n\n  <div class="modal-body">\n      <textarea class="form-control"\n             id="comment-form-message"\n             ng-model="comment.message"\n             placeholder="{{ \'COMMENT_MESSAGE_PLACEHOLDER\' | translate }}">\n      </textarea>\n  </div>\n\n  <div class="modal-footer">\n    <div class="row row-action">\n      <div class="col-xs-12">\n        <button class="btn btn-xs btn-link"\n                type="button"\n                ng-click="$dismiss()"\n                translate="CLOSE">Close</button>\n\n        <button class="btn btn-primary"\n                type="submit"\n                ng-disabled="!comment.message"\n                ng-click="submit()"\n                translate="SAVE">Save</button>\n\n      </div>\n    </div>\n  </div>\n</form>\n',f=["$scope","$modal",function(a,b){var c=a.taskData.newChild(a);c.observe("task",function(b){a.task=b}),a.createComment=function(){b.open({scope:a,windowClass:"filter-edit-modal",size:"lg",template:e,controller:"camCommentCreateModalCtrl",resolve:{task:function(){return a.task}}}).result.then(function(){c.changed("task"),document.querySelector(".createCommentLink").focus()},function(){document.querySelector(".createCommentLink").focus()})}}],g=function(a){a.registerDefaultView("tasklist.task.action",{id:"task-action-comment",template:d,controller:f,priority:100})};g.$inject=["ViewsProvider"],b.exports=g},{}],842:[function(a,b,c){"use strict";b.exports=["$scope","$translate","Notifications","camAPI","task",function(a,b,c,d,e){function f(d,e){b(d).then(function(b){c.addError({status:b,message:e?e.message:"",exclusive:!0,scope:a})})}var g=d.resource("task");a.comment={message:""},a.$on("$locationChangeSuccess",function(){a.$dismiss()}),a.submit=function(){g.createComment(e.id,a.comment.message,function(b){return b?f("COMMENT_SAVE_ERROR",b):void a.$close()})}}]},{}],843:[function(a,b,c){"use strict";var d='<div class="description-pane">\n  <div ng-hide="task.description"\n       class="well">\n    <span class="glyphicon glyphicon-info-sign"></span>\n    {{ \'NO_DESCRIPTION\' | translate }}\n  </div>\n  <div ng-show="task.description">\n    {{ task.description }}\n  </div>\n</div>\n',e=["$scope",function(){}],f=function(a){a.registerDefaultView("tasklist.task.detail",{id:"task-detail-description",label:"DESCRIPTION",template:d,controller:e,priority:100})};f.$inject=["ViewsProvider"],b.exports=f},{}],844:[function(a,b,c){"use strict";function d(a,b,c){var d=a.defer();return b.xml(c,function(a,b){a?d.reject(a):d.resolve(b)}),d.promise}var e='<div ng-show="!diagramState.$loaded"\n     class="loader">\n  <span class="animate-spin glyphicon glyphicon-refresh"></span>\n  {{ \'LOADING\' | translate }}\n</div>\n\n<div ng-if="diagramState.$loaded">\n  <div ng-hide="diagram.definition && diagram.xml"\n       class="well">\n    <span class="glyphicon glyphicon-info-sign"></span>\n    {{ \'NO_DIAGRAM\' | translate }}\n  </div>\n\n  <div ng-if="processDefinition && diagram.xml">\n    <div class="diagram-pane"\n         cam-widget-bpmn-viewer\n         diagram-data="diagram.xml"\n         on-load="highlightTask()"\n         control="control">\n    </div>\n  </div>\n\n  <div ng-if="caseDefinition && diagram.xml">\n    <div class="diagram-pane"\n         cam-widget-cmmn-viewer\n         diagram-data="diagram.xml"\n         on-load="highlightTask()"\n         control="control">\n    </div>\n  </div>\n\n</div>\n',f=["$scope","$q","camAPI",function(a,b,c){var e=c.resource("process-definition"),f=c.resource("case-definition"),g=a.taskData.newChild(a);g.provide("xml",["processDefinition","caseDefinition",function(a,c){return a||c?a?d(b,e,a).then(function(a){return a.bpmn20Xml}):d(b,f,c).then(function(a){return a.cmmnXml}):b.when(null)}]),g.provide("diagram",["xml","task","caseDefinition","processDefinition",function(a,b,c,d){return{xml:a,task:b,definition:d||c}}]),g.observe("processDefinition",function(b){a.processDefinition=b}),g.observe("caseDefinition",function(b){a.caseDefinition=b}),a.diagramState=g.observe("diagram",function(b){a.diagram=b}),a.control={},a.highlightTask=function(){a.control.highlight(a.diagram.task.taskDefinitionKey)}}],g=function(a){a.registerDefaultView("tasklist.task.detail",{id:"task-detail-diagram",label:"DIAGRAM",template:e,controller:f,priority:600})};g.$inject=["ViewsProvider"],b.exports=g},{}],845:[function(a,b,c){"use strict";var d='<div class="form-pane">\n\n  <div ng-if="taskFormState.$error" class="alert alert-danger" role="alert">\n    <span class="glyphicon glyphicon-exclamation-sign"></span>\n    <strong class="status">{{ \'FORM_FAILURE\' | translate }}</strong>\n    <span class="message">{{ taskFormState.$error.message }}</span>\n  </div>\n\n  <div ng-if="taskFormState.$loaded && !taskFormState.$error"\n       cam-tasklist-form\n       tasklist-form="taskForm"\n       on-form-completion-callback="completionCallback"\n       options="options"\n       params="params" >\n  </div>\n\n</div>',e=a("camunda-commons-ui/vendor/angular"),f=["$scope","$location","$q","camAPI","assignNotification",function(a,b,c,d,f){function g(){var a=b.search();delete a.task,delete a.detailsTab,b.search(a),k.changed("taskList")}var h=d.resource("task"),i=a.errorHandler,j=a.options={hideCompleteButton:!1,hideLoadVariablesButton:!1,disableCompleteButton:!1,disableForm:!1,disableAddVariableButton:!1},k=a.taskData.newChild(a);k.provide("taskForm",["task",function(a){var b=c.defer();return a&&a.id?(h.form(a.id,function(a,c){a?b.reject(a):b.resolve(c)}),b.promise):b.resolve(null)}]),k.observe(["task","isAssignee",function(b,c){a.options=e.copy(j),b&&b.id?a.params={taskId:b.id,caseDefinitionId:b.caseDefinitionId,caseInstanceId:b.caseInstanceId,processDefinitionId:b.processDefinitionId,processInstanceId:b.processInstanceId}:a.params=null,a.options.disableCompleteButton=!c,a.options.disableForm=!c,a.options.disableAddVariableButton=!c}]),a.taskFormState=k.observe("taskForm",function(b){a.taskForm=e.copy(b)}),a.completionCallback=function(b){return b?i("COMPLETE_ERROR",b):(a.task.processInstanceId?f({assignee:a.task.assignee,processInstanceId:a.task.processInstanceId}):a.task.caseInstanceId&&f({assignee:a.task.assignee,caseInstanceId:a.task.caseInstanceId}),void g())}}],g=function(a){a.registerDefaultView("tasklist.task.detail",{id:"task-detail-form",label:"FORM",template:d,controller:f,priority:1e3})};g.$inject=["ViewsProvider"],b.exports=g},{"camunda-commons-ui/vendor/angular":300}],846:[function(a,b,c){"use strict";function d(a){return["dueDate","followUpDate"].indexOf(a)!==-1}var e='<div class="history-pane">\n\n  <div ng-show="!state.$loaded"\n       class="loader">\n    <span class="animate-spin glyphicon glyphicon-refresh"></span>\n    {{ \'LOADING\' | translate }}\n  </div>\n\n  <div ng-hide="!state.$loaded">\n    <div ng-if="!days.length">\n      <div class="well">\n        <span class="glyphicon glyphicon-info-sign"></span>\n        {{ \'NO_HISTORY\' | translate }}\n      </div>\n    </div>\n\n    <div ng-if="days.length"\n         class="day row"\n         ng-repeat="day in days | orderBy:\'-date\'">\n      <div class="col-xs-2">\n        <div class="date-badge">\n          <div>\n            <span class="day">{{ day.date | camDate:\'day\' }}</span>\n            <span class="month">{{ day.date | camDate:\'monthName\' }}</span>\n            <span class="year">{{ day.date | date:\'yyyy\' }}</span>\n          </div>\n        </div>\n      </div>\n\n      <div class="col-xs-10">\n        <div class="instant row"\n             ng-repeat="event in day.events | orderBy:\'-time\'">\n          <div class="col-xs-2 operation-meta">\n            <div class="operation-time"\n                 tooltip-placement="left"\n                 tooltip="{{ event.time | camDate:\'long\' }}">{{ event.time | date:\'HH:mm\' }}</div>\n            <div class="operation-user"\n                 tooltip-placement="top"\n                 tooltip="{{ event.userId }}">{{ event.userId }}</div>\n          </div>\n\n          <div class="col-xs-10 operation-detail">\n            <div class="row">\n              <h4 class="col-xs-12">{{ event.type | translate }}</h4>\n            </div>\n\n            <div class="row event-body">\n              <div class="line"\n                   ng-repeat="subEvent in event.subEvents"\n                   ng-if="event.type !== \'Comment\'">\n                <h5 class="col-sm-12 col-md-3 event-property">{{ subEvent.property | translate }}</h5>\n\n                <div class="col-sm-12 col-md-9">\n                  <div class="new-value" ng-if="subEvent.newValue">\n                    <span ng-if="subEvent.propertyIsDate">{{ subEvent.newValue | camDate }}</span>\n                    <span ng-if="!subEvent.propertyIsDate">{{ subEvent.newValue }}</span>\n                  </div>\n\n                  <div class="original-value"\n                       ng-if="subEvent.orgValue">\n                    <span ng-if="subEvent.propertyIsDate">{{ subEvent.orgValue | camDate }}</span>\n                    <span ng-if="!subEvent.propertyIsDate">{{ subEvent.orgValue }}</span>\n                  </div>\n                </div>\n              </div>\n              <div class="col-xs-12"\n                   ng-if="event.type === \'Comment\'"\n                   nl2br="event.message"></div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n',f=a("jquery"),g=a("camunda-commons-ui/vendor/moment"),h=function(a,b){var c=f.grep(a,function(a){return g(a.date).format("YYYY-MM-DD")===g(b).format("YYYY-MM-DD")});return c.length>0?c[0]:(c={date:b,events:[]},a.push(c),c)},i=function(a,b){var c=f.grep(a,function(a){return a.operationId===b.operationId});return c.length>0?c[0]:(c={time:b.timestamp,type:b.operationType,operationId:b.operationId,userId:b.userId,subEvents:[]},a.push(c),c)},j=["$scope","camAPI","$q",function(a,b,c){var e=b.resource("history"),f=b.resource("task"),g=a.taskData.newChild(a);g.provide("history",["task",function(a){var b=c.defer();return a?(e.userOperation({taskId:a.id},function(a,c){a?b.reject(a):b.resolve(c)}),b.promise):b.resolve(null)}]),g.provide("comments",["task",function(a){var b=c.defer();return a?f.comments(a.id)["catch"](function(){}):b.resolve(null)}]),g.provide("orderedHistoryAndCommentsByDay",["history","comments",function(a,b){a=a||{},b=b||{};for(var c,e,f=[],g=0;e=a[g];g++){c=h(f,e.timestamp);var j=i(c.events,e);d(e.property)&&(e.propertyIsDate=!0,e.newValue=e.newValue?parseInt(e.newValue,10):null,e.orgValue=e.orgValue?parseInt(e.orgValue,10):null),j.subEvents.push(e)}g=0,c=null;for(var k;k=b[g];g++)c=h(f,k.time),k.type="Comment",c.events.push(k);return f}]),a.state=g.observe("orderedHistoryAndCommentsByDay",function(b){a.days=b})}],k=function(a){a.registerDefaultView("tasklist.task.detail",{id:"task-detail-history",label:"HISTORY",template:e,controller:j,priority:800})};k.$inject=["ViewsProvider"],b.exports=k},{"camunda-commons-ui/vendor/moment":303,jquery:"jquery"}],847:[function(a,b,c){"use strict";b.exports=["$scope","Views",function(a,b){a.tasklistVars={read:["tasklistData"]},a.tasklistPlugins=b.getProviders({component:"tasklist.list"}),a.tasklistHeaderPlugins=b.getProviders({component:"tasklist.header"})}]},{}],848:[function(a,b,c){"use strict";var d='<div ng-show="!state.$loaded && !state.$error"\n     class="loader">\n  <span class="animate-spin glyphicon glyphicon-refresh"></span>\n  {{ \'LOADING\' | translate }}\n</div>\n\n<div ng-show="state.$error"\n     class="alert alert-danger"\n     role="alert">\n  <span class="glyphicon glyphicon-exclamation-sign"></span>\n  <strong class="status">{{ \'FAILURE\' | translate }}:</strong>\n  <span class="message">{{ \'TASK_LIST_LOADING_FAILURE\' | translate }}</span>\n</div>\n\n<div ng-if="state.$loaded && !state.$error">\n  <div ng-if="!totalItems"\n       class="well">\n    <span class="glyphicon glyphicon-info-sign"></span>\n    {{ \'NO_MATCHING_TASK\' | translate }}\n  </div>\n\n  <div ng-if="totalItems && !tasks"\n       class="well">\n    <span class="glyphicon glyphicon-info-sign"></span>\n    {{ \'RESTRICTION_NOTICE\' | translate }}\n    <a ng-click="resetPage()">{{ \'RESET_PAGE\' | translate }}</a>\n  </div>\n\n  <div ng-if="totalItems"\n       ng-keydown="handleKeydown($event)">\n    <ol class="tasks-list list-unstyled">\n      <li class="task"\n          ng-repeat="(delta, task) in tasks"\n          ng-class="{active: currentTaskId === task.id}">\n\n        <div class="clickable"\n             ng-click="focus($event, task)">\n          <div class="names">\n            <h4 class="task">\n              <a ng-href="{{ getHrefUrl(task) }}"\n                 ng-click="focus($event, task)">\n                {{ task.name || task.taskDefinitionKey || task.id }}\n              </a>\n            </h4>\n\n            <h6 class="process-definition"\n                ng-if="task.processDefinitionId">\n              {{ task._embedded.processDefinition[0].name || task._embedded.processDefinition[0].key }}\n            </h6>\n\n            <h6 class="case-definition"\n                ng-if="task.caseDefinitionId">\n              {{ task._embedded.caseDefinition[0].name || task._embedded.caseDefinition[0].key }}\n            </h6>\n\n            <h5 class="assignee"\n                ng-if="task.assignee"\n                tooltip="task.assignee">\n              {{ assigneeDisplayedName(task); }}\n            </h5>\n          </div>\n\n          <div class="cells-wrapper">\n            <div class="dates"\n                 ng-click="focus($event, task)">\n              <span class="due-date"\n                    ng-if="!!task.due"\n                    ng-class="{overdue: task.due && (task.due < now) }">\n                {{ \'DUE\' | translate }}\n                <span tooltip-placement="top"\n                      tooltip="{{ task.due | camDate:\'long\' }}"\n                      am-time-ago="task.due">{{ task.due }}</span>\n              </span>\n\n              <span class="followup-date"\n                    ng-if="!!task.followUp"\n                    ng-class="{overdue: task.followUp && (task.followUp < now) }">\n                {{ \'FOLLOW_UP\' | translate }}\n                <span tooltip-placement="top"\n                      tooltip="{{ task.followUp | camDate:\'long\' }}"\n                      am-time-ago="task.followUp">{{ task.followUp }}</span>\n              </span>\n\n              <span class="creation-date">\n                {{ \'CREATION\' | translate }}\n                <span tooltip-placement="top"\n                      tooltip="{{ task.created | camDate:\'long\' }}"\n                      am-time-ago="task.created">{{ task.created }}</span>\n              </span>\n            </div>\n\n            <div class="priority"\n                 tooltip-placement="right"\n                 tooltip="{{ \'PRIORITY\' | translate }}">\n              {{ task.priority }}\n            </div>\n          </div>\n\n          <div class="task-card-details"\n               ng-class="{expanded: !!expanded[delta]}">\n            <view ng-repeat="plugin in cardPlugins"\n                  data-plugin-id="{{ plugin.id }}"\n                  class="tasklist-card-plugin"\n                  vars="cardPluginVars"\n                  provider="plugin"></view>\n\n            <div class="shutter actions"\n                 ng-click="toggle(delta, $event)"\n                 tooltip-placement="bottom"\n                 tooltip="{{ (!!expanded[delta] ? \'SHOW_LESS\' : \'SHOW_MORE\') | translate }}">\n              <a class="glyphicon"\n                 ng-class="{\'glyphicon-menu-up\': expanded[delta], \'glyphicon-menu-down\': !expanded[delta]}"\n                 href>\n              </a>\n            </div>\n          </div><!-- / details -->\n        </div>\n      </li>\n    </ol>\n  </div>\n</div>\n\n<pagination ng-show="state.$loaded && totalItems > pageSize"\n            total-items="totalItems"\n            items-per-page="pageSize"\n            max-size="5"\n            class="pagination-sm"\n            boundary-links="true"\n            ng-model="pageNum"\n            ng-change="pageChange()"\n            next-text="&rsaquo;"\n            last-text="&raquo;"\n            previous-text="&lsaquo;"\n            first-text="&laquo;"></pagination>\n',e=a("camunda-commons-ui/vendor/angular"),f=a("jquery");b.exports=[function(){return{restrict:"A",scope:{tasklistData:"="},template:d,controller:["$element","$scope","$location","search","Views","$timeout",function(a,b,c,d,g,h){function i(a){d.updateSilently(a)}function j(){f(".task-card-details").each(function(){var a=0;f("view",this).each(function(){a+=this.clientHeight}),a<=20&&f(this).addClass("no-shutter")})}b.expanded={},b.toggle=function(a,c){b.expanded[a]=!b.expanded[a],c&&c.preventDefault&&c.preventDefault(),c.stopPropagation()},b.pageNum=1,b.pageSize=null,b.totalItems=0,b.now=(new Date).toJSON(),b.filterProperties=null;var k=b.tasklistData.newChild(b);b.query={};var l=b.assignees={},m=function(a){for(var c=0;c<a.length;c++)b.assignees[a[c].id]=a[c]},n=[],o=function(){n.push(function(){h(j)}),n.forEach(function(a){a()}),n=[],b.expanded={}};b.state=k.observe("taskList",function(a){b.totalItems=a.count,b.tasks=a._embedded.task,a._embedded.assignee&&m(a._embedded.assignee),o()}),b.$on("shortcut:focusList",function(){var a=document.querySelector("[cam-tasks] .tasks-list li:first-child a");a&&a.focus()}),b.assigneeDisplayedName=function(a){var b=l[a.assignee]||{},c=b.firstName||b.lastName;return c?(b.firstName||"")+" "+(b.lastName||""):l[a.assignee]&&c?"&lt;nobody&gt;":a.assignee},k.observe("taskListQuery",function(a){if(a){var d=b.query;if(b.query=e.copy(a),b.pageSize=b.query.maxResults,b.pageNum=b.query.firstResult/b.pageSize+1,d.id){k.set("taskId",{taskId:null});var f=c.search()||{};f.task=null,i(f)}}}),k.observe("taskId",function(a){b.currentTaskId=a.taskId}),k.observe(["currentFilter",function(a){a&&(b.filterProperties=null!==a?a.properties:null)}]),b.focus=function(a,d){a&&a.preventDefault();var e=d.id;k.set("taskId",{taskId:e}),b.currentTaskId=e;var f=c.search()||{};f.task=e,i(f);var g=document.querySelector('[cam-tasks] .tasks-list .task [href*="#/?task='+e+'"]');g&&g.focus()};var p=function(){for(var a=0;a<b.tasks.length-1;a++)if(b.tasks[a].id===b.currentTaskId)return b.focus(null,b.tasks[a+1]);b.pageNum<Math.ceil(b.totalItems/b.pageSize)&&(b.pageNum++,b.pageChange(),n.push(function(){h(function(){b.focus(null,b.tasks[0])})}))},q=function(){for(var a=1;a<b.tasks.length;a++)if(b.tasks[a].id===b.currentTaskId)return b.focus(null,b.tasks[a-1]);b.pageNum>1&&(b.pageNum--,b.pageChange(),n.push(function(){h(function(){b.focus(null,b.tasks[b.tasks.length-1])})}))};b.handleKeydown=function(a){40===a.keyCode?(a.preventDefault(),p(a)):38===a.keyCode&&(a.preventDefault(),q()),h(function(){var b=f(a.target).find("li.active")[0];b&&b.scrollIntoView(!1)})},b.getHrefUrl=function(a){var b="#/?task="+a.id,d=c.search().detailsTab;return d&&(b=b+"&detailsTab="+d),b},b.cardPluginVars={read:["task","filterProperties"]},b.cardPlugins=g.getProviders({component:"tasklist.card"}),b.pageChange=function(){i({page:b.pageNum}),k.changed("taskListQuery")},b.resetPage=function(){i({page:1}),k.changed("taskListQuery")}}]}}]},{"camunda-commons-ui/vendor/angular":300,jquery:"jquery"}],849:[function(a,b,c){"use strict";var d=a("camunda-commons-ui/vendor/angular"),e=a("./controller/cam-tasklist-list-ctrl"),f=a("./directives/cam-tasklist-tasks"),g=a("./plugins/cam-tasklist-search-plugin"),h=d.module("cam.tasklist.tasklist",["ui.bootstrap"]);h.controller("camListCtrl",e),h.directive("camTasks",f),h.config(g),b.exports=h},{"./controller/cam-tasklist-list-ctrl":847,"./directives/cam-tasklist-tasks":848,"./plugins/cam-tasklist-search-plugin":850,"camunda-commons-ui/vendor/angular":300}],850:[function(a,b,c){"use strict";var d='<div cam-widget-search\n     cam-widget-search-total="totalItems"\n     cam-widget-search-valid-searches="searches"\n     cam-widget-search-match-any="matchAny"\n     cam-widget-search-translations="translations"\n     cam-widget-search-types="types"\n     cam-widget-search-operators="operators"\n     cam-widget-search-mode="filter"\n     cam-widget-search-storage-group="\'TLT\'"\n     class="multiline-pills"></div>\n',e='{\n  "types": [\n    {\n      "id": {\n        "key": "processVariables",\n        "value": "PROCESS_VARIABLE"\n      },\n      "extended": true,\n      "allowDates": true\n    },\n    {\n      "id": {\n        "key": "taskVariables",\n        "value": "TASK_VARIABLE"\n      },\n      "extended": true,\n      "allowDates": true\n    },\n    {\n      "id": {\n        "key": "caseInstanceVariables",\n        "value": "CASE_VARIABLE"\n      },\n      "extended": true,\n      "allowDates": true\n    },\n    {\n      "id": {\n        "key": "processInstanceId",\n        "value": "PROCESS_INSTANCE_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },    {\n      "id": {\n        "key": "processInstanceBusinessKey",\n        "value": "PROCESS_INSTANCE_BUSINESS_KEY"\n      },\n      "operators": [\n        {\n          "key": "Like",\n          "value": "LIKE"\n        },{\n          "key": "eq",\n          "value": "="\n        }\n\n      ],\n      "enforceString" : true\n    },    {\n      "id": {\n        "key": "processDefinitionId",\n        "value": "PROCESS_DEFINITION_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },    {\n      "id": {\n        "key": "processDefinitionKey",\n        "value": "PROCESS_DEFINITION_KEY"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },    {\n      "id": {\n        "key": "processDefinitionName",\n        "value": "PROCESS_DEFINITION_NAME"\n      },\n      "operators": [\n        {\n          "key": "Like",\n          "value": "LIKE"\n        },{\n          "key": "eq",\n          "value": "="\n        }\n\n      ]\n    },    {\n      "id": {\n        "key": "executionId",\n        "value": "EXECUTION_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },    {\n      "id": {\n        "key": "caseInstanceId",\n        "value": "CASE_INSTANCE_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },    {\n      "id": {\n        "key": "caseInstanceBusinessKey",\n        "value": "CASE_INSTANCE_BUSINESS_KEY"\n      },\n      "operators": [\n        {\n          "key": "Like",\n          "value": "LIKE"\n        },{\n          "key": "eq",\n          "value": "="\n        }\n\n      ]\n    },    {\n      "id": {\n        "key": "caseDefinitionId",\n        "value": "CASE_DEFINITION_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },    {\n      "id": {\n        "key": "caseDefinitionKey",\n        "value": "CASE_DEFINITION_KEY"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },    {\n      "id": {\n        "key": "caseDefinitionName",\n        "value": "CASE_DEFINITION_NAME"\n      },\n      "operators": [\n        {\n          "key": "Like",\n          "value": "LIKE"\n        },{\n          "key": "eq",\n          "value": "="\n        }\n\n      ]\n    },    {\n      "id": {\n        "key": "caseExecutionId",\n        "value": "CASE_EXECUTION_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },    {\n      "id": {\n        "key": "assignee",\n        "value": "ASSIGNEE"\n      },\n      "operators": [\n        {\n          "key": "Like",\n          "value": "LIKE"\n        },{\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },    {\n      "id": {\n        "key": "owner",\n        "value": "OWNER"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },    {\n      "id": {\n        "key": "candidateGroup",\n        "value": "CANDIDATE_GROUP"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },    {\n      "id": {\n        "key": "candidateUser",\n        "value": "CANDIDATE_USER"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },    {\n      "id": {\n        "key": "involvedUser",\n        "value": "INVOLVED_USER"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },    {\n      "id": {\n        "key": "taskDefinitionKey",\n        "value": "TASK_DEFINITION_KEY"\n      },\n      "operators": [\n        {\n          "key": "Like",\n          "value": "LIKE"\n        },{\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },    {\n      "id": {\n        "key": "name",\n        "value": "NAME"\n      },\n      "operators": [\n        {\n          "key": "Like",\n          "value": "LIKE"\n        },{\n          "key": "eq",\n          "value": "="\n        }\n\n      ],\n      "default": true\n    },    {\n      "id": {\n        "key": "description",\n        "value": "DESCRIPTION"\n      },\n      "operators": [\n        {\n          "key": "Like",\n          "value": "LIKE"\n        },{\n          "key": "eq",\n          "value": "="\n        }\n\n      ]\n    },    {\n      "id": {\n        "key": "priority",\n        "value": "PRIORITY"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        },\n        {\n          "key": "max",\n          "value": "<="\n        },\n        {\n          "key": "min",\n          "value": ">="\n        }\n      ]\n    },    {\n      "id": {\n        "key": "due",\n        "value": "DUE_DATE"\n      },\n      "operators": [\n        {\n          "key": "Before",\n          "value": "BEFORE"\n        },\n        {\n          "key": "After",\n          "value": "AFTER"\n        }\n      ],\n      "allowDates": true,\n      "enforceDates": true\n    },    {\n      "id": {\n        "key": "followUp",\n        "value": "FOLLOW_UP_DATE"\n      },\n      "operators": [\n        {\n          "key": "Before",\n          "value": "BEFORE"\n        },\n        {\n          "key": "After",\n          "value": "AFTER"\n        }\n      ],\n      "allowDates": true,\n      "enforceDates": true\n    },    {\n      "id": {\n        "key": "created",\n        "value": "CREATION_DATE"\n      },\n      "operators": [\n        {\n          "key": "Before",\n          "value": "BEFORE"\n        },\n        {\n          "key": "After",\n          "value": "AFTER"\n        }\n      ],\n      "allowDates": true,\n      "enforceDates": true\n    },    {\n      "id": {\n        "key": "delegationState",\n        "value": "DELEGATION_STATE"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },    {\n      "id": {\n        "key": "tenantIdIn",\n        "value": "TENANT_ID"\n      },\n      "operators": [\n        {\n          "key": "in",\n          "value": "="\n        }\n      ]\n    },    {\n      "id": {\n        "key": "withoutTenantId",\n        "value": "WITHOUT_TENANT_ID"\n      },\n      "basic": true\n    }\n  ],\n  "operators": {\n    "date": [\n      {\n        "key": "lteq",\n        "value": "BEFORE"\n      },\n      {\n        "key": "gteq",\n        "value": "AFTER"\n      }\n    ],\n    "boolean": [\n      {\n        "key": "eq",\n        "value": "="\n      },\n      {\n        "key": "neq",\n        "value": "!="\n      }\n    ],\n    "object": [\n      {\n        "key": "eq",\n        "value": "="\n      },\n      {\n        "key": "neq",\n        "value": "!="\n      }\n    ],\n    "number": [\n      {\n        "key": "eq",\n        "value": "="\n      },\n      {\n        "key": "neq",\n        "value": "!="\n      },\n      {\n        "key": "gt",\n        "value": ">"\n      },\n      {\n        "key": "gteq",\n        "value": ">="\n      },\n      {\n        "key": "lt",\n        "value": "<"\n      },\n      {\n        "key": "lteq",\n        "value": "<="\n      }\n    ],\n    "string": [\n      {\n        "key": "eq",\n        "value": "="\n      },\n      {\n        "key": "neq",\n        "value": "!="\n      },\n      {\n        "key": "gt",\n        "value": ">"\n      },\n      {\n        "key": "gteq",\n        "value": ">="\n      },\n      {\n        "key": "lt",\n        "value": "<"\n      },\n      {\n        "key": "lteq",\n        "value": "<="\n      },\n      {\n        "key": "like",\n        "value": "like"\n      }\n    ],\n    "undefined": [\n      {\n        "key": "eq",\n        "value": "="\n      },\n      {\n        "key": "neq",\n        "value": "!="\n      },\n      {\n        "key": "gt",\n        "value": ">"\n      },\n      {\n        "key": "gteq",\n        "value": ">="\n      },\n      {\n        "key": "lt",\n        "value": "<"\n      },\n      {\n        "key": "lteq",\n        "value": "<="\n      },\n      {\n        "key": "like",\n        "value": "like"\n      }\n    ]\n  },\n  "tooltips": {\n    "inputPlaceholder": "SEARCH_PLACEHOLDER",\n    "invalid": "INVALID_SEARCH",\n    "deleteSearch": "DELETE_SEARCH",\n    "type": "TYPE",\n    "name": "PROPERTY",\n    "operator": "OPERATOR",\n    "value": "VALUE"\n  }\n}\n',f=a("camunda-commons-ui/vendor/angular"),g=a("camunda-commons-ui/vendor/moment"),h=/^[\s]*(\#|\$)\{/,i=/^[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}(|\.[0-9]{0,4})$/,j=JSON.parse(e),k=function(a,b){
return b?""+a:isNaN(a)||""===a.trim()?"true"===a||"false"!==a&&("NULL"===a?null:0===a.indexOf("'")&&a.lastIndexOf("'")===a.length-1?a.substr(1,a.length-2):a):+a},l=function(a,b,c){var d=/(\\%)|(\\_)/g,e=/(\%)|(\_)/;return"like"!==b.toLowerCase()||e.test(a.replace(d,""))?"in"==b?a.split(","):c.allowDates&&i.test(a)?g(a).format("YYYY-MM-DDTHH:mm:ss.SSSZZ"):a:"%"+a+"%"},m=function(a){return!!a.basic||l(k(a.value.value,a.enforceString),a.operator.value.key,a)},n=function(a,b,c,d){var e=b;return["Like","Before","After"].indexOf(c)!==-1&&(e+=c),h.test(d)&&["assignee","owner","candidateGroup","candidateUser","involvedUser","processInstanceBusinessKey"].indexOf(b)!==-1&&(e+="Expression"),"priority"===b&&"eq"!==c&&(e=c+"Priority"),e},o=["$scope","$translate","$location",function(a,b,c){a.searches=[],a.translations={},a.matchAny=c.search().searchOrQuery||!1,f.forEach(j.tooltips,function(c,d){a.translations[d]=b.instant(c)}),a.types=j.types.map(function(a){return a.id.value=b.instant(a.id.value),a.operators&&(a.operators=a.operators.map(function(a){return a.value=b.instant(a.value),a})),a}),a.operators=j.operators,f.forEach(a.operators.date,function(a){a.value=b.instant(a.value)});var d=a.tasklistData.newChild(a);a.$watch("[searches, matchAny]",function(){var b,c={};a.matchAny===!0?(c.orQueries=[{}],b=c.orQueries[0],b.processVariables=[],b.taskVariables=[],b.caseInstanceVariables=[]):(c.processVariables=[],c.taskVariables=[],c.caseInstanceVariables=[],b=c),f.forEach(a.searches,function(a){"object"==typeof b[a.type.value.key]?b[a.type.value.key].push({name:"object"==typeof a.name.value?a.name.value.key:a.name.value,operator:a.operator.value.key,value:m(a)}):b[n(a,a.type.value.key,a.operator.value.key,a.value.value)]=m(a)}),a.matchAny===!1&&delete c.orQueries,d.set("searchQuery",c)},!0),d.observe("currentFilter",function(b){f.forEach(a.types,function(a){a.potentialNames=[];for(var c=0;c<(b&&b.properties&&b.properties.variables&&b.properties.variables.length);c++){var d=b.properties.variables[c];a.potentialNames.push({key:d.name,value:d.label+" ("+d.name+")"})}}),f.forEach(a.searches,function(b){b.potentialNames=a.types.filter(function(a){return a.id.key===b.type.value.key})[0].potentialNames})}),d.observe("taskList",function(b){a.totalItems=b.count})}],p=function(a){a.registerDefaultView("tasklist.list",{id:"task-search",template:d,controller:o,priority:100})};p.$inject=["ViewsProvider"],b.exports=p},{"camunda-commons-ui/vendor/angular":300,"camunda-commons-ui/vendor/moment":303}]},{},[802])(802)});