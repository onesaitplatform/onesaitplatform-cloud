2020-03-21 14:22:35.570  WARN 2134 --- [main] ory$DuplicateJsonObjectContextCustomizer : 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/javi/.m2/repository/org/json/json/20140107/json-20140107.jar!/org/json/JSONObject.class
	jar:file:/Users/javi/.m2/repository/com/vaadin/external/google/android-json/0.0.20131108.vaadin1/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behaviour

2020-03-21 14:22:35.588  INFO 2134 --- [main] c.m.o.platform.persistence.CosmosDBTest  : Starting CosmosDBTest on Javi with PID 2134 (started by javi in /Users/javi/openplatform/onesait-cloud/onesait-cloud-platform/sources/libraries/persistence/cosmosdb-impl)
2020-03-21 14:22:35.588  INFO 2134 --- [main] c.m.o.platform.persistence.CosmosDBTest  : No active profile set, falling back to default profiles: default
2020-03-21 14:22:35.622  INFO 2134 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@42257bdd: startup date [Sat Mar 21 14:22:35 CET 2020]; root of context hierarchy
2020-03-21 14:22:38.974  INFO 2134 --- [main] ptablePropertiesBeanFactoryPostProcessor : Post-processing PropertySource instances
2020-03-21 14:22:39.042  INFO 2134 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Inlined Test Properties [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
2020-03-21 14:22:39.044  INFO 2134 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemProperties [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
2020-03-21 14:22:39.044  INFO 2134 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemEnvironment [org.springframework.core.env.SystemEnvironmentPropertySource] to EncryptableMapPropertySourceWrapper
2020-03-21 14:22:39.045  INFO 2134 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource random [org.springframework.boot.context.config.RandomValuePropertySource] to EncryptablePropertySourceWrapper
2020-03-21 14:22:39.045  INFO 2134 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource applicationConfig: [classpath:/application.yml] [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
2020-03-21 14:22:39.106  INFO 2134 --- [main] f.a.AutowiredAnnotationBeanPostProcessor : JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2020-03-21 14:22:39.197  INFO 2134 --- [main] c.u.j.r.DefaultLazyPropertyResolver      : Property Resolver custom Bean not found with name 'encryptablePropertyResolver'. Initializing Default Property Resolver
2020-03-21 14:22:39.201  INFO 2134 --- [main] c.u.j.d.DefaultLazyPropertyDetector      : Property Detector custom Bean not found with name 'encryptablePropertyDetector'. Initializing Default Property Detector
2020-03-21 14:22:39.202  INFO 2134 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'tenant2SchemaMapper' of type [com.minsait.onesait.platform.multitenant.Tenant2SchemaMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-21 14:22:39.210  INFO 2134 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'configDBMasterConfig' of type [com.minsait.onesait.platform.config.ConfigDBMasterConfig$$EnhancerBySpringCGLIB$$296bb7e3] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-21 14:22:39.215  INFO 2134 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded master PersistenceExceptionTranslationPostProcessor
2020-03-21 14:22:39.381  INFO 2134 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.kafka.annotation.KafkaBootstrapConfiguration' of type [org.springframework.kafka.annotation.KafkaBootstrapConfiguration$$EnhancerBySpringCGLIB$$505de04d] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-21 14:22:40.044  INFO 2134 --- [main] com.hazelcast.instance.AddressPicker     : [LOCAL] [dev] [3.12] Prefer IPv4 stack is true, prefer IPv6 addresses is false
2020-03-21 14:22:40.066  INFO 2134 --- [main] com.hazelcast.instance.AddressPicker     : [LOCAL] [dev] [3.12] Picked [192.168.20.27]:5701, using socket ServerSocket[addr=/0:0:0:0:0:0:0:0,localport=5701], bind any local is true
2020-03-21 14:22:40.093  INFO 2134 --- [main] com.hazelcast.system                     : [192.168.20.27]:5701 [dev] [3.12] Hazelcast 3.12 (20190409 - 915d83a) starting at [192.168.20.27]:5701
2020-03-21 14:22:40.094  INFO 2134 --- [main] com.hazelcast.system                     : [192.168.20.27]:5701 [dev] [3.12] Copyright (c) 2008-2019, Hazelcast, Inc. All Rights Reserved.
2020-03-21 14:22:40.531  INFO 2134 --- [main] c.h.s.i.o.impl.BackpressureRegulator     : [192.168.20.27]:5701 [dev] [3.12] Backpressure is disabled
2020-03-21 14:22:41.268  INFO 2134 --- [main] com.hazelcast.instance.Node              : [192.168.20.27]:5701 [dev] [3.12] Creating MulticastJoiner
2020-03-21 14:22:41.520  INFO 2134 --- [main] c.h.s.i.o.impl.OperationExecutorImpl     : [192.168.20.27]:5701 [dev] [3.12] Starting 12 partition threads and 7 generic threads (1 dedicated for priority tasks)
2020-03-21 14:22:41.523  INFO 2134 --- [main] c.h.internal.diagnostics.Diagnostics     : [192.168.20.27]:5701 [dev] [3.12] Diagnostics disabled. To enable add -Dhazelcast.diagnostics.enabled=true to the JVM arguments.
2020-03-21 14:22:41.530  INFO 2134 --- [main] com.hazelcast.core.LifecycleService      : [192.168.20.27]:5701 [dev] [3.12] [192.168.20.27]:5701 is STARTING
2020-03-21 14:22:44.337  INFO 2134 --- [main] c.h.internal.cluster.ClusterService      : [192.168.20.27]:5701 [dev] [3.12] 

Members {size:1, ver:1} [
	Member [192.168.20.27]:5701 - 3302606e-4e61-4b76-aa1c-cf8dcf7fefcf this
]

2020-03-21 14:22:44.395  INFO 2134 --- [main] com.hazelcast.core.LifecycleService      : [192.168.20.27]:5701 [dev] [3.12] [192.168.20.27]:5701 is STARTED
2020-03-21 14:22:44.713  INFO 2134 --- [main] c.u.j.encryptor.DefaultLazyEncryptor     : Found Custom Encryptor Bean org.jasypt.encryption.pbe.PooledPBEStringEncryptor@5bd191c2 with name: jasyptStringEncryptor
2020-03-21 14:22:45.030  INFO 2134 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : DatasourceProperties: org.apache.tomcat.jdbc.pool.DataSource@6d7005e2{ConnectionPool[defaultAutoCommit=null; defaultReadOnly=null; defaultTransactionIsolation=-1; defaultCatalog=null; driverClassName=com.mysql.jdbc.Driver; maxActive=2; maxIdle=2; minIdle=1; initialSize=1; maxWait=10000; testOnBorrow=true; testOnReturn=false; timeBetweenEvictionRunsMillis=5000; numTestsPerEvictionRun=0; minEvictableIdleTimeMillis=60000; testWhileIdle=true; testOnConnect=false; password=********; url=jdbc:mysql://localhost:3306/onesaitplatform_master_config?useUnicode=true&characterEncoding=UTF-8&allowMultiQueries=true&useSSL=false&autoReconnect=true; username=root; validationQuery=SELECT 1; validationQueryTimeout=-1; validatorClassName=null; validationInterval=3000; accessToUnderlyingConnectionAllowed=true; removeAbandoned=true; removeAbandonedTimeout=60; logAbandoned=false; connectionProperties=null; initSQL=null; jdbcInterceptors=null; jmxEnabled=true; fairQueue=true; useEquals=true; abandonWhenPercentageFull=0; maxAge=0; useLock=false; dataSource=null; dataSourceJNDI=null; suspectTimeout=0; alternateUsernameAllowed=false; commitOnReturn=false; rollbackOnReturn=false; useDisposableConnectionFacade=true; logValidationErrors=false; propagateInterruptState=false; ignoreExceptionOnPreLoad=false; useStatementFacade=true; }
2020-03-21 14:22:45.155  INFO 2134 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'onesaitPlatform-masterdb'
2020-03-21 14:22:45.182  INFO 2134 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: onesaitPlatform-masterdb
	...]
2020-03-21 14:22:45.308  INFO 2134 --- [main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.0.12.Final}
2020-03-21 14:22:45.312  INFO 2134 --- [main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2020-03-21 14:22:45.314  INFO 2134 --- [main] org.hibernate.cfg.Environment            : HHH000021: Bytecode provider name : javassist
2020-03-21 14:22:45.384  INFO 2134 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2020-03-21 14:22:45.833  INFO 2134 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5InnoDBDialect
2020-03-21 14:22:46.637  INFO 2134 --- [main] o.h.tool.hbm2ddl.SchemaValidator         : HHH000229: Running schema validator
2020-03-21 14:22:46.965  INFO 2134 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'onesaitPlatform-masterdb'
2020-03-21 14:22:47.494  INFO 2134 --- [main] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2020-03-21 14:22:47.795  INFO 2134 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded tenant multiTenantConnectionProvider
2020-03-21 14:22:47.811  INFO 2134 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded tenant currentTenantIdentifierResolver
2020-03-21 14:22:47.816  INFO 2134 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : tenantEntityManagerFactory setting up!
2020-03-21 14:22:47.816  INFO 2134 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded tenant jpaVendorAdapter
2020-03-21 14:22:47.823  INFO 2134 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : tenantEntityManagerFactory set up successfully!
2020-03-21 14:22:47.977  INFO 2134 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'onesaitplatform'
2020-03-21 14:22:47.978  INFO 2134 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: onesaitplatform
	...]
2020-03-21 14:22:48.030  INFO 2134 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded master transaction manager
2020-03-21 14:22:48.316  INFO 2134 --- [main] c.m.o.p.multitenant.util.DataSourceUtil  : Registering tenant datasource org.apache.tomcat.jdbc.pool.DataSource@51102651{ConnectionPool[defaultAutoCommit=null; defaultReadOnly=null; defaultTransactionIsolation=-1; defaultCatalog=null; driverClassName=com.mysql.jdbc.Driver; maxActive=30; maxIdle=5; minIdle=5; initialSize=10; maxWait=10000; testOnBorrow=true; testOnReturn=false; timeBetweenEvictionRunsMillis=5000; numTestsPerEvictionRun=0; minEvictableIdleTimeMillis=6000; testWhileIdle=true; testOnConnect=false; password=********; url=jdbc:mysql://localhost:3306/onesaitplatform_config?useUnicode=true&characterEncoding=UTF-8&allowMultiQueries=true&useSSL=false&autoReconnect=true; username=root; validationQuery=SELECT 1; validationQueryTimeout=-1; validatorClassName=null; validationInterval=3000; accessToUnderlyingConnectionAllowed=true; removeAbandoned=true; removeAbandonedTimeout=60; logAbandoned=false; connectionProperties=null; initSQL=null; jdbcInterceptors=null; jmxEnabled=true; fairQueue=true; useEquals=true; abandonWhenPercentageFull=0; maxAge=0; useLock=false; dataSource=null; dataSourceJNDI=null; suspectTimeout=0; alternateUsernameAllowed=false; commitOnReturn=false; rollbackOnReturn=false; useDisposableConnectionFacade=true; logValidationErrors=false; propagateInterruptState=false; ignoreExceptionOnPreLoad=false; useStatementFacade=true; }
2020-03-21 14:22:48.405  INFO 2134 --- [main] c.m.o.p.multitenant.util.DataSourceUtil  : Registering tenant datasource org.apache.tomcat.jdbc.pool.DataSource@10dba2e3{ConnectionPool[defaultAutoCommit=null; defaultReadOnly=null; defaultTransactionIsolation=-1; defaultCatalog=null; driverClassName=com.mysql.jdbc.Driver; maxActive=30; maxIdle=5; minIdle=5; initialSize=10; maxWait=10000; testOnBorrow=true; testOnReturn=false; timeBetweenEvictionRunsMillis=5000; numTestsPerEvictionRun=0; minEvictableIdleTimeMillis=6000; testWhileIdle=true; testOnConnect=false; password=********; url=jdbc:mysql://localhost:3306/onesaitplatform_config?useUnicode=true&characterEncoding=UTF-8&allowMultiQueries=true&useSSL=false&autoReconnect=true; username=root; validationQuery=SELECT 1; validationQueryTimeout=-1; validatorClassName=null; validationInterval=3000; accessToUnderlyingConnectionAllowed=true; removeAbandoned=true; removeAbandonedTimeout=60; logAbandoned=false; connectionProperties=null; initSQL=null; jdbcInterceptors=null; jmxEnabled=true; fairQueue=true; useEquals=true; abandonWhenPercentageFull=0; maxAge=0; useLock=false; dataSource=null; dataSourceJNDI=null; suspectTimeout=0; alternateUsernameAllowed=false; commitOnReturn=false; rollbackOnReturn=false; useDisposableConnectionFacade=true; logValidationErrors=false; propagateInterruptState=false; ignoreExceptionOnPreLoad=false; useStatementFacade=true; }
2020-03-21 14:22:48.445  INFO 2134 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5InnoDBDialect
2020-03-21 14:22:49.428  INFO 2134 --- [main] o.h.tool.hbm2ddl.SchemaValidator         : HHH000229: Running schema validator
2020-03-21 14:22:49.513  INFO 2134 --- [main] c.m.o.p.multitenant.util.DataSourceUtil  : Registering tenant datasource org.apache.tomcat.jdbc.pool.DataSource@61168870{ConnectionPool[defaultAutoCommit=null; defaultReadOnly=null; defaultTransactionIsolation=-1; defaultCatalog=null; driverClassName=com.mysql.jdbc.Driver; maxActive=30; maxIdle=5; minIdle=5; initialSize=10; maxWait=10000; testOnBorrow=true; testOnReturn=false; timeBetweenEvictionRunsMillis=5000; numTestsPerEvictionRun=0; minEvictableIdleTimeMillis=6000; testWhileIdle=true; testOnConnect=false; password=********; url=jdbc:mysql://localhost:3306/onesaitplatform_config?useUnicode=true&characterEncoding=UTF-8&allowMultiQueries=true&useSSL=false&autoReconnect=true; username=root; validationQuery=SELECT 1; validationQueryTimeout=-1; validatorClassName=null; validationInterval=3000; accessToUnderlyingConnectionAllowed=true; removeAbandoned=true; removeAbandonedTimeout=60; logAbandoned=false; connectionProperties=null; initSQL=null; jdbcInterceptors=null; jmxEnabled=true; fairQueue=true; useEquals=true; abandonWhenPercentageFull=0; maxAge=0; useLock=false; dataSource=null; dataSourceJNDI=null; suspectTimeout=0; alternateUsernameAllowed=false; commitOnReturn=false; rollbackOnReturn=false; useDisposableConnectionFacade=true; logValidationErrors=false; propagateInterruptState=false; ignoreExceptionOnPreLoad=false; useStatementFacade=true; }
2020-03-21 14:22:51.439  INFO 2134 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'onesaitplatform'
2020-03-21 14:22:55.131  WARN 2134 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'CosmosDBBasicOpsDBRepository': Unsatisfied dependency expressed through field 'cosmosClient'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'cosmosClient' defined in class path resource [com/minsait/onesait/platform/persistence/config/CosmosDBConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.azure.cosmos.CosmosClient]: Factory method 'cosmosClient' threw exception; nested exception is java.lang.NoSuchFieldError: ALLOW_TRAILING_COMMA
2020-03-21 14:22:55.132  INFO 2134 --- [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'onesaitplatform'
2020-03-21 14:22:55.133  INFO 2134 --- [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'onesaitPlatform-masterdb'
2020-03-21 14:22:55.135  INFO 2134 --- [main] com.hazelcast.core.LifecycleService      : [192.168.20.27]:5701 [dev] [3.12] [192.168.20.27]:5701 is SHUTTING_DOWN
2020-03-21 14:22:55.145  INFO 2134 --- [main] com.hazelcast.instance.Node              : [192.168.20.27]:5701 [dev] [3.12] Shutting down multicast service...
2020-03-21 14:22:55.149  INFO 2134 --- [main] com.hazelcast.instance.Node              : [192.168.20.27]:5701 [dev] [3.12] Shutting down connection manager...
2020-03-21 14:22:55.153  INFO 2134 --- [main] com.hazelcast.instance.Node              : [192.168.20.27]:5701 [dev] [3.12] Shutting down node engine...
2020-03-21 14:22:55.162  INFO 2134 --- [main] com.hazelcast.instance.NodeExtension     : [192.168.20.27]:5701 [dev] [3.12] Destroying node NodeExtension.
2020-03-21 14:22:55.162  INFO 2134 --- [main] com.hazelcast.instance.Node              : [192.168.20.27]:5701 [dev] [3.12] Hazelcast Shutdown is completed in 22 ms.
2020-03-21 14:22:55.163  INFO 2134 --- [main] com.hazelcast.core.LifecycleService      : [192.168.20.27]:5701 [dev] [3.12] [192.168.20.27]:5701 is SHUTDOWN
2020-03-21 14:22:55.171  INFO 2134 --- [main] utoConfigurationReportLoggingInitializer : 

Error starting ApplicationContext. To display the auto-configuration report re-run your application with 'debug' enabled.
2020-03-21 14:22:55.180 ERROR 2134 --- [main] o.s.boot.SpringApplication               : Application startup failed

org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'CosmosDBBasicOpsDBRepository': Unsatisfied dependency expressed through field 'cosmosClient'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'cosmosClient' defined in class path resource [com/minsait/onesait/platform/persistence/config/CosmosDBConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.azure.cosmos.CosmosClient]: Factory method 'cosmosClient' threw exception; nested exception is java.lang.NoSuchFieldError: ALLOW_TRAILING_COMMA
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:588) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867) ~[spring-context-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543) ~[spring-context-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:693) ~[spring-boot-1.5.9.RELEASE.jar:1.5.9.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:360) ~[spring-boot-1.5.9.RELEASE.jar:1.5.9.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:303) ~[spring-boot-1.5.9.RELEASE.jar:1.5.9.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:120) [spring-boot-test-1.5.9.RELEASE.jar:1.5.9.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98) [spring-test-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116) [spring-test-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83) [spring-test-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:189) [spring-test-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:131) [spring-test-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230) [spring-test-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228) [spring-test-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287) [spring-test-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289) [spring-test-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247) [spring-test-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94) [spring-test-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191) [spring-test-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:86) [.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38) [.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:538) [.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:760) [.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:460) [.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:206) [.cp/:na]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'cosmosClient' defined in class path resource [com/minsait/onesait/platform/persistence/config/CosmosDBConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.azure.cosmos.CosmosClient]: Factory method 'cosmosClient' threw exception; nested exception is java.lang.NoSuchFieldError: ALLOW_TRAILING_COMMA
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:599) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1173) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1067) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	... 43 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.azure.cosmos.CosmosClient]: Factory method 'cosmosClient' threw exception; nested exception is java.lang.NoSuchFieldError: ALLOW_TRAILING_COMMA
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:189) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:588) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	... 55 common frames omitted
Caused by: java.lang.NoSuchFieldError: ALLOW_TRAILING_COMMA
	at com.azure.cosmos.implementation.Utils.<clinit>(Utils.java:64) ~[azure-cosmos-4.0.1-beta.1.jar:na]
	at com.azure.cosmos.implementation.RxDocumentClientImpl.<clinit>(RxDocumentClientImpl.java:84) ~[azure-cosmos-4.0.1-beta.1.jar:na]
	at com.azure.cosmos.implementation.AsyncDocumentClient$Builder.build(AsyncDocumentClient.java:192) ~[azure-cosmos-4.0.1-beta.1.jar:na]
	at com.azure.cosmos.CosmosAsyncClient.<init>(CosmosAsyncClient.java:72) ~[azure-cosmos-4.0.1-beta.1.jar:na]
	at com.azure.cosmos.CosmosClientBuilder.buildAsyncClient(CosmosClientBuilder.java:301) ~[azure-cosmos-4.0.1-beta.1.jar:na]
	at com.azure.cosmos.CosmosClient.<init>(CosmosClient.java:28) ~[azure-cosmos-4.0.1-beta.1.jar:na]
	at com.azure.cosmos.CosmosClientBuilder.buildClient(CosmosClientBuilder.java:324) ~[azure-cosmos-4.0.1-beta.1.jar:na]
	at com.minsait.onesait.platform.persistence.config.CosmosDBConfiguration.cosmosClient(CosmosDBConfiguration.java:37) ~[classes/:na]
	at com.minsait.onesait.platform.persistence.config.CosmosDBConfiguration$$EnhancerBySpringCGLIB$$407d67dc.CGLIB$cosmosClient$0(<generated>) ~[classes/:na]
	at com.minsait.onesait.platform.persistence.config.CosmosDBConfiguration$$EnhancerBySpringCGLIB$$407d67dc$$FastClassBySpringCGLIB$$f306ddd5.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228) ~[spring-core-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:358) ~[spring-context-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at com.minsait.onesait.platform.persistence.config.CosmosDBConfiguration$$EnhancerBySpringCGLIB$$407d67dc.cosmosClient(<generated>) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_121]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_121]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_121]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_121]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:162) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	... 56 common frames omitted

2020-03-21 14:22:55.182 ERROR 2134 --- [main] o.s.test.context.TestContextManager      : Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener@710c2b53] to prepare test instance [com.minsait.onesait.platform.persistence.CosmosDBTest@3f36b79d]

java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124) ~[spring-test-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83) ~[spring-test-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:189) ~[spring-test-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:131) ~[spring-test-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230) ~[spring-test-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228) [spring-test-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287) [spring-test-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289) [spring-test-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247) [spring-test-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94) [spring-test-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191) [spring-test-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:86) [.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38) [.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:538) [.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:760) [.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:460) [.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:206) [.cp/:na]
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'CosmosDBBasicOpsDBRepository': Unsatisfied dependency expressed through field 'cosmosClient'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'cosmosClient' defined in class path resource [com/minsait/onesait/platform/persistence/config/CosmosDBConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.azure.cosmos.CosmosClient]: Factory method 'cosmosClient' threw exception; nested exception is java.lang.NoSuchFieldError: ALLOW_TRAILING_COMMA
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:588) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867) ~[spring-context-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543) ~[spring-context-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:693) ~[spring-boot-1.5.9.RELEASE.jar:1.5.9.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:360) ~[spring-boot-1.5.9.RELEASE.jar:1.5.9.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:303) ~[spring-boot-1.5.9.RELEASE.jar:1.5.9.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:120) ~[spring-boot-test-1.5.9.RELEASE.jar:1.5.9.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98) ~[spring-test-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116) ~[spring-test-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	... 25 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'cosmosClient' defined in class path resource [com/minsait/onesait/platform/persistence/config/CosmosDBConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.azure.cosmos.CosmosClient]: Factory method 'cosmosClient' threw exception; nested exception is java.lang.NoSuchFieldError: ALLOW_TRAILING_COMMA
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:599) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1173) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1067) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	... 43 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.azure.cosmos.CosmosClient]: Factory method 'cosmosClient' threw exception; nested exception is java.lang.NoSuchFieldError: ALLOW_TRAILING_COMMA
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:189) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:588) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	... 55 common frames omitted
Caused by: java.lang.NoSuchFieldError: ALLOW_TRAILING_COMMA
	at com.azure.cosmos.implementation.Utils.<clinit>(Utils.java:64) ~[azure-cosmos-4.0.1-beta.1.jar:na]
	at com.azure.cosmos.implementation.RxDocumentClientImpl.<clinit>(RxDocumentClientImpl.java:84) ~[azure-cosmos-4.0.1-beta.1.jar:na]
	at com.azure.cosmos.implementation.AsyncDocumentClient$Builder.build(AsyncDocumentClient.java:192) ~[azure-cosmos-4.0.1-beta.1.jar:na]
	at com.azure.cosmos.CosmosAsyncClient.<init>(CosmosAsyncClient.java:72) ~[azure-cosmos-4.0.1-beta.1.jar:na]
	at com.azure.cosmos.CosmosClientBuilder.buildAsyncClient(CosmosClientBuilder.java:301) ~[azure-cosmos-4.0.1-beta.1.jar:na]
	at com.azure.cosmos.CosmosClient.<init>(CosmosClient.java:28) ~[azure-cosmos-4.0.1-beta.1.jar:na]
	at com.azure.cosmos.CosmosClientBuilder.buildClient(CosmosClientBuilder.java:324) ~[azure-cosmos-4.0.1-beta.1.jar:na]
	at com.minsait.onesait.platform.persistence.config.CosmosDBConfiguration.cosmosClient(CosmosDBConfiguration.java:37) ~[classes/:na]
	at com.minsait.onesait.platform.persistence.config.CosmosDBConfiguration$$EnhancerBySpringCGLIB$$407d67dc.CGLIB$cosmosClient$0(<generated>) ~[classes/:na]
	at com.minsait.onesait.platform.persistence.config.CosmosDBConfiguration$$EnhancerBySpringCGLIB$$407d67dc$$FastClassBySpringCGLIB$$f306ddd5.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228) ~[spring-core-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:358) ~[spring-context-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at com.minsait.onesait.platform.persistence.config.CosmosDBConfiguration$$EnhancerBySpringCGLIB$$407d67dc.cosmosClient(<generated>) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_121]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_121]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_121]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_121]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:162) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	... 56 common frames omitted

2020-03-21 14:35:29.294  WARN 2813 --- [main] ory$DuplicateJsonObjectContextCustomizer : 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/javi/.m2/repository/org/json/json/20140107/json-20140107.jar!/org/json/JSONObject.class
	jar:file:/Users/javi/.m2/repository/com/vaadin/external/google/android-json/0.0.20131108.vaadin1/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behaviour

2020-03-21 14:35:29.310  INFO 2813 --- [main] c.m.o.platform.persistence.CosmosDBTest  : Starting CosmosDBTest on Javi with PID 2813 (started by javi in /Users/javi/openplatform/onesait-cloud/onesait-cloud-platform/sources/libraries/persistence/cosmosdb-impl)
2020-03-21 14:35:29.310  INFO 2813 --- [main] c.m.o.platform.persistence.CosmosDBTest  : No active profile set, falling back to default profiles: default
2020-03-21 14:35:29.351  INFO 2813 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@3546d80f: startup date [Sat Mar 21 14:35:29 CET 2020]; root of context hierarchy
2020-03-21 14:35:33.202  INFO 2813 --- [main] ptablePropertiesBeanFactoryPostProcessor : Post-processing PropertySource instances
2020-03-21 14:35:33.272  INFO 2813 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Inlined Test Properties [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
2020-03-21 14:35:33.274  INFO 2813 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemProperties [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
2020-03-21 14:35:33.274  INFO 2813 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemEnvironment [org.springframework.core.env.SystemEnvironmentPropertySource] to EncryptableMapPropertySourceWrapper
2020-03-21 14:35:33.274  INFO 2813 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource random [org.springframework.boot.context.config.RandomValuePropertySource] to EncryptablePropertySourceWrapper
2020-03-21 14:35:33.275  INFO 2813 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource applicationConfig: [classpath:/application.yml] [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
2020-03-21 14:35:33.321  INFO 2813 --- [main] f.a.AutowiredAnnotationBeanPostProcessor : JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2020-03-21 14:35:33.396  INFO 2813 --- [main] c.u.j.r.DefaultLazyPropertyResolver      : Property Resolver custom Bean not found with name 'encryptablePropertyResolver'. Initializing Default Property Resolver
2020-03-21 14:35:33.399  INFO 2813 --- [main] c.u.j.d.DefaultLazyPropertyDetector      : Property Detector custom Bean not found with name 'encryptablePropertyDetector'. Initializing Default Property Detector
2020-03-21 14:35:33.400  INFO 2813 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'tenant2SchemaMapper' of type [com.minsait.onesait.platform.multitenant.Tenant2SchemaMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-21 14:35:33.409  INFO 2813 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'configDBMasterConfig' of type [com.minsait.onesait.platform.config.ConfigDBMasterConfig$$EnhancerBySpringCGLIB$$6e6d9583] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-21 14:35:33.414  INFO 2813 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded master PersistenceExceptionTranslationPostProcessor
2020-03-21 14:35:33.592  INFO 2813 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.kafka.annotation.KafkaBootstrapConfiguration' of type [org.springframework.kafka.annotation.KafkaBootstrapConfiguration$$EnhancerBySpringCGLIB$$955fbded] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-21 14:35:34.331  INFO 2813 --- [main] com.hazelcast.instance.AddressPicker     : [LOCAL] [dev] [3.12] Prefer IPv4 stack is true, prefer IPv6 addresses is false
2020-03-21 14:35:34.355  INFO 2813 --- [main] com.hazelcast.instance.AddressPicker     : [LOCAL] [dev] [3.12] Picked [192.168.20.27]:5701, using socket ServerSocket[addr=/0:0:0:0:0:0:0:0,localport=5701], bind any local is true
2020-03-21 14:35:34.386  INFO 2813 --- [main] com.hazelcast.system                     : [192.168.20.27]:5701 [dev] [3.12] Hazelcast 3.12 (20190409 - 915d83a) starting at [192.168.20.27]:5701
2020-03-21 14:35:34.387  INFO 2813 --- [main] com.hazelcast.system                     : [192.168.20.27]:5701 [dev] [3.12] Copyright (c) 2008-2019, Hazelcast, Inc. All Rights Reserved.
2020-03-21 14:35:34.987  INFO 2813 --- [main] c.h.s.i.o.impl.BackpressureRegulator     : [192.168.20.27]:5701 [dev] [3.12] Backpressure is disabled
2020-03-21 14:35:36.276  INFO 2813 --- [main] com.hazelcast.instance.Node              : [192.168.20.27]:5701 [dev] [3.12] Creating MulticastJoiner
2020-03-21 14:35:36.717  INFO 2813 --- [main] c.h.s.i.o.impl.OperationExecutorImpl     : [192.168.20.27]:5701 [dev] [3.12] Starting 12 partition threads and 7 generic threads (1 dedicated for priority tasks)
2020-03-21 14:35:36.721  INFO 2813 --- [main] c.h.internal.diagnostics.Diagnostics     : [192.168.20.27]:5701 [dev] [3.12] Diagnostics disabled. To enable add -Dhazelcast.diagnostics.enabled=true to the JVM arguments.
2020-03-21 14:35:36.732  INFO 2813 --- [main] com.hazelcast.core.LifecycleService      : [192.168.20.27]:5701 [dev] [3.12] [192.168.20.27]:5701 is STARTING
2020-03-21 14:35:39.824  INFO 2813 --- [main] c.h.internal.cluster.ClusterService      : [192.168.20.27]:5701 [dev] [3.12] 

Members {size:1, ver:1} [
	Member [192.168.20.27]:5701 - 02074ce8-244f-400c-a24e-9c640e51d3b1 this
]

2020-03-21 14:35:39.872  INFO 2813 --- [main] com.hazelcast.core.LifecycleService      : [192.168.20.27]:5701 [dev] [3.12] [192.168.20.27]:5701 is STARTED
2020-03-21 14:35:40.220  INFO 2813 --- [main] c.u.j.encryptor.DefaultLazyEncryptor     : Found Custom Encryptor Bean org.jasypt.encryption.pbe.PooledPBEStringEncryptor@1ab780fd with name: jasyptStringEncryptor
2020-03-21 14:35:40.569  INFO 2813 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : DatasourceProperties: org.apache.tomcat.jdbc.pool.DataSource@529fda9f{ConnectionPool[defaultAutoCommit=null; defaultReadOnly=null; defaultTransactionIsolation=-1; defaultCatalog=null; driverClassName=com.mysql.jdbc.Driver; maxActive=2; maxIdle=2; minIdle=1; initialSize=1; maxWait=10000; testOnBorrow=true; testOnReturn=false; timeBetweenEvictionRunsMillis=5000; numTestsPerEvictionRun=0; minEvictableIdleTimeMillis=60000; testWhileIdle=true; testOnConnect=false; password=********; url=jdbc:mysql://localhost:3306/onesaitplatform_master_config?useUnicode=true&characterEncoding=UTF-8&allowMultiQueries=true&useSSL=false&autoReconnect=true; username=root; validationQuery=SELECT 1; validationQueryTimeout=-1; validatorClassName=null; validationInterval=3000; accessToUnderlyingConnectionAllowed=true; removeAbandoned=true; removeAbandonedTimeout=60; logAbandoned=false; connectionProperties=null; initSQL=null; jdbcInterceptors=null; jmxEnabled=true; fairQueue=true; useEquals=true; abandonWhenPercentageFull=0; maxAge=0; useLock=false; dataSource=null; dataSourceJNDI=null; suspectTimeout=0; alternateUsernameAllowed=false; commitOnReturn=false; rollbackOnReturn=false; useDisposableConnectionFacade=true; logValidationErrors=false; propagateInterruptState=false; ignoreExceptionOnPreLoad=false; useStatementFacade=true; }
2020-03-21 14:35:40.688  INFO 2813 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'onesaitPlatform-masterdb'
2020-03-21 14:35:40.717  INFO 2813 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: onesaitPlatform-masterdb
	...]
2020-03-21 14:35:40.850  INFO 2813 --- [main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.0.12.Final}
2020-03-21 14:35:40.855  INFO 2813 --- [main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2020-03-21 14:35:40.857  INFO 2813 --- [main] org.hibernate.cfg.Environment            : HHH000021: Bytecode provider name : javassist
2020-03-21 14:35:40.942  INFO 2813 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2020-03-21 14:35:41.446  INFO 2813 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5InnoDBDialect
2020-03-21 14:35:42.598  INFO 2813 --- [main] o.h.tool.hbm2ddl.SchemaValidator         : HHH000229: Running schema validator
2020-03-21 14:35:42.972  INFO 2813 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'onesaitPlatform-masterdb'
2020-03-21 14:35:43.684  INFO 2813 --- [main] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2020-03-21 14:35:44.096  INFO 2813 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded tenant multiTenantConnectionProvider
2020-03-21 14:35:44.122  INFO 2813 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded tenant currentTenantIdentifierResolver
2020-03-21 14:35:44.135  INFO 2813 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : tenantEntityManagerFactory setting up!
2020-03-21 14:35:44.135  INFO 2813 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded tenant jpaVendorAdapter
2020-03-21 14:35:44.148  INFO 2813 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : tenantEntityManagerFactory set up successfully!
2020-03-21 14:35:44.456  INFO 2813 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'onesaitplatform'
2020-03-21 14:35:44.457  INFO 2813 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: onesaitplatform
	...]
2020-03-21 14:35:44.533  INFO 2813 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded master transaction manager
2020-03-21 14:35:44.884  INFO 2813 --- [main] c.m.o.p.multitenant.util.DataSourceUtil  : Registering tenant datasource org.apache.tomcat.jdbc.pool.DataSource@5563630d{ConnectionPool[defaultAutoCommit=null; defaultReadOnly=null; defaultTransactionIsolation=-1; defaultCatalog=null; driverClassName=com.mysql.jdbc.Driver; maxActive=30; maxIdle=5; minIdle=5; initialSize=10; maxWait=10000; testOnBorrow=true; testOnReturn=false; timeBetweenEvictionRunsMillis=5000; numTestsPerEvictionRun=0; minEvictableIdleTimeMillis=6000; testWhileIdle=true; testOnConnect=false; password=********; url=jdbc:mysql://localhost:3306/onesaitplatform_config?useUnicode=true&characterEncoding=UTF-8&allowMultiQueries=true&useSSL=false&autoReconnect=true; username=root; validationQuery=SELECT 1; validationQueryTimeout=-1; validatorClassName=null; validationInterval=3000; accessToUnderlyingConnectionAllowed=true; removeAbandoned=true; removeAbandonedTimeout=60; logAbandoned=false; connectionProperties=null; initSQL=null; jdbcInterceptors=null; jmxEnabled=true; fairQueue=true; useEquals=true; abandonWhenPercentageFull=0; maxAge=0; useLock=false; dataSource=null; dataSourceJNDI=null; suspectTimeout=0; alternateUsernameAllowed=false; commitOnReturn=false; rollbackOnReturn=false; useDisposableConnectionFacade=true; logValidationErrors=false; propagateInterruptState=false; ignoreExceptionOnPreLoad=false; useStatementFacade=true; }
2020-03-21 14:35:44.986  INFO 2813 --- [main] c.m.o.p.multitenant.util.DataSourceUtil  : Registering tenant datasource org.apache.tomcat.jdbc.pool.DataSource@7d82eeb9{ConnectionPool[defaultAutoCommit=null; defaultReadOnly=null; defaultTransactionIsolation=-1; defaultCatalog=null; driverClassName=com.mysql.jdbc.Driver; maxActive=30; maxIdle=5; minIdle=5; initialSize=10; maxWait=10000; testOnBorrow=true; testOnReturn=false; timeBetweenEvictionRunsMillis=5000; numTestsPerEvictionRun=0; minEvictableIdleTimeMillis=6000; testWhileIdle=true; testOnConnect=false; password=********; url=jdbc:mysql://localhost:3306/onesaitplatform_config?useUnicode=true&characterEncoding=UTF-8&allowMultiQueries=true&useSSL=false&autoReconnect=true; username=root; validationQuery=SELECT 1; validationQueryTimeout=-1; validatorClassName=null; validationInterval=3000; accessToUnderlyingConnectionAllowed=true; removeAbandoned=true; removeAbandonedTimeout=60; logAbandoned=false; connectionProperties=null; initSQL=null; jdbcInterceptors=null; jmxEnabled=true; fairQueue=true; useEquals=true; abandonWhenPercentageFull=0; maxAge=0; useLock=false; dataSource=null; dataSourceJNDI=null; suspectTimeout=0; alternateUsernameAllowed=false; commitOnReturn=false; rollbackOnReturn=false; useDisposableConnectionFacade=true; logValidationErrors=false; propagateInterruptState=false; ignoreExceptionOnPreLoad=false; useStatementFacade=true; }
2020-03-21 14:35:45.028  INFO 2813 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5InnoDBDialect
2020-03-21 14:35:46.208  INFO 2813 --- [main] o.h.tool.hbm2ddl.SchemaValidator         : HHH000229: Running schema validator
2020-03-21 14:35:46.304  INFO 2813 --- [main] c.m.o.p.multitenant.util.DataSourceUtil  : Registering tenant datasource org.apache.tomcat.jdbc.pool.DataSource@4d6757ca{ConnectionPool[defaultAutoCommit=null; defaultReadOnly=null; defaultTransactionIsolation=-1; defaultCatalog=null; driverClassName=com.mysql.jdbc.Driver; maxActive=30; maxIdle=5; minIdle=5; initialSize=10; maxWait=10000; testOnBorrow=true; testOnReturn=false; timeBetweenEvictionRunsMillis=5000; numTestsPerEvictionRun=0; minEvictableIdleTimeMillis=6000; testWhileIdle=true; testOnConnect=false; password=********; url=jdbc:mysql://localhost:3306/onesaitplatform_config?useUnicode=true&characterEncoding=UTF-8&allowMultiQueries=true&useSSL=false&autoReconnect=true; username=root; validationQuery=SELECT 1; validationQueryTimeout=-1; validatorClassName=null; validationInterval=3000; accessToUnderlyingConnectionAllowed=true; removeAbandoned=true; removeAbandonedTimeout=60; logAbandoned=false; connectionProperties=null; initSQL=null; jdbcInterceptors=null; jmxEnabled=true; fairQueue=true; useEquals=true; abandonWhenPercentageFull=0; maxAge=0; useLock=false; dataSource=null; dataSourceJNDI=null; suspectTimeout=0; alternateUsernameAllowed=false; commitOnReturn=false; rollbackOnReturn=false; useDisposableConnectionFacade=true; logValidationErrors=false; propagateInterruptState=false; ignoreExceptionOnPreLoad=false; useStatementFacade=true; }
2020-03-21 14:35:48.362  INFO 2813 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'onesaitplatform'
2020-03-21 14:37:02.505  INFO 2813 --- [main] c.a.c.i.RxDocumentClientImpl             : Initializing DocumentClient with serviceEndpoint [https://onesait-test.documents.azure.com:443/], connectionPolicy [ConnectionPolicy{requestTimeout=PT1M, mediaRequestTimeout=PT5M, connectionMode=DIRECT, maxPoolSize=1000, idleConnectionTimeout=PT1M, userAgentSuffix='', retryOptions=RetryOptions{maxRetryAttemptsOnThrottledRequests=9, maxRetryWaitTime=PT30S}, enableEndpointDiscovery=true, preferredLocations=null, usingMultipleWriteLocations=true, inetSocketProxyAddress=null}], consistencyLevel [Eventual], directModeProtocol [Tcp]
2020-03-21 14:37:15.292  INFO 2813 --- [parallel-1] c.a.c.i.RxDocumentClientImpl             : Getting database account endpoint from https://onesait-test.documents.azure.com:443/
2020-03-21 14:37:16.883  INFO 2813 --- [main] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2020-03-21 14:37:19.858  INFO 2813 --- [main] c.m.o.p.commons.kafka.KafkaService       : Kafka configuration with no security applied
2020-03-21 14:37:21.444  INFO 2813 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded tenant transactionManager
2020-03-21 14:37:22.903  INFO 2813 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 
2020-03-21 14:37:22.919  INFO 2813 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService  'taskExecutor'
2020-03-21 14:37:23.949  INFO 2813 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@3546d80f: startup date [Sat Mar 21 14:35:29 CET 2020]; root of context hierarchy
2020-03-21 14:37:24.100  INFO 2813 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2020-03-21 14:37:24.102  INFO 2813 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2020-03-21 14:37:24.204  INFO 2813 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2020-03-21 14:37:24.205  INFO 2813 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2020-03-21 14:37:24.321  INFO 2813 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2020-03-21 14:37:24.947  INFO 2813 --- [main] b.a.s.AuthenticationManagerConfiguration : 

Using default security password: 26c9f89f-1c79-40e0-b07a-42b49678855b

2020-03-21 14:37:25.115  INFO 2813 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/css/**'], Ant [pattern='/js/**'], Ant [pattern='/images/**'], Ant [pattern='/webjars/**'], Ant [pattern='/**/favicon.ico'], Ant [pattern='/error']]], []
2020-03-21 14:37:25.115  INFO 2813 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.boot.actuate.autoconfigure.ManagementWebSecurityAutoConfiguration$LazyEndpointPathRequestMatcher@299398c6, []
2020-03-21 14:37:25.267  INFO 2813 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.boot.autoconfigure.security.SpringBootWebSecurityConfiguration$ApplicationNoWebSecurityConfigurerAdapter$1@353b50cc, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3fb39d03, org.springframework.security.web.context.SecurityContextPersistenceFilter@12045d72, org.springframework.security.web.header.HeaderWriterFilter@7053da91, org.springframework.security.web.csrf.CsrfFilter@3687bc0d, org.springframework.security.web.authentication.logout.LogoutFilter@8cc95c5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@945a6a9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4942cabd, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@564e48a7, org.springframework.security.web.session.SessionManagementFilter@6d51e2d, org.springframework.security.web.access.ExceptionTranslationFilter@64db6fdb]
2020-03-21 14:37:26.329  INFO 2813 --- [main] o.s.b.a.e.mvc.EndpointHandlerMapping     : Mapped "{[/beans || /beans.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
2020-03-21 14:37:26.330  INFO 2813 --- [main] o.s.b.a.e.mvc.EndpointHandlerMapping     : Mapped "{[/auditevents || /auditevents.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public org.springframework.http.ResponseEntity<?> org.springframework.boot.actuate.endpoint.mvc.AuditEventsMvcEndpoint.findByPrincipalAndAfterAndType(java.lang.String,java.util.Date,java.lang.String)
2020-03-21 14:37:26.331  INFO 2813 --- [main] o.s.b.a.e.mvc.EndpointHandlerMapping     : Mapped "{[/mappings || /mappings.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
2020-03-21 14:37:26.331  INFO 2813 --- [main] o.s.b.a.e.mvc.EndpointHandlerMapping     : Mapped "{[/info || /info.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
2020-03-21 14:37:26.332  INFO 2813 --- [main] o.s.b.a.e.mvc.EndpointHandlerMapping     : Mapped "{[/logfile || /logfile.json],methods=[GET || HEAD]}" onto public void org.springframework.boot.actuate.endpoint.mvc.LogFileMvcEndpoint.invoke(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException
2020-03-21 14:37:26.334  INFO 2813 --- [main] o.s.b.a.e.mvc.EndpointHandlerMapping     : Mapped "{[/heapdump || /heapdump.json],methods=[GET],produces=[application/octet-stream]}" onto public void org.springframework.boot.actuate.endpoint.mvc.HeapdumpMvcEndpoint.invoke(boolean,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.io.IOException,javax.servlet.ServletException
2020-03-21 14:37:26.335  INFO 2813 --- [main] o.s.b.a.e.mvc.EndpointHandlerMapping     : Mapped "{[/dump || /dump.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
2020-03-21 14:37:26.335  INFO 2813 --- [main] o.s.b.a.e.mvc.EndpointHandlerMapping     : Mapped "{[/metrics/{name:.*}],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.MetricsMvcEndpoint.value(java.lang.String)
2020-03-21 14:37:26.335  INFO 2813 --- [main] o.s.b.a.e.mvc.EndpointHandlerMapping     : Mapped "{[/metrics || /metrics.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
2020-03-21 14:37:26.337  INFO 2813 --- [main] o.s.b.a.e.mvc.EndpointHandlerMapping     : Mapped "{[/configprops || /configprops.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
2020-03-21 14:37:26.338  INFO 2813 --- [main] o.s.b.a.e.mvc.EndpointHandlerMapping     : Mapped "{[/trace || /trace.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
2020-03-21 14:37:26.340  INFO 2813 --- [main] o.s.b.a.e.mvc.EndpointHandlerMapping     : Mapped "{[/health || /health.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.HealthMvcEndpoint.invoke(javax.servlet.http.HttpServletRequest,java.security.Principal)
2020-03-21 14:37:26.343  INFO 2813 --- [main] o.s.b.a.e.mvc.EndpointHandlerMapping     : Mapped "{[/env/{name:.*}],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EnvironmentMvcEndpoint.value(java.lang.String)
2020-03-21 14:37:26.344  INFO 2813 --- [main] o.s.b.a.e.mvc.EndpointHandlerMapping     : Mapped "{[/env || /env.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
2020-03-21 14:37:26.347  INFO 2813 --- [main] o.s.b.a.e.mvc.EndpointHandlerMapping     : Mapped "{[/loggers/{name:.*}],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.LoggersMvcEndpoint.get(java.lang.String)
2020-03-21 14:37:26.347  INFO 2813 --- [main] o.s.b.a.e.mvc.EndpointHandlerMapping     : Mapped "{[/loggers/{name:.*}],methods=[POST],consumes=[application/vnd.spring-boot.actuator.v1+json || application/json],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.LoggersMvcEndpoint.set(java.lang.String,java.util.Map<java.lang.String, java.lang.String>)
2020-03-21 14:37:26.347  INFO 2813 --- [main] o.s.b.a.e.mvc.EndpointHandlerMapping     : Mapped "{[/loggers || /loggers.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
2020-03-21 14:37:26.348  INFO 2813 --- [main] o.s.b.a.e.mvc.EndpointHandlerMapping     : Mapped "{[/autoconfig || /autoconfig.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
2020-03-21 14:37:27.163  INFO 2813 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 2147483647
2020-03-21 14:37:27.172  INFO 2813 --- [main] s.a.ScheduledAnnotationBeanPostProcessor : No TaskScheduler/ScheduledExecutorService bean found for scheduled processing
2020-03-21 14:37:27.193  INFO 2813 --- [main] c.m.o.platform.persistence.CosmosDBTest  : Started CosmosDBTest in 118.644 seconds (JVM running for 119.886)
2020-03-21 14:38:03.941  INFO 2813 --- [hz.ShutdownThread] com.hazelcast.instance.Node              : [192.168.20.27]:5701 [dev] [3.12] Running shutdown hook... Current state: ACTIVE
2020-03-21 14:38:03.941  INFO 2813 --- [Thread-17] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@3546d80f: startup date [Sat Mar 21 14:35:29 CET 2020]; root of context hierarchy
2020-03-21 14:38:03.944  INFO 2813 --- [Thread-17] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 2147483647
2020-03-21 14:38:03.945  INFO 2813 --- [Thread-17] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 0
2020-03-21 14:38:03.949  INFO 2813 --- [Thread-17] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'taskExecutor'
2020-03-21 14:38:03.983  INFO 2813 --- [Thread-17] c.a.c.i.RxDocumentClientImpl             : Shutting down ...
2020-03-21 14:38:03.986  INFO 2813 --- [Thread-17] c.a.c.i.RxDocumentClientImpl             : Closing Global Endpoint Manager ...
2020-03-21 14:38:04.083  INFO 2813 --- [Thread-17] c.a.c.i.RxDocumentClientImpl             : Closing StoreClientFactory ...
2020-03-21 14:38:04.116  INFO 2813 --- [Thread-17] c.a.c.i.RxDocumentClientImpl             : Shutting down reactorHttpClient ...
2020-03-21 14:38:04.336  INFO 2813 --- [Thread-17] c.a.c.i.RxDocumentClientImpl             : Shutting down completed.
2020-03-21 14:38:04.372  INFO 2813 --- [Thread-17] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'onesaitplatform'
2020-03-21 14:38:04.376  INFO 2813 --- [Thread-17] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'onesaitPlatform-masterdb'
2020-03-21 14:42:44.422  WARN 3318 --- [main] ory$DuplicateJsonObjectContextCustomizer : 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/javi/.m2/repository/org/json/json/20140107/json-20140107.jar!/org/json/JSONObject.class
	jar:file:/Users/javi/.m2/repository/com/vaadin/external/google/android-json/0.0.20131108.vaadin1/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behaviour

2020-03-21 14:42:44.441  INFO 3318 --- [main] c.m.o.platform.persistence.CosmosDBTest  : Starting CosmosDBTest on Javi with PID 3318 (started by javi in /Users/javi/openplatform/onesait-cloud/onesait-cloud-platform/sources/libraries/persistence/cosmosdb-impl)
2020-03-21 14:42:44.441  INFO 3318 --- [main] c.m.o.platform.persistence.CosmosDBTest  : No active profile set, falling back to default profiles: default
2020-03-21 14:42:44.487  INFO 3318 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@1ac85b0c: startup date [Sat Mar 21 14:42:44 CET 2020]; root of context hierarchy
2020-03-21 14:42:48.627  INFO 3318 --- [main] ptablePropertiesBeanFactoryPostProcessor : Post-processing PropertySource instances
2020-03-21 14:42:48.701  INFO 3318 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Inlined Test Properties [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
2020-03-21 14:42:48.704  INFO 3318 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemProperties [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
2020-03-21 14:42:48.704  INFO 3318 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemEnvironment [org.springframework.core.env.SystemEnvironmentPropertySource] to EncryptableMapPropertySourceWrapper
2020-03-21 14:42:48.704  INFO 3318 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource random [org.springframework.boot.context.config.RandomValuePropertySource] to EncryptablePropertySourceWrapper
2020-03-21 14:42:48.704  INFO 3318 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource applicationConfig: [classpath:/application.yml] [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
2020-03-21 14:42:48.746  INFO 3318 --- [main] f.a.AutowiredAnnotationBeanPostProcessor : JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2020-03-21 14:42:48.829  INFO 3318 --- [main] c.u.j.r.DefaultLazyPropertyResolver      : Property Resolver custom Bean not found with name 'encryptablePropertyResolver'. Initializing Default Property Resolver
2020-03-21 14:42:48.832  INFO 3318 --- [main] c.u.j.d.DefaultLazyPropertyDetector      : Property Detector custom Bean not found with name 'encryptablePropertyDetector'. Initializing Default Property Detector
2020-03-21 14:42:48.834  INFO 3318 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'tenant2SchemaMapper' of type [com.minsait.onesait.platform.multitenant.Tenant2SchemaMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-21 14:42:48.842  INFO 3318 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'configDBMasterConfig' of type [com.minsait.onesait.platform.config.ConfigDBMasterConfig$$EnhancerBySpringCGLIB$$89c97fb0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-21 14:42:48.846  INFO 3318 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded master PersistenceExceptionTranslationPostProcessor
2020-03-21 14:42:48.943  INFO 3318 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.kafka.annotation.KafkaBootstrapConfiguration' of type [org.springframework.kafka.annotation.KafkaBootstrapConfiguration$$EnhancerBySpringCGLIB$$b0bba81a] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-21 14:42:49.578  INFO 3318 --- [main] c.u.j.encryptor.DefaultLazyEncryptor     : Found Custom Encryptor Bean org.jasypt.encryption.pbe.PooledPBEStringEncryptor@148ab138 with name: jasyptStringEncryptor
2020-03-21 14:42:49.970  INFO 3318 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : DatasourceProperties: org.apache.tomcat.jdbc.pool.DataSource@1958c0d9{ConnectionPool[defaultAutoCommit=null; defaultReadOnly=null; defaultTransactionIsolation=-1; defaultCatalog=null; driverClassName=com.mysql.jdbc.Driver; maxActive=2; maxIdle=2; minIdle=1; initialSize=1; maxWait=10000; testOnBorrow=true; testOnReturn=false; timeBetweenEvictionRunsMillis=5000; numTestsPerEvictionRun=0; minEvictableIdleTimeMillis=60000; testWhileIdle=true; testOnConnect=false; password=********; url=jdbc:mysql://localhost:3306/onesaitplatform_master_config?useUnicode=true&characterEncoding=UTF-8&allowMultiQueries=true&useSSL=false&autoReconnect=true; username=root; validationQuery=SELECT 1; validationQueryTimeout=-1; validatorClassName=null; validationInterval=3000; accessToUnderlyingConnectionAllowed=true; removeAbandoned=true; removeAbandonedTimeout=60; logAbandoned=false; connectionProperties=null; initSQL=null; jdbcInterceptors=null; jmxEnabled=true; fairQueue=true; useEquals=true; abandonWhenPercentageFull=0; maxAge=0; useLock=false; dataSource=null; dataSourceJNDI=null; suspectTimeout=0; alternateUsernameAllowed=false; commitOnReturn=false; rollbackOnReturn=false; useDisposableConnectionFacade=true; logValidationErrors=false; propagateInterruptState=false; ignoreExceptionOnPreLoad=false; useStatementFacade=true; }
2020-03-21 14:42:50.117  INFO 3318 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'onesaitPlatform-masterdb'
2020-03-21 14:42:50.166  INFO 3318 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: onesaitPlatform-masterdb
	...]
2020-03-21 14:42:50.482  INFO 3318 --- [main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.0.12.Final}
2020-03-21 14:42:50.488  INFO 3318 --- [main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2020-03-21 14:42:50.491  INFO 3318 --- [main] org.hibernate.cfg.Environment            : HHH000021: Bytecode provider name : javassist
2020-03-21 14:42:50.667  INFO 3318 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2020-03-21 14:42:51.554  INFO 3318 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5InnoDBDialect
2020-03-21 14:42:53.087  INFO 3318 --- [main] o.h.tool.hbm2ddl.SchemaValidator         : HHH000229: Running schema validator
2020-03-21 14:42:53.414  INFO 3318 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'onesaitPlatform-masterdb'
2020-03-21 14:42:54.101  INFO 3318 --- [main] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2020-03-21 14:42:54.433  INFO 3318 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded tenant multiTenantConnectionProvider
2020-03-21 14:42:54.449  INFO 3318 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded tenant currentTenantIdentifierResolver
2020-03-21 14:42:54.454  INFO 3318 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : tenantEntityManagerFactory setting up!
2020-03-21 14:42:54.455  INFO 3318 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded tenant jpaVendorAdapter
2020-03-21 14:42:54.464  INFO 3318 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : tenantEntityManagerFactory set up successfully!
2020-03-21 14:42:54.651  INFO 3318 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'onesaitplatform'
2020-03-21 14:42:54.651  INFO 3318 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: onesaitplatform
	...]
2020-03-21 14:42:54.727  INFO 3318 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded master transaction manager
2020-03-21 14:42:55.135  INFO 3318 --- [main] c.m.o.p.multitenant.util.DataSourceUtil  : Registering tenant datasource org.apache.tomcat.jdbc.pool.DataSource@23f27434{ConnectionPool[defaultAutoCommit=null; defaultReadOnly=null; defaultTransactionIsolation=-1; defaultCatalog=null; driverClassName=com.mysql.jdbc.Driver; maxActive=30; maxIdle=5; minIdle=5; initialSize=10; maxWait=10000; testOnBorrow=true; testOnReturn=false; timeBetweenEvictionRunsMillis=5000; numTestsPerEvictionRun=0; minEvictableIdleTimeMillis=6000; testWhileIdle=true; testOnConnect=false; password=********; url=jdbc:mysql://localhost:3306/onesaitplatform_config?useUnicode=true&characterEncoding=UTF-8&allowMultiQueries=true&useSSL=false&autoReconnect=true; username=root; validationQuery=SELECT 1; validationQueryTimeout=-1; validatorClassName=null; validationInterval=3000; accessToUnderlyingConnectionAllowed=true; removeAbandoned=true; removeAbandonedTimeout=60; logAbandoned=false; connectionProperties=null; initSQL=null; jdbcInterceptors=null; jmxEnabled=true; fairQueue=true; useEquals=true; abandonWhenPercentageFull=0; maxAge=0; useLock=false; dataSource=null; dataSourceJNDI=null; suspectTimeout=0; alternateUsernameAllowed=false; commitOnReturn=false; rollbackOnReturn=false; useDisposableConnectionFacade=true; logValidationErrors=false; propagateInterruptState=false; ignoreExceptionOnPreLoad=false; useStatementFacade=true; }
2020-03-21 14:42:55.250  INFO 3318 --- [main] c.m.o.p.multitenant.util.DataSourceUtil  : Registering tenant datasource org.apache.tomcat.jdbc.pool.DataSource@43e6f05f{ConnectionPool[defaultAutoCommit=null; defaultReadOnly=null; defaultTransactionIsolation=-1; defaultCatalog=null; driverClassName=com.mysql.jdbc.Driver; maxActive=30; maxIdle=5; minIdle=5; initialSize=10; maxWait=10000; testOnBorrow=true; testOnReturn=false; timeBetweenEvictionRunsMillis=5000; numTestsPerEvictionRun=0; minEvictableIdleTimeMillis=6000; testWhileIdle=true; testOnConnect=false; password=********; url=jdbc:mysql://localhost:3306/onesaitplatform_config?useUnicode=true&characterEncoding=UTF-8&allowMultiQueries=true&useSSL=false&autoReconnect=true; username=root; validationQuery=SELECT 1; validationQueryTimeout=-1; validatorClassName=null; validationInterval=3000; accessToUnderlyingConnectionAllowed=true; removeAbandoned=true; removeAbandonedTimeout=60; logAbandoned=false; connectionProperties=null; initSQL=null; jdbcInterceptors=null; jmxEnabled=true; fairQueue=true; useEquals=true; abandonWhenPercentageFull=0; maxAge=0; useLock=false; dataSource=null; dataSourceJNDI=null; suspectTimeout=0; alternateUsernameAllowed=false; commitOnReturn=false; rollbackOnReturn=false; useDisposableConnectionFacade=true; logValidationErrors=false; propagateInterruptState=false; ignoreExceptionOnPreLoad=false; useStatementFacade=true; }
2020-03-21 14:42:55.283  INFO 3318 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5InnoDBDialect
2020-03-21 14:42:56.324  INFO 3318 --- [main] o.h.tool.hbm2ddl.SchemaValidator         : HHH000229: Running schema validator
2020-03-21 14:42:56.428  INFO 3318 --- [main] c.m.o.p.multitenant.util.DataSourceUtil  : Registering tenant datasource org.apache.tomcat.jdbc.pool.DataSource@2a7bc863{ConnectionPool[defaultAutoCommit=null; defaultReadOnly=null; defaultTransactionIsolation=-1; defaultCatalog=null; driverClassName=com.mysql.jdbc.Driver; maxActive=30; maxIdle=5; minIdle=5; initialSize=10; maxWait=10000; testOnBorrow=true; testOnReturn=false; timeBetweenEvictionRunsMillis=5000; numTestsPerEvictionRun=0; minEvictableIdleTimeMillis=6000; testWhileIdle=true; testOnConnect=false; password=********; url=jdbc:mysql://localhost:3306/onesaitplatform_config?useUnicode=true&characterEncoding=UTF-8&allowMultiQueries=true&useSSL=false&autoReconnect=true; username=root; validationQuery=SELECT 1; validationQueryTimeout=-1; validatorClassName=null; validationInterval=3000; accessToUnderlyingConnectionAllowed=true; removeAbandoned=true; removeAbandonedTimeout=60; logAbandoned=false; connectionProperties=null; initSQL=null; jdbcInterceptors=null; jmxEnabled=true; fairQueue=true; useEquals=true; abandonWhenPercentageFull=0; maxAge=0; useLock=false; dataSource=null; dataSourceJNDI=null; suspectTimeout=0; alternateUsernameAllowed=false; commitOnReturn=false; rollbackOnReturn=false; useDisposableConnectionFacade=true; logValidationErrors=false; propagateInterruptState=false; ignoreExceptionOnPreLoad=false; useStatementFacade=true; }
2020-03-21 14:42:58.366  INFO 3318 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'onesaitplatform'
2020-03-21 14:43:01.788  WARN 3318 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'CosmosDBBasicOpsDBRepository': Unsatisfied dependency expressed through field 'cosmosClient'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'cosmosClient' defined in class path resource [com/minsait/onesait/platform/persistence/config/CosmosDBConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.azure.cosmos.CosmosClient]: Factory method 'cosmosClient' threw exception; nested exception is java.lang.NoSuchFieldError: ALLOW_TRAILING_COMMA
2020-03-21 14:43:01.789  INFO 3318 --- [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'onesaitplatform'
2020-03-21 14:43:01.790  INFO 3318 --- [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'onesaitPlatform-masterdb'
2020-03-21 14:43:01.799  INFO 3318 --- [main] utoConfigurationReportLoggingInitializer : 

Error starting ApplicationContext. To display the auto-configuration report re-run your application with 'debug' enabled.
2020-03-21 14:43:01.809 ERROR 3318 --- [main] o.s.boot.SpringApplication               : Application startup failed

org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'CosmosDBBasicOpsDBRepository': Unsatisfied dependency expressed through field 'cosmosClient'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'cosmosClient' defined in class path resource [com/minsait/onesait/platform/persistence/config/CosmosDBConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.azure.cosmos.CosmosClient]: Factory method 'cosmosClient' threw exception; nested exception is java.lang.NoSuchFieldError: ALLOW_TRAILING_COMMA
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:588) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867) ~[spring-context-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543) ~[spring-context-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:693) ~[spring-boot-1.5.9.RELEASE.jar:1.5.9.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:360) ~[spring-boot-1.5.9.RELEASE.jar:1.5.9.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:303) ~[spring-boot-1.5.9.RELEASE.jar:1.5.9.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:120) [spring-boot-test-1.5.9.RELEASE.jar:1.5.9.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98) [spring-test-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116) [spring-test-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83) [spring-test-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:189) [spring-test-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:131) [spring-test-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230) [spring-test-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228) [spring-test-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287) [spring-test-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289) [spring-test-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247) [spring-test-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94) [spring-test-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191) [spring-test-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:86) [.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38) [.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:538) [.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:760) [.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:460) [.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:206) [.cp/:na]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'cosmosClient' defined in class path resource [com/minsait/onesait/platform/persistence/config/CosmosDBConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.azure.cosmos.CosmosClient]: Factory method 'cosmosClient' threw exception; nested exception is java.lang.NoSuchFieldError: ALLOW_TRAILING_COMMA
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:599) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1173) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1067) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	... 43 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.azure.cosmos.CosmosClient]: Factory method 'cosmosClient' threw exception; nested exception is java.lang.NoSuchFieldError: ALLOW_TRAILING_COMMA
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:189) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:588) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	... 55 common frames omitted
Caused by: java.lang.NoSuchFieldError: ALLOW_TRAILING_COMMA
	at com.azure.cosmos.implementation.Utils.<clinit>(Utils.java:64) ~[azure-cosmos-4.0.1-beta.1.jar:na]
	at com.azure.cosmos.implementation.RxDocumentClientImpl.<clinit>(RxDocumentClientImpl.java:84) ~[azure-cosmos-4.0.1-beta.1.jar:na]
	at com.azure.cosmos.implementation.AsyncDocumentClient$Builder.build(AsyncDocumentClient.java:192) ~[azure-cosmos-4.0.1-beta.1.jar:na]
	at com.azure.cosmos.CosmosAsyncClient.<init>(CosmosAsyncClient.java:72) ~[azure-cosmos-4.0.1-beta.1.jar:na]
	at com.azure.cosmos.CosmosClientBuilder.buildAsyncClient(CosmosClientBuilder.java:301) ~[azure-cosmos-4.0.1-beta.1.jar:na]
	at com.azure.cosmos.CosmosClient.<init>(CosmosClient.java:28) ~[azure-cosmos-4.0.1-beta.1.jar:na]
	at com.azure.cosmos.CosmosClientBuilder.buildClient(CosmosClientBuilder.java:324) ~[azure-cosmos-4.0.1-beta.1.jar:na]
	at com.minsait.onesait.platform.persistence.config.CosmosDBConfiguration.cosmosClient(CosmosDBConfiguration.java:37) ~[classes/:na]
	at com.minsait.onesait.platform.persistence.config.CosmosDBConfiguration$$EnhancerBySpringCGLIB$$a0db2fa9.CGLIB$cosmosClient$0(<generated>) ~[classes/:na]
	at com.minsait.onesait.platform.persistence.config.CosmosDBConfiguration$$EnhancerBySpringCGLIB$$a0db2fa9$$FastClassBySpringCGLIB$$82488465.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228) ~[spring-core-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:358) ~[spring-context-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at com.minsait.onesait.platform.persistence.config.CosmosDBConfiguration$$EnhancerBySpringCGLIB$$a0db2fa9.cosmosClient(<generated>) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_121]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_121]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_121]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_121]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:162) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	... 56 common frames omitted

2020-03-21 14:43:01.812 ERROR 3318 --- [main] o.s.test.context.TestContextManager      : Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener@6caf0677] to prepare test instance [com.minsait.onesait.platform.persistence.CosmosDBTest@21bbc452]

java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124) ~[spring-test-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83) ~[spring-test-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:189) ~[spring-test-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:131) ~[spring-test-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230) ~[spring-test-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228) [spring-test-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287) [spring-test-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289) [spring-test-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247) [spring-test-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94) [spring-test-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191) [spring-test-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:86) [.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38) [.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:538) [.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:760) [.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:460) [.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:206) [.cp/:na]
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'CosmosDBBasicOpsDBRepository': Unsatisfied dependency expressed through field 'cosmosClient'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'cosmosClient' defined in class path resource [com/minsait/onesait/platform/persistence/config/CosmosDBConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.azure.cosmos.CosmosClient]: Factory method 'cosmosClient' threw exception; nested exception is java.lang.NoSuchFieldError: ALLOW_TRAILING_COMMA
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:588) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867) ~[spring-context-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543) ~[spring-context-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:693) ~[spring-boot-1.5.9.RELEASE.jar:1.5.9.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:360) ~[spring-boot-1.5.9.RELEASE.jar:1.5.9.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:303) ~[spring-boot-1.5.9.RELEASE.jar:1.5.9.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:120) ~[spring-boot-test-1.5.9.RELEASE.jar:1.5.9.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98) ~[spring-test-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116) ~[spring-test-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	... 25 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'cosmosClient' defined in class path resource [com/minsait/onesait/platform/persistence/config/CosmosDBConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.azure.cosmos.CosmosClient]: Factory method 'cosmosClient' threw exception; nested exception is java.lang.NoSuchFieldError: ALLOW_TRAILING_COMMA
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:599) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1173) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1067) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	... 43 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.azure.cosmos.CosmosClient]: Factory method 'cosmosClient' threw exception; nested exception is java.lang.NoSuchFieldError: ALLOW_TRAILING_COMMA
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:189) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:588) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	... 55 common frames omitted
Caused by: java.lang.NoSuchFieldError: ALLOW_TRAILING_COMMA
	at com.azure.cosmos.implementation.Utils.<clinit>(Utils.java:64) ~[azure-cosmos-4.0.1-beta.1.jar:na]
	at com.azure.cosmos.implementation.RxDocumentClientImpl.<clinit>(RxDocumentClientImpl.java:84) ~[azure-cosmos-4.0.1-beta.1.jar:na]
	at com.azure.cosmos.implementation.AsyncDocumentClient$Builder.build(AsyncDocumentClient.java:192) ~[azure-cosmos-4.0.1-beta.1.jar:na]
	at com.azure.cosmos.CosmosAsyncClient.<init>(CosmosAsyncClient.java:72) ~[azure-cosmos-4.0.1-beta.1.jar:na]
	at com.azure.cosmos.CosmosClientBuilder.buildAsyncClient(CosmosClientBuilder.java:301) ~[azure-cosmos-4.0.1-beta.1.jar:na]
	at com.azure.cosmos.CosmosClient.<init>(CosmosClient.java:28) ~[azure-cosmos-4.0.1-beta.1.jar:na]
	at com.azure.cosmos.CosmosClientBuilder.buildClient(CosmosClientBuilder.java:324) ~[azure-cosmos-4.0.1-beta.1.jar:na]
	at com.minsait.onesait.platform.persistence.config.CosmosDBConfiguration.cosmosClient(CosmosDBConfiguration.java:37) ~[classes/:na]
	at com.minsait.onesait.platform.persistence.config.CosmosDBConfiguration$$EnhancerBySpringCGLIB$$a0db2fa9.CGLIB$cosmosClient$0(<generated>) ~[classes/:na]
	at com.minsait.onesait.platform.persistence.config.CosmosDBConfiguration$$EnhancerBySpringCGLIB$$a0db2fa9$$FastClassBySpringCGLIB$$82488465.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228) ~[spring-core-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:358) ~[spring-context-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at com.minsait.onesait.platform.persistence.config.CosmosDBConfiguration$$EnhancerBySpringCGLIB$$a0db2fa9.cosmosClient(<generated>) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_121]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_121]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_121]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_121]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:162) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	... 56 common frames omitted

2020-03-26 13:09:20.366  WARN 15995 --- [main] ory$DuplicateJsonObjectContextCustomizer : 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/javi/.m2/repository/org/json/json/20140107/json-20140107.jar!/org/json/JSONObject.class
	jar:file:/Users/javi/.m2/repository/com/vaadin/external/google/android-json/0.0.20131108.vaadin1/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behaviour

2020-03-26 13:09:20.386  INFO 15995 --- [main] c.m.o.platform.persistence.CosmosDBTest  : Starting CosmosDBTest on Javi with PID 15995 (started by javi in /Users/javi/openplatform/onesait-cloud/onesait-cloud-platform/sources/libraries/persistence/cosmosdb-impl)
2020-03-26 13:09:20.387  INFO 15995 --- [main] c.m.o.platform.persistence.CosmosDBTest  : No active profile set, falling back to default profiles: default
2020-03-26 13:09:20.433  INFO 15995 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@4cc547a: startup date [Thu Mar 26 13:09:20 CET 2020]; root of context hierarchy
2020-03-26 13:09:25.525  INFO 15995 --- [main] ptablePropertiesBeanFactoryPostProcessor : Post-processing PropertySource instances
2020-03-26 13:09:25.641  INFO 15995 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Inlined Test Properties [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
2020-03-26 13:09:25.645  INFO 15995 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemProperties [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
2020-03-26 13:09:25.645  INFO 15995 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemEnvironment [org.springframework.core.env.SystemEnvironmentPropertySource] to EncryptableMapPropertySourceWrapper
2020-03-26 13:09:25.645  INFO 15995 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource random [org.springframework.boot.context.config.RandomValuePropertySource] to EncryptablePropertySourceWrapper
2020-03-26 13:09:25.645  INFO 15995 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource applicationConfig: [classpath:/application.yml] [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
2020-03-26 13:09:25.716  INFO 15995 --- [main] f.a.AutowiredAnnotationBeanPostProcessor : JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2020-03-26 13:09:25.885  INFO 15995 --- [main] c.u.j.r.DefaultLazyPropertyResolver      : Property Resolver custom Bean not found with name 'encryptablePropertyResolver'. Initializing Default Property Resolver
2020-03-26 13:09:25.891  INFO 15995 --- [main] c.u.j.d.DefaultLazyPropertyDetector      : Property Detector custom Bean not found with name 'encryptablePropertyDetector'. Initializing Default Property Detector
2020-03-26 13:09:25.893  INFO 15995 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'tenant2SchemaMapper' of type [com.minsait.onesait.platform.multitenant.Tenant2SchemaMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-26 13:09:25.903  INFO 15995 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'configDBMasterConfig' of type [com.minsait.onesait.platform.config.ConfigDBMasterConfig$$EnhancerBySpringCGLIB$$73f06755] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-26 13:09:25.909  INFO 15995 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded master PersistenceExceptionTranslationPostProcessor
2020-03-26 13:09:26.081  INFO 15995 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.kafka.annotation.KafkaBootstrapConfiguration' of type [org.springframework.kafka.annotation.KafkaBootstrapConfiguration$$EnhancerBySpringCGLIB$$9ae28fbf] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-26 13:09:26.896  INFO 15995 --- [main] c.u.j.encryptor.DefaultLazyEncryptor     : Found Custom Encryptor Bean org.jasypt.encryption.pbe.PooledPBEStringEncryptor@249b54af with name: jasyptStringEncryptor
2020-03-26 13:09:27.622  INFO 15995 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : DatasourceProperties: org.apache.tomcat.jdbc.pool.DataSource@5fe5c68b{ConnectionPool[defaultAutoCommit=null; defaultReadOnly=null; defaultTransactionIsolation=-1; defaultCatalog=null; driverClassName=com.mysql.jdbc.Driver; maxActive=2; maxIdle=2; minIdle=1; initialSize=1; maxWait=10000; testOnBorrow=true; testOnReturn=false; timeBetweenEvictionRunsMillis=5000; numTestsPerEvictionRun=0; minEvictableIdleTimeMillis=60000; testWhileIdle=true; testOnConnect=false; password=********; url=jdbc:mysql://localhost:3306/onesaitplatform_master_config?useUnicode=true&characterEncoding=UTF-8&allowMultiQueries=true&useSSL=false&autoReconnect=true; username=root; validationQuery=SELECT 1; validationQueryTimeout=-1; validatorClassName=null; validationInterval=3000; accessToUnderlyingConnectionAllowed=true; removeAbandoned=true; removeAbandonedTimeout=60; logAbandoned=false; connectionProperties=null; initSQL=null; jdbcInterceptors=null; jmxEnabled=true; fairQueue=true; useEquals=true; abandonWhenPercentageFull=0; maxAge=0; useLock=false; dataSource=null; dataSourceJNDI=null; suspectTimeout=0; alternateUsernameAllowed=false; commitOnReturn=false; rollbackOnReturn=false; useDisposableConnectionFacade=true; logValidationErrors=false; propagateInterruptState=false; ignoreExceptionOnPreLoad=false; useStatementFacade=true; }
2020-03-26 13:09:27.766  INFO 15995 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'onesaitPlatform-masterdb'
2020-03-26 13:09:27.803  INFO 15995 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: onesaitPlatform-masterdb
	...]
2020-03-26 13:09:28.043  INFO 15995 --- [main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.0.12.Final}
2020-03-26 13:09:28.046  INFO 15995 --- [main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2020-03-26 13:09:28.048  INFO 15995 --- [main] org.hibernate.cfg.Environment            : HHH000021: Bytecode provider name : javassist
2020-03-26 13:09:28.146  INFO 15995 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2020-03-26 13:09:28.802  INFO 15995 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5InnoDBDialect
2020-03-26 13:09:30.058  INFO 15995 --- [main] o.h.tool.hbm2ddl.SchemaValidator         : HHH000229: Running schema validator
2020-03-26 13:09:30.605  INFO 15995 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'onesaitPlatform-masterdb'
2020-03-26 13:09:31.525  INFO 15995 --- [main] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2020-03-26 13:09:31.964  INFO 15995 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded tenant multiTenantConnectionProvider
2020-03-26 13:09:31.992  INFO 15995 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded tenant currentTenantIdentifierResolver
2020-03-26 13:09:32.002  INFO 15995 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : tenantEntityManagerFactory setting up!
2020-03-26 13:09:32.003  INFO 15995 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded tenant jpaVendorAdapter
2020-03-26 13:09:32.024  INFO 15995 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : tenantEntityManagerFactory set up successfully!
2020-03-26 13:09:32.281  INFO 15995 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'onesaitplatform'
2020-03-26 13:09:32.281  INFO 15995 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: onesaitplatform
	...]
2020-03-26 13:09:32.334  INFO 15995 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded master transaction manager
2020-03-26 13:09:32.872  INFO 15995 --- [main] c.m.o.p.multitenant.util.DataSourceUtil  : Registering tenant datasource org.apache.tomcat.jdbc.pool.DataSource@1f41f259{ConnectionPool[defaultAutoCommit=null; defaultReadOnly=null; defaultTransactionIsolation=-1; defaultCatalog=null; driverClassName=com.mysql.jdbc.Driver; maxActive=30; maxIdle=5; minIdle=5; initialSize=10; maxWait=10000; testOnBorrow=true; testOnReturn=false; timeBetweenEvictionRunsMillis=5000; numTestsPerEvictionRun=0; minEvictableIdleTimeMillis=6000; testWhileIdle=true; testOnConnect=false; password=********; url=jdbc:mysql://localhost:3306/onesaitplatform_config?useUnicode=true&characterEncoding=UTF-8&allowMultiQueries=true&useSSL=false&autoReconnect=true; username=root; validationQuery=SELECT 1; validationQueryTimeout=-1; validatorClassName=null; validationInterval=3000; accessToUnderlyingConnectionAllowed=true; removeAbandoned=true; removeAbandonedTimeout=60; logAbandoned=false; connectionProperties=null; initSQL=null; jdbcInterceptors=null; jmxEnabled=true; fairQueue=true; useEquals=true; abandonWhenPercentageFull=0; maxAge=0; useLock=false; dataSource=null; dataSourceJNDI=null; suspectTimeout=0; alternateUsernameAllowed=false; commitOnReturn=false; rollbackOnReturn=false; useDisposableConnectionFacade=true; logValidationErrors=false; propagateInterruptState=false; ignoreExceptionOnPreLoad=false; useStatementFacade=true; }
2020-03-26 13:09:32.999  INFO 15995 --- [main] c.m.o.p.multitenant.util.DataSourceUtil  : Registering tenant datasource org.apache.tomcat.jdbc.pool.DataSource@648c80cb{ConnectionPool[defaultAutoCommit=null; defaultReadOnly=null; defaultTransactionIsolation=-1; defaultCatalog=null; driverClassName=com.mysql.jdbc.Driver; maxActive=30; maxIdle=5; minIdle=5; initialSize=10; maxWait=10000; testOnBorrow=true; testOnReturn=false; timeBetweenEvictionRunsMillis=5000; numTestsPerEvictionRun=0; minEvictableIdleTimeMillis=6000; testWhileIdle=true; testOnConnect=false; password=********; url=jdbc:mysql://localhost:3306/onesaitplatform_config?useUnicode=true&characterEncoding=UTF-8&allowMultiQueries=true&useSSL=false&autoReconnect=true; username=root; validationQuery=SELECT 1; validationQueryTimeout=-1; validatorClassName=null; validationInterval=3000; accessToUnderlyingConnectionAllowed=true; removeAbandoned=true; removeAbandonedTimeout=60; logAbandoned=false; connectionProperties=null; initSQL=null; jdbcInterceptors=null; jmxEnabled=true; fairQueue=true; useEquals=true; abandonWhenPercentageFull=0; maxAge=0; useLock=false; dataSource=null; dataSourceJNDI=null; suspectTimeout=0; alternateUsernameAllowed=false; commitOnReturn=false; rollbackOnReturn=false; useDisposableConnectionFacade=true; logValidationErrors=false; propagateInterruptState=false; ignoreExceptionOnPreLoad=false; useStatementFacade=true; }
2020-03-26 13:09:33.064  INFO 15995 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5InnoDBDialect
2020-03-26 13:09:34.702  INFO 15995 --- [main] o.h.tool.hbm2ddl.SchemaValidator         : HHH000229: Running schema validator
2020-03-26 13:09:34.824  INFO 15995 --- [main] c.m.o.p.multitenant.util.DataSourceUtil  : Registering tenant datasource org.apache.tomcat.jdbc.pool.DataSource@c56c25b{ConnectionPool[defaultAutoCommit=null; defaultReadOnly=null; defaultTransactionIsolation=-1; defaultCatalog=null; driverClassName=com.mysql.jdbc.Driver; maxActive=30; maxIdle=5; minIdle=5; initialSize=10; maxWait=10000; testOnBorrow=true; testOnReturn=false; timeBetweenEvictionRunsMillis=5000; numTestsPerEvictionRun=0; minEvictableIdleTimeMillis=6000; testWhileIdle=true; testOnConnect=false; password=********; url=jdbc:mysql://localhost:3306/onesaitplatform_config?useUnicode=true&characterEncoding=UTF-8&allowMultiQueries=true&useSSL=false&autoReconnect=true; username=root; validationQuery=SELECT 1; validationQueryTimeout=-1; validatorClassName=null; validationInterval=3000; accessToUnderlyingConnectionAllowed=true; removeAbandoned=true; removeAbandonedTimeout=60; logAbandoned=false; connectionProperties=null; initSQL=null; jdbcInterceptors=null; jmxEnabled=true; fairQueue=true; useEquals=true; abandonWhenPercentageFull=0; maxAge=0; useLock=false; dataSource=null; dataSourceJNDI=null; suspectTimeout=0; alternateUsernameAllowed=false; commitOnReturn=false; rollbackOnReturn=false; useDisposableConnectionFacade=true; logValidationErrors=false; propagateInterruptState=false; ignoreExceptionOnPreLoad=false; useStatementFacade=true; }
2020-03-26 13:09:37.647  INFO 15995 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'onesaitplatform'
2020-03-26 13:09:37.745  INFO 15995 --- [main] c.m.azure.documentdb.DocumentClient      : Initializing DocumentClient with serviceEndpoint [https://onesait-test.documents.azure.com:443/], ConnectionPolicy [ConnectionPolicy [requestTimeout=60, directRequestTimeout5, mediaRequestTimeout=300, connectionMode=Gateway, mediaReadMode=Buffered, maxPoolSize=1200, idleConnectionTimeout=60, userAgentSuffix=, retryOptions=com.microsoft.azure.documentdb.RetryOptions@4267edd9, enableEndpointDiscovery=true, preferredLocations=null, usingMultipleWriteLocations=false, handleServiceUnavailableFromProxy=false]], ConsistencyLevel [Eventual]
2020-03-26 13:09:38.810  INFO 15995 --- [main] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2020-03-26 13:09:39.688  INFO 15995 --- [main] c.m.o.p.commons.kafka.KafkaService       : Kafka configuration with no security applied
2020-03-26 13:09:44.413  INFO 15995 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded tenant transactionManager
2020-03-26 13:09:46.719  INFO 15995 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@4cc547a: startup date [Thu Mar 26 13:09:20 CET 2020]; root of context hierarchy
2020-03-26 13:09:46.946  INFO 15995 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2020-03-26 13:09:46.948  INFO 15995 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2020-03-26 13:09:47.133  INFO 15995 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2020-03-26 13:09:47.134  INFO 15995 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2020-03-26 13:09:47.402  INFO 15995 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2020-03-26 13:09:48.482  INFO 15995 --- [main] b.a.s.AuthenticationManagerConfiguration : 

Using default security password: f266acee-786e-4740-8a11-ec04f7a5d1bb

2020-03-26 13:09:48.656  INFO 15995 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/css/**'], Ant [pattern='/js/**'], Ant [pattern='/images/**'], Ant [pattern='/webjars/**'], Ant [pattern='/**/favicon.ico'], Ant [pattern='/error']]], []
2020-03-26 13:09:48.921  INFO 15995 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.boot.autoconfigure.security.SpringBootWebSecurityConfiguration$ApplicationNoWebSecurityConfigurerAdapter$1@5e1c2cff, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7b67e60e, org.springframework.security.web.context.SecurityContextPersistenceFilter@9c38900, org.springframework.security.web.header.HeaderWriterFilter@318821c7, org.springframework.security.web.csrf.CsrfFilter@261a8248, org.springframework.security.web.authentication.logout.LogoutFilter@58e6940, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6d7df231, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@27cac84b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6bf1b075, org.springframework.security.web.session.SessionManagementFilter@47096141, org.springframework.security.web.access.ExceptionTranslationFilter@24a54d49]
2020-03-26 13:09:49.918  INFO 15995 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 2147483647
2020-03-26 13:09:49.952  INFO 15995 --- [main] c.m.o.platform.persistence.CosmosDBTest  : Started CosmosDBTest in 30.049 seconds (JVM running for 31.401)
2020-03-26 13:09:56.472  WARN 15995 --- [main] c.m.a.d.internal.ServiceJNIWrapper       : 'Mac OS X' with 'x86_64' system is not compatible with native library. JNI not loaded.
2020-03-26 13:10:55.112  INFO 15995 --- [Thread-5] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@4cc547a: startup date [Thu Mar 26 13:09:20 CET 2020]; root of context hierarchy
2020-03-26 13:10:55.115  INFO 15995 --- [Thread-5] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 2147483647
2020-03-26 13:10:55.116  INFO 15995 --- [Thread-5] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 0
2020-03-26 13:10:55.134  INFO 15995 --- [Thread-5] c.m.azure.documentdb.DocumentClient      : Closing DocumentClient
2020-03-26 13:10:55.162  INFO 15995 --- [Thread-5] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'onesaitplatform'
2020-03-26 13:10:55.165  INFO 15995 --- [Thread-5] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'onesaitPlatform-masterdb'
2020-03-26 13:11:26.597  WARN 16029 --- [main] ory$DuplicateJsonObjectContextCustomizer : 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/javi/.m2/repository/org/json/json/20140107/json-20140107.jar!/org/json/JSONObject.class
	jar:file:/Users/javi/.m2/repository/com/vaadin/external/google/android-json/0.0.20131108.vaadin1/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behaviour

2020-03-26 13:11:26.623  INFO 16029 --- [main] c.m.o.platform.persistence.CosmosDBTest  : Starting CosmosDBTest on Javi with PID 16029 (started by javi in /Users/javi/openplatform/onesait-cloud/onesait-cloud-platform/sources/libraries/persistence/cosmosdb-impl)
2020-03-26 13:11:26.623  INFO 16029 --- [main] c.m.o.platform.persistence.CosmosDBTest  : No active profile set, falling back to default profiles: default
2020-03-26 13:11:26.672  INFO 16029 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@4cc547a: startup date [Thu Mar 26 13:11:26 CET 2020]; root of context hierarchy
2020-03-26 13:11:30.497  INFO 16029 --- [main] ptablePropertiesBeanFactoryPostProcessor : Post-processing PropertySource instances
2020-03-26 13:11:30.585  INFO 16029 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Inlined Test Properties [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
2020-03-26 13:11:30.587  INFO 16029 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemProperties [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
2020-03-26 13:11:30.587  INFO 16029 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemEnvironment [org.springframework.core.env.SystemEnvironmentPropertySource] to EncryptableMapPropertySourceWrapper
2020-03-26 13:11:30.587  INFO 16029 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource random [org.springframework.boot.context.config.RandomValuePropertySource] to EncryptablePropertySourceWrapper
2020-03-26 13:11:30.588  INFO 16029 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource applicationConfig: [classpath:/application.yml] [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
2020-03-26 13:11:30.632  INFO 16029 --- [main] f.a.AutowiredAnnotationBeanPostProcessor : JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2020-03-26 13:11:30.760  INFO 16029 --- [main] c.u.j.r.DefaultLazyPropertyResolver      : Property Resolver custom Bean not found with name 'encryptablePropertyResolver'. Initializing Default Property Resolver
2020-03-26 13:11:30.765  INFO 16029 --- [main] c.u.j.d.DefaultLazyPropertyDetector      : Property Detector custom Bean not found with name 'encryptablePropertyDetector'. Initializing Default Property Detector
2020-03-26 13:11:30.766  INFO 16029 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'tenant2SchemaMapper' of type [com.minsait.onesait.platform.multitenant.Tenant2SchemaMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-26 13:11:30.781  INFO 16029 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'configDBMasterConfig' of type [com.minsait.onesait.platform.config.ConfigDBMasterConfig$$EnhancerBySpringCGLIB$$37d8a578] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-26 13:11:30.786  INFO 16029 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded master PersistenceExceptionTranslationPostProcessor
2020-03-26 13:11:30.911  INFO 16029 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.kafka.annotation.KafkaBootstrapConfiguration' of type [org.springframework.kafka.annotation.KafkaBootstrapConfiguration$$EnhancerBySpringCGLIB$$5ecacde2] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-26 13:11:31.387  INFO 16029 --- [main] c.u.j.encryptor.DefaultLazyEncryptor     : Found Custom Encryptor Bean org.jasypt.encryption.pbe.PooledPBEStringEncryptor@f4f843f with name: jasyptStringEncryptor
2020-03-26 13:11:31.646  INFO 16029 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : DatasourceProperties: org.apache.tomcat.jdbc.pool.DataSource@182e4365{ConnectionPool[defaultAutoCommit=null; defaultReadOnly=null; defaultTransactionIsolation=-1; defaultCatalog=null; driverClassName=com.mysql.jdbc.Driver; maxActive=2; maxIdle=2; minIdle=1; initialSize=1; maxWait=10000; testOnBorrow=true; testOnReturn=false; timeBetweenEvictionRunsMillis=5000; numTestsPerEvictionRun=0; minEvictableIdleTimeMillis=60000; testWhileIdle=true; testOnConnect=false; password=********; url=jdbc:mysql://localhost:3306/onesaitplatform_master_config?useUnicode=true&characterEncoding=UTF-8&allowMultiQueries=true&useSSL=false&autoReconnect=true; username=root; validationQuery=SELECT 1; validationQueryTimeout=-1; validatorClassName=null; validationInterval=3000; accessToUnderlyingConnectionAllowed=true; removeAbandoned=true; removeAbandonedTimeout=60; logAbandoned=false; connectionProperties=null; initSQL=null; jdbcInterceptors=null; jmxEnabled=true; fairQueue=true; useEquals=true; abandonWhenPercentageFull=0; maxAge=0; useLock=false; dataSource=null; dataSourceJNDI=null; suspectTimeout=0; alternateUsernameAllowed=false; commitOnReturn=false; rollbackOnReturn=false; useDisposableConnectionFacade=true; logValidationErrors=false; propagateInterruptState=false; ignoreExceptionOnPreLoad=false; useStatementFacade=true; }
2020-03-26 13:11:31.766  INFO 16029 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'onesaitPlatform-masterdb'
2020-03-26 13:11:31.789  INFO 16029 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: onesaitPlatform-masterdb
	...]
2020-03-26 13:11:32.036  INFO 16029 --- [main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.0.12.Final}
2020-03-26 13:11:32.039  INFO 16029 --- [main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2020-03-26 13:11:32.041  INFO 16029 --- [main] org.hibernate.cfg.Environment            : HHH000021: Bytecode provider name : javassist
2020-03-26 13:11:32.115  INFO 16029 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2020-03-26 13:11:32.610  INFO 16029 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5InnoDBDialect
2020-03-26 13:11:33.521  INFO 16029 --- [main] o.h.tool.hbm2ddl.SchemaValidator         : HHH000229: Running schema validator
2020-03-26 13:11:33.992  INFO 16029 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'onesaitPlatform-masterdb'
2020-03-26 13:11:34.758  INFO 16029 --- [main] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2020-03-26 13:11:35.221  INFO 16029 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded tenant multiTenantConnectionProvider
2020-03-26 13:11:35.242  INFO 16029 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded tenant currentTenantIdentifierResolver
2020-03-26 13:11:35.248  INFO 16029 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : tenantEntityManagerFactory setting up!
2020-03-26 13:11:35.249  INFO 16029 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded tenant jpaVendorAdapter
2020-03-26 13:11:35.259  INFO 16029 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : tenantEntityManagerFactory set up successfully!
2020-03-26 13:11:35.503  INFO 16029 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'onesaitplatform'
2020-03-26 13:11:35.503  INFO 16029 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: onesaitplatform
	...]
2020-03-26 13:11:35.565  INFO 16029 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded master transaction manager
2020-03-26 13:11:36.143  INFO 16029 --- [main] c.m.o.p.multitenant.util.DataSourceUtil  : Registering tenant datasource org.apache.tomcat.jdbc.pool.DataSource@fdeec12{ConnectionPool[defaultAutoCommit=null; defaultReadOnly=null; defaultTransactionIsolation=-1; defaultCatalog=null; driverClassName=com.mysql.jdbc.Driver; maxActive=30; maxIdle=5; minIdle=5; initialSize=10; maxWait=10000; testOnBorrow=true; testOnReturn=false; timeBetweenEvictionRunsMillis=5000; numTestsPerEvictionRun=0; minEvictableIdleTimeMillis=6000; testWhileIdle=true; testOnConnect=false; password=********; url=jdbc:mysql://localhost:3306/onesaitplatform_config?useUnicode=true&characterEncoding=UTF-8&allowMultiQueries=true&useSSL=false&autoReconnect=true; username=root; validationQuery=SELECT 1; validationQueryTimeout=-1; validatorClassName=null; validationInterval=3000; accessToUnderlyingConnectionAllowed=true; removeAbandoned=true; removeAbandonedTimeout=60; logAbandoned=false; connectionProperties=null; initSQL=null; jdbcInterceptors=null; jmxEnabled=true; fairQueue=true; useEquals=true; abandonWhenPercentageFull=0; maxAge=0; useLock=false; dataSource=null; dataSourceJNDI=null; suspectTimeout=0; alternateUsernameAllowed=false; commitOnReturn=false; rollbackOnReturn=false; useDisposableConnectionFacade=true; logValidationErrors=false; propagateInterruptState=false; ignoreExceptionOnPreLoad=false; useStatementFacade=true; }
2020-03-26 13:11:36.316  INFO 16029 --- [main] c.m.o.p.multitenant.util.DataSourceUtil  : Registering tenant datasource org.apache.tomcat.jdbc.pool.DataSource@1cecd0a9{ConnectionPool[defaultAutoCommit=null; defaultReadOnly=null; defaultTransactionIsolation=-1; defaultCatalog=null; driverClassName=com.mysql.jdbc.Driver; maxActive=30; maxIdle=5; minIdle=5; initialSize=10; maxWait=10000; testOnBorrow=true; testOnReturn=false; timeBetweenEvictionRunsMillis=5000; numTestsPerEvictionRun=0; minEvictableIdleTimeMillis=6000; testWhileIdle=true; testOnConnect=false; password=********; url=jdbc:mysql://localhost:3306/onesaitplatform_config?useUnicode=true&characterEncoding=UTF-8&allowMultiQueries=true&useSSL=false&autoReconnect=true; username=root; validationQuery=SELECT 1; validationQueryTimeout=-1; validatorClassName=null; validationInterval=3000; accessToUnderlyingConnectionAllowed=true; removeAbandoned=true; removeAbandonedTimeout=60; logAbandoned=false; connectionProperties=null; initSQL=null; jdbcInterceptors=null; jmxEnabled=true; fairQueue=true; useEquals=true; abandonWhenPercentageFull=0; maxAge=0; useLock=false; dataSource=null; dataSourceJNDI=null; suspectTimeout=0; alternateUsernameAllowed=false; commitOnReturn=false; rollbackOnReturn=false; useDisposableConnectionFacade=true; logValidationErrors=false; propagateInterruptState=false; ignoreExceptionOnPreLoad=false; useStatementFacade=true; }
2020-03-26 13:11:36.384  INFO 16029 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5InnoDBDialect
2020-03-26 13:11:37.601  INFO 16029 --- [main] o.h.tool.hbm2ddl.SchemaValidator         : HHH000229: Running schema validator
2020-03-26 13:11:37.718  INFO 16029 --- [main] c.m.o.p.multitenant.util.DataSourceUtil  : Registering tenant datasource org.apache.tomcat.jdbc.pool.DataSource@44c65be4{ConnectionPool[defaultAutoCommit=null; defaultReadOnly=null; defaultTransactionIsolation=-1; defaultCatalog=null; driverClassName=com.mysql.jdbc.Driver; maxActive=30; maxIdle=5; minIdle=5; initialSize=10; maxWait=10000; testOnBorrow=true; testOnReturn=false; timeBetweenEvictionRunsMillis=5000; numTestsPerEvictionRun=0; minEvictableIdleTimeMillis=6000; testWhileIdle=true; testOnConnect=false; password=********; url=jdbc:mysql://localhost:3306/onesaitplatform_config?useUnicode=true&characterEncoding=UTF-8&allowMultiQueries=true&useSSL=false&autoReconnect=true; username=root; validationQuery=SELECT 1; validationQueryTimeout=-1; validatorClassName=null; validationInterval=3000; accessToUnderlyingConnectionAllowed=true; removeAbandoned=true; removeAbandonedTimeout=60; logAbandoned=false; connectionProperties=null; initSQL=null; jdbcInterceptors=null; jmxEnabled=true; fairQueue=true; useEquals=true; abandonWhenPercentageFull=0; maxAge=0; useLock=false; dataSource=null; dataSourceJNDI=null; suspectTimeout=0; alternateUsernameAllowed=false; commitOnReturn=false; rollbackOnReturn=false; useDisposableConnectionFacade=true; logValidationErrors=false; propagateInterruptState=false; ignoreExceptionOnPreLoad=false; useStatementFacade=true; }
2020-03-26 13:11:40.146  INFO 16029 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'onesaitplatform'
2020-03-26 13:11:40.211  INFO 16029 --- [main] c.m.azure.documentdb.DocumentClient      : Initializing DocumentClient with serviceEndpoint [https://onesait-test.documents.azure.com:443/], ConnectionPolicy [ConnectionPolicy [requestTimeout=60, directRequestTimeout5, mediaRequestTimeout=300, connectionMode=Gateway, mediaReadMode=Buffered, maxPoolSize=1200, idleConnectionTimeout=60, userAgentSuffix=, retryOptions=com.microsoft.azure.documentdb.RetryOptions@60873af4, enableEndpointDiscovery=true, preferredLocations=null, usingMultipleWriteLocations=false, handleServiceUnavailableFromProxy=false]], ConsistencyLevel [Eventual]
2020-03-26 13:11:41.036  INFO 16029 --- [main] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2020-03-26 13:11:41.565  INFO 16029 --- [main] c.m.o.p.commons.kafka.KafkaService       : Kafka configuration with no security applied
2020-03-26 13:11:44.722  INFO 16029 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded tenant transactionManager
2020-03-26 13:11:46.307  INFO 16029 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@4cc547a: startup date [Thu Mar 26 13:11:26 CET 2020]; root of context hierarchy
2020-03-26 13:11:46.471  INFO 16029 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2020-03-26 13:11:46.473  INFO 16029 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2020-03-26 13:11:46.577  INFO 16029 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2020-03-26 13:11:46.577  INFO 16029 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2020-03-26 13:11:46.803  INFO 16029 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2020-03-26 13:11:47.412  INFO 16029 --- [main] b.a.s.AuthenticationManagerConfiguration : 

Using default security password: 672ab03f-8a76-4e9f-b45b-b21302d30c02

2020-03-26 13:11:47.493  INFO 16029 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/css/**'], Ant [pattern='/js/**'], Ant [pattern='/images/**'], Ant [pattern='/webjars/**'], Ant [pattern='/**/favicon.ico'], Ant [pattern='/error']]], []
2020-03-26 13:11:47.645  INFO 16029 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.boot.autoconfigure.security.SpringBootWebSecurityConfiguration$ApplicationNoWebSecurityConfigurerAdapter$1@7b67e60e, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bf1b075, org.springframework.security.web.context.SecurityContextPersistenceFilter@61729437, org.springframework.security.web.header.HeaderWriterFilter@64ce4b11, org.springframework.security.web.csrf.CsrfFilter@289faf63, org.springframework.security.web.authentication.logout.LogoutFilter@5e1c2cff, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5ca2a4f6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@fc35cc, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1d430022, org.springframework.security.web.session.SessionManagementFilter@33005ddd, org.springframework.security.web.access.ExceptionTranslationFilter@2378e4ba]
2020-03-26 13:11:48.216  INFO 16029 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 2147483647
2020-03-26 13:11:48.237  INFO 16029 --- [main] c.m.o.platform.persistence.CosmosDBTest  : Started CosmosDBTest in 22.081 seconds (JVM running for 23.284)
2020-03-26 13:15:45.630  WARN 16029 --- [main] c.m.a.d.internal.ServiceJNIWrapper       : 'Mac OS X' with 'x86_64' system is not compatible with native library. JNI not loaded.
2020-03-26 13:15:46.057  INFO 16029 --- [Thread-5] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@4cc547a: startup date [Thu Mar 26 13:11:26 CET 2020]; root of context hierarchy
2020-03-26 13:15:46.061  INFO 16029 --- [Thread-5] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 2147483647
2020-03-26 13:15:46.062  INFO 16029 --- [Thread-5] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 0
2020-03-26 13:15:46.075  INFO 16029 --- [Thread-5] c.m.azure.documentdb.DocumentClient      : Closing DocumentClient
2020-03-26 13:15:46.101  INFO 16029 --- [Thread-5] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'onesaitplatform'
2020-03-26 13:15:46.105  INFO 16029 --- [Thread-5] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'onesaitPlatform-masterdb'
2020-03-26 13:15:53.333  WARN 16091 --- [main] ory$DuplicateJsonObjectContextCustomizer : 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/javi/.m2/repository/org/json/json/20140107/json-20140107.jar!/org/json/JSONObject.class
	jar:file:/Users/javi/.m2/repository/com/vaadin/external/google/android-json/0.0.20131108.vaadin1/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behaviour

2020-03-26 13:15:53.352  INFO 16091 --- [main] c.m.o.platform.persistence.CosmosDBTest  : Starting CosmosDBTest on Javi with PID 16091 (started by javi in /Users/javi/openplatform/onesait-cloud/onesait-cloud-platform/sources/libraries/persistence/cosmosdb-impl)
2020-03-26 13:15:53.352  INFO 16091 --- [main] c.m.o.platform.persistence.CosmosDBTest  : No active profile set, falling back to default profiles: default
2020-03-26 13:15:53.398  INFO 16091 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@4cc547a: startup date [Thu Mar 26 13:15:53 CET 2020]; root of context hierarchy
2020-03-26 13:15:56.672  INFO 16091 --- [main] ptablePropertiesBeanFactoryPostProcessor : Post-processing PropertySource instances
2020-03-26 13:15:56.762  INFO 16091 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Inlined Test Properties [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
2020-03-26 13:15:56.764  INFO 16091 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemProperties [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
2020-03-26 13:15:56.764  INFO 16091 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemEnvironment [org.springframework.core.env.SystemEnvironmentPropertySource] to EncryptableMapPropertySourceWrapper
2020-03-26 13:15:56.765  INFO 16091 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource random [org.springframework.boot.context.config.RandomValuePropertySource] to EncryptablePropertySourceWrapper
2020-03-26 13:15:56.765  INFO 16091 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource applicationConfig: [classpath:/application.yml] [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
2020-03-26 13:15:56.812  INFO 16091 --- [main] f.a.AutowiredAnnotationBeanPostProcessor : JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2020-03-26 13:15:56.955  INFO 16091 --- [main] c.u.j.r.DefaultLazyPropertyResolver      : Property Resolver custom Bean not found with name 'encryptablePropertyResolver'. Initializing Default Property Resolver
2020-03-26 13:15:56.959  INFO 16091 --- [main] c.u.j.d.DefaultLazyPropertyDetector      : Property Detector custom Bean not found with name 'encryptablePropertyDetector'. Initializing Default Property Detector
2020-03-26 13:15:56.962  INFO 16091 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'tenant2SchemaMapper' of type [com.minsait.onesait.platform.multitenant.Tenant2SchemaMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-26 13:15:56.977  INFO 16091 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'configDBMasterConfig' of type [com.minsait.onesait.platform.config.ConfigDBMasterConfig$$EnhancerBySpringCGLIB$$c54f6980] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-26 13:15:56.985  INFO 16091 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded master PersistenceExceptionTranslationPostProcessor
2020-03-26 13:15:57.131  INFO 16091 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.kafka.annotation.KafkaBootstrapConfiguration' of type [org.springframework.kafka.annotation.KafkaBootstrapConfiguration$$EnhancerBySpringCGLIB$$ec4191ea] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-26 13:15:57.581  INFO 16091 --- [main] c.u.j.encryptor.DefaultLazyEncryptor     : Found Custom Encryptor Bean org.jasypt.encryption.pbe.PooledPBEStringEncryptor@3b5da0b0 with name: jasyptStringEncryptor
2020-03-26 13:15:57.886  INFO 16091 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : DatasourceProperties: org.apache.tomcat.jdbc.pool.DataSource@ff4b223{ConnectionPool[defaultAutoCommit=null; defaultReadOnly=null; defaultTransactionIsolation=-1; defaultCatalog=null; driverClassName=com.mysql.jdbc.Driver; maxActive=2; maxIdle=2; minIdle=1; initialSize=1; maxWait=10000; testOnBorrow=true; testOnReturn=false; timeBetweenEvictionRunsMillis=5000; numTestsPerEvictionRun=0; minEvictableIdleTimeMillis=60000; testWhileIdle=true; testOnConnect=false; password=********; url=jdbc:mysql://localhost:3306/onesaitplatform_master_config?useUnicode=true&characterEncoding=UTF-8&allowMultiQueries=true&useSSL=false&autoReconnect=true; username=root; validationQuery=SELECT 1; validationQueryTimeout=-1; validatorClassName=null; validationInterval=3000; accessToUnderlyingConnectionAllowed=true; removeAbandoned=true; removeAbandonedTimeout=60; logAbandoned=false; connectionProperties=null; initSQL=null; jdbcInterceptors=null; jmxEnabled=true; fairQueue=true; useEquals=true; abandonWhenPercentageFull=0; maxAge=0; useLock=false; dataSource=null; dataSourceJNDI=null; suspectTimeout=0; alternateUsernameAllowed=false; commitOnReturn=false; rollbackOnReturn=false; useDisposableConnectionFacade=true; logValidationErrors=false; propagateInterruptState=false; ignoreExceptionOnPreLoad=false; useStatementFacade=true; }
2020-03-26 13:15:58.008  INFO 16091 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'onesaitPlatform-masterdb'
2020-03-26 13:15:58.031  INFO 16091 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: onesaitPlatform-masterdb
	...]
2020-03-26 13:15:58.243  INFO 16091 --- [main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.0.12.Final}
2020-03-26 13:15:58.248  INFO 16091 --- [main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2020-03-26 13:15:58.250  INFO 16091 --- [main] org.hibernate.cfg.Environment            : HHH000021: Bytecode provider name : javassist
2020-03-26 13:15:58.327  INFO 16091 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2020-03-26 13:15:58.871  INFO 16091 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5InnoDBDialect
2020-03-26 13:15:59.837  INFO 16091 --- [main] o.h.tool.hbm2ddl.SchemaValidator         : HHH000229: Running schema validator
2020-03-26 13:16:00.279  INFO 16091 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'onesaitPlatform-masterdb'
2020-03-26 13:16:01.386  INFO 16091 --- [main] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2020-03-26 13:16:01.941  INFO 16091 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded tenant multiTenantConnectionProvider
2020-03-26 13:16:01.966  INFO 16091 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded tenant currentTenantIdentifierResolver
2020-03-26 13:16:01.975  INFO 16091 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : tenantEntityManagerFactory setting up!
2020-03-26 13:16:01.976  INFO 16091 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded tenant jpaVendorAdapter
2020-03-26 13:16:01.989  INFO 16091 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : tenantEntityManagerFactory set up successfully!
2020-03-26 13:16:02.385  INFO 16091 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'onesaitplatform'
2020-03-26 13:16:02.387  INFO 16091 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: onesaitplatform
	...]
2020-03-26 13:16:02.484  INFO 16091 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded master transaction manager
2020-03-26 13:16:03.010  INFO 16091 --- [main] c.m.o.p.multitenant.util.DataSourceUtil  : Registering tenant datasource org.apache.tomcat.jdbc.pool.DataSource@a904e64{ConnectionPool[defaultAutoCommit=null; defaultReadOnly=null; defaultTransactionIsolation=-1; defaultCatalog=null; driverClassName=com.mysql.jdbc.Driver; maxActive=30; maxIdle=5; minIdle=5; initialSize=10; maxWait=10000; testOnBorrow=true; testOnReturn=false; timeBetweenEvictionRunsMillis=5000; numTestsPerEvictionRun=0; minEvictableIdleTimeMillis=6000; testWhileIdle=true; testOnConnect=false; password=********; url=jdbc:mysql://localhost:3306/onesaitplatform_config?useUnicode=true&characterEncoding=UTF-8&allowMultiQueries=true&useSSL=false&autoReconnect=true; username=root; validationQuery=SELECT 1; validationQueryTimeout=-1; validatorClassName=null; validationInterval=3000; accessToUnderlyingConnectionAllowed=true; removeAbandoned=true; removeAbandonedTimeout=60; logAbandoned=false; connectionProperties=null; initSQL=null; jdbcInterceptors=null; jmxEnabled=true; fairQueue=true; useEquals=true; abandonWhenPercentageFull=0; maxAge=0; useLock=false; dataSource=null; dataSourceJNDI=null; suspectTimeout=0; alternateUsernameAllowed=false; commitOnReturn=false; rollbackOnReturn=false; useDisposableConnectionFacade=true; logValidationErrors=false; propagateInterruptState=false; ignoreExceptionOnPreLoad=false; useStatementFacade=true; }
2020-03-26 13:16:03.257  INFO 16091 --- [main] c.m.o.p.multitenant.util.DataSourceUtil  : Registering tenant datasource org.apache.tomcat.jdbc.pool.DataSource@22d23c27{ConnectionPool[defaultAutoCommit=null; defaultReadOnly=null; defaultTransactionIsolation=-1; defaultCatalog=null; driverClassName=com.mysql.jdbc.Driver; maxActive=30; maxIdle=5; minIdle=5; initialSize=10; maxWait=10000; testOnBorrow=true; testOnReturn=false; timeBetweenEvictionRunsMillis=5000; numTestsPerEvictionRun=0; minEvictableIdleTimeMillis=6000; testWhileIdle=true; testOnConnect=false; password=********; url=jdbc:mysql://localhost:3306/onesaitplatform_config?useUnicode=true&characterEncoding=UTF-8&allowMultiQueries=true&useSSL=false&autoReconnect=true; username=root; validationQuery=SELECT 1; validationQueryTimeout=-1; validatorClassName=null; validationInterval=3000; accessToUnderlyingConnectionAllowed=true; removeAbandoned=true; removeAbandonedTimeout=60; logAbandoned=false; connectionProperties=null; initSQL=null; jdbcInterceptors=null; jmxEnabled=true; fairQueue=true; useEquals=true; abandonWhenPercentageFull=0; maxAge=0; useLock=false; dataSource=null; dataSourceJNDI=null; suspectTimeout=0; alternateUsernameAllowed=false; commitOnReturn=false; rollbackOnReturn=false; useDisposableConnectionFacade=true; logValidationErrors=false; propagateInterruptState=false; ignoreExceptionOnPreLoad=false; useStatementFacade=true; }
2020-03-26 13:16:03.310  INFO 16091 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5InnoDBDialect
2020-03-26 13:16:05.033  INFO 16091 --- [main] o.h.tool.hbm2ddl.SchemaValidator         : HHH000229: Running schema validator
2020-03-26 13:16:05.177  INFO 16091 --- [main] c.m.o.p.multitenant.util.DataSourceUtil  : Registering tenant datasource org.apache.tomcat.jdbc.pool.DataSource@32b03ec1{ConnectionPool[defaultAutoCommit=null; defaultReadOnly=null; defaultTransactionIsolation=-1; defaultCatalog=null; driverClassName=com.mysql.jdbc.Driver; maxActive=30; maxIdle=5; minIdle=5; initialSize=10; maxWait=10000; testOnBorrow=true; testOnReturn=false; timeBetweenEvictionRunsMillis=5000; numTestsPerEvictionRun=0; minEvictableIdleTimeMillis=6000; testWhileIdle=true; testOnConnect=false; password=********; url=jdbc:mysql://localhost:3306/onesaitplatform_config?useUnicode=true&characterEncoding=UTF-8&allowMultiQueries=true&useSSL=false&autoReconnect=true; username=root; validationQuery=SELECT 1; validationQueryTimeout=-1; validatorClassName=null; validationInterval=3000; accessToUnderlyingConnectionAllowed=true; removeAbandoned=true; removeAbandonedTimeout=60; logAbandoned=false; connectionProperties=null; initSQL=null; jdbcInterceptors=null; jmxEnabled=true; fairQueue=true; useEquals=true; abandonWhenPercentageFull=0; maxAge=0; useLock=false; dataSource=null; dataSourceJNDI=null; suspectTimeout=0; alternateUsernameAllowed=false; commitOnReturn=false; rollbackOnReturn=false; useDisposableConnectionFacade=true; logValidationErrors=false; propagateInterruptState=false; ignoreExceptionOnPreLoad=false; useStatementFacade=true; }
2020-03-26 13:16:08.714  INFO 16091 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'onesaitplatform'
2020-03-26 13:16:08.910  INFO 16091 --- [main] c.m.azure.documentdb.DocumentClient      : Initializing DocumentClient with serviceEndpoint [https://onesait-test.documents.azure.com:443/], ConnectionPolicy [ConnectionPolicy [requestTimeout=60, directRequestTimeout5, mediaRequestTimeout=300, connectionMode=Gateway, mediaReadMode=Buffered, maxPoolSize=1200, idleConnectionTimeout=60, userAgentSuffix=, retryOptions=com.microsoft.azure.documentdb.RetryOptions@1d215a52, enableEndpointDiscovery=true, preferredLocations=null, usingMultipleWriteLocations=false, handleServiceUnavailableFromProxy=false]], ConsistencyLevel [Eventual]
2020-03-26 13:16:10.115  INFO 16091 --- [main] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2020-03-26 13:16:11.161  INFO 16091 --- [main] c.m.o.p.commons.kafka.KafkaService       : Kafka configuration with no security applied
2020-03-26 13:16:14.629  INFO 16091 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded tenant transactionManager
2020-03-26 13:16:16.462  INFO 16091 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@4cc547a: startup date [Thu Mar 26 13:15:53 CET 2020]; root of context hierarchy
2020-03-26 13:16:16.620  INFO 16091 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2020-03-26 13:16:16.622  INFO 16091 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2020-03-26 13:16:16.751  INFO 16091 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2020-03-26 13:16:16.751  INFO 16091 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2020-03-26 13:16:16.849  INFO 16091 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2020-03-26 13:16:17.449  INFO 16091 --- [main] b.a.s.AuthenticationManagerConfiguration : 

Using default security password: 550a46e8-f675-435f-a4e3-de63dc19d393

2020-03-26 13:16:17.560  INFO 16091 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/css/**'], Ant [pattern='/js/**'], Ant [pattern='/images/**'], Ant [pattern='/webjars/**'], Ant [pattern='/**/favicon.ico'], Ant [pattern='/error']]], []
2020-03-26 13:16:17.772  INFO 16091 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.boot.autoconfigure.security.SpringBootWebSecurityConfiguration$ApplicationNoWebSecurityConfigurerAdapter$1@51338b5, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@f20f100, org.springframework.security.web.context.SecurityContextPersistenceFilter@21ee9923, org.springframework.security.web.header.HeaderWriterFilter@68ebc1ed, org.springframework.security.web.csrf.CsrfFilter@587f24d8, org.springframework.security.web.authentication.logout.LogoutFilter@6c54c79b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6d01f471, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3729ec11, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2f3f10a9, org.springframework.security.web.session.SessionManagementFilter@752b6893, org.springframework.security.web.access.ExceptionTranslationFilter@210e90fc]
2020-03-26 13:16:18.565  INFO 16091 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 2147483647
2020-03-26 13:16:18.596  INFO 16091 --- [main] c.m.o.platform.persistence.CosmosDBTest  : Started CosmosDBTest in 25.708 seconds (JVM running for 26.83)
2020-03-26 13:17:53.758  WARN 16091 --- [main] c.m.a.d.internal.ServiceJNIWrapper       : 'Mac OS X' with 'x86_64' system is not compatible with native library. JNI not loaded.
2020-03-26 13:17:54.145  INFO 16091 --- [Thread-5] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@4cc547a: startup date [Thu Mar 26 13:15:53 CET 2020]; root of context hierarchy
2020-03-26 13:17:54.148  INFO 16091 --- [Thread-5] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 2147483647
2020-03-26 13:17:54.148  INFO 16091 --- [Thread-5] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 0
2020-03-26 13:17:54.163  INFO 16091 --- [Thread-5] c.m.azure.documentdb.DocumentClient      : Closing DocumentClient
2020-03-26 13:17:54.190  INFO 16091 --- [Thread-5] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'onesaitplatform'
2020-03-26 13:17:54.193  INFO 16091 --- [Thread-5] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'onesaitPlatform-masterdb'
2020-03-26 13:29:11.043  WARN 16459 --- [main] ory$DuplicateJsonObjectContextCustomizer : 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/javi/.m2/repository/org/json/json/20140107/json-20140107.jar!/org/json/JSONObject.class
	jar:file:/Users/javi/.m2/repository/com/vaadin/external/google/android-json/0.0.20131108.vaadin1/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behaviour

2020-03-26 13:29:11.063  INFO 16459 --- [main] c.m.o.platform.persistence.CosmosDBTest  : Starting CosmosDBTest on Javi with PID 16459 (started by javi in /Users/javi/openplatform/onesait-cloud/onesait-cloud-platform/sources/libraries/persistence/cosmosdb-impl)
2020-03-26 13:29:11.064  INFO 16459 --- [main] c.m.o.platform.persistence.CosmosDBTest  : No active profile set, falling back to default profiles: default
2020-03-26 13:29:11.110  INFO 16459 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@4cc547a: startup date [Thu Mar 26 13:29:11 CET 2020]; root of context hierarchy
2020-03-26 13:29:14.525  INFO 16459 --- [main] ptablePropertiesBeanFactoryPostProcessor : Post-processing PropertySource instances
2020-03-26 13:29:14.607  INFO 16459 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Inlined Test Properties [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
2020-03-26 13:29:14.609  INFO 16459 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemProperties [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
2020-03-26 13:29:14.609  INFO 16459 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemEnvironment [org.springframework.core.env.SystemEnvironmentPropertySource] to EncryptableMapPropertySourceWrapper
2020-03-26 13:29:14.610  INFO 16459 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource random [org.springframework.boot.context.config.RandomValuePropertySource] to EncryptablePropertySourceWrapper
2020-03-26 13:29:14.610  INFO 16459 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource applicationConfig: [classpath:/application.yml] [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
2020-03-26 13:29:14.654  INFO 16459 --- [main] f.a.AutowiredAnnotationBeanPostProcessor : JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2020-03-26 13:29:14.752  INFO 16459 --- [main] c.u.j.r.DefaultLazyPropertyResolver      : Property Resolver custom Bean not found with name 'encryptablePropertyResolver'. Initializing Default Property Resolver
2020-03-26 13:29:14.757  INFO 16459 --- [main] c.u.j.d.DefaultLazyPropertyDetector      : Property Detector custom Bean not found with name 'encryptablePropertyDetector'. Initializing Default Property Detector
2020-03-26 13:29:14.758  INFO 16459 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'tenant2SchemaMapper' of type [com.minsait.onesait.platform.multitenant.Tenant2SchemaMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-26 13:29:14.770  INFO 16459 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'configDBMasterConfig' of type [com.minsait.onesait.platform.config.ConfigDBMasterConfig$$EnhancerBySpringCGLIB$$e84d8688] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-26 13:29:14.777  INFO 16459 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded master PersistenceExceptionTranslationPostProcessor
2020-03-26 13:29:14.938  INFO 16459 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.kafka.annotation.KafkaBootstrapConfiguration' of type [org.springframework.kafka.annotation.KafkaBootstrapConfiguration$$EnhancerBySpringCGLIB$$f3faef2] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-26 13:29:15.422  INFO 16459 --- [main] c.u.j.encryptor.DefaultLazyEncryptor     : Found Custom Encryptor Bean org.jasypt.encryption.pbe.PooledPBEStringEncryptor@e881e46 with name: jasyptStringEncryptor
2020-03-26 13:29:15.684  INFO 16459 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : DatasourceProperties: org.apache.tomcat.jdbc.pool.DataSource@15e5246{ConnectionPool[defaultAutoCommit=null; defaultReadOnly=null; defaultTransactionIsolation=-1; defaultCatalog=null; driverClassName=com.mysql.jdbc.Driver; maxActive=2; maxIdle=2; minIdle=1; initialSize=1; maxWait=10000; testOnBorrow=true; testOnReturn=false; timeBetweenEvictionRunsMillis=5000; numTestsPerEvictionRun=0; minEvictableIdleTimeMillis=60000; testWhileIdle=true; testOnConnect=false; password=********; url=jdbc:mysql://localhost:3306/onesaitplatform_master_config?useUnicode=true&characterEncoding=UTF-8&allowMultiQueries=true&useSSL=false&autoReconnect=true; username=root; validationQuery=SELECT 1; validationQueryTimeout=-1; validatorClassName=null; validationInterval=3000; accessToUnderlyingConnectionAllowed=true; removeAbandoned=true; removeAbandonedTimeout=60; logAbandoned=false; connectionProperties=null; initSQL=null; jdbcInterceptors=null; jmxEnabled=true; fairQueue=true; useEquals=true; abandonWhenPercentageFull=0; maxAge=0; useLock=false; dataSource=null; dataSourceJNDI=null; suspectTimeout=0; alternateUsernameAllowed=false; commitOnReturn=false; rollbackOnReturn=false; useDisposableConnectionFacade=true; logValidationErrors=false; propagateInterruptState=false; ignoreExceptionOnPreLoad=false; useStatementFacade=true; }
2020-03-26 13:29:15.793  INFO 16459 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'onesaitPlatform-masterdb'
2020-03-26 13:29:15.817  INFO 16459 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: onesaitPlatform-masterdb
	...]
2020-03-26 13:29:16.034  INFO 16459 --- [main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.0.12.Final}
2020-03-26 13:29:16.037  INFO 16459 --- [main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2020-03-26 13:29:16.040  INFO 16459 --- [main] org.hibernate.cfg.Environment            : HHH000021: Bytecode provider name : javassist
2020-03-26 13:29:16.120  INFO 16459 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2020-03-26 13:29:16.599  INFO 16459 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5InnoDBDialect
2020-03-26 13:29:17.494  INFO 16459 --- [main] o.h.tool.hbm2ddl.SchemaValidator         : HHH000229: Running schema validator
2020-03-26 13:29:17.904  INFO 16459 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'onesaitPlatform-masterdb'
2020-03-26 13:29:18.516  INFO 16459 --- [main] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2020-03-26 13:29:18.806  INFO 16459 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded tenant multiTenantConnectionProvider
2020-03-26 13:29:18.819  INFO 16459 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded tenant currentTenantIdentifierResolver
2020-03-26 13:29:18.824  INFO 16459 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : tenantEntityManagerFactory setting up!
2020-03-26 13:29:18.825  INFO 16459 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded tenant jpaVendorAdapter
2020-03-26 13:29:18.832  INFO 16459 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : tenantEntityManagerFactory set up successfully!
2020-03-26 13:29:18.962  INFO 16459 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'onesaitplatform'
2020-03-26 13:29:18.962  INFO 16459 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: onesaitplatform
	...]
2020-03-26 13:29:18.999  INFO 16459 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded master transaction manager
2020-03-26 13:29:19.273  INFO 16459 --- [main] c.m.o.p.multitenant.util.DataSourceUtil  : Registering tenant datasource org.apache.tomcat.jdbc.pool.DataSource@655d5285{ConnectionPool[defaultAutoCommit=null; defaultReadOnly=null; defaultTransactionIsolation=-1; defaultCatalog=null; driverClassName=com.mysql.jdbc.Driver; maxActive=30; maxIdle=5; minIdle=5; initialSize=10; maxWait=10000; testOnBorrow=true; testOnReturn=false; timeBetweenEvictionRunsMillis=5000; numTestsPerEvictionRun=0; minEvictableIdleTimeMillis=6000; testWhileIdle=true; testOnConnect=false; password=********; url=jdbc:mysql://localhost:3306/onesaitplatform_config?useUnicode=true&characterEncoding=UTF-8&allowMultiQueries=true&useSSL=false&autoReconnect=true; username=root; validationQuery=SELECT 1; validationQueryTimeout=-1; validatorClassName=null; validationInterval=3000; accessToUnderlyingConnectionAllowed=true; removeAbandoned=true; removeAbandonedTimeout=60; logAbandoned=false; connectionProperties=null; initSQL=null; jdbcInterceptors=null; jmxEnabled=true; fairQueue=true; useEquals=true; abandonWhenPercentageFull=0; maxAge=0; useLock=false; dataSource=null; dataSourceJNDI=null; suspectTimeout=0; alternateUsernameAllowed=false; commitOnReturn=false; rollbackOnReturn=false; useDisposableConnectionFacade=true; logValidationErrors=false; propagateInterruptState=false; ignoreExceptionOnPreLoad=false; useStatementFacade=true; }
2020-03-26 13:29:19.370  INFO 16459 --- [main] c.m.o.p.multitenant.util.DataSourceUtil  : Registering tenant datasource org.apache.tomcat.jdbc.pool.DataSource@36f1bd7e{ConnectionPool[defaultAutoCommit=null; defaultReadOnly=null; defaultTransactionIsolation=-1; defaultCatalog=null; driverClassName=com.mysql.jdbc.Driver; maxActive=30; maxIdle=5; minIdle=5; initialSize=10; maxWait=10000; testOnBorrow=true; testOnReturn=false; timeBetweenEvictionRunsMillis=5000; numTestsPerEvictionRun=0; minEvictableIdleTimeMillis=6000; testWhileIdle=true; testOnConnect=false; password=********; url=jdbc:mysql://localhost:3306/onesaitplatform_config?useUnicode=true&characterEncoding=UTF-8&allowMultiQueries=true&useSSL=false&autoReconnect=true; username=root; validationQuery=SELECT 1; validationQueryTimeout=-1; validatorClassName=null; validationInterval=3000; accessToUnderlyingConnectionAllowed=true; removeAbandoned=true; removeAbandonedTimeout=60; logAbandoned=false; connectionProperties=null; initSQL=null; jdbcInterceptors=null; jmxEnabled=true; fairQueue=true; useEquals=true; abandonWhenPercentageFull=0; maxAge=0; useLock=false; dataSource=null; dataSourceJNDI=null; suspectTimeout=0; alternateUsernameAllowed=false; commitOnReturn=false; rollbackOnReturn=false; useDisposableConnectionFacade=true; logValidationErrors=false; propagateInterruptState=false; ignoreExceptionOnPreLoad=false; useStatementFacade=true; }
2020-03-26 13:29:19.409  INFO 16459 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5InnoDBDialect
2020-03-26 13:29:20.545  INFO 16459 --- [main] o.h.tool.hbm2ddl.SchemaValidator         : HHH000229: Running schema validator
2020-03-26 13:29:20.648  INFO 16459 --- [main] c.m.o.p.multitenant.util.DataSourceUtil  : Registering tenant datasource org.apache.tomcat.jdbc.pool.DataSource@1c4493c6{ConnectionPool[defaultAutoCommit=null; defaultReadOnly=null; defaultTransactionIsolation=-1; defaultCatalog=null; driverClassName=com.mysql.jdbc.Driver; maxActive=30; maxIdle=5; minIdle=5; initialSize=10; maxWait=10000; testOnBorrow=true; testOnReturn=false; timeBetweenEvictionRunsMillis=5000; numTestsPerEvictionRun=0; minEvictableIdleTimeMillis=6000; testWhileIdle=true; testOnConnect=false; password=********; url=jdbc:mysql://localhost:3306/onesaitplatform_config?useUnicode=true&characterEncoding=UTF-8&allowMultiQueries=true&useSSL=false&autoReconnect=true; username=root; validationQuery=SELECT 1; validationQueryTimeout=-1; validatorClassName=null; validationInterval=3000; accessToUnderlyingConnectionAllowed=true; removeAbandoned=true; removeAbandonedTimeout=60; logAbandoned=false; connectionProperties=null; initSQL=null; jdbcInterceptors=null; jmxEnabled=true; fairQueue=true; useEquals=true; abandonWhenPercentageFull=0; maxAge=0; useLock=false; dataSource=null; dataSourceJNDI=null; suspectTimeout=0; alternateUsernameAllowed=false; commitOnReturn=false; rollbackOnReturn=false; useDisposableConnectionFacade=true; logValidationErrors=false; propagateInterruptState=false; ignoreExceptionOnPreLoad=false; useStatementFacade=true; }
2020-03-26 13:29:23.103  INFO 16459 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'onesaitplatform'
2020-03-26 13:29:23.180  INFO 16459 --- [main] c.m.azure.documentdb.DocumentClient      : Initializing DocumentClient with serviceEndpoint [https://onesait-test.documents.azure.com:443/], ConnectionPolicy [ConnectionPolicy [requestTimeout=60, directRequestTimeout5, mediaRequestTimeout=300, connectionMode=Gateway, mediaReadMode=Buffered, maxPoolSize=1200, idleConnectionTimeout=60, userAgentSuffix=, retryOptions=com.microsoft.azure.documentdb.RetryOptions@504d9fd1, enableEndpointDiscovery=true, preferredLocations=null, usingMultipleWriteLocations=false, handleServiceUnavailableFromProxy=false]], ConsistencyLevel [Eventual]
2020-03-26 13:29:24.066  INFO 16459 --- [main] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2020-03-26 13:29:24.663  INFO 16459 --- [main] c.m.o.p.commons.kafka.KafkaService       : Kafka configuration with no security applied
2020-03-26 13:29:27.834  INFO 16459 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded tenant transactionManager
2020-03-26 13:29:29.459  INFO 16459 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@4cc547a: startup date [Thu Mar 26 13:29:11 CET 2020]; root of context hierarchy
2020-03-26 13:29:29.616  INFO 16459 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2020-03-26 13:29:29.618  INFO 16459 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2020-03-26 13:29:29.715  INFO 16459 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2020-03-26 13:29:29.716  INFO 16459 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2020-03-26 13:29:29.877  INFO 16459 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2020-03-26 13:29:30.520  INFO 16459 --- [main] b.a.s.AuthenticationManagerConfiguration : 

Using default security password: 6a4deba0-024d-4ff1-9955-a9b1b07d0802

2020-03-26 13:29:30.597  INFO 16459 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/css/**'], Ant [pattern='/js/**'], Ant [pattern='/images/**'], Ant [pattern='/webjars/**'], Ant [pattern='/**/favicon.ico'], Ant [pattern='/error']]], []
2020-03-26 13:29:30.722  INFO 16459 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.boot.autoconfigure.security.SpringBootWebSecurityConfiguration$ApplicationNoWebSecurityConfigurerAdapter$1@7772f15d, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@40589959, org.springframework.security.web.context.SecurityContextPersistenceFilter@54155e6e, org.springframework.security.web.header.HeaderWriterFilter@6b0fc76b, org.springframework.security.web.csrf.CsrfFilter@727aec08, org.springframework.security.web.authentication.logout.LogoutFilter@2319092a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5707d11f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@532887bc, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3887bf5b, org.springframework.security.web.session.SessionManagementFilter@6d88bb5, org.springframework.security.web.access.ExceptionTranslationFilter@e1bfdc3]
2020-03-26 13:29:31.253  INFO 16459 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 2147483647
2020-03-26 13:29:31.272  INFO 16459 --- [main] c.m.o.platform.persistence.CosmosDBTest  : Started CosmosDBTest in 20.608 seconds (JVM running for 21.79)
2020-03-26 13:30:04.214  WARN 16459 --- [main] c.m.a.d.internal.ServiceJNIWrapper       : 'Mac OS X' with 'x86_64' system is not compatible with native library. JNI not loaded.
2020-03-26 13:30:04.538  INFO 16459 --- [Thread-5] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@4cc547a: startup date [Thu Mar 26 13:29:11 CET 2020]; root of context hierarchy
2020-03-26 13:30:04.541  INFO 16459 --- [Thread-5] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 2147483647
2020-03-26 13:30:04.541  INFO 16459 --- [Thread-5] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 0
2020-03-26 13:30:04.554  INFO 16459 --- [Thread-5] c.m.azure.documentdb.DocumentClient      : Closing DocumentClient
2020-03-26 13:30:04.579  INFO 16459 --- [Thread-5] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'onesaitplatform'
2020-03-26 13:30:04.582  INFO 16459 --- [Thread-5] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'onesaitPlatform-masterdb'
2020-03-26 13:33:25.766  WARN 16523 --- [main] ory$DuplicateJsonObjectContextCustomizer : 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/javi/.m2/repository/org/json/json/20140107/json-20140107.jar!/org/json/JSONObject.class
	jar:file:/Users/javi/.m2/repository/com/vaadin/external/google/android-json/0.0.20131108.vaadin1/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behaviour

2020-03-26 13:33:25.785  INFO 16523 --- [main] c.m.o.platform.persistence.CosmosDBTest  : Starting CosmosDBTest on Javi with PID 16523 (started by javi in /Users/javi/openplatform/onesait-cloud/onesait-cloud-platform/sources/libraries/persistence/cosmosdb-impl)
2020-03-26 13:33:25.785  INFO 16523 --- [main] c.m.o.platform.persistence.CosmosDBTest  : No active profile set, falling back to default profiles: default
2020-03-26 13:33:25.821  INFO 16523 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@4cc547a: startup date [Thu Mar 26 13:33:25 CET 2020]; root of context hierarchy
2020-03-26 13:33:29.558  INFO 16523 --- [main] ptablePropertiesBeanFactoryPostProcessor : Post-processing PropertySource instances
2020-03-26 13:33:29.659  INFO 16523 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Inlined Test Properties [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
2020-03-26 13:33:29.662  INFO 16523 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemProperties [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
2020-03-26 13:33:29.662  INFO 16523 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemEnvironment [org.springframework.core.env.SystemEnvironmentPropertySource] to EncryptableMapPropertySourceWrapper
2020-03-26 13:33:29.663  INFO 16523 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource random [org.springframework.boot.context.config.RandomValuePropertySource] to EncryptablePropertySourceWrapper
2020-03-26 13:33:29.663  INFO 16523 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource applicationConfig: [classpath:/application.yml] [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
2020-03-26 13:33:29.730  INFO 16523 --- [main] f.a.AutowiredAnnotationBeanPostProcessor : JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2020-03-26 13:33:29.883  INFO 16523 --- [main] c.u.j.r.DefaultLazyPropertyResolver      : Property Resolver custom Bean not found with name 'encryptablePropertyResolver'. Initializing Default Property Resolver
2020-03-26 13:33:29.887  INFO 16523 --- [main] c.u.j.d.DefaultLazyPropertyDetector      : Property Detector custom Bean not found with name 'encryptablePropertyDetector'. Initializing Default Property Detector
2020-03-26 13:33:29.888  INFO 16523 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'tenant2SchemaMapper' of type [com.minsait.onesait.platform.multitenant.Tenant2SchemaMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-26 13:33:29.900  INFO 16523 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'configDBMasterConfig' of type [com.minsait.onesait.platform.config.ConfigDBMasterConfig$$EnhancerBySpringCGLIB$$d924165f] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-26 13:33:29.908  INFO 16523 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded master PersistenceExceptionTranslationPostProcessor
2020-03-26 13:33:30.033  INFO 16523 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.kafka.annotation.KafkaBootstrapConfiguration' of type [org.springframework.kafka.annotation.KafkaBootstrapConfiguration$$EnhancerBySpringCGLIB$$163ec9] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-26 13:33:30.500  INFO 16523 --- [main] c.u.j.encryptor.DefaultLazyEncryptor     : Found Custom Encryptor Bean org.jasypt.encryption.pbe.PooledPBEStringEncryptor@11574592 with name: jasyptStringEncryptor
2020-03-26 13:33:30.845  INFO 16523 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : DatasourceProperties: org.apache.tomcat.jdbc.pool.DataSource@144e36ae{ConnectionPool[defaultAutoCommit=null; defaultReadOnly=null; defaultTransactionIsolation=-1; defaultCatalog=null; driverClassName=com.mysql.jdbc.Driver; maxActive=2; maxIdle=2; minIdle=1; initialSize=1; maxWait=10000; testOnBorrow=true; testOnReturn=false; timeBetweenEvictionRunsMillis=5000; numTestsPerEvictionRun=0; minEvictableIdleTimeMillis=60000; testWhileIdle=true; testOnConnect=false; password=********; url=jdbc:mysql://localhost:3306/onesaitplatform_master_config?useUnicode=true&characterEncoding=UTF-8&allowMultiQueries=true&useSSL=false&autoReconnect=true; username=root; validationQuery=SELECT 1; validationQueryTimeout=-1; validatorClassName=null; validationInterval=3000; accessToUnderlyingConnectionAllowed=true; removeAbandoned=true; removeAbandonedTimeout=60; logAbandoned=false; connectionProperties=null; initSQL=null; jdbcInterceptors=null; jmxEnabled=true; fairQueue=true; useEquals=true; abandonWhenPercentageFull=0; maxAge=0; useLock=false; dataSource=null; dataSourceJNDI=null; suspectTimeout=0; alternateUsernameAllowed=false; commitOnReturn=false; rollbackOnReturn=false; useDisposableConnectionFacade=true; logValidationErrors=false; propagateInterruptState=false; ignoreExceptionOnPreLoad=false; useStatementFacade=true; }
2020-03-26 13:33:30.951  INFO 16523 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'onesaitPlatform-masterdb'
2020-03-26 13:33:30.974  INFO 16523 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: onesaitPlatform-masterdb
	...]
2020-03-26 13:33:31.170  INFO 16523 --- [main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.0.12.Final}
2020-03-26 13:33:31.174  INFO 16523 --- [main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2020-03-26 13:33:31.176  INFO 16523 --- [main] org.hibernate.cfg.Environment            : HHH000021: Bytecode provider name : javassist
2020-03-26 13:33:31.250  INFO 16523 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2020-03-26 13:33:31.746  INFO 16523 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5InnoDBDialect
2020-03-26 13:33:32.669  INFO 16523 --- [main] o.h.tool.hbm2ddl.SchemaValidator         : HHH000229: Running schema validator
2020-03-26 13:33:33.148  INFO 16523 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'onesaitPlatform-masterdb'
2020-03-26 13:33:33.846  INFO 16523 --- [main] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2020-03-26 13:33:34.176  INFO 16523 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded tenant multiTenantConnectionProvider
2020-03-26 13:33:34.190  INFO 16523 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded tenant currentTenantIdentifierResolver
2020-03-26 13:33:34.195  INFO 16523 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : tenantEntityManagerFactory setting up!
2020-03-26 13:33:34.195  INFO 16523 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded tenant jpaVendorAdapter
2020-03-26 13:33:34.203  INFO 16523 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : tenantEntityManagerFactory set up successfully!
2020-03-26 13:33:34.338  INFO 16523 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'onesaitplatform'
2020-03-26 13:33:34.338  INFO 16523 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: onesaitplatform
	...]
2020-03-26 13:33:34.376  INFO 16523 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded master transaction manager
2020-03-26 13:33:34.713  INFO 16523 --- [main] c.m.o.p.multitenant.util.DataSourceUtil  : Registering tenant datasource org.apache.tomcat.jdbc.pool.DataSource@2fccfcdb{ConnectionPool[defaultAutoCommit=null; defaultReadOnly=null; defaultTransactionIsolation=-1; defaultCatalog=null; driverClassName=com.mysql.jdbc.Driver; maxActive=30; maxIdle=5; minIdle=5; initialSize=10; maxWait=10000; testOnBorrow=true; testOnReturn=false; timeBetweenEvictionRunsMillis=5000; numTestsPerEvictionRun=0; minEvictableIdleTimeMillis=6000; testWhileIdle=true; testOnConnect=false; password=********; url=jdbc:mysql://localhost:3306/onesaitplatform_config?useUnicode=true&characterEncoding=UTF-8&allowMultiQueries=true&useSSL=false&autoReconnect=true; username=root; validationQuery=SELECT 1; validationQueryTimeout=-1; validatorClassName=null; validationInterval=3000; accessToUnderlyingConnectionAllowed=true; removeAbandoned=true; removeAbandonedTimeout=60; logAbandoned=false; connectionProperties=null; initSQL=null; jdbcInterceptors=null; jmxEnabled=true; fairQueue=true; useEquals=true; abandonWhenPercentageFull=0; maxAge=0; useLock=false; dataSource=null; dataSourceJNDI=null; suspectTimeout=0; alternateUsernameAllowed=false; commitOnReturn=false; rollbackOnReturn=false; useDisposableConnectionFacade=true; logValidationErrors=false; propagateInterruptState=false; ignoreExceptionOnPreLoad=false; useStatementFacade=true; }
2020-03-26 13:33:34.983  INFO 16523 --- [main] c.m.o.p.multitenant.util.DataSourceUtil  : Registering tenant datasource org.apache.tomcat.jdbc.pool.DataSource@6c04310f{ConnectionPool[defaultAutoCommit=null; defaultReadOnly=null; defaultTransactionIsolation=-1; defaultCatalog=null; driverClassName=com.mysql.jdbc.Driver; maxActive=30; maxIdle=5; minIdle=5; initialSize=10; maxWait=10000; testOnBorrow=true; testOnReturn=false; timeBetweenEvictionRunsMillis=5000; numTestsPerEvictionRun=0; minEvictableIdleTimeMillis=6000; testWhileIdle=true; testOnConnect=false; password=********; url=jdbc:mysql://localhost:3306/onesaitplatform_config?useUnicode=true&characterEncoding=UTF-8&allowMultiQueries=true&useSSL=false&autoReconnect=true; username=root; validationQuery=SELECT 1; validationQueryTimeout=-1; validatorClassName=null; validationInterval=3000; accessToUnderlyingConnectionAllowed=true; removeAbandoned=true; removeAbandonedTimeout=60; logAbandoned=false; connectionProperties=null; initSQL=null; jdbcInterceptors=null; jmxEnabled=true; fairQueue=true; useEquals=true; abandonWhenPercentageFull=0; maxAge=0; useLock=false; dataSource=null; dataSourceJNDI=null; suspectTimeout=0; alternateUsernameAllowed=false; commitOnReturn=false; rollbackOnReturn=false; useDisposableConnectionFacade=true; logValidationErrors=false; propagateInterruptState=false; ignoreExceptionOnPreLoad=false; useStatementFacade=true; }
2020-03-26 13:33:35.024  INFO 16523 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5InnoDBDialect
2020-03-26 13:33:36.253  INFO 16523 --- [main] o.h.tool.hbm2ddl.SchemaValidator         : HHH000229: Running schema validator
2020-03-26 13:33:36.375  INFO 16523 --- [main] c.m.o.p.multitenant.util.DataSourceUtil  : Registering tenant datasource org.apache.tomcat.jdbc.pool.DataSource@1f4d04be{ConnectionPool[defaultAutoCommit=null; defaultReadOnly=null; defaultTransactionIsolation=-1; defaultCatalog=null; driverClassName=com.mysql.jdbc.Driver; maxActive=30; maxIdle=5; minIdle=5; initialSize=10; maxWait=10000; testOnBorrow=true; testOnReturn=false; timeBetweenEvictionRunsMillis=5000; numTestsPerEvictionRun=0; minEvictableIdleTimeMillis=6000; testWhileIdle=true; testOnConnect=false; password=********; url=jdbc:mysql://localhost:3306/onesaitplatform_config?useUnicode=true&characterEncoding=UTF-8&allowMultiQueries=true&useSSL=false&autoReconnect=true; username=root; validationQuery=SELECT 1; validationQueryTimeout=-1; validatorClassName=null; validationInterval=3000; accessToUnderlyingConnectionAllowed=true; removeAbandoned=true; removeAbandonedTimeout=60; logAbandoned=false; connectionProperties=null; initSQL=null; jdbcInterceptors=null; jmxEnabled=true; fairQueue=true; useEquals=true; abandonWhenPercentageFull=0; maxAge=0; useLock=false; dataSource=null; dataSourceJNDI=null; suspectTimeout=0; alternateUsernameAllowed=false; commitOnReturn=false; rollbackOnReturn=false; useDisposableConnectionFacade=true; logValidationErrors=false; propagateInterruptState=false; ignoreExceptionOnPreLoad=false; useStatementFacade=true; }
2020-03-26 13:33:38.955  INFO 16523 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'onesaitplatform'
2020-03-26 13:33:39.031  INFO 16523 --- [main] c.m.azure.documentdb.DocumentClient      : Initializing DocumentClient with serviceEndpoint [https://onesait-test.documents.azure.com:443/], ConnectionPolicy [ConnectionPolicy [requestTimeout=60, directRequestTimeout5, mediaRequestTimeout=300, connectionMode=Gateway, mediaReadMode=Buffered, maxPoolSize=1200, idleConnectionTimeout=60, userAgentSuffix=, retryOptions=com.microsoft.azure.documentdb.RetryOptions@46b9a780, enableEndpointDiscovery=true, preferredLocations=null, usingMultipleWriteLocations=false, handleServiceUnavailableFromProxy=false]], ConsistencyLevel [Eventual]
2020-03-26 13:33:39.927  INFO 16523 --- [main] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2020-03-26 13:33:40.547  INFO 16523 --- [main] c.m.o.p.commons.kafka.KafkaService       : Kafka configuration with no security applied
2020-03-26 13:33:43.884  INFO 16523 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded tenant transactionManager
2020-03-26 13:33:45.712  INFO 16523 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@4cc547a: startup date [Thu Mar 26 13:33:25 CET 2020]; root of context hierarchy
2020-03-26 13:33:45.854  INFO 16523 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2020-03-26 13:33:45.856  INFO 16523 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2020-03-26 13:33:45.938  INFO 16523 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2020-03-26 13:33:45.939  INFO 16523 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2020-03-26 13:33:46.049  INFO 16523 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2020-03-26 13:33:46.723  INFO 16523 --- [main] b.a.s.AuthenticationManagerConfiguration : 

Using default security password: 297c9f6a-b631-4889-a2b2-1078c16f71ae

2020-03-26 13:33:46.798  INFO 16523 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/css/**'], Ant [pattern='/js/**'], Ant [pattern='/images/**'], Ant [pattern='/webjars/**'], Ant [pattern='/**/favicon.ico'], Ant [pattern='/error']]], []
2020-03-26 13:33:46.926  INFO 16523 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.boot.autoconfigure.security.SpringBootWebSecurityConfiguration$ApplicationNoWebSecurityConfigurerAdapter$1@2c984bb6, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@104ab57b, org.springframework.security.web.context.SecurityContextPersistenceFilter@253a891e, org.springframework.security.web.header.HeaderWriterFilter@6c3bfd66, org.springframework.security.web.csrf.CsrfFilter@4c06f69f, org.springframework.security.web.authentication.logout.LogoutFilter@3b4004cd, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1dd3e865, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@152f6cb1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5ef60f95, org.springframework.security.web.session.SessionManagementFilter@a58f9a6, org.springframework.security.web.access.ExceptionTranslationFilter@6a5754f5]
2020-03-26 13:33:47.519  INFO 16523 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 2147483647
2020-03-26 13:33:47.540  INFO 16523 --- [main] c.m.o.platform.persistence.CosmosDBTest  : Started CosmosDBTest in 22.163 seconds (JVM running for 23.178)
2020-03-26 13:34:34.661  WARN 16523 --- [main] c.m.a.d.internal.ServiceJNIWrapper       : 'Mac OS X' with 'x86_64' system is not compatible with native library. JNI not loaded.
2020-03-26 13:34:41.216  INFO 16523 --- [Thread-5] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@4cc547a: startup date [Thu Mar 26 13:33:25 CET 2020]; root of context hierarchy
2020-03-26 13:34:41.219  INFO 16523 --- [Thread-5] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 2147483647
2020-03-26 13:34:41.220  INFO 16523 --- [Thread-5] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 0
2020-03-26 13:34:41.236  INFO 16523 --- [Thread-5] c.m.azure.documentdb.DocumentClient      : Closing DocumentClient
2020-03-26 13:34:41.261  INFO 16523 --- [Thread-5] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'onesaitplatform'
2020-03-26 13:34:41.263  INFO 16523 --- [Thread-5] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'onesaitPlatform-masterdb'
2020-03-26 13:35:34.402  WARN 16554 --- [main] ory$DuplicateJsonObjectContextCustomizer : 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/javi/.m2/repository/org/json/json/20140107/json-20140107.jar!/org/json/JSONObject.class
	jar:file:/Users/javi/.m2/repository/com/vaadin/external/google/android-json/0.0.20131108.vaadin1/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behaviour

2020-03-26 13:35:34.429  INFO 16554 --- [main] c.m.o.platform.persistence.CosmosDBTest  : Starting CosmosDBTest on Javi with PID 16554 (started by javi in /Users/javi/openplatform/onesait-cloud/onesait-cloud-platform/sources/libraries/persistence/cosmosdb-impl)
2020-03-26 13:35:34.429  INFO 16554 --- [main] c.m.o.platform.persistence.CosmosDBTest  : No active profile set, falling back to default profiles: default
2020-03-26 13:35:34.470  INFO 16554 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@4cc547a: startup date [Thu Mar 26 13:35:34 CET 2020]; root of context hierarchy
2020-03-26 13:35:38.054  INFO 16554 --- [main] ptablePropertiesBeanFactoryPostProcessor : Post-processing PropertySource instances
2020-03-26 13:35:38.137  INFO 16554 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Inlined Test Properties [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
2020-03-26 13:35:38.140  INFO 16554 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemProperties [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
2020-03-26 13:35:38.140  INFO 16554 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemEnvironment [org.springframework.core.env.SystemEnvironmentPropertySource] to EncryptableMapPropertySourceWrapper
2020-03-26 13:35:38.141  INFO 16554 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource random [org.springframework.boot.context.config.RandomValuePropertySource] to EncryptablePropertySourceWrapper
2020-03-26 13:35:38.141  INFO 16554 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource applicationConfig: [classpath:/application.yml] [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
2020-03-26 13:35:38.187  INFO 16554 --- [main] f.a.AutowiredAnnotationBeanPostProcessor : JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2020-03-26 13:35:38.304  INFO 16554 --- [main] c.u.j.r.DefaultLazyPropertyResolver      : Property Resolver custom Bean not found with name 'encryptablePropertyResolver'. Initializing Default Property Resolver
2020-03-26 13:35:38.308  INFO 16554 --- [main] c.u.j.d.DefaultLazyPropertyDetector      : Property Detector custom Bean not found with name 'encryptablePropertyDetector'. Initializing Default Property Detector
2020-03-26 13:35:38.309  INFO 16554 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'tenant2SchemaMapper' of type [com.minsait.onesait.platform.multitenant.Tenant2SchemaMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-26 13:35:38.319  INFO 16554 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'configDBMasterConfig' of type [com.minsait.onesait.platform.config.ConfigDBMasterConfig$$EnhancerBySpringCGLIB$$68c1c235] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-26 13:35:38.325  INFO 16554 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded master PersistenceExceptionTranslationPostProcessor
2020-03-26 13:35:38.492  INFO 16554 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.kafka.annotation.KafkaBootstrapConfiguration' of type [org.springframework.kafka.annotation.KafkaBootstrapConfiguration$$EnhancerBySpringCGLIB$$8fb3ea9f] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-26 13:35:38.969  INFO 16554 --- [main] c.u.j.encryptor.DefaultLazyEncryptor     : Found Custom Encryptor Bean org.jasypt.encryption.pbe.PooledPBEStringEncryptor@45297e7 with name: jasyptStringEncryptor
2020-03-26 13:35:39.263  INFO 16554 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : DatasourceProperties: org.apache.tomcat.jdbc.pool.DataSource@402a69f{ConnectionPool[defaultAutoCommit=null; defaultReadOnly=null; defaultTransactionIsolation=-1; defaultCatalog=null; driverClassName=com.mysql.jdbc.Driver; maxActive=2; maxIdle=2; minIdle=1; initialSize=1; maxWait=10000; testOnBorrow=true; testOnReturn=false; timeBetweenEvictionRunsMillis=5000; numTestsPerEvictionRun=0; minEvictableIdleTimeMillis=60000; testWhileIdle=true; testOnConnect=false; password=********; url=jdbc:mysql://localhost:3306/onesaitplatform_master_config?useUnicode=true&characterEncoding=UTF-8&allowMultiQueries=true&useSSL=false&autoReconnect=true; username=root; validationQuery=SELECT 1; validationQueryTimeout=-1; validatorClassName=null; validationInterval=3000; accessToUnderlyingConnectionAllowed=true; removeAbandoned=true; removeAbandonedTimeout=60; logAbandoned=false; connectionProperties=null; initSQL=null; jdbcInterceptors=null; jmxEnabled=true; fairQueue=true; useEquals=true; abandonWhenPercentageFull=0; maxAge=0; useLock=false; dataSource=null; dataSourceJNDI=null; suspectTimeout=0; alternateUsernameAllowed=false; commitOnReturn=false; rollbackOnReturn=false; useDisposableConnectionFacade=true; logValidationErrors=false; propagateInterruptState=false; ignoreExceptionOnPreLoad=false; useStatementFacade=true; }
2020-03-26 13:35:39.373  INFO 16554 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'onesaitPlatform-masterdb'
2020-03-26 13:35:39.397  INFO 16554 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: onesaitPlatform-masterdb
	...]
2020-03-26 13:35:39.612  INFO 16554 --- [main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.0.12.Final}
2020-03-26 13:35:39.615  INFO 16554 --- [main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2020-03-26 13:35:39.617  INFO 16554 --- [main] org.hibernate.cfg.Environment            : HHH000021: Bytecode provider name : javassist
2020-03-26 13:35:39.687  INFO 16554 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2020-03-26 13:35:40.175  INFO 16554 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5InnoDBDialect
2020-03-26 13:35:41.142  INFO 16554 --- [main] o.h.tool.hbm2ddl.SchemaValidator         : HHH000229: Running schema validator
2020-03-26 13:35:41.544  INFO 16554 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'onesaitPlatform-masterdb'
2020-03-26 13:35:42.188  INFO 16554 --- [main] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2020-03-26 13:35:42.577  INFO 16554 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded tenant multiTenantConnectionProvider
2020-03-26 13:35:42.595  INFO 16554 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded tenant currentTenantIdentifierResolver
2020-03-26 13:35:42.602  INFO 16554 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : tenantEntityManagerFactory setting up!
2020-03-26 13:35:42.603  INFO 16554 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded tenant jpaVendorAdapter
2020-03-26 13:35:42.616  INFO 16554 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : tenantEntityManagerFactory set up successfully!
2020-03-26 13:35:42.795  INFO 16554 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'onesaitplatform'
2020-03-26 13:35:42.795  INFO 16554 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: onesaitplatform
	...]
2020-03-26 13:35:42.849  INFO 16554 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded master transaction manager
2020-03-26 13:35:43.197  INFO 16554 --- [main] c.m.o.p.multitenant.util.DataSourceUtil  : Registering tenant datasource org.apache.tomcat.jdbc.pool.DataSource@64faf3d{ConnectionPool[defaultAutoCommit=null; defaultReadOnly=null; defaultTransactionIsolation=-1; defaultCatalog=null; driverClassName=com.mysql.jdbc.Driver; maxActive=30; maxIdle=5; minIdle=5; initialSize=10; maxWait=10000; testOnBorrow=true; testOnReturn=false; timeBetweenEvictionRunsMillis=5000; numTestsPerEvictionRun=0; minEvictableIdleTimeMillis=6000; testWhileIdle=true; testOnConnect=false; password=********; url=jdbc:mysql://localhost:3306/onesaitplatform_config?useUnicode=true&characterEncoding=UTF-8&allowMultiQueries=true&useSSL=false&autoReconnect=true; username=root; validationQuery=SELECT 1; validationQueryTimeout=-1; validatorClassName=null; validationInterval=3000; accessToUnderlyingConnectionAllowed=true; removeAbandoned=true; removeAbandonedTimeout=60; logAbandoned=false; connectionProperties=null; initSQL=null; jdbcInterceptors=null; jmxEnabled=true; fairQueue=true; useEquals=true; abandonWhenPercentageFull=0; maxAge=0; useLock=false; dataSource=null; dataSourceJNDI=null; suspectTimeout=0; alternateUsernameAllowed=false; commitOnReturn=false; rollbackOnReturn=false; useDisposableConnectionFacade=true; logValidationErrors=false; propagateInterruptState=false; ignoreExceptionOnPreLoad=false; useStatementFacade=true; }
2020-03-26 13:35:43.286  INFO 16554 --- [main] c.m.o.p.multitenant.util.DataSourceUtil  : Registering tenant datasource org.apache.tomcat.jdbc.pool.DataSource@3f523dae{ConnectionPool[defaultAutoCommit=null; defaultReadOnly=null; defaultTransactionIsolation=-1; defaultCatalog=null; driverClassName=com.mysql.jdbc.Driver; maxActive=30; maxIdle=5; minIdle=5; initialSize=10; maxWait=10000; testOnBorrow=true; testOnReturn=false; timeBetweenEvictionRunsMillis=5000; numTestsPerEvictionRun=0; minEvictableIdleTimeMillis=6000; testWhileIdle=true; testOnConnect=false; password=********; url=jdbc:mysql://localhost:3306/onesaitplatform_config?useUnicode=true&characterEncoding=UTF-8&allowMultiQueries=true&useSSL=false&autoReconnect=true; username=root; validationQuery=SELECT 1; validationQueryTimeout=-1; validatorClassName=null; validationInterval=3000; accessToUnderlyingConnectionAllowed=true; removeAbandoned=true; removeAbandonedTimeout=60; logAbandoned=false; connectionProperties=null; initSQL=null; jdbcInterceptors=null; jmxEnabled=true; fairQueue=true; useEquals=true; abandonWhenPercentageFull=0; maxAge=0; useLock=false; dataSource=null; dataSourceJNDI=null; suspectTimeout=0; alternateUsernameAllowed=false; commitOnReturn=false; rollbackOnReturn=false; useDisposableConnectionFacade=true; logValidationErrors=false; propagateInterruptState=false; ignoreExceptionOnPreLoad=false; useStatementFacade=true; }
2020-03-26 13:35:43.346  INFO 16554 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5InnoDBDialect
2020-03-26 13:35:44.657  INFO 16554 --- [main] o.h.tool.hbm2ddl.SchemaValidator         : HHH000229: Running schema validator
2020-03-26 13:35:44.762  INFO 16554 --- [main] c.m.o.p.multitenant.util.DataSourceUtil  : Registering tenant datasource org.apache.tomcat.jdbc.pool.DataSource@44c65be4{ConnectionPool[defaultAutoCommit=null; defaultReadOnly=null; defaultTransactionIsolation=-1; defaultCatalog=null; driverClassName=com.mysql.jdbc.Driver; maxActive=30; maxIdle=5; minIdle=5; initialSize=10; maxWait=10000; testOnBorrow=true; testOnReturn=false; timeBetweenEvictionRunsMillis=5000; numTestsPerEvictionRun=0; minEvictableIdleTimeMillis=6000; testWhileIdle=true; testOnConnect=false; password=********; url=jdbc:mysql://localhost:3306/onesaitplatform_config?useUnicode=true&characterEncoding=UTF-8&allowMultiQueries=true&useSSL=false&autoReconnect=true; username=root; validationQuery=SELECT 1; validationQueryTimeout=-1; validatorClassName=null; validationInterval=3000; accessToUnderlyingConnectionAllowed=true; removeAbandoned=true; removeAbandonedTimeout=60; logAbandoned=false; connectionProperties=null; initSQL=null; jdbcInterceptors=null; jmxEnabled=true; fairQueue=true; useEquals=true; abandonWhenPercentageFull=0; maxAge=0; useLock=false; dataSource=null; dataSourceJNDI=null; suspectTimeout=0; alternateUsernameAllowed=false; commitOnReturn=false; rollbackOnReturn=false; useDisposableConnectionFacade=true; logValidationErrors=false; propagateInterruptState=false; ignoreExceptionOnPreLoad=false; useStatementFacade=true; }
2020-03-26 13:35:47.485  INFO 16554 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'onesaitplatform'
2020-03-26 13:35:47.577  INFO 16554 --- [main] c.m.azure.documentdb.DocumentClient      : Initializing DocumentClient with serviceEndpoint [https://onesait-test.documents.azure.com:443/], ConnectionPolicy [ConnectionPolicy [requestTimeout=60, directRequestTimeout5, mediaRequestTimeout=300, connectionMode=Gateway, mediaReadMode=Buffered, maxPoolSize=1200, idleConnectionTimeout=60, userAgentSuffix=, retryOptions=com.microsoft.azure.documentdb.RetryOptions@60873af4, enableEndpointDiscovery=true, preferredLocations=null, usingMultipleWriteLocations=false, handleServiceUnavailableFromProxy=false]], ConsistencyLevel [Eventual]
2020-03-26 13:35:48.632  INFO 16554 --- [main] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2020-03-26 13:35:49.463  INFO 16554 --- [main] c.m.o.p.commons.kafka.KafkaService       : Kafka configuration with no security applied
2020-03-26 13:35:54.419  INFO 16554 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded tenant transactionManager
2020-03-26 13:35:56.648  INFO 16554 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@4cc547a: startup date [Thu Mar 26 13:35:34 CET 2020]; root of context hierarchy
2020-03-26 13:35:56.789  INFO 16554 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2020-03-26 13:35:56.790  INFO 16554 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2020-03-26 13:35:56.872  INFO 16554 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2020-03-26 13:35:56.872  INFO 16554 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2020-03-26 13:35:56.977  INFO 16554 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2020-03-26 13:35:57.671  INFO 16554 --- [main] b.a.s.AuthenticationManagerConfiguration : 

Using default security password: c9b60b57-46f8-452d-bc16-63586dae6a46

2020-03-26 13:35:57.769  INFO 16554 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/css/**'], Ant [pattern='/js/**'], Ant [pattern='/images/**'], Ant [pattern='/webjars/**'], Ant [pattern='/**/favicon.ico'], Ant [pattern='/error']]], []
2020-03-26 13:35:57.898  INFO 16554 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.boot.autoconfigure.security.SpringBootWebSecurityConfiguration$ApplicationNoWebSecurityConfigurerAdapter$1@67adede9, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@34e67790, org.springframework.security.web.context.SecurityContextPersistenceFilter@7957385c, org.springframework.security.web.header.HeaderWriterFilter@44c3a4c2, org.springframework.security.web.csrf.CsrfFilter@68ebc1ed, org.springframework.security.web.authentication.logout.LogoutFilter@66403e70, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@261a8248, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6c05ae65, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4b3b3b21, org.springframework.security.web.session.SessionManagementFilter@2f3f10a9, org.springframework.security.web.access.ExceptionTranslationFilter@7e12d310]
2020-03-26 13:35:58.443  INFO 16554 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 2147483647
2020-03-26 13:35:58.469  INFO 16554 --- [main] c.m.o.platform.persistence.CosmosDBTest  : Started CosmosDBTest in 24.413 seconds (JVM running for 25.513)
2020-03-26 13:36:09.120  WARN 16554 --- [main] c.m.a.d.internal.ServiceJNIWrapper       : 'Mac OS X' with 'x86_64' system is not compatible with native library. JNI not loaded.
2020-03-26 13:36:13.722  INFO 16554 --- [Thread-5] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@4cc547a: startup date [Thu Mar 26 13:35:34 CET 2020]; root of context hierarchy
2020-03-26 13:36:13.725  INFO 16554 --- [Thread-5] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 2147483647
2020-03-26 13:36:13.727  INFO 16554 --- [Thread-5] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 0
2020-03-26 13:36:13.749  INFO 16554 --- [Thread-5] c.m.azure.documentdb.DocumentClient      : Closing DocumentClient
2020-03-26 13:36:13.778  INFO 16554 --- [Thread-5] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'onesaitplatform'
2020-03-26 13:36:13.780  INFO 16554 --- [Thread-5] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'onesaitPlatform-masterdb'
2020-03-26 18:09:22.708  WARN 6104 --- [main] ory$DuplicateJsonObjectContextCustomizer : 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/javi/.m2/repository/org/json/json/20140107/json-20140107.jar!/org/json/JSONObject.class
	jar:file:/Users/javi/.m2/repository/com/vaadin/external/google/android-json/0.0.20131108.vaadin1/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behaviour

2020-03-26 18:09:22.740  INFO 6104 --- [main] c.m.o.platform.persistence.CosmosDBTest  : Starting CosmosDBTest on Javi with PID 6104 (started by javi in /Users/javi/openplatform/onesait-cloud/onesait-cloud-platform/sources/libraries/persistence/cosmosdb-impl)
2020-03-26 18:09:22.741  INFO 6104 --- [main] c.m.o.platform.persistence.CosmosDBTest  : No active profile set, falling back to default profiles: default
2020-03-26 18:09:22.802  INFO 6104 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@61edc883: startup date [Thu Mar 26 18:09:22 CET 2020]; root of context hierarchy
2020-03-26 18:09:26.902  INFO 6104 --- [main] ptablePropertiesBeanFactoryPostProcessor : Post-processing PropertySource instances
2020-03-26 18:09:26.986  INFO 6104 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Inlined Test Properties [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
2020-03-26 18:09:26.988  INFO 6104 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemProperties [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
2020-03-26 18:09:26.989  INFO 6104 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemEnvironment [org.springframework.core.env.SystemEnvironmentPropertySource] to EncryptableMapPropertySourceWrapper
2020-03-26 18:09:26.989  INFO 6104 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource random [org.springframework.boot.context.config.RandomValuePropertySource] to EncryptablePropertySourceWrapper
2020-03-26 18:09:26.989  INFO 6104 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource applicationConfig: [classpath:/application.yml] [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
2020-03-26 18:09:27.032  INFO 6104 --- [main] f.a.AutowiredAnnotationBeanPostProcessor : JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2020-03-26 18:09:27.155  INFO 6104 --- [main] c.u.j.r.DefaultLazyPropertyResolver      : Property Resolver custom Bean not found with name 'encryptablePropertyResolver'. Initializing Default Property Resolver
2020-03-26 18:09:27.160  INFO 6104 --- [main] c.u.j.d.DefaultLazyPropertyDetector      : Property Detector custom Bean not found with name 'encryptablePropertyDetector'. Initializing Default Property Detector
2020-03-26 18:09:27.162  INFO 6104 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'tenant2SchemaMapper' of type [com.minsait.onesait.platform.multitenant.Tenant2SchemaMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-26 18:09:27.170  INFO 6104 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'configDBMasterConfig' of type [com.minsait.onesait.platform.config.ConfigDBMasterConfig$$EnhancerBySpringCGLIB$$c48601fe] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-26 18:09:27.181  INFO 6104 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded master PersistenceExceptionTranslationPostProcessor
2020-03-26 18:09:27.299  INFO 6104 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.kafka.annotation.KafkaBootstrapConfiguration' of type [org.springframework.kafka.annotation.KafkaBootstrapConfiguration$$EnhancerBySpringCGLIB$$eb782a68] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-26 18:09:27.682  INFO 6104 --- [main] c.u.j.encryptor.DefaultLazyEncryptor     : Found Custom Encryptor Bean org.jasypt.encryption.pbe.PooledPBEStringEncryptor@1214d23c with name: jasyptStringEncryptor
2020-03-26 18:09:27.903  INFO 6104 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : DatasourceProperties: org.apache.tomcat.jdbc.pool.DataSource@6b9a1205{ConnectionPool[defaultAutoCommit=null; defaultReadOnly=null; defaultTransactionIsolation=-1; defaultCatalog=null; driverClassName=com.mysql.jdbc.Driver; maxActive=2; maxIdle=2; minIdle=1; initialSize=1; maxWait=10000; testOnBorrow=true; testOnReturn=false; timeBetweenEvictionRunsMillis=5000; numTestsPerEvictionRun=0; minEvictableIdleTimeMillis=60000; testWhileIdle=true; testOnConnect=false; password=********; url=jdbc:mysql://localhost:3306/onesaitplatform_master_config?useUnicode=true&characterEncoding=UTF-8&allowMultiQueries=true&useSSL=false&autoReconnect=true; username=root; validationQuery=SELECT 1; validationQueryTimeout=-1; validatorClassName=null; validationInterval=3000; accessToUnderlyingConnectionAllowed=true; removeAbandoned=true; removeAbandonedTimeout=60; logAbandoned=false; connectionProperties=null; initSQL=null; jdbcInterceptors=null; jmxEnabled=true; fairQueue=true; useEquals=true; abandonWhenPercentageFull=0; maxAge=0; useLock=false; dataSource=null; dataSourceJNDI=null; suspectTimeout=0; alternateUsernameAllowed=false; commitOnReturn=false; rollbackOnReturn=false; useDisposableConnectionFacade=true; logValidationErrors=false; propagateInterruptState=false; ignoreExceptionOnPreLoad=false; useStatementFacade=true; }
2020-03-26 18:09:28.018  INFO 6104 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'onesaitPlatform-masterdb'
2020-03-26 18:09:28.042  INFO 6104 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: onesaitPlatform-masterdb
	...]
2020-03-26 18:09:28.237  INFO 6104 --- [main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.0.12.Final}
2020-03-26 18:09:28.240  INFO 6104 --- [main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2020-03-26 18:09:28.241  INFO 6104 --- [main] org.hibernate.cfg.Environment            : HHH000021: Bytecode provider name : javassist
2020-03-26 18:09:28.303  INFO 6104 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2020-03-26 18:09:28.749  INFO 6104 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5InnoDBDialect
2020-03-26 18:09:29.552  INFO 6104 --- [main] o.h.tool.hbm2ddl.SchemaValidator         : HHH000229: Running schema validator
2020-03-26 18:09:29.908  INFO 6104 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'onesaitPlatform-masterdb'
2020-03-26 18:09:30.493  INFO 6104 --- [main] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2020-03-26 18:09:30.771  INFO 6104 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded tenant multiTenantConnectionProvider
2020-03-26 18:09:30.785  INFO 6104 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded tenant currentTenantIdentifierResolver
2020-03-26 18:09:30.789  INFO 6104 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : tenantEntityManagerFactory setting up!
2020-03-26 18:09:30.789  INFO 6104 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded tenant jpaVendorAdapter
2020-03-26 18:09:30.796  INFO 6104 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : tenantEntityManagerFactory set up successfully!
2020-03-26 18:09:30.937  INFO 6104 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'onesaitplatform'
2020-03-26 18:09:30.937  INFO 6104 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: onesaitplatform
	...]
2020-03-26 18:09:30.981  INFO 6104 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded master transaction manager
2020-03-26 18:09:31.376  INFO 6104 --- [main] c.m.o.p.multitenant.util.DataSourceUtil  : Registering tenant datasource org.apache.tomcat.jdbc.pool.DataSource@3f119b55{ConnectionPool[defaultAutoCommit=null; defaultReadOnly=null; defaultTransactionIsolation=-1; defaultCatalog=null; driverClassName=com.mysql.jdbc.Driver; maxActive=30; maxIdle=5; minIdle=5; initialSize=10; maxWait=10000; testOnBorrow=true; testOnReturn=false; timeBetweenEvictionRunsMillis=5000; numTestsPerEvictionRun=0; minEvictableIdleTimeMillis=6000; testWhileIdle=true; testOnConnect=false; password=********; url=jdbc:mysql://localhost:3306/onesaitplatform_config?useUnicode=true&characterEncoding=UTF-8&allowMultiQueries=true&useSSL=false&autoReconnect=true; username=root; validationQuery=SELECT 1; validationQueryTimeout=-1; validatorClassName=null; validationInterval=3000; accessToUnderlyingConnectionAllowed=true; removeAbandoned=true; removeAbandonedTimeout=60; logAbandoned=false; connectionProperties=null; initSQL=null; jdbcInterceptors=null; jmxEnabled=true; fairQueue=true; useEquals=true; abandonWhenPercentageFull=0; maxAge=0; useLock=false; dataSource=null; dataSourceJNDI=null; suspectTimeout=0; alternateUsernameAllowed=false; commitOnReturn=false; rollbackOnReturn=false; useDisposableConnectionFacade=true; logValidationErrors=false; propagateInterruptState=false; ignoreExceptionOnPreLoad=false; useStatementFacade=true; }
2020-03-26 18:09:31.518  INFO 6104 --- [main] c.m.o.p.multitenant.util.DataSourceUtil  : Registering tenant datasource org.apache.tomcat.jdbc.pool.DataSource@64dcfd09{ConnectionPool[defaultAutoCommit=null; defaultReadOnly=null; defaultTransactionIsolation=-1; defaultCatalog=null; driverClassName=com.mysql.jdbc.Driver; maxActive=30; maxIdle=5; minIdle=5; initialSize=10; maxWait=10000; testOnBorrow=true; testOnReturn=false; timeBetweenEvictionRunsMillis=5000; numTestsPerEvictionRun=0; minEvictableIdleTimeMillis=6000; testWhileIdle=true; testOnConnect=false; password=********; url=jdbc:mysql://localhost:3306/onesaitplatform_config?useUnicode=true&characterEncoding=UTF-8&allowMultiQueries=true&useSSL=false&autoReconnect=true; username=root; validationQuery=SELECT 1; validationQueryTimeout=-1; validatorClassName=null; validationInterval=3000; accessToUnderlyingConnectionAllowed=true; removeAbandoned=true; removeAbandonedTimeout=60; logAbandoned=false; connectionProperties=null; initSQL=null; jdbcInterceptors=null; jmxEnabled=true; fairQueue=true; useEquals=true; abandonWhenPercentageFull=0; maxAge=0; useLock=false; dataSource=null; dataSourceJNDI=null; suspectTimeout=0; alternateUsernameAllowed=false; commitOnReturn=false; rollbackOnReturn=false; useDisposableConnectionFacade=true; logValidationErrors=false; propagateInterruptState=false; ignoreExceptionOnPreLoad=false; useStatementFacade=true; }
2020-03-26 18:09:31.558  INFO 6104 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5InnoDBDialect
2020-03-26 18:09:32.582  INFO 6104 --- [main] o.h.tool.hbm2ddl.SchemaValidator         : HHH000229: Running schema validator
2020-03-26 18:09:32.700  INFO 6104 --- [main] c.m.o.p.multitenant.util.DataSourceUtil  : Registering tenant datasource org.apache.tomcat.jdbc.pool.DataSource@1b15e7f6{ConnectionPool[defaultAutoCommit=null; defaultReadOnly=null; defaultTransactionIsolation=-1; defaultCatalog=null; driverClassName=com.mysql.jdbc.Driver; maxActive=30; maxIdle=5; minIdle=5; initialSize=10; maxWait=10000; testOnBorrow=true; testOnReturn=false; timeBetweenEvictionRunsMillis=5000; numTestsPerEvictionRun=0; minEvictableIdleTimeMillis=6000; testWhileIdle=true; testOnConnect=false; password=********; url=jdbc:mysql://localhost:3306/onesaitplatform_config?useUnicode=true&characterEncoding=UTF-8&allowMultiQueries=true&useSSL=false&autoReconnect=true; username=root; validationQuery=SELECT 1; validationQueryTimeout=-1; validatorClassName=null; validationInterval=3000; accessToUnderlyingConnectionAllowed=true; removeAbandoned=true; removeAbandonedTimeout=60; logAbandoned=false; connectionProperties=null; initSQL=null; jdbcInterceptors=null; jmxEnabled=true; fairQueue=true; useEquals=true; abandonWhenPercentageFull=0; maxAge=0; useLock=false; dataSource=null; dataSourceJNDI=null; suspectTimeout=0; alternateUsernameAllowed=false; commitOnReturn=false; rollbackOnReturn=false; useDisposableConnectionFacade=true; logValidationErrors=false; propagateInterruptState=false; ignoreExceptionOnPreLoad=false; useStatementFacade=true; }
2020-03-26 18:09:34.855  INFO 6104 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'onesaitplatform'
2020-03-26 18:09:34.962  INFO 6104 --- [main] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2020-03-26 18:09:35.094  INFO 6104 --- [main] c.m.azure.documentdb.DocumentClient      : Initializing DocumentClient with serviceEndpoint [https://onesait-test.documents.azure.com:443/], ConnectionPolicy [ConnectionPolicy [requestTimeout=60, directRequestTimeout5, mediaRequestTimeout=300, connectionMode=Gateway, mediaReadMode=Buffered, maxPoolSize=1200, idleConnectionTimeout=60, userAgentSuffix=, retryOptions=com.microsoft.azure.documentdb.RetryOptions@69c47d27, enableEndpointDiscovery=true, preferredLocations=null, usingMultipleWriteLocations=false, handleServiceUnavailableFromProxy=false]], ConsistencyLevel [Eventual]
2020-03-26 18:09:36.305  INFO 6104 --- [main] c.m.o.p.commons.kafka.KafkaService       : Kafka configuration with no security applied
2020-03-26 18:09:39.198  INFO 6104 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded tenant transactionManager
2020-03-26 18:09:40.680  INFO 6104 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@61edc883: startup date [Thu Mar 26 18:09:22 CET 2020]; root of context hierarchy
2020-03-26 18:09:40.814  INFO 6104 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2020-03-26 18:09:40.815  INFO 6104 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2020-03-26 18:09:40.910  INFO 6104 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2020-03-26 18:09:40.910  INFO 6104 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2020-03-26 18:09:41.044  INFO 6104 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2020-03-26 18:09:41.737  INFO 6104 --- [main] b.a.s.AuthenticationManagerConfiguration : 

Using default security password: 362f0437-ed4e-4c40-83ce-8ba439349475

2020-03-26 18:09:41.814  INFO 6104 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/css/**'], Ant [pattern='/js/**'], Ant [pattern='/images/**'], Ant [pattern='/webjars/**'], Ant [pattern='/**/favicon.ico'], Ant [pattern='/error']]], []
2020-03-26 18:09:41.955  INFO 6104 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.boot.autoconfigure.security.SpringBootWebSecurityConfiguration$ApplicationNoWebSecurityConfigurerAdapter$1@27c0e529, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3acd599d, org.springframework.security.web.context.SecurityContextPersistenceFilter@3a49c558, org.springframework.security.web.header.HeaderWriterFilter@3a8be13b, org.springframework.security.web.csrf.CsrfFilter@570fcd3e, org.springframework.security.web.authentication.logout.LogoutFilter@632205ce, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@22c15ebc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2eadc31, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1a92a239, org.springframework.security.web.session.SessionManagementFilter@553f411b, org.springframework.security.web.access.ExceptionTranslationFilter@218d34aa]
2020-03-26 18:09:42.473  INFO 6104 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 2147483647
2020-03-26 18:09:42.493  INFO 6104 --- [main] c.m.o.platform.persistence.CosmosDBTest  : Started CosmosDBTest in 20.341 seconds (JVM running for 21.82)
2020-03-26 18:11:57.338  INFO 6104 --- [Thread-5] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@61edc883: startup date [Thu Mar 26 18:09:22 CET 2020]; root of context hierarchy
2020-03-26 18:11:57.343  INFO 6104 --- [Thread-5] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 2147483647
2020-03-26 18:11:57.343  INFO 6104 --- [Thread-5] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 0
2020-03-26 18:11:57.355  INFO 6104 --- [Thread-5] c.m.azure.documentdb.DocumentClient      : Closing DocumentClient
2020-03-26 18:11:57.382  INFO 6104 --- [Thread-5] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'onesaitplatform'
2020-03-26 18:11:57.384  INFO 6104 --- [Thread-5] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'onesaitPlatform-masterdb'
2020-03-26 18:14:13.061  WARN 6178 --- [main] ory$DuplicateJsonObjectContextCustomizer : 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/javi/.m2/repository/org/json/json/20140107/json-20140107.jar!/org/json/JSONObject.class
	jar:file:/Users/javi/.m2/repository/com/vaadin/external/google/android-json/0.0.20131108.vaadin1/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behaviour

2020-03-26 18:14:13.079  INFO 6178 --- [main] c.m.o.platform.persistence.CosmosDBTest  : Starting CosmosDBTest on Javi with PID 6178 (started by javi in /Users/javi/openplatform/onesait-cloud/onesait-cloud-platform/sources/libraries/persistence/cosmosdb-impl)
2020-03-26 18:14:13.079  INFO 6178 --- [main] c.m.o.platform.persistence.CosmosDBTest  : No active profile set, falling back to default profiles: default
2020-03-26 18:14:13.115  INFO 6178 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@3591009c: startup date [Thu Mar 26 18:14:13 CET 2020]; root of context hierarchy
2020-03-26 18:14:16.504  INFO 6178 --- [main] ptablePropertiesBeanFactoryPostProcessor : Post-processing PropertySource instances
2020-03-26 18:14:16.580  INFO 6178 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Inlined Test Properties [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
2020-03-26 18:14:16.582  INFO 6178 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemProperties [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
2020-03-26 18:14:16.583  INFO 6178 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemEnvironment [org.springframework.core.env.SystemEnvironmentPropertySource] to EncryptableMapPropertySourceWrapper
2020-03-26 18:14:16.583  INFO 6178 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource random [org.springframework.boot.context.config.RandomValuePropertySource] to EncryptablePropertySourceWrapper
2020-03-26 18:14:16.583  INFO 6178 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource applicationConfig: [classpath:/application.yml] [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
2020-03-26 18:14:16.631  INFO 6178 --- [main] f.a.AutowiredAnnotationBeanPostProcessor : JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2020-03-26 18:14:16.748  INFO 6178 --- [main] c.u.j.r.DefaultLazyPropertyResolver      : Property Resolver custom Bean not found with name 'encryptablePropertyResolver'. Initializing Default Property Resolver
2020-03-26 18:14:16.754  INFO 6178 --- [main] c.u.j.d.DefaultLazyPropertyDetector      : Property Detector custom Bean not found with name 'encryptablePropertyDetector'. Initializing Default Property Detector
2020-03-26 18:14:16.756  INFO 6178 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'tenant2SchemaMapper' of type [com.minsait.onesait.platform.multitenant.Tenant2SchemaMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-26 18:14:16.770  INFO 6178 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'configDBMasterConfig' of type [com.minsait.onesait.platform.config.ConfigDBMasterConfig$$EnhancerBySpringCGLIB$$a26a21b] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-26 18:14:16.778  INFO 6178 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded master PersistenceExceptionTranslationPostProcessor
2020-03-26 18:14:16.908  INFO 6178 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.kafka.annotation.KafkaBootstrapConfiguration' of type [org.springframework.kafka.annotation.KafkaBootstrapConfiguration$$EnhancerBySpringCGLIB$$3118ca85] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-26 18:14:17.335  INFO 6178 --- [main] c.u.j.encryptor.DefaultLazyEncryptor     : Found Custom Encryptor Bean org.jasypt.encryption.pbe.PooledPBEStringEncryptor@4756e5cc with name: jasyptStringEncryptor
2020-03-26 18:14:17.751  INFO 6178 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : DatasourceProperties: org.apache.tomcat.jdbc.pool.DataSource@12670e55{ConnectionPool[defaultAutoCommit=null; defaultReadOnly=null; defaultTransactionIsolation=-1; defaultCatalog=null; driverClassName=com.mysql.jdbc.Driver; maxActive=2; maxIdle=2; minIdle=1; initialSize=1; maxWait=10000; testOnBorrow=true; testOnReturn=false; timeBetweenEvictionRunsMillis=5000; numTestsPerEvictionRun=0; minEvictableIdleTimeMillis=60000; testWhileIdle=true; testOnConnect=false; password=********; url=jdbc:mysql://localhost:3306/onesaitplatform_master_config?useUnicode=true&characterEncoding=UTF-8&allowMultiQueries=true&useSSL=false&autoReconnect=true; username=root; validationQuery=SELECT 1; validationQueryTimeout=-1; validatorClassName=null; validationInterval=3000; accessToUnderlyingConnectionAllowed=true; removeAbandoned=true; removeAbandonedTimeout=60; logAbandoned=false; connectionProperties=null; initSQL=null; jdbcInterceptors=null; jmxEnabled=true; fairQueue=true; useEquals=true; abandonWhenPercentageFull=0; maxAge=0; useLock=false; dataSource=null; dataSourceJNDI=null; suspectTimeout=0; alternateUsernameAllowed=false; commitOnReturn=false; rollbackOnReturn=false; useDisposableConnectionFacade=true; logValidationErrors=false; propagateInterruptState=false; ignoreExceptionOnPreLoad=false; useStatementFacade=true; }
2020-03-26 18:14:17.858  INFO 6178 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'onesaitPlatform-masterdb'
2020-03-26 18:14:17.880  INFO 6178 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: onesaitPlatform-masterdb
	...]
2020-03-26 18:14:18.051  INFO 6178 --- [main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.0.12.Final}
2020-03-26 18:14:18.054  INFO 6178 --- [main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2020-03-26 18:14:18.056  INFO 6178 --- [main] org.hibernate.cfg.Environment            : HHH000021: Bytecode provider name : javassist
2020-03-26 18:14:18.117  INFO 6178 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2020-03-26 18:14:18.490  INFO 6178 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5InnoDBDialect
2020-03-26 18:14:19.211  INFO 6178 --- [main] o.h.tool.hbm2ddl.SchemaValidator         : HHH000229: Running schema validator
2020-03-26 18:14:19.557  INFO 6178 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'onesaitPlatform-masterdb'
2020-03-26 18:14:20.209  INFO 6178 --- [main] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2020-03-26 18:14:20.506  INFO 6178 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded tenant multiTenantConnectionProvider
2020-03-26 18:14:20.520  INFO 6178 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded tenant currentTenantIdentifierResolver
2020-03-26 18:14:20.525  INFO 6178 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : tenantEntityManagerFactory setting up!
2020-03-26 18:14:20.526  INFO 6178 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded tenant jpaVendorAdapter
2020-03-26 18:14:20.533  INFO 6178 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : tenantEntityManagerFactory set up successfully!
2020-03-26 18:14:20.673  INFO 6178 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'onesaitplatform'
2020-03-26 18:14:20.673  INFO 6178 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: onesaitplatform
	...]
2020-03-26 18:14:20.718  INFO 6178 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded master transaction manager
2020-03-26 18:14:20.967  INFO 6178 --- [main] c.m.o.p.multitenant.util.DataSourceUtil  : Registering tenant datasource org.apache.tomcat.jdbc.pool.DataSource@5984742f{ConnectionPool[defaultAutoCommit=null; defaultReadOnly=null; defaultTransactionIsolation=-1; defaultCatalog=null; driverClassName=com.mysql.jdbc.Driver; maxActive=30; maxIdle=5; minIdle=5; initialSize=10; maxWait=10000; testOnBorrow=true; testOnReturn=false; timeBetweenEvictionRunsMillis=5000; numTestsPerEvictionRun=0; minEvictableIdleTimeMillis=6000; testWhileIdle=true; testOnConnect=false; password=********; url=jdbc:mysql://localhost:3306/onesaitplatform_config?useUnicode=true&characterEncoding=UTF-8&allowMultiQueries=true&useSSL=false&autoReconnect=true; username=root; validationQuery=SELECT 1; validationQueryTimeout=-1; validatorClassName=null; validationInterval=3000; accessToUnderlyingConnectionAllowed=true; removeAbandoned=true; removeAbandonedTimeout=60; logAbandoned=false; connectionProperties=null; initSQL=null; jdbcInterceptors=null; jmxEnabled=true; fairQueue=true; useEquals=true; abandonWhenPercentageFull=0; maxAge=0; useLock=false; dataSource=null; dataSourceJNDI=null; suspectTimeout=0; alternateUsernameAllowed=false; commitOnReturn=false; rollbackOnReturn=false; useDisposableConnectionFacade=true; logValidationErrors=false; propagateInterruptState=false; ignoreExceptionOnPreLoad=false; useStatementFacade=true; }
2020-03-26 18:14:21.076  INFO 6178 --- [main] c.m.o.p.multitenant.util.DataSourceUtil  : Registering tenant datasource org.apache.tomcat.jdbc.pool.DataSource@56a6aadb{ConnectionPool[defaultAutoCommit=null; defaultReadOnly=null; defaultTransactionIsolation=-1; defaultCatalog=null; driverClassName=com.mysql.jdbc.Driver; maxActive=30; maxIdle=5; minIdle=5; initialSize=10; maxWait=10000; testOnBorrow=true; testOnReturn=false; timeBetweenEvictionRunsMillis=5000; numTestsPerEvictionRun=0; minEvictableIdleTimeMillis=6000; testWhileIdle=true; testOnConnect=false; password=********; url=jdbc:mysql://localhost:3306/onesaitplatform_config?useUnicode=true&characterEncoding=UTF-8&allowMultiQueries=true&useSSL=false&autoReconnect=true; username=root; validationQuery=SELECT 1; validationQueryTimeout=-1; validatorClassName=null; validationInterval=3000; accessToUnderlyingConnectionAllowed=true; removeAbandoned=true; removeAbandonedTimeout=60; logAbandoned=false; connectionProperties=null; initSQL=null; jdbcInterceptors=null; jmxEnabled=true; fairQueue=true; useEquals=true; abandonWhenPercentageFull=0; maxAge=0; useLock=false; dataSource=null; dataSourceJNDI=null; suspectTimeout=0; alternateUsernameAllowed=false; commitOnReturn=false; rollbackOnReturn=false; useDisposableConnectionFacade=true; logValidationErrors=false; propagateInterruptState=false; ignoreExceptionOnPreLoad=false; useStatementFacade=true; }
2020-03-26 18:14:21.115  INFO 6178 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5InnoDBDialect
2020-03-26 18:14:22.176  INFO 6178 --- [main] o.h.tool.hbm2ddl.SchemaValidator         : HHH000229: Running schema validator
2020-03-26 18:14:22.298  INFO 6178 --- [main] c.m.o.p.multitenant.util.DataSourceUtil  : Registering tenant datasource org.apache.tomcat.jdbc.pool.DataSource@5ffe5b7d{ConnectionPool[defaultAutoCommit=null; defaultReadOnly=null; defaultTransactionIsolation=-1; defaultCatalog=null; driverClassName=com.mysql.jdbc.Driver; maxActive=30; maxIdle=5; minIdle=5; initialSize=10; maxWait=10000; testOnBorrow=true; testOnReturn=false; timeBetweenEvictionRunsMillis=5000; numTestsPerEvictionRun=0; minEvictableIdleTimeMillis=6000; testWhileIdle=true; testOnConnect=false; password=********; url=jdbc:mysql://localhost:3306/onesaitplatform_config?useUnicode=true&characterEncoding=UTF-8&allowMultiQueries=true&useSSL=false&autoReconnect=true; username=root; validationQuery=SELECT 1; validationQueryTimeout=-1; validatorClassName=null; validationInterval=3000; accessToUnderlyingConnectionAllowed=true; removeAbandoned=true; removeAbandonedTimeout=60; logAbandoned=false; connectionProperties=null; initSQL=null; jdbcInterceptors=null; jmxEnabled=true; fairQueue=true; useEquals=true; abandonWhenPercentageFull=0; maxAge=0; useLock=false; dataSource=null; dataSourceJNDI=null; suspectTimeout=0; alternateUsernameAllowed=false; commitOnReturn=false; rollbackOnReturn=false; useDisposableConnectionFacade=true; logValidationErrors=false; propagateInterruptState=false; ignoreExceptionOnPreLoad=false; useStatementFacade=true; }
2020-03-26 18:14:24.534  INFO 6178 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'onesaitplatform'
2020-03-26 18:14:24.649  INFO 6178 --- [main] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2020-03-26 18:14:24.784  INFO 6178 --- [main] c.m.azure.documentdb.DocumentClient      : Initializing DocumentClient with serviceEndpoint [https://onesait-test.documents.azure.com:443/], ConnectionPolicy [ConnectionPolicy [requestTimeout=60, directRequestTimeout5, mediaRequestTimeout=300, connectionMode=Gateway, mediaReadMode=Buffered, maxPoolSize=1200, idleConnectionTimeout=60, userAgentSuffix=, retryOptions=com.microsoft.azure.documentdb.RetryOptions@24b83648, enableEndpointDiscovery=true, preferredLocations=null, usingMultipleWriteLocations=false, handleServiceUnavailableFromProxy=false]], ConsistencyLevel [Eventual]
2020-03-26 18:14:26.027  INFO 6178 --- [main] c.m.o.p.commons.kafka.KafkaService       : Kafka configuration with no security applied
2020-03-26 18:14:29.144  INFO 6178 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded tenant transactionManager
2020-03-26 18:14:30.760  INFO 6178 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@3591009c: startup date [Thu Mar 26 18:14:13 CET 2020]; root of context hierarchy
2020-03-26 18:14:30.907  INFO 6178 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2020-03-26 18:14:30.909  INFO 6178 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2020-03-26 18:14:31.052  INFO 6178 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2020-03-26 18:14:31.053  INFO 6178 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2020-03-26 18:14:31.150  INFO 6178 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2020-03-26 18:14:31.752  INFO 6178 --- [main] b.a.s.AuthenticationManagerConfiguration : 

Using default security password: e87c43da-a05e-48e9-a994-377591d22e2b

2020-03-26 18:14:31.825  INFO 6178 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/css/**'], Ant [pattern='/js/**'], Ant [pattern='/images/**'], Ant [pattern='/webjars/**'], Ant [pattern='/**/favicon.ico'], Ant [pattern='/error']]], []
2020-03-26 18:14:31.963  INFO 6178 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.boot.autoconfigure.security.SpringBootWebSecurityConfiguration$ApplicationNoWebSecurityConfigurerAdapter$1@104ab57b, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5ef60f95, org.springframework.security.web.context.SecurityContextPersistenceFilter@500bae0b, org.springframework.security.web.header.HeaderWriterFilter@13093694, org.springframework.security.web.csrf.CsrfFilter@144602ef, org.springframework.security.web.authentication.logout.LogoutFilter@2c984bb6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@21002025, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@58b8ca0a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@652b1eea, org.springframework.security.web.session.SessionManagementFilter@76c944ce, org.springframework.security.web.access.ExceptionTranslationFilter@417df2ed]
2020-03-26 18:14:32.544  INFO 6178 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 2147483647
2020-03-26 18:14:32.572  INFO 6178 --- [main] c.m.o.platform.persistence.CosmosDBTest  : Started CosmosDBTest in 19.837 seconds (JVM running for 20.727)
2020-03-26 18:15:16.349  INFO 6178 --- [Thread-5] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@3591009c: startup date [Thu Mar 26 18:14:13 CET 2020]; root of context hierarchy
2020-03-26 18:15:16.353  INFO 6178 --- [Thread-5] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 2147483647
2020-03-26 18:15:16.353  INFO 6178 --- [Thread-5] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 0
2020-03-26 18:15:16.367  INFO 6178 --- [Thread-5] c.m.azure.documentdb.DocumentClient      : Closing DocumentClient
2020-03-26 18:15:16.390  INFO 6178 --- [Thread-5] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'onesaitplatform'
2020-03-26 18:15:16.393  INFO 6178 --- [Thread-5] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'onesaitPlatform-masterdb'
2020-03-26 18:20:32.972  WARN 6293 --- [main] ory$DuplicateJsonObjectContextCustomizer : 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/javi/.m2/repository/org/json/json/20140107/json-20140107.jar!/org/json/JSONObject.class
	jar:file:/Users/javi/.m2/repository/com/vaadin/external/google/android-json/0.0.20131108.vaadin1/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behaviour

2020-03-26 18:20:32.997  INFO 6293 --- [main] c.m.o.platform.persistence.CosmosDBTest  : Starting CosmosDBTest on Javi with PID 6293 (started by javi in /Users/javi/openplatform/onesait-cloud/onesait-cloud-platform/sources/libraries/persistence/cosmosdb-impl)
2020-03-26 18:20:32.998  INFO 6293 --- [main] c.m.o.platform.persistence.CosmosDBTest  : No active profile set, falling back to default profiles: default
2020-03-26 18:20:33.062  INFO 6293 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@5707c1cb: startup date [Thu Mar 26 18:20:33 CET 2020]; root of context hierarchy
2020-03-26 18:20:36.495  INFO 6293 --- [main] ptablePropertiesBeanFactoryPostProcessor : Post-processing PropertySource instances
2020-03-26 18:20:36.573  INFO 6293 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Inlined Test Properties [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
2020-03-26 18:20:36.575  INFO 6293 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemProperties [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
2020-03-26 18:20:36.575  INFO 6293 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemEnvironment [org.springframework.core.env.SystemEnvironmentPropertySource] to EncryptableMapPropertySourceWrapper
2020-03-26 18:20:36.575  INFO 6293 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource random [org.springframework.boot.context.config.RandomValuePropertySource] to EncryptablePropertySourceWrapper
2020-03-26 18:20:36.575  INFO 6293 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource applicationConfig: [classpath:/application.yml] [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
2020-03-26 18:20:36.621  INFO 6293 --- [main] f.a.AutowiredAnnotationBeanPostProcessor : JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2020-03-26 18:20:36.707  INFO 6293 --- [main] c.u.j.r.DefaultLazyPropertyResolver      : Property Resolver custom Bean not found with name 'encryptablePropertyResolver'. Initializing Default Property Resolver
2020-03-26 18:20:36.710  INFO 6293 --- [main] c.u.j.d.DefaultLazyPropertyDetector      : Property Detector custom Bean not found with name 'encryptablePropertyDetector'. Initializing Default Property Detector
2020-03-26 18:20:36.712  INFO 6293 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'tenant2SchemaMapper' of type [com.minsait.onesait.platform.multitenant.Tenant2SchemaMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-26 18:20:36.718  INFO 6293 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'configDBMasterConfig' of type [com.minsait.onesait.platform.config.ConfigDBMasterConfig$$EnhancerBySpringCGLIB$$85cdd4da] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-26 18:20:36.724  INFO 6293 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded master PersistenceExceptionTranslationPostProcessor
2020-03-26 18:20:36.823  INFO 6293 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.kafka.annotation.KafkaBootstrapConfiguration' of type [org.springframework.kafka.annotation.KafkaBootstrapConfiguration$$EnhancerBySpringCGLIB$$acbffd44] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-26 18:20:37.134  INFO 6293 --- [main] c.u.j.encryptor.DefaultLazyEncryptor     : Found Custom Encryptor Bean org.jasypt.encryption.pbe.PooledPBEStringEncryptor@3cd46491 with name: jasyptStringEncryptor
2020-03-26 18:20:37.359  INFO 6293 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : DatasourceProperties: org.apache.tomcat.jdbc.pool.DataSource@69d2e517{ConnectionPool[defaultAutoCommit=null; defaultReadOnly=null; defaultTransactionIsolation=-1; defaultCatalog=null; driverClassName=com.mysql.jdbc.Driver; maxActive=2; maxIdle=2; minIdle=1; initialSize=1; maxWait=10000; testOnBorrow=true; testOnReturn=false; timeBetweenEvictionRunsMillis=5000; numTestsPerEvictionRun=0; minEvictableIdleTimeMillis=60000; testWhileIdle=true; testOnConnect=false; password=********; url=jdbc:mysql://localhost:3306/onesaitplatform_master_config?useUnicode=true&characterEncoding=UTF-8&allowMultiQueries=true&useSSL=false&autoReconnect=true; username=root; validationQuery=SELECT 1; validationQueryTimeout=-1; validatorClassName=null; validationInterval=3000; accessToUnderlyingConnectionAllowed=true; removeAbandoned=true; removeAbandonedTimeout=60; logAbandoned=false; connectionProperties=null; initSQL=null; jdbcInterceptors=null; jmxEnabled=true; fairQueue=true; useEquals=true; abandonWhenPercentageFull=0; maxAge=0; useLock=false; dataSource=null; dataSourceJNDI=null; suspectTimeout=0; alternateUsernameAllowed=false; commitOnReturn=false; rollbackOnReturn=false; useDisposableConnectionFacade=true; logValidationErrors=false; propagateInterruptState=false; ignoreExceptionOnPreLoad=false; useStatementFacade=true; }
2020-03-26 18:20:37.454  INFO 6293 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'onesaitPlatform-masterdb'
2020-03-26 18:20:37.487  INFO 6293 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: onesaitPlatform-masterdb
	...]
2020-03-26 18:20:37.668  INFO 6293 --- [main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.0.12.Final}
2020-03-26 18:20:37.671  INFO 6293 --- [main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2020-03-26 18:20:37.673  INFO 6293 --- [main] org.hibernate.cfg.Environment            : HHH000021: Bytecode provider name : javassist
2020-03-26 18:20:37.735  INFO 6293 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2020-03-26 18:20:38.108  INFO 6293 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5InnoDBDialect
2020-03-26 18:20:38.738  INFO 6293 --- [main] o.h.tool.hbm2ddl.SchemaValidator         : HHH000229: Running schema validator
2020-03-26 18:20:39.015  INFO 6293 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'onesaitPlatform-masterdb'
2020-03-26 18:20:39.557  INFO 6293 --- [main] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2020-03-26 18:20:39.844  INFO 6293 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded tenant multiTenantConnectionProvider
2020-03-26 18:20:39.856  INFO 6293 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded tenant currentTenantIdentifierResolver
2020-03-26 18:20:39.861  INFO 6293 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : tenantEntityManagerFactory setting up!
2020-03-26 18:20:39.861  INFO 6293 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded tenant jpaVendorAdapter
2020-03-26 18:20:39.869  INFO 6293 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : tenantEntityManagerFactory set up successfully!
2020-03-26 18:20:40.020  INFO 6293 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'onesaitplatform'
2020-03-26 18:20:40.020  INFO 6293 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: onesaitplatform
	...]
2020-03-26 18:20:40.068  INFO 6293 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded master transaction manager
2020-03-26 18:20:40.377  INFO 6293 --- [main] c.m.o.p.multitenant.util.DataSourceUtil  : Registering tenant datasource org.apache.tomcat.jdbc.pool.DataSource@13f358f8{ConnectionPool[defaultAutoCommit=null; defaultReadOnly=null; defaultTransactionIsolation=-1; defaultCatalog=null; driverClassName=com.mysql.jdbc.Driver; maxActive=30; maxIdle=5; minIdle=5; initialSize=10; maxWait=10000; testOnBorrow=true; testOnReturn=false; timeBetweenEvictionRunsMillis=5000; numTestsPerEvictionRun=0; minEvictableIdleTimeMillis=6000; testWhileIdle=true; testOnConnect=false; password=********; url=jdbc:mysql://localhost:3306/onesaitplatform_config?useUnicode=true&characterEncoding=UTF-8&allowMultiQueries=true&useSSL=false&autoReconnect=true; username=root; validationQuery=SELECT 1; validationQueryTimeout=-1; validatorClassName=null; validationInterval=3000; accessToUnderlyingConnectionAllowed=true; removeAbandoned=true; removeAbandonedTimeout=60; logAbandoned=false; connectionProperties=null; initSQL=null; jdbcInterceptors=null; jmxEnabled=true; fairQueue=true; useEquals=true; abandonWhenPercentageFull=0; maxAge=0; useLock=false; dataSource=null; dataSourceJNDI=null; suspectTimeout=0; alternateUsernameAllowed=false; commitOnReturn=false; rollbackOnReturn=false; useDisposableConnectionFacade=true; logValidationErrors=false; propagateInterruptState=false; ignoreExceptionOnPreLoad=false; useStatementFacade=true; }
2020-03-26 18:20:40.456  INFO 6293 --- [main] c.m.o.p.multitenant.util.DataSourceUtil  : Registering tenant datasource org.apache.tomcat.jdbc.pool.DataSource@3f119b55{ConnectionPool[defaultAutoCommit=null; defaultReadOnly=null; defaultTransactionIsolation=-1; defaultCatalog=null; driverClassName=com.mysql.jdbc.Driver; maxActive=30; maxIdle=5; minIdle=5; initialSize=10; maxWait=10000; testOnBorrow=true; testOnReturn=false; timeBetweenEvictionRunsMillis=5000; numTestsPerEvictionRun=0; minEvictableIdleTimeMillis=6000; testWhileIdle=true; testOnConnect=false; password=********; url=jdbc:mysql://localhost:3306/onesaitplatform_config?useUnicode=true&characterEncoding=UTF-8&allowMultiQueries=true&useSSL=false&autoReconnect=true; username=root; validationQuery=SELECT 1; validationQueryTimeout=-1; validatorClassName=null; validationInterval=3000; accessToUnderlyingConnectionAllowed=true; removeAbandoned=true; removeAbandonedTimeout=60; logAbandoned=false; connectionProperties=null; initSQL=null; jdbcInterceptors=null; jmxEnabled=true; fairQueue=true; useEquals=true; abandonWhenPercentageFull=0; maxAge=0; useLock=false; dataSource=null; dataSourceJNDI=null; suspectTimeout=0; alternateUsernameAllowed=false; commitOnReturn=false; rollbackOnReturn=false; useDisposableConnectionFacade=true; logValidationErrors=false; propagateInterruptState=false; ignoreExceptionOnPreLoad=false; useStatementFacade=true; }
2020-03-26 18:20:40.492  INFO 6293 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5InnoDBDialect
2020-03-26 18:20:41.448  INFO 6293 --- [main] o.h.tool.hbm2ddl.SchemaValidator         : HHH000229: Running schema validator
2020-03-26 18:20:41.543  INFO 6293 --- [main] c.m.o.p.multitenant.util.DataSourceUtil  : Registering tenant datasource org.apache.tomcat.jdbc.pool.DataSource@7f06ef67{ConnectionPool[defaultAutoCommit=null; defaultReadOnly=null; defaultTransactionIsolation=-1; defaultCatalog=null; driverClassName=com.mysql.jdbc.Driver; maxActive=30; maxIdle=5; minIdle=5; initialSize=10; maxWait=10000; testOnBorrow=true; testOnReturn=false; timeBetweenEvictionRunsMillis=5000; numTestsPerEvictionRun=0; minEvictableIdleTimeMillis=6000; testWhileIdle=true; testOnConnect=false; password=********; url=jdbc:mysql://localhost:3306/onesaitplatform_config?useUnicode=true&characterEncoding=UTF-8&allowMultiQueries=true&useSSL=false&autoReconnect=true; username=root; validationQuery=SELECT 1; validationQueryTimeout=-1; validatorClassName=null; validationInterval=3000; accessToUnderlyingConnectionAllowed=true; removeAbandoned=true; removeAbandonedTimeout=60; logAbandoned=false; connectionProperties=null; initSQL=null; jdbcInterceptors=null; jmxEnabled=true; fairQueue=true; useEquals=true; abandonWhenPercentageFull=0; maxAge=0; useLock=false; dataSource=null; dataSourceJNDI=null; suspectTimeout=0; alternateUsernameAllowed=false; commitOnReturn=false; rollbackOnReturn=false; useDisposableConnectionFacade=true; logValidationErrors=false; propagateInterruptState=false; ignoreExceptionOnPreLoad=false; useStatementFacade=true; }
2020-03-26 18:20:43.558  INFO 6293 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'onesaitplatform'
2020-03-26 18:20:43.657  INFO 6293 --- [main] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2020-03-26 18:20:43.763  INFO 6293 --- [main] c.m.azure.documentdb.DocumentClient      : Initializing DocumentClient with serviceEndpoint [https://onesait-test.documents.azure.com:443/], ConnectionPolicy [ConnectionPolicy [requestTimeout=60, directRequestTimeout5, mediaRequestTimeout=300, connectionMode=Gateway, mediaReadMode=Buffered, maxPoolSize=1200, idleConnectionTimeout=60, userAgentSuffix=, retryOptions=com.microsoft.azure.documentdb.RetryOptions@615dec6b, enableEndpointDiscovery=true, preferredLocations=null, usingMultipleWriteLocations=false, handleServiceUnavailableFromProxy=false]], ConsistencyLevel [Eventual]
2020-03-26 18:20:45.251  INFO 6293 --- [main] c.m.o.p.commons.kafka.KafkaService       : Kafka configuration with no security applied
2020-03-26 18:20:48.183  INFO 6293 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded tenant transactionManager
2020-03-26 18:20:49.752  INFO 6293 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@5707c1cb: startup date [Thu Mar 26 18:20:33 CET 2020]; root of context hierarchy
2020-03-26 18:20:49.882  INFO 6293 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2020-03-26 18:20:49.884  INFO 6293 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2020-03-26 18:20:49.957  INFO 6293 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2020-03-26 18:20:49.958  INFO 6293 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2020-03-26 18:20:50.043  INFO 6293 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2020-03-26 18:20:50.616  INFO 6293 --- [main] b.a.s.AuthenticationManagerConfiguration : 

Using default security password: 9ba244be-e5ad-4590-b694-d83265232134

2020-03-26 18:20:50.687  INFO 6293 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/css/**'], Ant [pattern='/js/**'], Ant [pattern='/images/**'], Ant [pattern='/webjars/**'], Ant [pattern='/**/favicon.ico'], Ant [pattern='/error']]], []
2020-03-26 18:20:50.796  INFO 6293 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.boot.autoconfigure.security.SpringBootWebSecurityConfiguration$ApplicationNoWebSecurityConfigurerAdapter$1@45a98c98, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7ccbf0d0, org.springframework.security.web.context.SecurityContextPersistenceFilter@7643c76, org.springframework.security.web.header.HeaderWriterFilter@677f0c10, org.springframework.security.web.csrf.CsrfFilter@6a9d1224, org.springframework.security.web.authentication.logout.LogoutFilter@49251807, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2c697c90, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@37ad86cb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@65bbf773, org.springframework.security.web.session.SessionManagementFilter@59af8635, org.springframework.security.web.access.ExceptionTranslationFilter@11ea648d]
2020-03-26 18:20:51.271  INFO 6293 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 2147483647
2020-03-26 18:20:51.291  INFO 6293 --- [main] c.m.o.platform.persistence.CosmosDBTest  : Started CosmosDBTest in 18.72 seconds (JVM running for 19.852)
2020-03-26 18:21:22.321  WARN 6293 --- [main] c.m.a.d.internal.ServiceJNIWrapper       : 'Mac OS X' with 'x86_64' system is not compatible with native library. JNI not loaded.
2020-03-26 18:21:23.226 ERROR 6293 --- [pool-5-thread-3] c.m.a.d.b.internal.BatchUpdater          : pki 0 failed to update mini-batch. Exception was Message: {"Errors":["Encountered exception while executing function. Exception = Error: {\"errors\":[{\"severity\":\"Error\",\"location\":{\"start\":55,\"end\":62},\"code\":\"SC2001\",\"message\":\"Identifier 'borough' could not be resolved.\"}]}\r\nStack trace: Error: {\"errors\":[{\"severity\":\"Error\",\"location\":{\"start\":55,\"end\":62},\"code\":\"SC2001\",\"message\":\"Identifier 'borough' could not be resolved.\"}]}\n   at queryCallback (script.js:5270:26)\n   at Anonymous function (script.js:614:29)"]}
ActivityId: ac86b6c9-5601-4711-9e7c-11b89f41f1e4, Request URI: /apps/919f03de-8bbf-4ea1-ad94-ca78b0bb1f81/services/3bbc7d5a-da6e-4675-a45e-c36e55530e87/partitions/445789f4-134e-4900-98ac-7083647369ec/replicas/132290727012427261p/, RequestStats: 
RequestStartTime: 2020-03-26T17:21:22.7852175Z, RequestEndTime: 2020-03-26T17:21:23.0852123Z,  Number of regions attempted:1
ResponseTime: 2020-03-26T17:21:23.0852123Z, StoreResult: StorePhysicalAddress: rntbd://am4prdddc11-docdb-2.documents.azure.com:14368/apps/919f03de-8bbf-4ea1-ad94-ca78b0bb1f81/services/3bbc7d5a-da6e-4675-a45e-c36e55530e87/partitions/445789f4-134e-4900-98ac-7083647369ec/replicas/132290727012427261p/, LSN: 111, GlobalCommittedLsn: 111, PartitionKeyRangeId: 0, IsValid: True, StatusCode: 400, SubStatusCode: 400, RequestCharge: 6.93, ItemLSN: -1, SessionToken: -1#111, UsingLocalLSN: False, TransportException: null, ResourceType: StoredProcedure, OperationType: ExecuteJavaScript
, SDK: Microsoft.Azure.Documents.Common/2.10.0, StatusCode: BadRequest. Status code was 400

com.microsoft.azure.documentdb.DocumentClientException: Message: {"Errors":["Encountered exception while executing function. Exception = Error: {\"errors\":[{\"severity\":\"Error\",\"location\":{\"start\":55,\"end\":62},\"code\":\"SC2001\",\"message\":\"Identifier 'borough' could not be resolved.\"}]}\r\nStack trace: Error: {\"errors\":[{\"severity\":\"Error\",\"location\":{\"start\":55,\"end\":62},\"code\":\"SC2001\",\"message\":\"Identifier 'borough' could not be resolved.\"}]}\n   at queryCallback (script.js:5270:26)\n   at Anonymous function (script.js:614:29)"]}
ActivityId: ac86b6c9-5601-4711-9e7c-11b89f41f1e4, Request URI: /apps/919f03de-8bbf-4ea1-ad94-ca78b0bb1f81/services/3bbc7d5a-da6e-4675-a45e-c36e55530e87/partitions/445789f4-134e-4900-98ac-7083647369ec/replicas/132290727012427261p/, RequestStats: 
RequestStartTime: 2020-03-26T17:21:22.7852175Z, RequestEndTime: 2020-03-26T17:21:23.0852123Z,  Number of regions attempted:1
ResponseTime: 2020-03-26T17:21:23.0852123Z, StoreResult: StorePhysicalAddress: rntbd://am4prdddc11-docdb-2.documents.azure.com:14368/apps/919f03de-8bbf-4ea1-ad94-ca78b0bb1f81/services/3bbc7d5a-da6e-4675-a45e-c36e55530e87/partitions/445789f4-134e-4900-98ac-7083647369ec/replicas/132290727012427261p/, LSN: 111, GlobalCommittedLsn: 111, PartitionKeyRangeId: 0, IsValid: True, StatusCode: 400, SubStatusCode: 400, RequestCharge: 6.93, ItemLSN: -1, SessionToken: -1#111, UsingLocalLSN: False, TransportException: null, ResourceType: StoredProcedure, OperationType: ExecuteJavaScript
, SDK: Microsoft.Azure.Documents.Common/2.10.0, StatusCode: BadRequest
	at com.microsoft.azure.documentdb.internal.ErrorUtils.maybeThrowException(ErrorUtils.java:74) ~[azure-documentdb-2.4.7.jar:na]
	at com.microsoft.azure.documentdb.internal.GatewayProxy.performPostRequest(GatewayProxy.java:284) ~[azure-documentdb-2.4.7.jar:na]
	at com.microsoft.azure.documentdb.internal.GatewayProxy.doExecute(GatewayProxy.java:108) ~[azure-documentdb-2.4.7.jar:na]
	at com.microsoft.azure.documentdb.internal.GatewayProxy.processMessage(GatewayProxy.java:360) ~[azure-documentdb-2.4.7.jar:na]
	at com.microsoft.azure.documentdb.DocumentClient$5.apply(DocumentClient.java:3037) ~[azure-documentdb-2.4.7.jar:na]
	at com.microsoft.azure.documentdb.internal.RetryUtility.executeDocumentClientRequest(RetryUtility.java:73) ~[azure-documentdb-2.4.7.jar:na]
	at com.microsoft.azure.documentdb.DocumentClient.doCreate(DocumentClient.java:3042) ~[azure-documentdb-2.4.7.jar:na]
	at com.microsoft.azure.documentdb.DocumentClient.executeStoredProcedure(DocumentClient.java:1571) ~[azure-documentdb-2.4.7.jar:na]
	at com.microsoft.azure.documentdb.bulkexecutor.internal.BatchUpdater$1.call(BatchUpdater.java:174) [documentdb-bulkexecutor-2.9.3.jar:na]
	at com.microsoft.azure.documentdb.bulkexecutor.internal.BatchUpdater$1.call(BatchUpdater.java:148) [documentdb-bulkexecutor-2.9.3.jar:na]
	at com.microsoft.azure.documentdb.repackaged.com.google.common.util.concurrent.TrustedListenableFutureTask$TrustedFutureInterruptibleTask.runInterruptibly(TrustedListenableFutureTask.java:125) [documentdb-bulkexecutor-2.9.3.jar:na]
	at com.microsoft.azure.documentdb.repackaged.com.google.common.util.concurrent.InterruptibleTask.run(InterruptibleTask.java:57) [documentdb-bulkexecutor-2.9.3.jar:na]
	at com.microsoft.azure.documentdb.repackaged.com.google.common.util.concurrent.TrustedListenableFutureTask.run(TrustedListenableFutureTask.java:78) [documentdb-bulkexecutor-2.9.3.jar:na]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_121]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_121]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_121]

2020-03-26 18:21:23.672  INFO 6293 --- [Thread-5] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@5707c1cb: startup date [Thu Mar 26 18:20:33 CET 2020]; root of context hierarchy
2020-03-26 18:21:23.675  INFO 6293 --- [Thread-5] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 2147483647
2020-03-26 18:21:23.675  INFO 6293 --- [Thread-5] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 0
2020-03-26 18:21:23.686  INFO 6293 --- [Thread-5] c.m.azure.documentdb.DocumentClient      : Closing DocumentClient
2020-03-26 18:21:23.715  INFO 6293 --- [Thread-5] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'onesaitplatform'
2020-03-26 18:21:23.718  INFO 6293 --- [Thread-5] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'onesaitPlatform-masterdb'
2020-03-26 18:22:21.245  WARN 6324 --- [main] ory$DuplicateJsonObjectContextCustomizer : 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/javi/.m2/repository/org/json/json/20140107/json-20140107.jar!/org/json/JSONObject.class
	jar:file:/Users/javi/.m2/repository/com/vaadin/external/google/android-json/0.0.20131108.vaadin1/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behaviour

2020-03-26 18:22:21.261  INFO 6324 --- [main] c.m.o.platform.persistence.CosmosDBTest  : Starting CosmosDBTest on Javi with PID 6324 (started by javi in /Users/javi/openplatform/onesait-cloud/onesait-cloud-platform/sources/libraries/persistence/cosmosdb-impl)
2020-03-26 18:22:21.262  INFO 6324 --- [main] c.m.o.platform.persistence.CosmosDBTest  : No active profile set, falling back to default profiles: default
2020-03-26 18:22:21.301  INFO 6324 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@5707c1cb: startup date [Thu Mar 26 18:22:21 CET 2020]; root of context hierarchy
2020-03-26 18:22:24.679  INFO 6324 --- [main] ptablePropertiesBeanFactoryPostProcessor : Post-processing PropertySource instances
2020-03-26 18:22:24.754  INFO 6324 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Inlined Test Properties [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
2020-03-26 18:22:24.757  INFO 6324 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemProperties [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
2020-03-26 18:22:24.757  INFO 6324 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemEnvironment [org.springframework.core.env.SystemEnvironmentPropertySource] to EncryptableMapPropertySourceWrapper
2020-03-26 18:22:24.758  INFO 6324 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource random [org.springframework.boot.context.config.RandomValuePropertySource] to EncryptablePropertySourceWrapper
2020-03-26 18:22:24.758  INFO 6324 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource applicationConfig: [classpath:/application.yml] [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
2020-03-26 18:22:24.811  INFO 6324 --- [main] f.a.AutowiredAnnotationBeanPostProcessor : JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2020-03-26 18:22:24.915  INFO 6324 --- [main] c.u.j.r.DefaultLazyPropertyResolver      : Property Resolver custom Bean not found with name 'encryptablePropertyResolver'. Initializing Default Property Resolver
2020-03-26 18:22:24.919  INFO 6324 --- [main] c.u.j.d.DefaultLazyPropertyDetector      : Property Detector custom Bean not found with name 'encryptablePropertyDetector'. Initializing Default Property Detector
2020-03-26 18:22:24.920  INFO 6324 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'tenant2SchemaMapper' of type [com.minsait.onesait.platform.multitenant.Tenant2SchemaMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-26 18:22:24.929  INFO 6324 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'configDBMasterConfig' of type [com.minsait.onesait.platform.config.ConfigDBMasterConfig$$EnhancerBySpringCGLIB$$98cf01c7] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-26 18:22:24.933  INFO 6324 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded master PersistenceExceptionTranslationPostProcessor
2020-03-26 18:22:25.030  INFO 6324 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.kafka.annotation.KafkaBootstrapConfiguration' of type [org.springframework.kafka.annotation.KafkaBootstrapConfiguration$$EnhancerBySpringCGLIB$$bfc12a31] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-26 18:22:25.438  INFO 6324 --- [main] c.u.j.encryptor.DefaultLazyEncryptor     : Found Custom Encryptor Bean org.jasypt.encryption.pbe.PooledPBEStringEncryptor@1e471884 with name: jasyptStringEncryptor
2020-03-26 18:22:25.772  INFO 6324 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : DatasourceProperties: org.apache.tomcat.jdbc.pool.DataSource@1e6d30c0{ConnectionPool[defaultAutoCommit=null; defaultReadOnly=null; defaultTransactionIsolation=-1; defaultCatalog=null; driverClassName=com.mysql.jdbc.Driver; maxActive=2; maxIdle=2; minIdle=1; initialSize=1; maxWait=10000; testOnBorrow=true; testOnReturn=false; timeBetweenEvictionRunsMillis=5000; numTestsPerEvictionRun=0; minEvictableIdleTimeMillis=60000; testWhileIdle=true; testOnConnect=false; password=********; url=jdbc:mysql://localhost:3306/onesaitplatform_master_config?useUnicode=true&characterEncoding=UTF-8&allowMultiQueries=true&useSSL=false&autoReconnect=true; username=root; validationQuery=SELECT 1; validationQueryTimeout=-1; validatorClassName=null; validationInterval=3000; accessToUnderlyingConnectionAllowed=true; removeAbandoned=true; removeAbandonedTimeout=60; logAbandoned=false; connectionProperties=null; initSQL=null; jdbcInterceptors=null; jmxEnabled=true; fairQueue=true; useEquals=true; abandonWhenPercentageFull=0; maxAge=0; useLock=false; dataSource=null; dataSourceJNDI=null; suspectTimeout=0; alternateUsernameAllowed=false; commitOnReturn=false; rollbackOnReturn=false; useDisposableConnectionFacade=true; logValidationErrors=false; propagateInterruptState=false; ignoreExceptionOnPreLoad=false; useStatementFacade=true; }
2020-03-26 18:22:25.878  INFO 6324 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'onesaitPlatform-masterdb'
2020-03-26 18:22:25.906  INFO 6324 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: onesaitPlatform-masterdb
	...]
2020-03-26 18:22:26.117  INFO 6324 --- [main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.0.12.Final}
2020-03-26 18:22:26.120  INFO 6324 --- [main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2020-03-26 18:22:26.122  INFO 6324 --- [main] org.hibernate.cfg.Environment            : HHH000021: Bytecode provider name : javassist
2020-03-26 18:22:26.189  INFO 6324 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2020-03-26 18:22:26.699  INFO 6324 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5InnoDBDialect
2020-03-26 18:22:27.584  INFO 6324 --- [main] o.h.tool.hbm2ddl.SchemaValidator         : HHH000229: Running schema validator
2020-03-26 18:22:27.940  INFO 6324 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'onesaitPlatform-masterdb'
2020-03-26 18:22:28.524  INFO 6324 --- [main] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2020-03-26 18:22:28.859  INFO 6324 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded tenant multiTenantConnectionProvider
2020-03-26 18:22:28.874  INFO 6324 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded tenant currentTenantIdentifierResolver
2020-03-26 18:22:28.878  INFO 6324 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : tenantEntityManagerFactory setting up!
2020-03-26 18:22:28.879  INFO 6324 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded tenant jpaVendorAdapter
2020-03-26 18:22:28.886  INFO 6324 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : tenantEntityManagerFactory set up successfully!
2020-03-26 18:22:29.052  INFO 6324 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'onesaitplatform'
2020-03-26 18:22:29.052  INFO 6324 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: onesaitplatform
	...]
2020-03-26 18:22:29.099  INFO 6324 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded master transaction manager
2020-03-26 18:22:29.412  INFO 6324 --- [main] c.m.o.p.multitenant.util.DataSourceUtil  : Registering tenant datasource org.apache.tomcat.jdbc.pool.DataSource@6fa5fc67{ConnectionPool[defaultAutoCommit=null; defaultReadOnly=null; defaultTransactionIsolation=-1; defaultCatalog=null; driverClassName=com.mysql.jdbc.Driver; maxActive=30; maxIdle=5; minIdle=5; initialSize=10; maxWait=10000; testOnBorrow=true; testOnReturn=false; timeBetweenEvictionRunsMillis=5000; numTestsPerEvictionRun=0; minEvictableIdleTimeMillis=6000; testWhileIdle=true; testOnConnect=false; password=********; url=jdbc:mysql://localhost:3306/onesaitplatform_config?useUnicode=true&characterEncoding=UTF-8&allowMultiQueries=true&useSSL=false&autoReconnect=true; username=root; validationQuery=SELECT 1; validationQueryTimeout=-1; validatorClassName=null; validationInterval=3000; accessToUnderlyingConnectionAllowed=true; removeAbandoned=true; removeAbandonedTimeout=60; logAbandoned=false; connectionProperties=null; initSQL=null; jdbcInterceptors=null; jmxEnabled=true; fairQueue=true; useEquals=true; abandonWhenPercentageFull=0; maxAge=0; useLock=false; dataSource=null; dataSourceJNDI=null; suspectTimeout=0; alternateUsernameAllowed=false; commitOnReturn=false; rollbackOnReturn=false; useDisposableConnectionFacade=true; logValidationErrors=false; propagateInterruptState=false; ignoreExceptionOnPreLoad=false; useStatementFacade=true; }
2020-03-26 18:22:29.508  INFO 6324 --- [main] c.m.o.p.multitenant.util.DataSourceUtil  : Registering tenant datasource org.apache.tomcat.jdbc.pool.DataSource@17e323fd{ConnectionPool[defaultAutoCommit=null; defaultReadOnly=null; defaultTransactionIsolation=-1; defaultCatalog=null; driverClassName=com.mysql.jdbc.Driver; maxActive=30; maxIdle=5; minIdle=5; initialSize=10; maxWait=10000; testOnBorrow=true; testOnReturn=false; timeBetweenEvictionRunsMillis=5000; numTestsPerEvictionRun=0; minEvictableIdleTimeMillis=6000; testWhileIdle=true; testOnConnect=false; password=********; url=jdbc:mysql://localhost:3306/onesaitplatform_config?useUnicode=true&characterEncoding=UTF-8&allowMultiQueries=true&useSSL=false&autoReconnect=true; username=root; validationQuery=SELECT 1; validationQueryTimeout=-1; validatorClassName=null; validationInterval=3000; accessToUnderlyingConnectionAllowed=true; removeAbandoned=true; removeAbandonedTimeout=60; logAbandoned=false; connectionProperties=null; initSQL=null; jdbcInterceptors=null; jmxEnabled=true; fairQueue=true; useEquals=true; abandonWhenPercentageFull=0; maxAge=0; useLock=false; dataSource=null; dataSourceJNDI=null; suspectTimeout=0; alternateUsernameAllowed=false; commitOnReturn=false; rollbackOnReturn=false; useDisposableConnectionFacade=true; logValidationErrors=false; propagateInterruptState=false; ignoreExceptionOnPreLoad=false; useStatementFacade=true; }
2020-03-26 18:22:29.551  INFO 6324 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5InnoDBDialect
2020-03-26 18:22:30.572  INFO 6324 --- [main] o.h.tool.hbm2ddl.SchemaValidator         : HHH000229: Running schema validator
2020-03-26 18:22:30.678  INFO 6324 --- [main] c.m.o.p.multitenant.util.DataSourceUtil  : Registering tenant datasource org.apache.tomcat.jdbc.pool.DataSource@44243d32{ConnectionPool[defaultAutoCommit=null; defaultReadOnly=null; defaultTransactionIsolation=-1; defaultCatalog=null; driverClassName=com.mysql.jdbc.Driver; maxActive=30; maxIdle=5; minIdle=5; initialSize=10; maxWait=10000; testOnBorrow=true; testOnReturn=false; timeBetweenEvictionRunsMillis=5000; numTestsPerEvictionRun=0; minEvictableIdleTimeMillis=6000; testWhileIdle=true; testOnConnect=false; password=********; url=jdbc:mysql://localhost:3306/onesaitplatform_config?useUnicode=true&characterEncoding=UTF-8&allowMultiQueries=true&useSSL=false&autoReconnect=true; username=root; validationQuery=SELECT 1; validationQueryTimeout=-1; validatorClassName=null; validationInterval=3000; accessToUnderlyingConnectionAllowed=true; removeAbandoned=true; removeAbandonedTimeout=60; logAbandoned=false; connectionProperties=null; initSQL=null; jdbcInterceptors=null; jmxEnabled=true; fairQueue=true; useEquals=true; abandonWhenPercentageFull=0; maxAge=0; useLock=false; dataSource=null; dataSourceJNDI=null; suspectTimeout=0; alternateUsernameAllowed=false; commitOnReturn=false; rollbackOnReturn=false; useDisposableConnectionFacade=true; logValidationErrors=false; propagateInterruptState=false; ignoreExceptionOnPreLoad=false; useStatementFacade=true; }
2020-03-26 18:22:32.706  INFO 6324 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'onesaitplatform'
2020-03-26 18:22:32.837  INFO 6324 --- [main] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2020-03-26 18:22:33.043  INFO 6324 --- [main] c.m.azure.documentdb.DocumentClient      : Initializing DocumentClient with serviceEndpoint [https://onesait-test.documents.azure.com:443/], ConnectionPolicy [ConnectionPolicy [requestTimeout=60, directRequestTimeout5, mediaRequestTimeout=300, connectionMode=Gateway, mediaReadMode=Buffered, maxPoolSize=1200, idleConnectionTimeout=60, userAgentSuffix=, retryOptions=com.microsoft.azure.documentdb.RetryOptions@16bc9213, enableEndpointDiscovery=true, preferredLocations=null, usingMultipleWriteLocations=false, handleServiceUnavailableFromProxy=false]], ConsistencyLevel [Eventual]
2020-03-26 18:22:34.330  INFO 6324 --- [main] c.m.o.p.commons.kafka.KafkaService       : Kafka configuration with no security applied
2020-03-26 18:22:37.312  INFO 6324 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded tenant transactionManager
2020-03-26 18:22:38.965  INFO 6324 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@5707c1cb: startup date [Thu Mar 26 18:22:21 CET 2020]; root of context hierarchy
2020-03-26 18:22:39.101  INFO 6324 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2020-03-26 18:22:39.103  INFO 6324 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2020-03-26 18:22:39.200  INFO 6324 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2020-03-26 18:22:39.200  INFO 6324 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2020-03-26 18:22:39.322  INFO 6324 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2020-03-26 18:22:39.913  INFO 6324 --- [main] b.a.s.AuthenticationManagerConfiguration : 

Using default security password: 9fa2d440-627e-4f97-b64d-84d178c45dc2

2020-03-26 18:22:39.987  INFO 6324 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/css/**'], Ant [pattern='/js/**'], Ant [pattern='/images/**'], Ant [pattern='/webjars/**'], Ant [pattern='/**/favicon.ico'], Ant [pattern='/error']]], []
2020-03-26 18:22:40.129  INFO 6324 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.boot.autoconfigure.security.SpringBootWebSecurityConfiguration$ApplicationNoWebSecurityConfigurerAdapter$1@47d52974, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@482e3301, org.springframework.security.web.context.SecurityContextPersistenceFilter@774ca718, org.springframework.security.web.header.HeaderWriterFilter@7b67e60e, org.springframework.security.web.csrf.CsrfFilter@547795ca, org.springframework.security.web.authentication.logout.LogoutFilter@2f0d8aa2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@79a6e0e6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@870cde1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@631f8c82, org.springframework.security.web.session.SessionManagementFilter@762918e6, org.springframework.security.web.access.ExceptionTranslationFilter@58e6940]
2020-03-26 18:22:40.722  INFO 6324 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 2147483647
2020-03-26 18:22:40.742  INFO 6324 --- [main] c.m.o.platform.persistence.CosmosDBTest  : Started CosmosDBTest in 19.891 seconds (JVM running for 21.127)
2020-03-26 18:23:09.021  WARN 6324 --- [main] c.m.a.d.internal.ServiceJNIWrapper       : 'Mac OS X' with 'x86_64' system is not compatible with native library. JNI not loaded.
2020-03-26 18:23:21.081 ERROR 6324 --- [pool-5-thread-3] c.m.a.d.b.internal.BatchUpdater          : pki 0 failed to update mini-batch. Exception was Message: {"Errors":["Encountered exception while executing function. Exception = Error: {\"errors\":[{\"severity\":\"Error\",\"location\":{\"start\":55,\"end\":62},\"code\":\"SC2001\",\"message\":\"Identifier 'borough' could not be resolved.\"}]}\r\nStack trace: Error: {\"errors\":[{\"severity\":\"Error\",\"location\":{\"start\":55,\"end\":62},\"code\":\"SC2001\",\"message\":\"Identifier 'borough' could not be resolved.\"}]}\n   at queryCallback (script.js:5270:26)\n   at Anonymous function (script.js:614:29)"]}
ActivityId: de4de7c9-7b45-452d-8630-e511496b8589, Request URI: /apps/919f03de-8bbf-4ea1-ad94-ca78b0bb1f81/services/3bbc7d5a-da6e-4675-a45e-c36e55530e87/partitions/445789f4-134e-4900-98ac-7083647369ec/replicas/132290727012427261p/, RequestStats: 
RequestStartTime: 2020-03-26T17:23:21.0411279Z, RequestEndTime: 2020-03-26T17:23:21.0510999Z,  Number of regions attempted:1
ResponseTime: 2020-03-26T17:23:21.0510999Z, StoreResult: StorePhysicalAddress: rntbd://am4prdddc11-docdb-2.documents.azure.com:14368/apps/919f03de-8bbf-4ea1-ad94-ca78b0bb1f81/services/3bbc7d5a-da6e-4675-a45e-c36e55530e87/partitions/445789f4-134e-4900-98ac-7083647369ec/replicas/132290727012427261p/, LSN: 111, GlobalCommittedLsn: 111, PartitionKeyRangeId: 0, IsValid: True, StatusCode: 400, SubStatusCode: 400, RequestCharge: 2.7, ItemLSN: -1, SessionToken: -1#111, UsingLocalLSN: False, TransportException: null, ResourceType: StoredProcedure, OperationType: ExecuteJavaScript
, SDK: Microsoft.Azure.Documents.Common/2.10.0, StatusCode: BadRequest. Status code was 400

com.microsoft.azure.documentdb.DocumentClientException: Message: {"Errors":["Encountered exception while executing function. Exception = Error: {\"errors\":[{\"severity\":\"Error\",\"location\":{\"start\":55,\"end\":62},\"code\":\"SC2001\",\"message\":\"Identifier 'borough' could not be resolved.\"}]}\r\nStack trace: Error: {\"errors\":[{\"severity\":\"Error\",\"location\":{\"start\":55,\"end\":62},\"code\":\"SC2001\",\"message\":\"Identifier 'borough' could not be resolved.\"}]}\n   at queryCallback (script.js:5270:26)\n   at Anonymous function (script.js:614:29)"]}
ActivityId: de4de7c9-7b45-452d-8630-e511496b8589, Request URI: /apps/919f03de-8bbf-4ea1-ad94-ca78b0bb1f81/services/3bbc7d5a-da6e-4675-a45e-c36e55530e87/partitions/445789f4-134e-4900-98ac-7083647369ec/replicas/132290727012427261p/, RequestStats: 
RequestStartTime: 2020-03-26T17:23:21.0411279Z, RequestEndTime: 2020-03-26T17:23:21.0510999Z,  Number of regions attempted:1
ResponseTime: 2020-03-26T17:23:21.0510999Z, StoreResult: StorePhysicalAddress: rntbd://am4prdddc11-docdb-2.documents.azure.com:14368/apps/919f03de-8bbf-4ea1-ad94-ca78b0bb1f81/services/3bbc7d5a-da6e-4675-a45e-c36e55530e87/partitions/445789f4-134e-4900-98ac-7083647369ec/replicas/132290727012427261p/, LSN: 111, GlobalCommittedLsn: 111, PartitionKeyRangeId: 0, IsValid: True, StatusCode: 400, SubStatusCode: 400, RequestCharge: 2.7, ItemLSN: -1, SessionToken: -1#111, UsingLocalLSN: False, TransportException: null, ResourceType: StoredProcedure, OperationType: ExecuteJavaScript
, SDK: Microsoft.Azure.Documents.Common/2.10.0, StatusCode: BadRequest
	at com.microsoft.azure.documentdb.internal.ErrorUtils.maybeThrowException(ErrorUtils.java:74) ~[azure-documentdb-2.4.7.jar:na]
	at com.microsoft.azure.documentdb.internal.GatewayProxy.performPostRequest(GatewayProxy.java:284) ~[azure-documentdb-2.4.7.jar:na]
	at com.microsoft.azure.documentdb.internal.GatewayProxy.doExecute(GatewayProxy.java:108) ~[azure-documentdb-2.4.7.jar:na]
	at com.microsoft.azure.documentdb.internal.GatewayProxy.processMessage(GatewayProxy.java:360) ~[azure-documentdb-2.4.7.jar:na]
	at com.microsoft.azure.documentdb.DocumentClient$5.apply(DocumentClient.java:3037) ~[azure-documentdb-2.4.7.jar:na]
	at com.microsoft.azure.documentdb.internal.RetryUtility.executeDocumentClientRequest(RetryUtility.java:73) ~[azure-documentdb-2.4.7.jar:na]
	at com.microsoft.azure.documentdb.DocumentClient.doCreate(DocumentClient.java:3042) ~[azure-documentdb-2.4.7.jar:na]
	at com.microsoft.azure.documentdb.DocumentClient.executeStoredProcedure(DocumentClient.java:1571) ~[azure-documentdb-2.4.7.jar:na]
	at com.microsoft.azure.documentdb.bulkexecutor.internal.BatchUpdater$1.call(BatchUpdater.java:174) [documentdb-bulkexecutor-2.9.3.jar:na]
	at com.microsoft.azure.documentdb.bulkexecutor.internal.BatchUpdater$1.call(BatchUpdater.java:148) [documentdb-bulkexecutor-2.9.3.jar:na]
	at com.microsoft.azure.documentdb.repackaged.com.google.common.util.concurrent.TrustedListenableFutureTask$TrustedFutureInterruptibleTask.runInterruptibly(TrustedListenableFutureTask.java:125) [documentdb-bulkexecutor-2.9.3.jar:na]
	at com.microsoft.azure.documentdb.repackaged.com.google.common.util.concurrent.InterruptibleTask.run(InterruptibleTask.java:57) [documentdb-bulkexecutor-2.9.3.jar:na]
	at com.microsoft.azure.documentdb.repackaged.com.google.common.util.concurrent.TrustedListenableFutureTask.run(TrustedListenableFutureTask.java:78) [documentdb-bulkexecutor-2.9.3.jar:na]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_121]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_121]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_121]

2020-03-26 18:23:31.808  INFO 6324 --- [Thread-5] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@5707c1cb: startup date [Thu Mar 26 18:22:21 CET 2020]; root of context hierarchy
2020-03-26 18:23:31.813  INFO 6324 --- [Thread-5] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 2147483647
2020-03-26 18:23:31.813  INFO 6324 --- [Thread-5] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 0
2020-03-26 18:23:31.827  INFO 6324 --- [Thread-5] c.m.azure.documentdb.DocumentClient      : Closing DocumentClient
2020-03-26 18:23:31.851  INFO 6324 --- [Thread-5] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'onesaitplatform'
2020-03-26 18:23:31.853  INFO 6324 --- [Thread-5] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'onesaitPlatform-masterdb'
2020-03-26 18:24:05.251  WARN 6351 --- [main] ory$DuplicateJsonObjectContextCustomizer : 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/javi/.m2/repository/org/json/json/20140107/json-20140107.jar!/org/json/JSONObject.class
	jar:file:/Users/javi/.m2/repository/com/vaadin/external/google/android-json/0.0.20131108.vaadin1/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behaviour

2020-03-26 18:24:05.277  INFO 6351 --- [main] c.m.o.platform.persistence.CosmosDBTest  : Starting CosmosDBTest on Javi with PID 6351 (started by javi in /Users/javi/openplatform/onesait-cloud/onesait-cloud-platform/sources/libraries/persistence/cosmosdb-impl)
2020-03-26 18:24:05.278  INFO 6351 --- [main] c.m.o.platform.persistence.CosmosDBTest  : No active profile set, falling back to default profiles: default
2020-03-26 18:24:05.318  INFO 6351 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@b5cc23a: startup date [Thu Mar 26 18:24:05 CET 2020]; root of context hierarchy
2020-03-26 18:24:08.622  INFO 6351 --- [main] ptablePropertiesBeanFactoryPostProcessor : Post-processing PropertySource instances
2020-03-26 18:24:08.710  INFO 6351 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Inlined Test Properties [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
2020-03-26 18:24:08.713  INFO 6351 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemProperties [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
2020-03-26 18:24:08.713  INFO 6351 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemEnvironment [org.springframework.core.env.SystemEnvironmentPropertySource] to EncryptableMapPropertySourceWrapper
2020-03-26 18:24:08.713  INFO 6351 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource random [org.springframework.boot.context.config.RandomValuePropertySource] to EncryptablePropertySourceWrapper
2020-03-26 18:24:08.713  INFO 6351 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource applicationConfig: [classpath:/application.yml] [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
2020-03-26 18:24:08.769  INFO 6351 --- [main] f.a.AutowiredAnnotationBeanPostProcessor : JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2020-03-26 18:24:08.904  INFO 6351 --- [main] c.u.j.r.DefaultLazyPropertyResolver      : Property Resolver custom Bean not found with name 'encryptablePropertyResolver'. Initializing Default Property Resolver
2020-03-26 18:24:08.909  INFO 6351 --- [main] c.u.j.d.DefaultLazyPropertyDetector      : Property Detector custom Bean not found with name 'encryptablePropertyDetector'. Initializing Default Property Detector
2020-03-26 18:24:08.910  INFO 6351 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'tenant2SchemaMapper' of type [com.minsait.onesait.platform.multitenant.Tenant2SchemaMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-26 18:24:08.940  INFO 6351 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'configDBMasterConfig' of type [com.minsait.onesait.platform.config.ConfigDBMasterConfig$$EnhancerBySpringCGLIB$$c56115e2] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-26 18:24:08.945  INFO 6351 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded master PersistenceExceptionTranslationPostProcessor
2020-03-26 18:24:09.057  INFO 6351 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.kafka.annotation.KafkaBootstrapConfiguration' of type [org.springframework.kafka.annotation.KafkaBootstrapConfiguration$$EnhancerBySpringCGLIB$$ec533e4c] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-26 18:24:09.479  INFO 6351 --- [main] c.u.j.encryptor.DefaultLazyEncryptor     : Found Custom Encryptor Bean org.jasypt.encryption.pbe.PooledPBEStringEncryptor@2c77344f with name: jasyptStringEncryptor
2020-03-26 18:24:09.739  INFO 6351 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : DatasourceProperties: org.apache.tomcat.jdbc.pool.DataSource@fd4459b{ConnectionPool[defaultAutoCommit=null; defaultReadOnly=null; defaultTransactionIsolation=-1; defaultCatalog=null; driverClassName=com.mysql.jdbc.Driver; maxActive=2; maxIdle=2; minIdle=1; initialSize=1; maxWait=10000; testOnBorrow=true; testOnReturn=false; timeBetweenEvictionRunsMillis=5000; numTestsPerEvictionRun=0; minEvictableIdleTimeMillis=60000; testWhileIdle=true; testOnConnect=false; password=********; url=jdbc:mysql://localhost:3306/onesaitplatform_master_config?useUnicode=true&characterEncoding=UTF-8&allowMultiQueries=true&useSSL=false&autoReconnect=true; username=root; validationQuery=SELECT 1; validationQueryTimeout=-1; validatorClassName=null; validationInterval=3000; accessToUnderlyingConnectionAllowed=true; removeAbandoned=true; removeAbandonedTimeout=60; logAbandoned=false; connectionProperties=null; initSQL=null; jdbcInterceptors=null; jmxEnabled=true; fairQueue=true; useEquals=true; abandonWhenPercentageFull=0; maxAge=0; useLock=false; dataSource=null; dataSourceJNDI=null; suspectTimeout=0; alternateUsernameAllowed=false; commitOnReturn=false; rollbackOnReturn=false; useDisposableConnectionFacade=true; logValidationErrors=false; propagateInterruptState=false; ignoreExceptionOnPreLoad=false; useStatementFacade=true; }
2020-03-26 18:24:09.867  INFO 6351 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'onesaitPlatform-masterdb'
2020-03-26 18:24:09.899  INFO 6351 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: onesaitPlatform-masterdb
	...]
2020-03-26 18:24:10.161  INFO 6351 --- [main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.0.12.Final}
2020-03-26 18:24:10.164  INFO 6351 --- [main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2020-03-26 18:24:10.167  INFO 6351 --- [main] org.hibernate.cfg.Environment            : HHH000021: Bytecode provider name : javassist
2020-03-26 18:24:10.263  INFO 6351 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2020-03-26 18:24:10.708  INFO 6351 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5InnoDBDialect
2020-03-26 18:24:11.389  INFO 6351 --- [main] o.h.tool.hbm2ddl.SchemaValidator         : HHH000229: Running schema validator
2020-03-26 18:24:11.722  INFO 6351 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'onesaitPlatform-masterdb'
2020-03-26 18:24:12.308  INFO 6351 --- [main] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2020-03-26 18:24:12.609  INFO 6351 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded tenant multiTenantConnectionProvider
2020-03-26 18:24:12.621  INFO 6351 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded tenant currentTenantIdentifierResolver
2020-03-26 18:24:12.625  INFO 6351 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : tenantEntityManagerFactory setting up!
2020-03-26 18:24:12.626  INFO 6351 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded tenant jpaVendorAdapter
2020-03-26 18:24:12.632  INFO 6351 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : tenantEntityManagerFactory set up successfully!
2020-03-26 18:24:12.776  INFO 6351 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'onesaitplatform'
2020-03-26 18:24:12.777  INFO 6351 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: onesaitplatform
	...]
2020-03-26 18:24:12.819  INFO 6351 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded master transaction manager
2020-03-26 18:24:13.215  INFO 6351 --- [main] c.m.o.p.multitenant.util.DataSourceUtil  : Registering tenant datasource org.apache.tomcat.jdbc.pool.DataSource@29becf8b{ConnectionPool[defaultAutoCommit=null; defaultReadOnly=null; defaultTransactionIsolation=-1; defaultCatalog=null; driverClassName=com.mysql.jdbc.Driver; maxActive=30; maxIdle=5; minIdle=5; initialSize=10; maxWait=10000; testOnBorrow=true; testOnReturn=false; timeBetweenEvictionRunsMillis=5000; numTestsPerEvictionRun=0; minEvictableIdleTimeMillis=6000; testWhileIdle=true; testOnConnect=false; password=********; url=jdbc:mysql://localhost:3306/onesaitplatform_config?useUnicode=true&characterEncoding=UTF-8&allowMultiQueries=true&useSSL=false&autoReconnect=true; username=root; validationQuery=SELECT 1; validationQueryTimeout=-1; validatorClassName=null; validationInterval=3000; accessToUnderlyingConnectionAllowed=true; removeAbandoned=true; removeAbandonedTimeout=60; logAbandoned=false; connectionProperties=null; initSQL=null; jdbcInterceptors=null; jmxEnabled=true; fairQueue=true; useEquals=true; abandonWhenPercentageFull=0; maxAge=0; useLock=false; dataSource=null; dataSourceJNDI=null; suspectTimeout=0; alternateUsernameAllowed=false; commitOnReturn=false; rollbackOnReturn=false; useDisposableConnectionFacade=true; logValidationErrors=false; propagateInterruptState=false; ignoreExceptionOnPreLoad=false; useStatementFacade=true; }
2020-03-26 18:24:13.342  INFO 6351 --- [main] c.m.o.p.multitenant.util.DataSourceUtil  : Registering tenant datasource org.apache.tomcat.jdbc.pool.DataSource@628b1538{ConnectionPool[defaultAutoCommit=null; defaultReadOnly=null; defaultTransactionIsolation=-1; defaultCatalog=null; driverClassName=com.mysql.jdbc.Driver; maxActive=30; maxIdle=5; minIdle=5; initialSize=10; maxWait=10000; testOnBorrow=true; testOnReturn=false; timeBetweenEvictionRunsMillis=5000; numTestsPerEvictionRun=0; minEvictableIdleTimeMillis=6000; testWhileIdle=true; testOnConnect=false; password=********; url=jdbc:mysql://localhost:3306/onesaitplatform_config?useUnicode=true&characterEncoding=UTF-8&allowMultiQueries=true&useSSL=false&autoReconnect=true; username=root; validationQuery=SELECT 1; validationQueryTimeout=-1; validatorClassName=null; validationInterval=3000; accessToUnderlyingConnectionAllowed=true; removeAbandoned=true; removeAbandonedTimeout=60; logAbandoned=false; connectionProperties=null; initSQL=null; jdbcInterceptors=null; jmxEnabled=true; fairQueue=true; useEquals=true; abandonWhenPercentageFull=0; maxAge=0; useLock=false; dataSource=null; dataSourceJNDI=null; suspectTimeout=0; alternateUsernameAllowed=false; commitOnReturn=false; rollbackOnReturn=false; useDisposableConnectionFacade=true; logValidationErrors=false; propagateInterruptState=false; ignoreExceptionOnPreLoad=false; useStatementFacade=true; }
2020-03-26 18:24:13.385  INFO 6351 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5InnoDBDialect
2020-03-26 18:24:14.442  INFO 6351 --- [main] o.h.tool.hbm2ddl.SchemaValidator         : HHH000229: Running schema validator
2020-03-26 18:24:14.560  INFO 6351 --- [main] c.m.o.p.multitenant.util.DataSourceUtil  : Registering tenant datasource org.apache.tomcat.jdbc.pool.DataSource@9addea4{ConnectionPool[defaultAutoCommit=null; defaultReadOnly=null; defaultTransactionIsolation=-1; defaultCatalog=null; driverClassName=com.mysql.jdbc.Driver; maxActive=30; maxIdle=5; minIdle=5; initialSize=10; maxWait=10000; testOnBorrow=true; testOnReturn=false; timeBetweenEvictionRunsMillis=5000; numTestsPerEvictionRun=0; minEvictableIdleTimeMillis=6000; testWhileIdle=true; testOnConnect=false; password=********; url=jdbc:mysql://localhost:3306/onesaitplatform_config?useUnicode=true&characterEncoding=UTF-8&allowMultiQueries=true&useSSL=false&autoReconnect=true; username=root; validationQuery=SELECT 1; validationQueryTimeout=-1; validatorClassName=null; validationInterval=3000; accessToUnderlyingConnectionAllowed=true; removeAbandoned=true; removeAbandonedTimeout=60; logAbandoned=false; connectionProperties=null; initSQL=null; jdbcInterceptors=null; jmxEnabled=true; fairQueue=true; useEquals=true; abandonWhenPercentageFull=0; maxAge=0; useLock=false; dataSource=null; dataSourceJNDI=null; suspectTimeout=0; alternateUsernameAllowed=false; commitOnReturn=false; rollbackOnReturn=false; useDisposableConnectionFacade=true; logValidationErrors=false; propagateInterruptState=false; ignoreExceptionOnPreLoad=false; useStatementFacade=true; }
2020-03-26 18:24:16.771  INFO 6351 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'onesaitplatform'
2020-03-26 18:24:16.875  INFO 6351 --- [main] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2020-03-26 18:24:17.025  INFO 6351 --- [main] c.m.azure.documentdb.DocumentClient      : Initializing DocumentClient with serviceEndpoint [https://onesait-test.documents.azure.com:443/], ConnectionPolicy [ConnectionPolicy [requestTimeout=60, directRequestTimeout5, mediaRequestTimeout=300, connectionMode=Gateway, mediaReadMode=Buffered, maxPoolSize=1200, idleConnectionTimeout=60, userAgentSuffix=, retryOptions=com.microsoft.azure.documentdb.RetryOptions@7e06727f, enableEndpointDiscovery=true, preferredLocations=null, usingMultipleWriteLocations=false, handleServiceUnavailableFromProxy=false]], ConsistencyLevel [Eventual]
2020-03-26 18:24:18.265  INFO 6351 --- [main] c.m.o.p.commons.kafka.KafkaService       : Kafka configuration with no security applied
2020-03-26 18:24:21.296  INFO 6351 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded tenant transactionManager
2020-03-26 18:24:22.818  INFO 6351 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@b5cc23a: startup date [Thu Mar 26 18:24:05 CET 2020]; root of context hierarchy
2020-03-26 18:24:22.985  INFO 6351 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2020-03-26 18:24:22.986  INFO 6351 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2020-03-26 18:24:23.144  INFO 6351 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2020-03-26 18:24:23.145  INFO 6351 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2020-03-26 18:24:23.248  INFO 6351 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2020-03-26 18:24:23.830  INFO 6351 --- [main] b.a.s.AuthenticationManagerConfiguration : 

Using default security password: f087f5d4-8a71-4bce-8a15-4d94a2d1e075

2020-03-26 18:24:23.902  INFO 6351 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/css/**'], Ant [pattern='/js/**'], Ant [pattern='/images/**'], Ant [pattern='/webjars/**'], Ant [pattern='/**/favicon.ico'], Ant [pattern='/error']]], []
2020-03-26 18:24:24.044  INFO 6351 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.boot.autoconfigure.security.SpringBootWebSecurityConfiguration$ApplicationNoWebSecurityConfigurerAdapter$1@44c59ea1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1283bef9, org.springframework.security.web.context.SecurityContextPersistenceFilter@60c972b9, org.springframework.security.web.header.HeaderWriterFilter@3e6367bd, org.springframework.security.web.csrf.CsrfFilter@4770bc04, org.springframework.security.web.authentication.logout.LogoutFilter@6d0241f6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@762918e6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@11014d1b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@507f7caa, org.springframework.security.web.session.SessionManagementFilter@5f2066c6, org.springframework.security.web.access.ExceptionTranslationFilter@1d591f58]
2020-03-26 18:24:24.598  INFO 6351 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 2147483647
2020-03-26 18:24:24.616  INFO 6351 --- [main] c.m.o.platform.persistence.CosmosDBTest  : Started CosmosDBTest in 19.741 seconds (JVM running for 20.837)
2020-03-26 18:24:24.841  WARN 6351 --- [main] c.m.a.d.internal.ServiceJNIWrapper       : 'Mac OS X' with 'x86_64' system is not compatible with native library. JNI not loaded.
2020-03-26 18:24:25.282 ERROR 6351 --- [pool-5-thread-3] c.m.a.d.b.internal.BatchUpdater          : pki 0 failed to update mini-batch. Exception was Message: {"Errors":["Encountered exception while executing function. Exception = Error: {\"errors\":[{\"severity\":\"Error\",\"location\":{\"start\":55,\"end\":62},\"code\":\"SC2001\",\"message\":\"Identifier 'borough' could not be resolved.\"}]}\r\nStack trace: Error: {\"errors\":[{\"severity\":\"Error\",\"location\":{\"start\":55,\"end\":62},\"code\":\"SC2001\",\"message\":\"Identifier 'borough' could not be resolved.\"}]}\n   at queryCallback (script.js:5270:26)\n   at Anonymous function (script.js:614:29)"]}
ActivityId: 5bc578dc-1227-4215-a460-0e3d6da58bd1, Request URI: /apps/919f03de-8bbf-4ea1-ad94-ca78b0bb1f81/services/3bbc7d5a-da6e-4675-a45e-c36e55530e87/partitions/445789f4-134e-4900-98ac-7083647369ec/replicas/132290727012427261p/, RequestStats: 
RequestStartTime: 2020-03-26T17:24:25.2184047Z, RequestEndTime: 2020-03-26T17:24:25.2483914Z,  Number of regions attempted:1
ResponseTime: 2020-03-26T17:24:25.2483914Z, StoreResult: StorePhysicalAddress: rntbd://am4prdddc11-docdb-2.documents.azure.com:14368/apps/919f03de-8bbf-4ea1-ad94-ca78b0bb1f81/services/3bbc7d5a-da6e-4675-a45e-c36e55530e87/partitions/445789f4-134e-4900-98ac-7083647369ec/replicas/132290727012427261p/, LSN: 111, GlobalCommittedLsn: 111, PartitionKeyRangeId: 0, IsValid: True, StatusCode: 400, SubStatusCode: 400, RequestCharge: 2.42, ItemLSN: -1, SessionToken: -1#111, UsingLocalLSN: False, TransportException: null, ResourceType: StoredProcedure, OperationType: ExecuteJavaScript
, SDK: Microsoft.Azure.Documents.Common/2.10.0, StatusCode: BadRequest. Status code was 400

com.microsoft.azure.documentdb.DocumentClientException: Message: {"Errors":["Encountered exception while executing function. Exception = Error: {\"errors\":[{\"severity\":\"Error\",\"location\":{\"start\":55,\"end\":62},\"code\":\"SC2001\",\"message\":\"Identifier 'borough' could not be resolved.\"}]}\r\nStack trace: Error: {\"errors\":[{\"severity\":\"Error\",\"location\":{\"start\":55,\"end\":62},\"code\":\"SC2001\",\"message\":\"Identifier 'borough' could not be resolved.\"}]}\n   at queryCallback (script.js:5270:26)\n   at Anonymous function (script.js:614:29)"]}
ActivityId: 5bc578dc-1227-4215-a460-0e3d6da58bd1, Request URI: /apps/919f03de-8bbf-4ea1-ad94-ca78b0bb1f81/services/3bbc7d5a-da6e-4675-a45e-c36e55530e87/partitions/445789f4-134e-4900-98ac-7083647369ec/replicas/132290727012427261p/, RequestStats: 
RequestStartTime: 2020-03-26T17:24:25.2184047Z, RequestEndTime: 2020-03-26T17:24:25.2483914Z,  Number of regions attempted:1
ResponseTime: 2020-03-26T17:24:25.2483914Z, StoreResult: StorePhysicalAddress: rntbd://am4prdddc11-docdb-2.documents.azure.com:14368/apps/919f03de-8bbf-4ea1-ad94-ca78b0bb1f81/services/3bbc7d5a-da6e-4675-a45e-c36e55530e87/partitions/445789f4-134e-4900-98ac-7083647369ec/replicas/132290727012427261p/, LSN: 111, GlobalCommittedLsn: 111, PartitionKeyRangeId: 0, IsValid: True, StatusCode: 400, SubStatusCode: 400, RequestCharge: 2.42, ItemLSN: -1, SessionToken: -1#111, UsingLocalLSN: False, TransportException: null, ResourceType: StoredProcedure, OperationType: ExecuteJavaScript
, SDK: Microsoft.Azure.Documents.Common/2.10.0, StatusCode: BadRequest
	at com.microsoft.azure.documentdb.internal.ErrorUtils.maybeThrowException(ErrorUtils.java:74) ~[azure-documentdb-2.4.7.jar:na]
	at com.microsoft.azure.documentdb.internal.GatewayProxy.performPostRequest(GatewayProxy.java:284) ~[azure-documentdb-2.4.7.jar:na]
	at com.microsoft.azure.documentdb.internal.GatewayProxy.doExecute(GatewayProxy.java:108) ~[azure-documentdb-2.4.7.jar:na]
	at com.microsoft.azure.documentdb.internal.GatewayProxy.processMessage(GatewayProxy.java:360) ~[azure-documentdb-2.4.7.jar:na]
	at com.microsoft.azure.documentdb.DocumentClient$5.apply(DocumentClient.java:3037) ~[azure-documentdb-2.4.7.jar:na]
	at com.microsoft.azure.documentdb.internal.RetryUtility.executeDocumentClientRequest(RetryUtility.java:73) ~[azure-documentdb-2.4.7.jar:na]
	at com.microsoft.azure.documentdb.DocumentClient.doCreate(DocumentClient.java:3042) ~[azure-documentdb-2.4.7.jar:na]
	at com.microsoft.azure.documentdb.DocumentClient.executeStoredProcedure(DocumentClient.java:1571) ~[azure-documentdb-2.4.7.jar:na]
	at com.microsoft.azure.documentdb.bulkexecutor.internal.BatchUpdater$1.call(BatchUpdater.java:174) [documentdb-bulkexecutor-2.9.3.jar:na]
	at com.microsoft.azure.documentdb.bulkexecutor.internal.BatchUpdater$1.call(BatchUpdater.java:148) [documentdb-bulkexecutor-2.9.3.jar:na]
	at com.microsoft.azure.documentdb.repackaged.com.google.common.util.concurrent.TrustedListenableFutureTask$TrustedFutureInterruptibleTask.runInterruptibly(TrustedListenableFutureTask.java:125) [documentdb-bulkexecutor-2.9.3.jar:na]
	at com.microsoft.azure.documentdb.repackaged.com.google.common.util.concurrent.InterruptibleTask.run(InterruptibleTask.java:57) [documentdb-bulkexecutor-2.9.3.jar:na]
	at com.microsoft.azure.documentdb.repackaged.com.google.common.util.concurrent.TrustedListenableFutureTask.run(TrustedListenableFutureTask.java:78) [documentdb-bulkexecutor-2.9.3.jar:na]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_121]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_121]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_121]

2020-03-26 18:24:26.099  INFO 6351 --- [Thread-5] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@b5cc23a: startup date [Thu Mar 26 18:24:05 CET 2020]; root of context hierarchy
2020-03-26 18:24:26.101  INFO 6351 --- [Thread-5] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 2147483647
2020-03-26 18:24:26.102  INFO 6351 --- [Thread-5] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 0
2020-03-26 18:24:26.112  INFO 6351 --- [Thread-5] c.m.azure.documentdb.DocumentClient      : Closing DocumentClient
2020-03-26 18:24:26.134  INFO 6351 --- [Thread-5] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'onesaitplatform'
2020-03-26 18:24:26.137  INFO 6351 --- [Thread-5] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'onesaitPlatform-masterdb'
2020-03-26 18:31:56.963  WARN 6487 --- [main] ory$DuplicateJsonObjectContextCustomizer : 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/javi/.m2/repository/org/json/json/20140107/json-20140107.jar!/org/json/JSONObject.class
	jar:file:/Users/javi/.m2/repository/com/vaadin/external/google/android-json/0.0.20131108.vaadin1/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behaviour

2020-03-26 18:31:56.984  INFO 6487 --- [main] c.m.o.platform.persistence.CosmosDBTest  : Starting CosmosDBTest on Javi with PID 6487 (started by javi in /Users/javi/openplatform/onesait-cloud/onesait-cloud-platform/sources/libraries/persistence/cosmosdb-impl)
2020-03-26 18:31:56.984  INFO 6487 --- [main] c.m.o.platform.persistence.CosmosDBTest  : No active profile set, falling back to default profiles: default
2020-03-26 18:31:57.041  INFO 6487 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@b5cc23a: startup date [Thu Mar 26 18:31:57 CET 2020]; root of context hierarchy
2020-03-26 18:32:00.819  INFO 6487 --- [main] ptablePropertiesBeanFactoryPostProcessor : Post-processing PropertySource instances
2020-03-26 18:32:00.897  INFO 6487 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Inlined Test Properties [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
2020-03-26 18:32:00.905  INFO 6487 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemProperties [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
2020-03-26 18:32:00.905  INFO 6487 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemEnvironment [org.springframework.core.env.SystemEnvironmentPropertySource] to EncryptableMapPropertySourceWrapper
2020-03-26 18:32:00.906  INFO 6487 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource random [org.springframework.boot.context.config.RandomValuePropertySource] to EncryptablePropertySourceWrapper
2020-03-26 18:32:00.906  INFO 6487 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource applicationConfig: [classpath:/application.yml] [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
2020-03-26 18:32:00.957  INFO 6487 --- [main] f.a.AutowiredAnnotationBeanPostProcessor : JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2020-03-26 18:32:01.075  INFO 6487 --- [main] c.u.j.r.DefaultLazyPropertyResolver      : Property Resolver custom Bean not found with name 'encryptablePropertyResolver'. Initializing Default Property Resolver
2020-03-26 18:32:01.080  INFO 6487 --- [main] c.u.j.d.DefaultLazyPropertyDetector      : Property Detector custom Bean not found with name 'encryptablePropertyDetector'. Initializing Default Property Detector
2020-03-26 18:32:01.082  INFO 6487 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'tenant2SchemaMapper' of type [com.minsait.onesait.platform.multitenant.Tenant2SchemaMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-26 18:32:01.093  INFO 6487 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'configDBMasterConfig' of type [com.minsait.onesait.platform.config.ConfigDBMasterConfig$$EnhancerBySpringCGLIB$$37578ca1] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-26 18:32:01.100  INFO 6487 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded master PersistenceExceptionTranslationPostProcessor
2020-03-26 18:32:01.221  INFO 6487 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.kafka.annotation.KafkaBootstrapConfiguration' of type [org.springframework.kafka.annotation.KafkaBootstrapConfiguration$$EnhancerBySpringCGLIB$$5e49b50b] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-26 18:32:01.709  INFO 6487 --- [main] c.u.j.encryptor.DefaultLazyEncryptor     : Found Custom Encryptor Bean org.jasypt.encryption.pbe.PooledPBEStringEncryptor@2036f83 with name: jasyptStringEncryptor
2020-03-26 18:32:02.051  INFO 6487 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : DatasourceProperties: org.apache.tomcat.jdbc.pool.DataSource@596afb2f{ConnectionPool[defaultAutoCommit=null; defaultReadOnly=null; defaultTransactionIsolation=-1; defaultCatalog=null; driverClassName=com.mysql.jdbc.Driver; maxActive=2; maxIdle=2; minIdle=1; initialSize=1; maxWait=10000; testOnBorrow=true; testOnReturn=false; timeBetweenEvictionRunsMillis=5000; numTestsPerEvictionRun=0; minEvictableIdleTimeMillis=60000; testWhileIdle=true; testOnConnect=false; password=********; url=jdbc:mysql://localhost:3306/onesaitplatform_master_config?useUnicode=true&characterEncoding=UTF-8&allowMultiQueries=true&useSSL=false&autoReconnect=true; username=root; validationQuery=SELECT 1; validationQueryTimeout=-1; validatorClassName=null; validationInterval=3000; accessToUnderlyingConnectionAllowed=true; removeAbandoned=true; removeAbandonedTimeout=60; logAbandoned=false; connectionProperties=null; initSQL=null; jdbcInterceptors=null; jmxEnabled=true; fairQueue=true; useEquals=true; abandonWhenPercentageFull=0; maxAge=0; useLock=false; dataSource=null; dataSourceJNDI=null; suspectTimeout=0; alternateUsernameAllowed=false; commitOnReturn=false; rollbackOnReturn=false; useDisposableConnectionFacade=true; logValidationErrors=false; propagateInterruptState=false; ignoreExceptionOnPreLoad=false; useStatementFacade=true; }
2020-03-26 18:32:02.189  INFO 6487 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'onesaitPlatform-masterdb'
2020-03-26 18:32:02.216  INFO 6487 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: onesaitPlatform-masterdb
	...]
2020-03-26 18:32:02.497  INFO 6487 --- [main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.0.12.Final}
2020-03-26 18:32:02.502  INFO 6487 --- [main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2020-03-26 18:32:02.505  INFO 6487 --- [main] org.hibernate.cfg.Environment            : HHH000021: Bytecode provider name : javassist
2020-03-26 18:32:02.597  INFO 6487 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2020-03-26 18:32:03.132  INFO 6487 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5InnoDBDialect
2020-03-26 18:32:04.022  INFO 6487 --- [main] o.h.tool.hbm2ddl.SchemaValidator         : HHH000229: Running schema validator
2020-03-26 18:32:04.486  INFO 6487 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'onesaitPlatform-masterdb'
2020-03-26 18:32:05.063  INFO 6487 --- [main] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2020-03-26 18:32:05.395  INFO 6487 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded tenant multiTenantConnectionProvider
2020-03-26 18:32:05.410  INFO 6487 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded tenant currentTenantIdentifierResolver
2020-03-26 18:32:05.415  INFO 6487 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : tenantEntityManagerFactory setting up!
2020-03-26 18:32:05.415  INFO 6487 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded tenant jpaVendorAdapter
2020-03-26 18:32:05.424  INFO 6487 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : tenantEntityManagerFactory set up successfully!
2020-03-26 18:32:05.612  INFO 6487 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'onesaitplatform'
2020-03-26 18:32:05.613  INFO 6487 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: onesaitplatform
	...]
2020-03-26 18:32:05.665  INFO 6487 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded master transaction manager
2020-03-26 18:32:06.062  INFO 6487 --- [main] c.m.o.p.multitenant.util.DataSourceUtil  : Registering tenant datasource org.apache.tomcat.jdbc.pool.DataSource@8b93c88{ConnectionPool[defaultAutoCommit=null; defaultReadOnly=null; defaultTransactionIsolation=-1; defaultCatalog=null; driverClassName=com.mysql.jdbc.Driver; maxActive=30; maxIdle=5; minIdle=5; initialSize=10; maxWait=10000; testOnBorrow=true; testOnReturn=false; timeBetweenEvictionRunsMillis=5000; numTestsPerEvictionRun=0; minEvictableIdleTimeMillis=6000; testWhileIdle=true; testOnConnect=false; password=********; url=jdbc:mysql://localhost:3306/onesaitplatform_config?useUnicode=true&characterEncoding=UTF-8&allowMultiQueries=true&useSSL=false&autoReconnect=true; username=root; validationQuery=SELECT 1; validationQueryTimeout=-1; validatorClassName=null; validationInterval=3000; accessToUnderlyingConnectionAllowed=true; removeAbandoned=true; removeAbandonedTimeout=60; logAbandoned=false; connectionProperties=null; initSQL=null; jdbcInterceptors=null; jmxEnabled=true; fairQueue=true; useEquals=true; abandonWhenPercentageFull=0; maxAge=0; useLock=false; dataSource=null; dataSourceJNDI=null; suspectTimeout=0; alternateUsernameAllowed=false; commitOnReturn=false; rollbackOnReturn=false; useDisposableConnectionFacade=true; logValidationErrors=false; propagateInterruptState=false; ignoreExceptionOnPreLoad=false; useStatementFacade=true; }
2020-03-26 18:32:06.203  INFO 6487 --- [main] c.m.o.p.multitenant.util.DataSourceUtil  : Registering tenant datasource org.apache.tomcat.jdbc.pool.DataSource@628e0403{ConnectionPool[defaultAutoCommit=null; defaultReadOnly=null; defaultTransactionIsolation=-1; defaultCatalog=null; driverClassName=com.mysql.jdbc.Driver; maxActive=30; maxIdle=5; minIdle=5; initialSize=10; maxWait=10000; testOnBorrow=true; testOnReturn=false; timeBetweenEvictionRunsMillis=5000; numTestsPerEvictionRun=0; minEvictableIdleTimeMillis=6000; testWhileIdle=true; testOnConnect=false; password=********; url=jdbc:mysql://localhost:3306/onesaitplatform_config?useUnicode=true&characterEncoding=UTF-8&allowMultiQueries=true&useSSL=false&autoReconnect=true; username=root; validationQuery=SELECT 1; validationQueryTimeout=-1; validatorClassName=null; validationInterval=3000; accessToUnderlyingConnectionAllowed=true; removeAbandoned=true; removeAbandonedTimeout=60; logAbandoned=false; connectionProperties=null; initSQL=null; jdbcInterceptors=null; jmxEnabled=true; fairQueue=true; useEquals=true; abandonWhenPercentageFull=0; maxAge=0; useLock=false; dataSource=null; dataSourceJNDI=null; suspectTimeout=0; alternateUsernameAllowed=false; commitOnReturn=false; rollbackOnReturn=false; useDisposableConnectionFacade=true; logValidationErrors=false; propagateInterruptState=false; ignoreExceptionOnPreLoad=false; useStatementFacade=true; }
2020-03-26 18:32:06.247  INFO 6487 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5InnoDBDialect
2020-03-26 18:32:07.354  INFO 6487 --- [main] o.h.tool.hbm2ddl.SchemaValidator         : HHH000229: Running schema validator
2020-03-26 18:32:07.505  INFO 6487 --- [main] c.m.o.p.multitenant.util.DataSourceUtil  : Registering tenant datasource org.apache.tomcat.jdbc.pool.DataSource@5fa78e0a{ConnectionPool[defaultAutoCommit=null; defaultReadOnly=null; defaultTransactionIsolation=-1; defaultCatalog=null; driverClassName=com.mysql.jdbc.Driver; maxActive=30; maxIdle=5; minIdle=5; initialSize=10; maxWait=10000; testOnBorrow=true; testOnReturn=false; timeBetweenEvictionRunsMillis=5000; numTestsPerEvictionRun=0; minEvictableIdleTimeMillis=6000; testWhileIdle=true; testOnConnect=false; password=********; url=jdbc:mysql://localhost:3306/onesaitplatform_config?useUnicode=true&characterEncoding=UTF-8&allowMultiQueries=true&useSSL=false&autoReconnect=true; username=root; validationQuery=SELECT 1; validationQueryTimeout=-1; validatorClassName=null; validationInterval=3000; accessToUnderlyingConnectionAllowed=true; removeAbandoned=true; removeAbandonedTimeout=60; logAbandoned=false; connectionProperties=null; initSQL=null; jdbcInterceptors=null; jmxEnabled=true; fairQueue=true; useEquals=true; abandonWhenPercentageFull=0; maxAge=0; useLock=false; dataSource=null; dataSourceJNDI=null; suspectTimeout=0; alternateUsernameAllowed=false; commitOnReturn=false; rollbackOnReturn=false; useDisposableConnectionFacade=true; logValidationErrors=false; propagateInterruptState=false; ignoreExceptionOnPreLoad=false; useStatementFacade=true; }
2020-03-26 18:32:10.074  INFO 6487 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'onesaitplatform'
2020-03-26 18:32:10.204  INFO 6487 --- [main] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2020-03-26 18:32:10.414  INFO 6487 --- [main] c.m.azure.documentdb.DocumentClient      : Initializing DocumentClient with serviceEndpoint [https://onesait-test.documents.azure.com:443/], ConnectionPolicy [ConnectionPolicy [requestTimeout=60, directRequestTimeout5, mediaRequestTimeout=300, connectionMode=Gateway, mediaReadMode=Buffered, maxPoolSize=1200, idleConnectionTimeout=60, userAgentSuffix=, retryOptions=com.microsoft.azure.documentdb.RetryOptions@190f522a, enableEndpointDiscovery=true, preferredLocations=null, usingMultipleWriteLocations=false, handleServiceUnavailableFromProxy=false]], ConsistencyLevel [Eventual]
2020-03-26 18:32:11.972  INFO 6487 --- [main] c.m.o.p.commons.kafka.KafkaService       : Kafka configuration with no security applied
2020-03-26 18:32:15.602  INFO 6487 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded tenant transactionManager
2020-03-26 18:32:17.662  INFO 6487 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@b5cc23a: startup date [Thu Mar 26 18:31:57 CET 2020]; root of context hierarchy
2020-03-26 18:32:18.116  INFO 6487 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2020-03-26 18:32:18.119  INFO 6487 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2020-03-26 18:32:18.323  INFO 6487 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2020-03-26 18:32:18.324  INFO 6487 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2020-03-26 18:32:18.449  INFO 6487 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2020-03-26 18:32:19.388  INFO 6487 --- [main] b.a.s.AuthenticationManagerConfiguration : 

Using default security password: b8db1849-2463-4b3f-816f-c206984da30f

2020-03-26 18:32:19.468  INFO 6487 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/css/**'], Ant [pattern='/js/**'], Ant [pattern='/images/**'], Ant [pattern='/webjars/**'], Ant [pattern='/**/favicon.ico'], Ant [pattern='/error']]], []
2020-03-26 18:32:19.649  INFO 6487 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.boot.autoconfigure.security.SpringBootWebSecurityConfiguration$ApplicationNoWebSecurityConfigurerAdapter$1@179695c7, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@150ec661, org.springframework.security.web.context.SecurityContextPersistenceFilter@2207bca1, org.springframework.security.web.header.HeaderWriterFilter@4e8007e2, org.springframework.security.web.csrf.CsrfFilter@318821c7, org.springframework.security.web.authentication.logout.LogoutFilter@abbe7b3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@800fc6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@79a6e0e6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1b1f1ee4, org.springframework.security.web.session.SessionManagementFilter@6bf1b075, org.springframework.security.web.access.ExceptionTranslationFilter@fc35cc]
2020-03-26 18:32:20.232  INFO 6487 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 2147483647
2020-03-26 18:32:20.252  INFO 6487 --- [main] c.m.o.platform.persistence.CosmosDBTest  : Started CosmosDBTest in 23.894 seconds (JVM running for 25.411)
2020-03-26 18:32:20.507  WARN 6487 --- [main] c.m.a.d.internal.ServiceJNIWrapper       : 'Mac OS X' with 'x86_64' system is not compatible with native library. JNI not loaded.
2020-03-26 18:32:21.022 ERROR 6487 --- [pool-5-thread-3] c.m.a.d.b.internal.BatchUpdater          : pki 0 failed to update mini-batch. Exception was Message: {"Errors":["Encountered exception while executing function. Exception = Error: {\"errors\":[{\"severity\":\"Error\",\"location\":{\"start\":55,\"end\":62},\"code\":\"SC2001\",\"message\":\"Identifier 'borough' could not be resolved.\"}]}\r\nStack trace: Error: {\"errors\":[{\"severity\":\"Error\",\"location\":{\"start\":55,\"end\":62},\"code\":\"SC2001\",\"message\":\"Identifier 'borough' could not be resolved.\"}]}\n   at queryCallback (script.js:5270:26)\n   at Anonymous function (script.js:614:29)"]}
ActivityId: a2c16043-b209-488f-ae1b-702480edd9b1, Request URI: /apps/919f03de-8bbf-4ea1-ad94-ca78b0bb1f81/services/3bbc7d5a-da6e-4675-a45e-c36e55530e87/partitions/445789f4-134e-4900-98ac-7083647369ec/replicas/132290727012427261p/, RequestStats: 
RequestStartTime: 2020-03-26T17:32:20.9922719Z, RequestEndTime: 2020-03-26T17:32:20.9922719Z,  Number of regions attempted:1
ResponseTime: 2020-03-26T17:32:20.9922719Z, StoreResult: StorePhysicalAddress: rntbd://am4prdddc11-docdb-2.documents.azure.com:14368/apps/919f03de-8bbf-4ea1-ad94-ca78b0bb1f81/services/3bbc7d5a-da6e-4675-a45e-c36e55530e87/partitions/445789f4-134e-4900-98ac-7083647369ec/replicas/132290727012427261p/, LSN: 111, GlobalCommittedLsn: 111, PartitionKeyRangeId: 0, IsValid: True, StatusCode: 400, SubStatusCode: 400, RequestCharge: 2.42, ItemLSN: -1, SessionToken: -1#111, UsingLocalLSN: False, TransportException: null, ResourceType: StoredProcedure, OperationType: ExecuteJavaScript
, SDK: Microsoft.Azure.Documents.Common/2.10.0, StatusCode: BadRequest. Status code was 400

com.microsoft.azure.documentdb.DocumentClientException: Message: {"Errors":["Encountered exception while executing function. Exception = Error: {\"errors\":[{\"severity\":\"Error\",\"location\":{\"start\":55,\"end\":62},\"code\":\"SC2001\",\"message\":\"Identifier 'borough' could not be resolved.\"}]}\r\nStack trace: Error: {\"errors\":[{\"severity\":\"Error\",\"location\":{\"start\":55,\"end\":62},\"code\":\"SC2001\",\"message\":\"Identifier 'borough' could not be resolved.\"}]}\n   at queryCallback (script.js:5270:26)\n   at Anonymous function (script.js:614:29)"]}
ActivityId: a2c16043-b209-488f-ae1b-702480edd9b1, Request URI: /apps/919f03de-8bbf-4ea1-ad94-ca78b0bb1f81/services/3bbc7d5a-da6e-4675-a45e-c36e55530e87/partitions/445789f4-134e-4900-98ac-7083647369ec/replicas/132290727012427261p/, RequestStats: 
RequestStartTime: 2020-03-26T17:32:20.9922719Z, RequestEndTime: 2020-03-26T17:32:20.9922719Z,  Number of regions attempted:1
ResponseTime: 2020-03-26T17:32:20.9922719Z, StoreResult: StorePhysicalAddress: rntbd://am4prdddc11-docdb-2.documents.azure.com:14368/apps/919f03de-8bbf-4ea1-ad94-ca78b0bb1f81/services/3bbc7d5a-da6e-4675-a45e-c36e55530e87/partitions/445789f4-134e-4900-98ac-7083647369ec/replicas/132290727012427261p/, LSN: 111, GlobalCommittedLsn: 111, PartitionKeyRangeId: 0, IsValid: True, StatusCode: 400, SubStatusCode: 400, RequestCharge: 2.42, ItemLSN: -1, SessionToken: -1#111, UsingLocalLSN: False, TransportException: null, ResourceType: StoredProcedure, OperationType: ExecuteJavaScript
, SDK: Microsoft.Azure.Documents.Common/2.10.0, StatusCode: BadRequest
	at com.microsoft.azure.documentdb.internal.ErrorUtils.maybeThrowException(ErrorUtils.java:74) ~[azure-documentdb-2.4.7.jar:na]
	at com.microsoft.azure.documentdb.internal.GatewayProxy.performPostRequest(GatewayProxy.java:284) ~[azure-documentdb-2.4.7.jar:na]
	at com.microsoft.azure.documentdb.internal.GatewayProxy.doExecute(GatewayProxy.java:108) ~[azure-documentdb-2.4.7.jar:na]
	at com.microsoft.azure.documentdb.internal.GatewayProxy.processMessage(GatewayProxy.java:360) ~[azure-documentdb-2.4.7.jar:na]
	at com.microsoft.azure.documentdb.DocumentClient$5.apply(DocumentClient.java:3037) ~[azure-documentdb-2.4.7.jar:na]
	at com.microsoft.azure.documentdb.internal.RetryUtility.executeDocumentClientRequest(RetryUtility.java:73) ~[azure-documentdb-2.4.7.jar:na]
	at com.microsoft.azure.documentdb.DocumentClient.doCreate(DocumentClient.java:3042) ~[azure-documentdb-2.4.7.jar:na]
	at com.microsoft.azure.documentdb.DocumentClient.executeStoredProcedure(DocumentClient.java:1571) ~[azure-documentdb-2.4.7.jar:na]
	at com.microsoft.azure.documentdb.bulkexecutor.internal.BatchUpdater$1.call(BatchUpdater.java:174) [documentdb-bulkexecutor-2.9.3.jar:na]
	at com.microsoft.azure.documentdb.bulkexecutor.internal.BatchUpdater$1.call(BatchUpdater.java:148) [documentdb-bulkexecutor-2.9.3.jar:na]
	at com.microsoft.azure.documentdb.repackaged.com.google.common.util.concurrent.TrustedListenableFutureTask$TrustedFutureInterruptibleTask.runInterruptibly(TrustedListenableFutureTask.java:125) [documentdb-bulkexecutor-2.9.3.jar:na]
	at com.microsoft.azure.documentdb.repackaged.com.google.common.util.concurrent.InterruptibleTask.run(InterruptibleTask.java:57) [documentdb-bulkexecutor-2.9.3.jar:na]
	at com.microsoft.azure.documentdb.repackaged.com.google.common.util.concurrent.TrustedListenableFutureTask.run(TrustedListenableFutureTask.java:78) [documentdb-bulkexecutor-2.9.3.jar:na]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_121]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_121]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_121]

2020-03-26 18:32:21.857  INFO 6487 --- [Thread-5] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@b5cc23a: startup date [Thu Mar 26 18:31:57 CET 2020]; root of context hierarchy
2020-03-26 18:32:21.859  INFO 6487 --- [Thread-5] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 2147483647
2020-03-26 18:32:21.860  INFO 6487 --- [Thread-5] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 0
2020-03-26 18:32:21.870  INFO 6487 --- [Thread-5] c.m.azure.documentdb.DocumentClient      : Closing DocumentClient
2020-03-26 18:32:21.893  INFO 6487 --- [Thread-5] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'onesaitplatform'
2020-03-26 18:32:21.896  INFO 6487 --- [Thread-5] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'onesaitPlatform-masterdb'
2020-03-26 18:33:25.758  WARN 6508 --- [main] ory$DuplicateJsonObjectContextCustomizer : 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/javi/.m2/repository/org/json/json/20140107/json-20140107.jar!/org/json/JSONObject.class
	jar:file:/Users/javi/.m2/repository/com/vaadin/external/google/android-json/0.0.20131108.vaadin1/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behaviour

2020-03-26 18:33:25.801  INFO 6508 --- [main] c.m.o.platform.persistence.CosmosDBTest  : Starting CosmosDBTest on Javi with PID 6508 (started by javi in /Users/javi/openplatform/onesait-cloud/onesait-cloud-platform/sources/libraries/persistence/cosmosdb-impl)
2020-03-26 18:33:25.803  INFO 6508 --- [main] c.m.o.platform.persistence.CosmosDBTest  : No active profile set, falling back to default profiles: default
2020-03-26 18:33:25.892  INFO 6508 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@432038ec: startup date [Thu Mar 26 18:33:25 CET 2020]; root of context hierarchy
2020-03-26 18:33:30.468  INFO 6508 --- [main] ptablePropertiesBeanFactoryPostProcessor : Post-processing PropertySource instances
2020-03-26 18:33:30.542  INFO 6508 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Inlined Test Properties [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
2020-03-26 18:33:30.544  INFO 6508 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemProperties [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
2020-03-26 18:33:30.546  INFO 6508 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemEnvironment [org.springframework.core.env.SystemEnvironmentPropertySource] to EncryptableMapPropertySourceWrapper
2020-03-26 18:33:30.547  INFO 6508 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource random [org.springframework.boot.context.config.RandomValuePropertySource] to EncryptablePropertySourceWrapper
2020-03-26 18:33:30.548  INFO 6508 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource applicationConfig: [classpath:/application.yml] [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
2020-03-26 18:33:30.599  INFO 6508 --- [main] f.a.AutowiredAnnotationBeanPostProcessor : JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2020-03-26 18:33:30.722  INFO 6508 --- [main] c.u.j.r.DefaultLazyPropertyResolver      : Property Resolver custom Bean not found with name 'encryptablePropertyResolver'. Initializing Default Property Resolver
2020-03-26 18:33:30.726  INFO 6508 --- [main] c.u.j.d.DefaultLazyPropertyDetector      : Property Detector custom Bean not found with name 'encryptablePropertyDetector'. Initializing Default Property Detector
2020-03-26 18:33:30.728  INFO 6508 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'tenant2SchemaMapper' of type [com.minsait.onesait.platform.multitenant.Tenant2SchemaMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-26 18:33:30.737  INFO 6508 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'configDBMasterConfig' of type [com.minsait.onesait.platform.config.ConfigDBMasterConfig$$EnhancerBySpringCGLIB$$181c4cd7] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-26 18:33:30.743  INFO 6508 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded master PersistenceExceptionTranslationPostProcessor
2020-03-26 18:33:30.890  INFO 6508 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.kafka.annotation.KafkaBootstrapConfiguration' of type [org.springframework.kafka.annotation.KafkaBootstrapConfiguration$$EnhancerBySpringCGLIB$$3f0e7541] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-26 18:33:31.438  INFO 6508 --- [main] c.u.j.encryptor.DefaultLazyEncryptor     : Found Custom Encryptor Bean org.jasypt.encryption.pbe.PooledPBEStringEncryptor@44f0ff2b with name: jasyptStringEncryptor
2020-03-26 18:33:31.765  INFO 6508 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : DatasourceProperties: org.apache.tomcat.jdbc.pool.DataSource@57186526{ConnectionPool[defaultAutoCommit=null; defaultReadOnly=null; defaultTransactionIsolation=-1; defaultCatalog=null; driverClassName=com.mysql.jdbc.Driver; maxActive=2; maxIdle=2; minIdle=1; initialSize=1; maxWait=10000; testOnBorrow=true; testOnReturn=false; timeBetweenEvictionRunsMillis=5000; numTestsPerEvictionRun=0; minEvictableIdleTimeMillis=60000; testWhileIdle=true; testOnConnect=false; password=********; url=jdbc:mysql://localhost:3306/onesaitplatform_master_config?useUnicode=true&characterEncoding=UTF-8&allowMultiQueries=true&useSSL=false&autoReconnect=true; username=root; validationQuery=SELECT 1; validationQueryTimeout=-1; validatorClassName=null; validationInterval=3000; accessToUnderlyingConnectionAllowed=true; removeAbandoned=true; removeAbandonedTimeout=60; logAbandoned=false; connectionProperties=null; initSQL=null; jdbcInterceptors=null; jmxEnabled=true; fairQueue=true; useEquals=true; abandonWhenPercentageFull=0; maxAge=0; useLock=false; dataSource=null; dataSourceJNDI=null; suspectTimeout=0; alternateUsernameAllowed=false; commitOnReturn=false; rollbackOnReturn=false; useDisposableConnectionFacade=true; logValidationErrors=false; propagateInterruptState=false; ignoreExceptionOnPreLoad=false; useStatementFacade=true; }
2020-03-26 18:33:31.879  INFO 6508 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'onesaitPlatform-masterdb'
2020-03-26 18:33:31.902  INFO 6508 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: onesaitPlatform-masterdb
	...]
2020-03-26 18:33:32.099  INFO 6508 --- [main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.0.12.Final}
2020-03-26 18:33:32.102  INFO 6508 --- [main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2020-03-26 18:33:32.104  INFO 6508 --- [main] org.hibernate.cfg.Environment            : HHH000021: Bytecode provider name : javassist
2020-03-26 18:33:32.181  INFO 6508 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2020-03-26 18:33:32.669  INFO 6508 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5InnoDBDialect
2020-03-26 18:33:33.550  INFO 6508 --- [main] o.h.tool.hbm2ddl.SchemaValidator         : HHH000229: Running schema validator
2020-03-26 18:33:33.954  INFO 6508 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'onesaitPlatform-masterdb'
2020-03-26 18:33:34.545  INFO 6508 --- [main] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2020-03-26 18:33:34.840  INFO 6508 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded tenant multiTenantConnectionProvider
2020-03-26 18:33:34.856  INFO 6508 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded tenant currentTenantIdentifierResolver
2020-03-26 18:33:34.859  INFO 6508 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : tenantEntityManagerFactory setting up!
2020-03-26 18:33:34.859  INFO 6508 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded tenant jpaVendorAdapter
2020-03-26 18:33:34.868  INFO 6508 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : tenantEntityManagerFactory set up successfully!
2020-03-26 18:33:35.014  INFO 6508 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'onesaitplatform'
2020-03-26 18:33:35.015  INFO 6508 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: onesaitplatform
	...]
2020-03-26 18:33:35.050  INFO 6508 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded master transaction manager
2020-03-26 18:33:35.510  INFO 6508 --- [main] c.m.o.p.multitenant.util.DataSourceUtil  : Registering tenant datasource org.apache.tomcat.jdbc.pool.DataSource@57617a75{ConnectionPool[defaultAutoCommit=null; defaultReadOnly=null; defaultTransactionIsolation=-1; defaultCatalog=null; driverClassName=com.mysql.jdbc.Driver; maxActive=30; maxIdle=5; minIdle=5; initialSize=10; maxWait=10000; testOnBorrow=true; testOnReturn=false; timeBetweenEvictionRunsMillis=5000; numTestsPerEvictionRun=0; minEvictableIdleTimeMillis=6000; testWhileIdle=true; testOnConnect=false; password=********; url=jdbc:mysql://localhost:3306/onesaitplatform_config?useUnicode=true&characterEncoding=UTF-8&allowMultiQueries=true&useSSL=false&autoReconnect=true; username=root; validationQuery=SELECT 1; validationQueryTimeout=-1; validatorClassName=null; validationInterval=3000; accessToUnderlyingConnectionAllowed=true; removeAbandoned=true; removeAbandonedTimeout=60; logAbandoned=false; connectionProperties=null; initSQL=null; jdbcInterceptors=null; jmxEnabled=true; fairQueue=true; useEquals=true; abandonWhenPercentageFull=0; maxAge=0; useLock=false; dataSource=null; dataSourceJNDI=null; suspectTimeout=0; alternateUsernameAllowed=false; commitOnReturn=false; rollbackOnReturn=false; useDisposableConnectionFacade=true; logValidationErrors=false; propagateInterruptState=false; ignoreExceptionOnPreLoad=false; useStatementFacade=true; }
2020-03-26 18:33:35.579  INFO 6508 --- [main] c.m.o.p.multitenant.util.DataSourceUtil  : Registering tenant datasource org.apache.tomcat.jdbc.pool.DataSource@3794b7b1{ConnectionPool[defaultAutoCommit=null; defaultReadOnly=null; defaultTransactionIsolation=-1; defaultCatalog=null; driverClassName=com.mysql.jdbc.Driver; maxActive=30; maxIdle=5; minIdle=5; initialSize=10; maxWait=10000; testOnBorrow=true; testOnReturn=false; timeBetweenEvictionRunsMillis=5000; numTestsPerEvictionRun=0; minEvictableIdleTimeMillis=6000; testWhileIdle=true; testOnConnect=false; password=********; url=jdbc:mysql://localhost:3306/onesaitplatform_config?useUnicode=true&characterEncoding=UTF-8&allowMultiQueries=true&useSSL=false&autoReconnect=true; username=root; validationQuery=SELECT 1; validationQueryTimeout=-1; validatorClassName=null; validationInterval=3000; accessToUnderlyingConnectionAllowed=true; removeAbandoned=true; removeAbandonedTimeout=60; logAbandoned=false; connectionProperties=null; initSQL=null; jdbcInterceptors=null; jmxEnabled=true; fairQueue=true; useEquals=true; abandonWhenPercentageFull=0; maxAge=0; useLock=false; dataSource=null; dataSourceJNDI=null; suspectTimeout=0; alternateUsernameAllowed=false; commitOnReturn=false; rollbackOnReturn=false; useDisposableConnectionFacade=true; logValidationErrors=false; propagateInterruptState=false; ignoreExceptionOnPreLoad=false; useStatementFacade=true; }
2020-03-26 18:33:35.628  INFO 6508 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5InnoDBDialect
2020-03-26 18:33:36.627  INFO 6508 --- [main] o.h.tool.hbm2ddl.SchemaValidator         : HHH000229: Running schema validator
2020-03-26 18:33:36.692  INFO 6508 --- [main] c.m.o.p.multitenant.util.DataSourceUtil  : Registering tenant datasource org.apache.tomcat.jdbc.pool.DataSource@d4c6a43{ConnectionPool[defaultAutoCommit=null; defaultReadOnly=null; defaultTransactionIsolation=-1; defaultCatalog=null; driverClassName=com.mysql.jdbc.Driver; maxActive=30; maxIdle=5; minIdle=5; initialSize=10; maxWait=10000; testOnBorrow=true; testOnReturn=false; timeBetweenEvictionRunsMillis=5000; numTestsPerEvictionRun=0; minEvictableIdleTimeMillis=6000; testWhileIdle=true; testOnConnect=false; password=********; url=jdbc:mysql://localhost:3306/onesaitplatform_config?useUnicode=true&characterEncoding=UTF-8&allowMultiQueries=true&useSSL=false&autoReconnect=true; username=root; validationQuery=SELECT 1; validationQueryTimeout=-1; validatorClassName=null; validationInterval=3000; accessToUnderlyingConnectionAllowed=true; removeAbandoned=true; removeAbandonedTimeout=60; logAbandoned=false; connectionProperties=null; initSQL=null; jdbcInterceptors=null; jmxEnabled=true; fairQueue=true; useEquals=true; abandonWhenPercentageFull=0; maxAge=0; useLock=false; dataSource=null; dataSourceJNDI=null; suspectTimeout=0; alternateUsernameAllowed=false; commitOnReturn=false; rollbackOnReturn=false; useDisposableConnectionFacade=true; logValidationErrors=false; propagateInterruptState=false; ignoreExceptionOnPreLoad=false; useStatementFacade=true; }
2020-03-26 18:33:39.355  INFO 6508 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'onesaitplatform'
2020-03-26 18:33:39.511  INFO 6508 --- [main] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2020-03-26 18:33:39.677  INFO 6508 --- [main] c.m.azure.documentdb.DocumentClient      : Initializing DocumentClient with serviceEndpoint [https://onesait-test.documents.azure.com:443/], ConnectionPolicy [ConnectionPolicy [requestTimeout=60, directRequestTimeout5, mediaRequestTimeout=300, connectionMode=Gateway, mediaReadMode=Buffered, maxPoolSize=1200, idleConnectionTimeout=60, userAgentSuffix=, retryOptions=com.microsoft.azure.documentdb.RetryOptions@6ae47c1e, enableEndpointDiscovery=true, preferredLocations=null, usingMultipleWriteLocations=false, handleServiceUnavailableFromProxy=false]], ConsistencyLevel [Eventual]
2020-03-26 18:33:40.887  INFO 6508 --- [main] c.m.o.p.commons.kafka.KafkaService       : Kafka configuration with no security applied
2020-03-26 18:33:43.834  INFO 6508 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded tenant transactionManager
2020-03-26 18:33:45.183  INFO 6508 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@432038ec: startup date [Thu Mar 26 18:33:25 CET 2020]; root of context hierarchy
2020-03-26 18:33:45.343  INFO 6508 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2020-03-26 18:33:45.344  INFO 6508 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2020-03-26 18:33:45.416  INFO 6508 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2020-03-26 18:33:45.417  INFO 6508 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2020-03-26 18:33:45.521  INFO 6508 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2020-03-26 18:33:46.082  INFO 6508 --- [main] b.a.s.AuthenticationManagerConfiguration : 

Using default security password: 79d7314a-d641-419f-b17b-0bdc714198df

2020-03-26 18:33:46.163  INFO 6508 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/css/**'], Ant [pattern='/js/**'], Ant [pattern='/images/**'], Ant [pattern='/webjars/**'], Ant [pattern='/**/favicon.ico'], Ant [pattern='/error']]], []
2020-03-26 18:33:46.369  INFO 6508 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.boot.autoconfigure.security.SpringBootWebSecurityConfiguration$ApplicationNoWebSecurityConfigurerAdapter$1@6e4c6264, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@498aef62, org.springframework.security.web.context.SecurityContextPersistenceFilter@19d27f04, org.springframework.security.web.header.HeaderWriterFilter@1c97ede3, org.springframework.security.web.csrf.CsrfFilter@68435eec, org.springframework.security.web.authentication.logout.LogoutFilter@7d2ae92b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@121c65d0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4190f278, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@634324c9, org.springframework.security.web.session.SessionManagementFilter@7e2c3f31, org.springframework.security.web.access.ExceptionTranslationFilter@2541f33f]
2020-03-26 18:33:46.809  INFO 6508 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 2147483647
2020-03-26 18:33:46.826  INFO 6508 --- [main] c.m.o.platform.persistence.CosmosDBTest  : Started CosmosDBTest in 21.632 seconds (JVM running for 22.511)
2020-03-26 18:33:47.020  WARN 6508 --- [main] c.m.a.d.internal.ServiceJNIWrapper       : 'Mac OS X' with 'x86_64' system is not compatible with native library. JNI not loaded.
2020-03-26 18:33:47.711 ERROR 6508 --- [pool-5-thread-3] c.m.a.d.b.internal.BatchUpdater          : pki 0 failed to update mini-batch. Exception was Message: {"Errors":["Encountered exception while executing function. Exception = Error: {\"errors\":[{\"severity\":\"Error\",\"location\":{\"start\":55,\"end\":62},\"code\":\"SC2001\",\"message\":\"Identifier 'borough' could not be resolved.\"}]}\r\nStack trace: Error: {\"errors\":[{\"severity\":\"Error\",\"location\":{\"start\":55,\"end\":62},\"code\":\"SC2001\",\"message\":\"Identifier 'borough' could not be resolved.\"}]}\n   at queryCallback (script.js:5270:26)\n   at Anonymous function (script.js:614:29)"]}
ActivityId: 5ad0f316-f9b6-49db-9153-4e2239310e04, Request URI: /apps/919f03de-8bbf-4ea1-ad94-ca78b0bb1f81/services/3bbc7d5a-da6e-4675-a45e-c36e55530e87/partitions/445789f4-134e-4900-98ac-7083647369ec/replicas/132290727012427261p/, RequestStats: 
RequestStartTime: 2020-03-26T17:33:47.6560460Z, RequestEndTime: 2020-03-26T17:33:47.6851682Z,  Number of regions attempted:1
ResponseTime: 2020-03-26T17:33:47.6851682Z, StoreResult: StorePhysicalAddress: rntbd://am4prdddc11-docdb-2.documents.azure.com:14368/apps/919f03de-8bbf-4ea1-ad94-ca78b0bb1f81/services/3bbc7d5a-da6e-4675-a45e-c36e55530e87/partitions/445789f4-134e-4900-98ac-7083647369ec/replicas/132290727012427261p/, LSN: 111, GlobalCommittedLsn: 111, PartitionKeyRangeId: 0, IsValid: True, StatusCode: 400, SubStatusCode: 400, RequestCharge: 2.37, ItemLSN: -1, SessionToken: -1#111, UsingLocalLSN: False, TransportException: null, ResourceType: StoredProcedure, OperationType: ExecuteJavaScript
, SDK: Microsoft.Azure.Documents.Common/2.10.0, StatusCode: BadRequest. Status code was 400

com.microsoft.azure.documentdb.DocumentClientException: Message: {"Errors":["Encountered exception while executing function. Exception = Error: {\"errors\":[{\"severity\":\"Error\",\"location\":{\"start\":55,\"end\":62},\"code\":\"SC2001\",\"message\":\"Identifier 'borough' could not be resolved.\"}]}\r\nStack trace: Error: {\"errors\":[{\"severity\":\"Error\",\"location\":{\"start\":55,\"end\":62},\"code\":\"SC2001\",\"message\":\"Identifier 'borough' could not be resolved.\"}]}\n   at queryCallback (script.js:5270:26)\n   at Anonymous function (script.js:614:29)"]}
ActivityId: 5ad0f316-f9b6-49db-9153-4e2239310e04, Request URI: /apps/919f03de-8bbf-4ea1-ad94-ca78b0bb1f81/services/3bbc7d5a-da6e-4675-a45e-c36e55530e87/partitions/445789f4-134e-4900-98ac-7083647369ec/replicas/132290727012427261p/, RequestStats: 
RequestStartTime: 2020-03-26T17:33:47.6560460Z, RequestEndTime: 2020-03-26T17:33:47.6851682Z,  Number of regions attempted:1
ResponseTime: 2020-03-26T17:33:47.6851682Z, StoreResult: StorePhysicalAddress: rntbd://am4prdddc11-docdb-2.documents.azure.com:14368/apps/919f03de-8bbf-4ea1-ad94-ca78b0bb1f81/services/3bbc7d5a-da6e-4675-a45e-c36e55530e87/partitions/445789f4-134e-4900-98ac-7083647369ec/replicas/132290727012427261p/, LSN: 111, GlobalCommittedLsn: 111, PartitionKeyRangeId: 0, IsValid: True, StatusCode: 400, SubStatusCode: 400, RequestCharge: 2.37, ItemLSN: -1, SessionToken: -1#111, UsingLocalLSN: False, TransportException: null, ResourceType: StoredProcedure, OperationType: ExecuteJavaScript
, SDK: Microsoft.Azure.Documents.Common/2.10.0, StatusCode: BadRequest
	at com.microsoft.azure.documentdb.internal.ErrorUtils.maybeThrowException(ErrorUtils.java:74) ~[azure-documentdb-2.4.7.jar:na]
	at com.microsoft.azure.documentdb.internal.GatewayProxy.performPostRequest(GatewayProxy.java:284) ~[azure-documentdb-2.4.7.jar:na]
	at com.microsoft.azure.documentdb.internal.GatewayProxy.doExecute(GatewayProxy.java:108) ~[azure-documentdb-2.4.7.jar:na]
	at com.microsoft.azure.documentdb.internal.GatewayProxy.processMessage(GatewayProxy.java:360) ~[azure-documentdb-2.4.7.jar:na]
	at com.microsoft.azure.documentdb.DocumentClient$5.apply(DocumentClient.java:3037) ~[azure-documentdb-2.4.7.jar:na]
	at com.microsoft.azure.documentdb.internal.RetryUtility.executeDocumentClientRequest(RetryUtility.java:73) ~[azure-documentdb-2.4.7.jar:na]
	at com.microsoft.azure.documentdb.DocumentClient.doCreate(DocumentClient.java:3042) ~[azure-documentdb-2.4.7.jar:na]
	at com.microsoft.azure.documentdb.DocumentClient.executeStoredProcedure(DocumentClient.java:1571) ~[azure-documentdb-2.4.7.jar:na]
	at com.microsoft.azure.documentdb.bulkexecutor.internal.BatchUpdater$1.call(BatchUpdater.java:174) [documentdb-bulkexecutor-2.9.3.jar:na]
	at com.microsoft.azure.documentdb.bulkexecutor.internal.BatchUpdater$1.call(BatchUpdater.java:148) [documentdb-bulkexecutor-2.9.3.jar:na]
	at com.microsoft.azure.documentdb.repackaged.com.google.common.util.concurrent.TrustedListenableFutureTask$TrustedFutureInterruptibleTask.runInterruptibly(TrustedListenableFutureTask.java:125) [documentdb-bulkexecutor-2.9.3.jar:na]
	at com.microsoft.azure.documentdb.repackaged.com.google.common.util.concurrent.InterruptibleTask.run(InterruptibleTask.java:57) [documentdb-bulkexecutor-2.9.3.jar:na]
	at com.microsoft.azure.documentdb.repackaged.com.google.common.util.concurrent.TrustedListenableFutureTask.run(TrustedListenableFutureTask.java:78) [documentdb-bulkexecutor-2.9.3.jar:na]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_121]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_121]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_121]

2020-03-26 18:33:48.394  INFO 6508 --- [Thread-5] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@432038ec: startup date [Thu Mar 26 18:33:25 CET 2020]; root of context hierarchy
2020-03-26 18:33:48.396  INFO 6508 --- [Thread-5] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 2147483647
2020-03-26 18:33:48.396  INFO 6508 --- [Thread-5] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 0
2020-03-26 18:33:48.411  INFO 6508 --- [Thread-5] c.m.azure.documentdb.DocumentClient      : Closing DocumentClient
2020-03-26 18:33:48.437  INFO 6508 --- [Thread-5] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'onesaitplatform'
2020-03-26 18:33:48.443  INFO 6508 --- [Thread-5] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'onesaitPlatform-masterdb'
2020-03-26 18:34:31.214  WARN 6525 --- [main] ory$DuplicateJsonObjectContextCustomizer : 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/javi/.m2/repository/org/json/json/20140107/json-20140107.jar!/org/json/JSONObject.class
	jar:file:/Users/javi/.m2/repository/com/vaadin/external/google/android-json/0.0.20131108.vaadin1/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behaviour

2020-03-26 18:34:31.225  INFO 6525 --- [main] c.m.o.platform.persistence.CosmosDBTest  : Starting CosmosDBTest on Javi with PID 6525 (started by javi in /Users/javi/openplatform/onesait-cloud/onesait-cloud-platform/sources/libraries/persistence/cosmosdb-impl)
2020-03-26 18:34:31.226  INFO 6525 --- [main] c.m.o.platform.persistence.CosmosDBTest  : No active profile set, falling back to default profiles: default
2020-03-26 18:34:31.263  INFO 6525 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@432038ec: startup date [Thu Mar 26 18:34:31 CET 2020]; root of context hierarchy
2020-03-26 18:34:34.415  INFO 6525 --- [main] ptablePropertiesBeanFactoryPostProcessor : Post-processing PropertySource instances
2020-03-26 18:34:34.471  INFO 6525 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Inlined Test Properties [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
2020-03-26 18:34:34.473  INFO 6525 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemProperties [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
2020-03-26 18:34:34.473  INFO 6525 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemEnvironment [org.springframework.core.env.SystemEnvironmentPropertySource] to EncryptableMapPropertySourceWrapper
2020-03-26 18:34:34.473  INFO 6525 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource random [org.springframework.boot.context.config.RandomValuePropertySource] to EncryptablePropertySourceWrapper
2020-03-26 18:34:34.473  INFO 6525 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource applicationConfig: [classpath:/application.yml] [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
2020-03-26 18:34:34.508  INFO 6525 --- [main] f.a.AutowiredAnnotationBeanPostProcessor : JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2020-03-26 18:34:34.592  INFO 6525 --- [main] c.u.j.r.DefaultLazyPropertyResolver      : Property Resolver custom Bean not found with name 'encryptablePropertyResolver'. Initializing Default Property Resolver
2020-03-26 18:34:34.595  INFO 6525 --- [main] c.u.j.d.DefaultLazyPropertyDetector      : Property Detector custom Bean not found with name 'encryptablePropertyDetector'. Initializing Default Property Detector
2020-03-26 18:34:34.596  INFO 6525 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'tenant2SchemaMapper' of type [com.minsait.onesait.platform.multitenant.Tenant2SchemaMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-26 18:34:34.603  INFO 6525 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'configDBMasterConfig' of type [com.minsait.onesait.platform.config.ConfigDBMasterConfig$$EnhancerBySpringCGLIB$$339c75d8] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-26 18:34:34.608  INFO 6525 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded master PersistenceExceptionTranslationPostProcessor
2020-03-26 18:34:34.711  INFO 6525 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.kafka.annotation.KafkaBootstrapConfiguration' of type [org.springframework.kafka.annotation.KafkaBootstrapConfiguration$$EnhancerBySpringCGLIB$$5a8e9e42] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-26 18:34:35.154  INFO 6525 --- [main] c.u.j.encryptor.DefaultLazyEncryptor     : Found Custom Encryptor Bean org.jasypt.encryption.pbe.PooledPBEStringEncryptor@9cfc77 with name: jasyptStringEncryptor
2020-03-26 18:34:35.431  INFO 6525 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : DatasourceProperties: org.apache.tomcat.jdbc.pool.DataSource@3c54ddec{ConnectionPool[defaultAutoCommit=null; defaultReadOnly=null; defaultTransactionIsolation=-1; defaultCatalog=null; driverClassName=com.mysql.jdbc.Driver; maxActive=2; maxIdle=2; minIdle=1; initialSize=1; maxWait=10000; testOnBorrow=true; testOnReturn=false; timeBetweenEvictionRunsMillis=5000; numTestsPerEvictionRun=0; minEvictableIdleTimeMillis=60000; testWhileIdle=true; testOnConnect=false; password=********; url=jdbc:mysql://localhost:3306/onesaitplatform_master_config?useUnicode=true&characterEncoding=UTF-8&allowMultiQueries=true&useSSL=false&autoReconnect=true; username=root; validationQuery=SELECT 1; validationQueryTimeout=-1; validatorClassName=null; validationInterval=3000; accessToUnderlyingConnectionAllowed=true; removeAbandoned=true; removeAbandonedTimeout=60; logAbandoned=false; connectionProperties=null; initSQL=null; jdbcInterceptors=null; jmxEnabled=true; fairQueue=true; useEquals=true; abandonWhenPercentageFull=0; maxAge=0; useLock=false; dataSource=null; dataSourceJNDI=null; suspectTimeout=0; alternateUsernameAllowed=false; commitOnReturn=false; rollbackOnReturn=false; useDisposableConnectionFacade=true; logValidationErrors=false; propagateInterruptState=false; ignoreExceptionOnPreLoad=false; useStatementFacade=true; }
2020-03-26 18:34:35.548  INFO 6525 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'onesaitPlatform-masterdb'
2020-03-26 18:34:35.569  INFO 6525 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: onesaitPlatform-masterdb
	...]
2020-03-26 18:34:35.747  INFO 6525 --- [main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.0.12.Final}
2020-03-26 18:34:35.750  INFO 6525 --- [main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2020-03-26 18:34:35.752  INFO 6525 --- [main] org.hibernate.cfg.Environment            : HHH000021: Bytecode provider name : javassist
2020-03-26 18:34:35.829  INFO 6525 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2020-03-26 18:34:36.286  INFO 6525 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5InnoDBDialect
2020-03-26 18:34:36.953  INFO 6525 --- [main] o.h.tool.hbm2ddl.SchemaValidator         : HHH000229: Running schema validator
2020-03-26 18:34:37.247  INFO 6525 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'onesaitPlatform-masterdb'
2020-03-26 18:34:37.724  INFO 6525 --- [main] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2020-03-26 18:34:38.025  INFO 6525 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded tenant multiTenantConnectionProvider
2020-03-26 18:34:38.038  INFO 6525 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded tenant currentTenantIdentifierResolver
2020-03-26 18:34:38.041  INFO 6525 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : tenantEntityManagerFactory setting up!
2020-03-26 18:34:38.042  INFO 6525 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded tenant jpaVendorAdapter
2020-03-26 18:34:38.047  INFO 6525 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : tenantEntityManagerFactory set up successfully!
2020-03-26 18:34:38.194  INFO 6525 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'onesaitplatform'
2020-03-26 18:34:38.194  INFO 6525 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: onesaitplatform
	...]
2020-03-26 18:34:38.234  INFO 6525 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded master transaction manager
2020-03-26 18:34:38.683  INFO 6525 --- [main] c.m.o.p.multitenant.util.DataSourceUtil  : Registering tenant datasource org.apache.tomcat.jdbc.pool.DataSource@470a446f{ConnectionPool[defaultAutoCommit=null; defaultReadOnly=null; defaultTransactionIsolation=-1; defaultCatalog=null; driverClassName=com.mysql.jdbc.Driver; maxActive=30; maxIdle=5; minIdle=5; initialSize=10; maxWait=10000; testOnBorrow=true; testOnReturn=false; timeBetweenEvictionRunsMillis=5000; numTestsPerEvictionRun=0; minEvictableIdleTimeMillis=6000; testWhileIdle=true; testOnConnect=false; password=********; url=jdbc:mysql://localhost:3306/onesaitplatform_config?useUnicode=true&characterEncoding=UTF-8&allowMultiQueries=true&useSSL=false&autoReconnect=true; username=root; validationQuery=SELECT 1; validationQueryTimeout=-1; validatorClassName=null; validationInterval=3000; accessToUnderlyingConnectionAllowed=true; removeAbandoned=true; removeAbandonedTimeout=60; logAbandoned=false; connectionProperties=null; initSQL=null; jdbcInterceptors=null; jmxEnabled=true; fairQueue=true; useEquals=true; abandonWhenPercentageFull=0; maxAge=0; useLock=false; dataSource=null; dataSourceJNDI=null; suspectTimeout=0; alternateUsernameAllowed=false; commitOnReturn=false; rollbackOnReturn=false; useDisposableConnectionFacade=true; logValidationErrors=false; propagateInterruptState=false; ignoreExceptionOnPreLoad=false; useStatementFacade=true; }
2020-03-26 18:34:38.770  INFO 6525 --- [main] c.m.o.p.multitenant.util.DataSourceUtil  : Registering tenant datasource org.apache.tomcat.jdbc.pool.DataSource@55315a00{ConnectionPool[defaultAutoCommit=null; defaultReadOnly=null; defaultTransactionIsolation=-1; defaultCatalog=null; driverClassName=com.mysql.jdbc.Driver; maxActive=30; maxIdle=5; minIdle=5; initialSize=10; maxWait=10000; testOnBorrow=true; testOnReturn=false; timeBetweenEvictionRunsMillis=5000; numTestsPerEvictionRun=0; minEvictableIdleTimeMillis=6000; testWhileIdle=true; testOnConnect=false; password=********; url=jdbc:mysql://localhost:3306/onesaitplatform_config?useUnicode=true&characterEncoding=UTF-8&allowMultiQueries=true&useSSL=false&autoReconnect=true; username=root; validationQuery=SELECT 1; validationQueryTimeout=-1; validatorClassName=null; validationInterval=3000; accessToUnderlyingConnectionAllowed=true; removeAbandoned=true; removeAbandonedTimeout=60; logAbandoned=false; connectionProperties=null; initSQL=null; jdbcInterceptors=null; jmxEnabled=true; fairQueue=true; useEquals=true; abandonWhenPercentageFull=0; maxAge=0; useLock=false; dataSource=null; dataSourceJNDI=null; suspectTimeout=0; alternateUsernameAllowed=false; commitOnReturn=false; rollbackOnReturn=false; useDisposableConnectionFacade=true; logValidationErrors=false; propagateInterruptState=false; ignoreExceptionOnPreLoad=false; useStatementFacade=true; }
2020-03-26 18:34:38.803  INFO 6525 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5InnoDBDialect
2020-03-26 18:34:39.637  INFO 6525 --- [main] o.h.tool.hbm2ddl.SchemaValidator         : HHH000229: Running schema validator
2020-03-26 18:34:39.710  INFO 6525 --- [main] c.m.o.p.multitenant.util.DataSourceUtil  : Registering tenant datasource org.apache.tomcat.jdbc.pool.DataSource@efc5686{ConnectionPool[defaultAutoCommit=null; defaultReadOnly=null; defaultTransactionIsolation=-1; defaultCatalog=null; driverClassName=com.mysql.jdbc.Driver; maxActive=30; maxIdle=5; minIdle=5; initialSize=10; maxWait=10000; testOnBorrow=true; testOnReturn=false; timeBetweenEvictionRunsMillis=5000; numTestsPerEvictionRun=0; minEvictableIdleTimeMillis=6000; testWhileIdle=true; testOnConnect=false; password=********; url=jdbc:mysql://localhost:3306/onesaitplatform_config?useUnicode=true&characterEncoding=UTF-8&allowMultiQueries=true&useSSL=false&autoReconnect=true; username=root; validationQuery=SELECT 1; validationQueryTimeout=-1; validatorClassName=null; validationInterval=3000; accessToUnderlyingConnectionAllowed=true; removeAbandoned=true; removeAbandonedTimeout=60; logAbandoned=false; connectionProperties=null; initSQL=null; jdbcInterceptors=null; jmxEnabled=true; fairQueue=true; useEquals=true; abandonWhenPercentageFull=0; maxAge=0; useLock=false; dataSource=null; dataSourceJNDI=null; suspectTimeout=0; alternateUsernameAllowed=false; commitOnReturn=false; rollbackOnReturn=false; useDisposableConnectionFacade=true; logValidationErrors=false; propagateInterruptState=false; ignoreExceptionOnPreLoad=false; useStatementFacade=true; }
2020-03-26 18:34:42.035  INFO 6525 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'onesaitplatform'
2020-03-26 18:34:42.139  INFO 6525 --- [main] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2020-03-26 18:34:42.284  INFO 6525 --- [main] c.m.azure.documentdb.DocumentClient      : Initializing DocumentClient with serviceEndpoint [https://onesait-test.documents.azure.com:443/], ConnectionPolicy [ConnectionPolicy [requestTimeout=60, directRequestTimeout5, mediaRequestTimeout=300, connectionMode=Gateway, mediaReadMode=Buffered, maxPoolSize=1200, idleConnectionTimeout=60, userAgentSuffix=, retryOptions=com.microsoft.azure.documentdb.RetryOptions@241b5364, enableEndpointDiscovery=true, preferredLocations=null, usingMultipleWriteLocations=false, handleServiceUnavailableFromProxy=false]], ConsistencyLevel [Eventual]
2020-03-26 18:34:43.312  INFO 6525 --- [main] c.m.o.p.commons.kafka.KafkaService       : Kafka configuration with no security applied
2020-03-26 18:34:45.678  INFO 6525 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded tenant transactionManager
2020-03-26 18:34:46.878  INFO 6525 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@432038ec: startup date [Thu Mar 26 18:34:31 CET 2020]; root of context hierarchy
2020-03-26 18:34:47.009  INFO 6525 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2020-03-26 18:34:47.011  INFO 6525 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2020-03-26 18:34:47.091  INFO 6525 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2020-03-26 18:34:47.092  INFO 6525 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2020-03-26 18:34:47.194  INFO 6525 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2020-03-26 18:34:47.742  INFO 6525 --- [main] b.a.s.AuthenticationManagerConfiguration : 

Using default security password: 7685f116-7c9f-44df-96df-731b02f8ff40

2020-03-26 18:34:47.803  INFO 6525 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/css/**'], Ant [pattern='/js/**'], Ant [pattern='/images/**'], Ant [pattern='/webjars/**'], Ant [pattern='/**/favicon.ico'], Ant [pattern='/error']]], []
2020-03-26 18:34:47.917  INFO 6525 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.boot.autoconfigure.security.SpringBootWebSecurityConfiguration$ApplicationNoWebSecurityConfigurerAdapter$1@f02369f, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@116d39e2, org.springframework.security.web.context.SecurityContextPersistenceFilter@36fe079c, org.springframework.security.web.header.HeaderWriterFilter@73ca241d, org.springframework.security.web.csrf.CsrfFilter@53937f1a, org.springframework.security.web.authentication.logout.LogoutFilter@634324c9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1167b1a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@17da4d27, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6b72226a, org.springframework.security.web.session.SessionManagementFilter@6180eb8, org.springframework.security.web.access.ExceptionTranslationFilter@36e53d45]
2020-03-26 18:34:48.299  INFO 6525 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 2147483647
2020-03-26 18:34:48.319  INFO 6525 --- [main] c.m.o.platform.persistence.CosmosDBTest  : Started CosmosDBTest in 17.441 seconds (JVM running for 18.197)
2020-03-26 18:34:48.527  WARN 6525 --- [main] c.m.a.d.internal.ServiceJNIWrapper       : 'Mac OS X' with 'x86_64' system is not compatible with native library. JNI not loaded.
2020-03-26 18:34:48.918 ERROR 6525 --- [pool-5-thread-3] c.m.a.d.b.internal.BatchUpdater          : pki 0 failed to update mini-batch. Exception was Message: {"Errors":["Encountered exception while executing function. Exception = Error: {\"errors\":[{\"severity\":\"Error\",\"location\":{\"start\":58,\"end\":65},\"code\":\"SC2001\",\"message\":\"Identifier 'borough' could not be resolved.\"}]}\r\nStack trace: Error: {\"errors\":[{\"severity\":\"Error\",\"location\":{\"start\":58,\"end\":65},\"code\":\"SC2001\",\"message\":\"Identifier 'borough' could not be resolved.\"}]}\n   at queryCallback (script.js:5270:26)\n   at Anonymous function (script.js:614:29)"]}
ActivityId: 309e9087-1e6a-4b0a-9159-5fde29ebe97b, Request URI: /apps/919f03de-8bbf-4ea1-ad94-ca78b0bb1f81/services/3bbc7d5a-da6e-4675-a45e-c36e55530e87/partitions/445789f4-134e-4900-98ac-7083647369ec/replicas/132290727012427261p/, RequestStats: 
RequestStartTime: 2020-03-26T17:34:48.8860911Z, RequestEndTime: 2020-03-26T17:34:48.8961175Z,  Number of regions attempted:1
ResponseTime: 2020-03-26T17:34:48.8961175Z, StoreResult: StorePhysicalAddress: rntbd://am4prdddc11-docdb-2.documents.azure.com:14368/apps/919f03de-8bbf-4ea1-ad94-ca78b0bb1f81/services/3bbc7d5a-da6e-4675-a45e-c36e55530e87/partitions/445789f4-134e-4900-98ac-7083647369ec/replicas/132290727012427261p/, LSN: 111, GlobalCommittedLsn: 111, PartitionKeyRangeId: 0, IsValid: True, StatusCode: 400, SubStatusCode: 400, RequestCharge: 2.39, ItemLSN: -1, SessionToken: -1#111, UsingLocalLSN: False, TransportException: null, ResourceType: StoredProcedure, OperationType: ExecuteJavaScript
, SDK: Microsoft.Azure.Documents.Common/2.10.0, StatusCode: BadRequest. Status code was 400

com.microsoft.azure.documentdb.DocumentClientException: Message: {"Errors":["Encountered exception while executing function. Exception = Error: {\"errors\":[{\"severity\":\"Error\",\"location\":{\"start\":58,\"end\":65},\"code\":\"SC2001\",\"message\":\"Identifier 'borough' could not be resolved.\"}]}\r\nStack trace: Error: {\"errors\":[{\"severity\":\"Error\",\"location\":{\"start\":58,\"end\":65},\"code\":\"SC2001\",\"message\":\"Identifier 'borough' could not be resolved.\"}]}\n   at queryCallback (script.js:5270:26)\n   at Anonymous function (script.js:614:29)"]}
ActivityId: 309e9087-1e6a-4b0a-9159-5fde29ebe97b, Request URI: /apps/919f03de-8bbf-4ea1-ad94-ca78b0bb1f81/services/3bbc7d5a-da6e-4675-a45e-c36e55530e87/partitions/445789f4-134e-4900-98ac-7083647369ec/replicas/132290727012427261p/, RequestStats: 
RequestStartTime: 2020-03-26T17:34:48.8860911Z, RequestEndTime: 2020-03-26T17:34:48.8961175Z,  Number of regions attempted:1
ResponseTime: 2020-03-26T17:34:48.8961175Z, StoreResult: StorePhysicalAddress: rntbd://am4prdddc11-docdb-2.documents.azure.com:14368/apps/919f03de-8bbf-4ea1-ad94-ca78b0bb1f81/services/3bbc7d5a-da6e-4675-a45e-c36e55530e87/partitions/445789f4-134e-4900-98ac-7083647369ec/replicas/132290727012427261p/, LSN: 111, GlobalCommittedLsn: 111, PartitionKeyRangeId: 0, IsValid: True, StatusCode: 400, SubStatusCode: 400, RequestCharge: 2.39, ItemLSN: -1, SessionToken: -1#111, UsingLocalLSN: False, TransportException: null, ResourceType: StoredProcedure, OperationType: ExecuteJavaScript
, SDK: Microsoft.Azure.Documents.Common/2.10.0, StatusCode: BadRequest
	at com.microsoft.azure.documentdb.internal.ErrorUtils.maybeThrowException(ErrorUtils.java:74) ~[azure-documentdb-2.4.7.jar:na]
	at com.microsoft.azure.documentdb.internal.GatewayProxy.performPostRequest(GatewayProxy.java:284) ~[azure-documentdb-2.4.7.jar:na]
	at com.microsoft.azure.documentdb.internal.GatewayProxy.doExecute(GatewayProxy.java:108) ~[azure-documentdb-2.4.7.jar:na]
	at com.microsoft.azure.documentdb.internal.GatewayProxy.processMessage(GatewayProxy.java:360) ~[azure-documentdb-2.4.7.jar:na]
	at com.microsoft.azure.documentdb.DocumentClient$5.apply(DocumentClient.java:3037) ~[azure-documentdb-2.4.7.jar:na]
	at com.microsoft.azure.documentdb.internal.RetryUtility.executeDocumentClientRequest(RetryUtility.java:73) ~[azure-documentdb-2.4.7.jar:na]
	at com.microsoft.azure.documentdb.DocumentClient.doCreate(DocumentClient.java:3042) ~[azure-documentdb-2.4.7.jar:na]
	at com.microsoft.azure.documentdb.DocumentClient.executeStoredProcedure(DocumentClient.java:1571) ~[azure-documentdb-2.4.7.jar:na]
	at com.microsoft.azure.documentdb.bulkexecutor.internal.BatchUpdater$1.call(BatchUpdater.java:174) [documentdb-bulkexecutor-2.9.3.jar:na]
	at com.microsoft.azure.documentdb.bulkexecutor.internal.BatchUpdater$1.call(BatchUpdater.java:148) [documentdb-bulkexecutor-2.9.3.jar:na]
	at com.microsoft.azure.documentdb.repackaged.com.google.common.util.concurrent.TrustedListenableFutureTask$TrustedFutureInterruptibleTask.runInterruptibly(TrustedListenableFutureTask.java:125) [documentdb-bulkexecutor-2.9.3.jar:na]
	at com.microsoft.azure.documentdb.repackaged.com.google.common.util.concurrent.InterruptibleTask.run(InterruptibleTask.java:57) [documentdb-bulkexecutor-2.9.3.jar:na]
	at com.microsoft.azure.documentdb.repackaged.com.google.common.util.concurrent.TrustedListenableFutureTask.run(TrustedListenableFutureTask.java:78) [documentdb-bulkexecutor-2.9.3.jar:na]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_121]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_121]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_121]

2020-03-26 18:34:49.770  INFO 6525 --- [Thread-5] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@432038ec: startup date [Thu Mar 26 18:34:31 CET 2020]; root of context hierarchy
2020-03-26 18:34:49.773  INFO 6525 --- [Thread-5] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 2147483647
2020-03-26 18:34:49.773  INFO 6525 --- [Thread-5] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 0
2020-03-26 18:34:49.785  INFO 6525 --- [Thread-5] c.m.azure.documentdb.DocumentClient      : Closing DocumentClient
2020-03-26 18:34:49.809  INFO 6525 --- [Thread-5] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'onesaitplatform'
2020-03-26 18:34:49.811  INFO 6525 --- [Thread-5] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'onesaitPlatform-masterdb'
2020-03-26 18:35:17.214  WARN 6540 --- [main] ory$DuplicateJsonObjectContextCustomizer : 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/javi/.m2/repository/org/json/json/20140107/json-20140107.jar!/org/json/JSONObject.class
	jar:file:/Users/javi/.m2/repository/com/vaadin/external/google/android-json/0.0.20131108.vaadin1/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behaviour

2020-03-26 18:35:17.239  INFO 6540 --- [main] c.m.o.platform.persistence.CosmosDBTest  : Starting CosmosDBTest on Javi with PID 6540 (started by javi in /Users/javi/openplatform/onesait-cloud/onesait-cloud-platform/sources/libraries/persistence/cosmosdb-impl)
2020-03-26 18:35:17.239  INFO 6540 --- [main] c.m.o.platform.persistence.CosmosDBTest  : No active profile set, falling back to default profiles: default
2020-03-26 18:35:17.284  INFO 6540 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@432038ec: startup date [Thu Mar 26 18:35:17 CET 2020]; root of context hierarchy
2020-03-26 18:35:20.199  INFO 6540 --- [main] ptablePropertiesBeanFactoryPostProcessor : Post-processing PropertySource instances
2020-03-26 18:35:20.251  INFO 6540 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Inlined Test Properties [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
2020-03-26 18:35:20.253  INFO 6540 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemProperties [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
2020-03-26 18:35:20.253  INFO 6540 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemEnvironment [org.springframework.core.env.SystemEnvironmentPropertySource] to EncryptableMapPropertySourceWrapper
2020-03-26 18:35:20.253  INFO 6540 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource random [org.springframework.boot.context.config.RandomValuePropertySource] to EncryptablePropertySourceWrapper
2020-03-26 18:35:20.253  INFO 6540 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource applicationConfig: [classpath:/application.yml] [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
2020-03-26 18:35:20.290  INFO 6540 --- [main] f.a.AutowiredAnnotationBeanPostProcessor : JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2020-03-26 18:35:20.378  INFO 6540 --- [main] c.u.j.r.DefaultLazyPropertyResolver      : Property Resolver custom Bean not found with name 'encryptablePropertyResolver'. Initializing Default Property Resolver
2020-03-26 18:35:20.381  INFO 6540 --- [main] c.u.j.d.DefaultLazyPropertyDetector      : Property Detector custom Bean not found with name 'encryptablePropertyDetector'. Initializing Default Property Detector
2020-03-26 18:35:20.383  INFO 6540 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'tenant2SchemaMapper' of type [com.minsait.onesait.platform.multitenant.Tenant2SchemaMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-26 18:35:20.388  INFO 6540 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'configDBMasterConfig' of type [com.minsait.onesait.platform.config.ConfigDBMasterConfig$$EnhancerBySpringCGLIB$$181c4cd7] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-26 18:35:20.394  INFO 6540 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded master PersistenceExceptionTranslationPostProcessor
2020-03-26 18:35:20.473  INFO 6540 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.kafka.annotation.KafkaBootstrapConfiguration' of type [org.springframework.kafka.annotation.KafkaBootstrapConfiguration$$EnhancerBySpringCGLIB$$3f0e7541] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-26 18:35:20.796  INFO 6540 --- [main] c.u.j.encryptor.DefaultLazyEncryptor     : Found Custom Encryptor Bean org.jasypt.encryption.pbe.PooledPBEStringEncryptor@44f0ff2b with name: jasyptStringEncryptor
2020-03-26 18:35:20.971  INFO 6540 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : DatasourceProperties: org.apache.tomcat.jdbc.pool.DataSource@57186526{ConnectionPool[defaultAutoCommit=null; defaultReadOnly=null; defaultTransactionIsolation=-1; defaultCatalog=null; driverClassName=com.mysql.jdbc.Driver; maxActive=2; maxIdle=2; minIdle=1; initialSize=1; maxWait=10000; testOnBorrow=true; testOnReturn=false; timeBetweenEvictionRunsMillis=5000; numTestsPerEvictionRun=0; minEvictableIdleTimeMillis=60000; testWhileIdle=true; testOnConnect=false; password=********; url=jdbc:mysql://localhost:3306/onesaitplatform_master_config?useUnicode=true&characterEncoding=UTF-8&allowMultiQueries=true&useSSL=false&autoReconnect=true; username=root; validationQuery=SELECT 1; validationQueryTimeout=-1; validatorClassName=null; validationInterval=3000; accessToUnderlyingConnectionAllowed=true; removeAbandoned=true; removeAbandonedTimeout=60; logAbandoned=false; connectionProperties=null; initSQL=null; jdbcInterceptors=null; jmxEnabled=true; fairQueue=true; useEquals=true; abandonWhenPercentageFull=0; maxAge=0; useLock=false; dataSource=null; dataSourceJNDI=null; suspectTimeout=0; alternateUsernameAllowed=false; commitOnReturn=false; rollbackOnReturn=false; useDisposableConnectionFacade=true; logValidationErrors=false; propagateInterruptState=false; ignoreExceptionOnPreLoad=false; useStatementFacade=true; }
2020-03-26 18:35:21.057  INFO 6540 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'onesaitPlatform-masterdb'
2020-03-26 18:35:21.081  INFO 6540 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: onesaitPlatform-masterdb
	...]
2020-03-26 18:35:21.281  INFO 6540 --- [main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.0.12.Final}
2020-03-26 18:35:21.284  INFO 6540 --- [main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2020-03-26 18:35:21.285  INFO 6540 --- [main] org.hibernate.cfg.Environment            : HHH000021: Bytecode provider name : javassist
2020-03-26 18:35:21.340  INFO 6540 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2020-03-26 18:35:21.717  INFO 6540 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5InnoDBDialect
2020-03-26 18:35:22.448  INFO 6540 --- [main] o.h.tool.hbm2ddl.SchemaValidator         : HHH000229: Running schema validator
2020-03-26 18:35:22.788  INFO 6540 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'onesaitPlatform-masterdb'
2020-03-26 18:35:23.211  INFO 6540 --- [main] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2020-03-26 18:35:23.477  INFO 6540 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded tenant multiTenantConnectionProvider
2020-03-26 18:35:23.490  INFO 6540 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded tenant currentTenantIdentifierResolver
2020-03-26 18:35:23.493  INFO 6540 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : tenantEntityManagerFactory setting up!
2020-03-26 18:35:23.494  INFO 6540 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded tenant jpaVendorAdapter
2020-03-26 18:35:23.499  INFO 6540 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : tenantEntityManagerFactory set up successfully!
2020-03-26 18:35:23.622  INFO 6540 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'onesaitplatform'
2020-03-26 18:35:23.623  INFO 6540 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: onesaitplatform
	...]
2020-03-26 18:35:23.663  INFO 6540 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded master transaction manager
2020-03-26 18:35:24.142  INFO 6540 --- [main] c.m.o.p.multitenant.util.DataSourceUtil  : Registering tenant datasource org.apache.tomcat.jdbc.pool.DataSource@65698020{ConnectionPool[defaultAutoCommit=null; defaultReadOnly=null; defaultTransactionIsolation=-1; defaultCatalog=null; driverClassName=com.mysql.jdbc.Driver; maxActive=30; maxIdle=5; minIdle=5; initialSize=10; maxWait=10000; testOnBorrow=true; testOnReturn=false; timeBetweenEvictionRunsMillis=5000; numTestsPerEvictionRun=0; minEvictableIdleTimeMillis=6000; testWhileIdle=true; testOnConnect=false; password=********; url=jdbc:mysql://localhost:3306/onesaitplatform_config?useUnicode=true&characterEncoding=UTF-8&allowMultiQueries=true&useSSL=false&autoReconnect=true; username=root; validationQuery=SELECT 1; validationQueryTimeout=-1; validatorClassName=null; validationInterval=3000; accessToUnderlyingConnectionAllowed=true; removeAbandoned=true; removeAbandonedTimeout=60; logAbandoned=false; connectionProperties=null; initSQL=null; jdbcInterceptors=null; jmxEnabled=true; fairQueue=true; useEquals=true; abandonWhenPercentageFull=0; maxAge=0; useLock=false; dataSource=null; dataSourceJNDI=null; suspectTimeout=0; alternateUsernameAllowed=false; commitOnReturn=false; rollbackOnReturn=false; useDisposableConnectionFacade=true; logValidationErrors=false; propagateInterruptState=false; ignoreExceptionOnPreLoad=false; useStatementFacade=true; }
2020-03-26 18:35:24.211  INFO 6540 --- [main] c.m.o.p.multitenant.util.DataSourceUtil  : Registering tenant datasource org.apache.tomcat.jdbc.pool.DataSource@57617a75{ConnectionPool[defaultAutoCommit=null; defaultReadOnly=null; defaultTransactionIsolation=-1; defaultCatalog=null; driverClassName=com.mysql.jdbc.Driver; maxActive=30; maxIdle=5; minIdle=5; initialSize=10; maxWait=10000; testOnBorrow=true; testOnReturn=false; timeBetweenEvictionRunsMillis=5000; numTestsPerEvictionRun=0; minEvictableIdleTimeMillis=6000; testWhileIdle=true; testOnConnect=false; password=********; url=jdbc:mysql://localhost:3306/onesaitplatform_config?useUnicode=true&characterEncoding=UTF-8&allowMultiQueries=true&useSSL=false&autoReconnect=true; username=root; validationQuery=SELECT 1; validationQueryTimeout=-1; validatorClassName=null; validationInterval=3000; accessToUnderlyingConnectionAllowed=true; removeAbandoned=true; removeAbandonedTimeout=60; logAbandoned=false; connectionProperties=null; initSQL=null; jdbcInterceptors=null; jmxEnabled=true; fairQueue=true; useEquals=true; abandonWhenPercentageFull=0; maxAge=0; useLock=false; dataSource=null; dataSourceJNDI=null; suspectTimeout=0; alternateUsernameAllowed=false; commitOnReturn=false; rollbackOnReturn=false; useDisposableConnectionFacade=true; logValidationErrors=false; propagateInterruptState=false; ignoreExceptionOnPreLoad=false; useStatementFacade=true; }
2020-03-26 18:35:24.249  INFO 6540 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5InnoDBDialect
2020-03-26 18:35:25.236  INFO 6540 --- [main] o.h.tool.hbm2ddl.SchemaValidator         : HHH000229: Running schema validator
2020-03-26 18:35:25.288  INFO 6540 --- [main] c.m.o.p.multitenant.util.DataSourceUtil  : Registering tenant datasource org.apache.tomcat.jdbc.pool.DataSource@2531c319{ConnectionPool[defaultAutoCommit=null; defaultReadOnly=null; defaultTransactionIsolation=-1; defaultCatalog=null; driverClassName=com.mysql.jdbc.Driver; maxActive=30; maxIdle=5; minIdle=5; initialSize=10; maxWait=10000; testOnBorrow=true; testOnReturn=false; timeBetweenEvictionRunsMillis=5000; numTestsPerEvictionRun=0; minEvictableIdleTimeMillis=6000; testWhileIdle=true; testOnConnect=false; password=********; url=jdbc:mysql://localhost:3306/onesaitplatform_config?useUnicode=true&characterEncoding=UTF-8&allowMultiQueries=true&useSSL=false&autoReconnect=true; username=root; validationQuery=SELECT 1; validationQueryTimeout=-1; validatorClassName=null; validationInterval=3000; accessToUnderlyingConnectionAllowed=true; removeAbandoned=true; removeAbandonedTimeout=60; logAbandoned=false; connectionProperties=null; initSQL=null; jdbcInterceptors=null; jmxEnabled=true; fairQueue=true; useEquals=true; abandonWhenPercentageFull=0; maxAge=0; useLock=false; dataSource=null; dataSourceJNDI=null; suspectTimeout=0; alternateUsernameAllowed=false; commitOnReturn=false; rollbackOnReturn=false; useDisposableConnectionFacade=true; logValidationErrors=false; propagateInterruptState=false; ignoreExceptionOnPreLoad=false; useStatementFacade=true; }
2020-03-26 18:35:27.332  INFO 6540 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'onesaitplatform'
2020-03-26 18:35:27.447  INFO 6540 --- [main] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2020-03-26 18:35:27.570  INFO 6540 --- [main] c.m.azure.documentdb.DocumentClient      : Initializing DocumentClient with serviceEndpoint [https://onesait-test.documents.azure.com:443/], ConnectionPolicy [ConnectionPolicy [requestTimeout=60, directRequestTimeout5, mediaRequestTimeout=300, connectionMode=Gateway, mediaReadMode=Buffered, maxPoolSize=1200, idleConnectionTimeout=60, userAgentSuffix=, retryOptions=com.microsoft.azure.documentdb.RetryOptions@29296e7, enableEndpointDiscovery=true, preferredLocations=null, usingMultipleWriteLocations=false, handleServiceUnavailableFromProxy=false]], ConsistencyLevel [Eventual]
2020-03-26 18:35:28.648  INFO 6540 --- [main] c.m.o.p.commons.kafka.KafkaService       : Kafka configuration with no security applied
2020-03-26 18:35:30.980  INFO 6540 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded tenant transactionManager
2020-03-26 18:35:32.169  INFO 6540 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@432038ec: startup date [Thu Mar 26 18:35:17 CET 2020]; root of context hierarchy
2020-03-26 18:35:32.277  INFO 6540 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2020-03-26 18:35:32.279  INFO 6540 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2020-03-26 18:35:32.340  INFO 6540 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2020-03-26 18:35:32.341  INFO 6540 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2020-03-26 18:35:32.412  INFO 6540 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2020-03-26 18:35:32.878  INFO 6540 --- [main] b.a.s.AuthenticationManagerConfiguration : 

Using default security password: d3e2ed03-7d0a-43c8-aa28-7df2a3abe696

2020-03-26 18:35:32.943  INFO 6540 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/css/**'], Ant [pattern='/js/**'], Ant [pattern='/images/**'], Ant [pattern='/webjars/**'], Ant [pattern='/**/favicon.ico'], Ant [pattern='/error']]], []
2020-03-26 18:35:33.053  INFO 6540 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.boot.autoconfigure.security.SpringBootWebSecurityConfiguration$ApplicationNoWebSecurityConfigurerAdapter$1@3abb7923, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6e4c6264, org.springframework.security.web.context.SecurityContextPersistenceFilter@655966a1, org.springframework.security.web.header.HeaderWriterFilter@4f9ff5fb, org.springframework.security.web.csrf.CsrfFilter@22cd7e39, org.springframework.security.web.authentication.logout.LogoutFilter@43ec81be, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6180eb8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@674c1672, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@498aef62, org.springframework.security.web.session.SessionManagementFilter@5c64026c, org.springframework.security.web.access.ExceptionTranslationFilter@214e42a1]
2020-03-26 18:35:33.436  INFO 6540 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 2147483647
2020-03-26 18:35:33.456  INFO 6540 --- [main] c.m.o.platform.persistence.CosmosDBTest  : Started CosmosDBTest in 16.571 seconds (JVM running for 17.232)
2020-03-26 18:35:33.645  WARN 6540 --- [main] c.m.a.d.internal.ServiceJNIWrapper       : 'Mac OS X' with 'x86_64' system is not compatible with native library. JNI not loaded.
2020-03-26 18:35:34.107 ERROR 6540 --- [pool-5-thread-3] c.m.a.d.b.internal.BatchUpdater          : pki 0 failed to update mini-batch. Exception was Message: {"Errors":["Encountered exception while executing function. Exception = Error: {\"errors\":[{\"severity\":\"Error\",\"location\":{\"start\":58,\"end\":65},\"code\":\"SC2001\",\"message\":\"Identifier 'borough' could not be resolved.\"}]}\r\nStack trace: Error: {\"errors\":[{\"severity\":\"Error\",\"location\":{\"start\":58,\"end\":65},\"code\":\"SC2001\",\"message\":\"Identifier 'borough' could not be resolved.\"}]}\n   at queryCallback (script.js:5270:26)\n   at Anonymous function (script.js:614:29)"]}
ActivityId: 98954999-d832-485e-8603-f5aacdd107bf, Request URI: /apps/919f03de-8bbf-4ea1-ad94-ca78b0bb1f81/services/3bbc7d5a-da6e-4675-a45e-c36e55530e87/partitions/445789f4-134e-4900-98ac-7083647369ec/replicas/132290727012427261p/, RequestStats: 
RequestStartTime: 2020-03-26T17:35:34.0520720Z, RequestEndTime: 2020-03-26T17:35:34.0620424Z,  Number of regions attempted:1
ResponseTime: 2020-03-26T17:35:34.0620424Z, StoreResult: StorePhysicalAddress: rntbd://am4prdddc11-docdb-2.documents.azure.com:14368/apps/919f03de-8bbf-4ea1-ad94-ca78b0bb1f81/services/3bbc7d5a-da6e-4675-a45e-c36e55530e87/partitions/445789f4-134e-4900-98ac-7083647369ec/replicas/132290727012427261p/, LSN: 111, GlobalCommittedLsn: 111, PartitionKeyRangeId: 0, IsValid: True, StatusCode: 400, SubStatusCode: 400, RequestCharge: 2.39, ItemLSN: -1, SessionToken: -1#111, UsingLocalLSN: False, TransportException: null, ResourceType: StoredProcedure, OperationType: ExecuteJavaScript
, SDK: Microsoft.Azure.Documents.Common/2.10.0, StatusCode: BadRequest. Status code was 400

com.microsoft.azure.documentdb.DocumentClientException: Message: {"Errors":["Encountered exception while executing function. Exception = Error: {\"errors\":[{\"severity\":\"Error\",\"location\":{\"start\":58,\"end\":65},\"code\":\"SC2001\",\"message\":\"Identifier 'borough' could not be resolved.\"}]}\r\nStack trace: Error: {\"errors\":[{\"severity\":\"Error\",\"location\":{\"start\":58,\"end\":65},\"code\":\"SC2001\",\"message\":\"Identifier 'borough' could not be resolved.\"}]}\n   at queryCallback (script.js:5270:26)\n   at Anonymous function (script.js:614:29)"]}
ActivityId: 98954999-d832-485e-8603-f5aacdd107bf, Request URI: /apps/919f03de-8bbf-4ea1-ad94-ca78b0bb1f81/services/3bbc7d5a-da6e-4675-a45e-c36e55530e87/partitions/445789f4-134e-4900-98ac-7083647369ec/replicas/132290727012427261p/, RequestStats: 
RequestStartTime: 2020-03-26T17:35:34.0520720Z, RequestEndTime: 2020-03-26T17:35:34.0620424Z,  Number of regions attempted:1
ResponseTime: 2020-03-26T17:35:34.0620424Z, StoreResult: StorePhysicalAddress: rntbd://am4prdddc11-docdb-2.documents.azure.com:14368/apps/919f03de-8bbf-4ea1-ad94-ca78b0bb1f81/services/3bbc7d5a-da6e-4675-a45e-c36e55530e87/partitions/445789f4-134e-4900-98ac-7083647369ec/replicas/132290727012427261p/, LSN: 111, GlobalCommittedLsn: 111, PartitionKeyRangeId: 0, IsValid: True, StatusCode: 400, SubStatusCode: 400, RequestCharge: 2.39, ItemLSN: -1, SessionToken: -1#111, UsingLocalLSN: False, TransportException: null, ResourceType: StoredProcedure, OperationType: ExecuteJavaScript
, SDK: Microsoft.Azure.Documents.Common/2.10.0, StatusCode: BadRequest
	at com.microsoft.azure.documentdb.internal.ErrorUtils.maybeThrowException(ErrorUtils.java:74) ~[azure-documentdb-2.4.7.jar:na]
	at com.microsoft.azure.documentdb.internal.GatewayProxy.performPostRequest(GatewayProxy.java:284) ~[azure-documentdb-2.4.7.jar:na]
	at com.microsoft.azure.documentdb.internal.GatewayProxy.doExecute(GatewayProxy.java:108) ~[azure-documentdb-2.4.7.jar:na]
	at com.microsoft.azure.documentdb.internal.GatewayProxy.processMessage(GatewayProxy.java:360) ~[azure-documentdb-2.4.7.jar:na]
	at com.microsoft.azure.documentdb.DocumentClient$5.apply(DocumentClient.java:3037) ~[azure-documentdb-2.4.7.jar:na]
	at com.microsoft.azure.documentdb.internal.RetryUtility.executeDocumentClientRequest(RetryUtility.java:73) ~[azure-documentdb-2.4.7.jar:na]
	at com.microsoft.azure.documentdb.DocumentClient.doCreate(DocumentClient.java:3042) ~[azure-documentdb-2.4.7.jar:na]
	at com.microsoft.azure.documentdb.DocumentClient.executeStoredProcedure(DocumentClient.java:1571) ~[azure-documentdb-2.4.7.jar:na]
	at com.microsoft.azure.documentdb.bulkexecutor.internal.BatchUpdater$1.call(BatchUpdater.java:174) [documentdb-bulkexecutor-2.9.3.jar:na]
	at com.microsoft.azure.documentdb.bulkexecutor.internal.BatchUpdater$1.call(BatchUpdater.java:148) [documentdb-bulkexecutor-2.9.3.jar:na]
	at com.microsoft.azure.documentdb.repackaged.com.google.common.util.concurrent.TrustedListenableFutureTask$TrustedFutureInterruptibleTask.runInterruptibly(TrustedListenableFutureTask.java:125) [documentdb-bulkexecutor-2.9.3.jar:na]
	at com.microsoft.azure.documentdb.repackaged.com.google.common.util.concurrent.InterruptibleTask.run(InterruptibleTask.java:57) [documentdb-bulkexecutor-2.9.3.jar:na]
	at com.microsoft.azure.documentdb.repackaged.com.google.common.util.concurrent.TrustedListenableFutureTask.run(TrustedListenableFutureTask.java:78) [documentdb-bulkexecutor-2.9.3.jar:na]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_121]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_121]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_121]

2020-03-26 18:35:34.938  INFO 6540 --- [Thread-5] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@432038ec: startup date [Thu Mar 26 18:35:17 CET 2020]; root of context hierarchy
2020-03-26 18:35:34.940  INFO 6540 --- [Thread-5] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 2147483647
2020-03-26 18:35:34.940  INFO 6540 --- [Thread-5] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 0
2020-03-26 18:35:34.950  INFO 6540 --- [Thread-5] c.m.azure.documentdb.DocumentClient      : Closing DocumentClient
2020-03-26 18:35:34.973  INFO 6540 --- [Thread-5] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'onesaitplatform'
2020-03-26 18:35:34.975  INFO 6540 --- [Thread-5] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'onesaitPlatform-masterdb'
2020-03-26 18:37:04.087  WARN 6567 --- [main] ory$DuplicateJsonObjectContextCustomizer : 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/javi/.m2/repository/org/json/json/20140107/json-20140107.jar!/org/json/JSONObject.class
	jar:file:/Users/javi/.m2/repository/com/vaadin/external/google/android-json/0.0.20131108.vaadin1/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behaviour

2020-03-26 18:37:04.098  INFO 6567 --- [main] c.m.o.platform.persistence.CosmosDBTest  : Starting CosmosDBTest on Javi with PID 6567 (started by javi in /Users/javi/openplatform/onesait-cloud/onesait-cloud-platform/sources/libraries/persistence/cosmosdb-impl)
2020-03-26 18:37:04.098  INFO 6567 --- [main] c.m.o.platform.persistence.CosmosDBTest  : No active profile set, falling back to default profiles: default
2020-03-26 18:37:04.125  INFO 6567 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@432038ec: startup date [Thu Mar 26 18:37:04 CET 2020]; root of context hierarchy
2020-03-26 18:37:06.775  INFO 6567 --- [main] ptablePropertiesBeanFactoryPostProcessor : Post-processing PropertySource instances
2020-03-26 18:37:06.860  INFO 6567 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Inlined Test Properties [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
2020-03-26 18:37:06.863  INFO 6567 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemProperties [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
2020-03-26 18:37:06.863  INFO 6567 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemEnvironment [org.springframework.core.env.SystemEnvironmentPropertySource] to EncryptableMapPropertySourceWrapper
2020-03-26 18:37:06.863  INFO 6567 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource random [org.springframework.boot.context.config.RandomValuePropertySource] to EncryptablePropertySourceWrapper
2020-03-26 18:37:06.863  INFO 6567 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource applicationConfig: [classpath:/application.yml] [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
2020-03-26 18:37:06.918  INFO 6567 --- [main] f.a.AutowiredAnnotationBeanPostProcessor : JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2020-03-26 18:37:07.024  INFO 6567 --- [main] c.u.j.r.DefaultLazyPropertyResolver      : Property Resolver custom Bean not found with name 'encryptablePropertyResolver'. Initializing Default Property Resolver
2020-03-26 18:37:07.028  INFO 6567 --- [main] c.u.j.d.DefaultLazyPropertyDetector      : Property Detector custom Bean not found with name 'encryptablePropertyDetector'. Initializing Default Property Detector
2020-03-26 18:37:07.030  INFO 6567 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'tenant2SchemaMapper' of type [com.minsait.onesait.platform.multitenant.Tenant2SchemaMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-26 18:37:07.044  INFO 6567 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'configDBMasterConfig' of type [com.minsait.onesait.platform.config.ConfigDBMasterConfig$$EnhancerBySpringCGLIB$$6c9dd326] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-26 18:37:07.052  INFO 6567 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded master PersistenceExceptionTranslationPostProcessor
2020-03-26 18:37:07.200  INFO 6567 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.kafka.annotation.KafkaBootstrapConfiguration' of type [org.springframework.kafka.annotation.KafkaBootstrapConfiguration$$EnhancerBySpringCGLIB$$938ffb90] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-03-26 18:37:07.581  INFO 6567 --- [main] c.u.j.encryptor.DefaultLazyEncryptor     : Found Custom Encryptor Bean org.jasypt.encryption.pbe.PooledPBEStringEncryptor@dbddbe3 with name: jasyptStringEncryptor
2020-03-26 18:37:07.875  INFO 6567 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : DatasourceProperties: org.apache.tomcat.jdbc.pool.DataSource@6aa7e176{ConnectionPool[defaultAutoCommit=null; defaultReadOnly=null; defaultTransactionIsolation=-1; defaultCatalog=null; driverClassName=com.mysql.jdbc.Driver; maxActive=2; maxIdle=2; minIdle=1; initialSize=1; maxWait=10000; testOnBorrow=true; testOnReturn=false; timeBetweenEvictionRunsMillis=5000; numTestsPerEvictionRun=0; minEvictableIdleTimeMillis=60000; testWhileIdle=true; testOnConnect=false; password=********; url=jdbc:mysql://localhost:3306/onesaitplatform_master_config?useUnicode=true&characterEncoding=UTF-8&allowMultiQueries=true&useSSL=false&autoReconnect=true; username=root; validationQuery=SELECT 1; validationQueryTimeout=-1; validatorClassName=null; validationInterval=3000; accessToUnderlyingConnectionAllowed=true; removeAbandoned=true; removeAbandonedTimeout=60; logAbandoned=false; connectionProperties=null; initSQL=null; jdbcInterceptors=null; jmxEnabled=true; fairQueue=true; useEquals=true; abandonWhenPercentageFull=0; maxAge=0; useLock=false; dataSource=null; dataSourceJNDI=null; suspectTimeout=0; alternateUsernameAllowed=false; commitOnReturn=false; rollbackOnReturn=false; useDisposableConnectionFacade=true; logValidationErrors=false; propagateInterruptState=false; ignoreExceptionOnPreLoad=false; useStatementFacade=true; }
2020-03-26 18:37:07.978  INFO 6567 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'onesaitPlatform-masterdb'
2020-03-26 18:37:08.004  INFO 6567 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: onesaitPlatform-masterdb
	...]
2020-03-26 18:37:08.211  INFO 6567 --- [main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.0.12.Final}
2020-03-26 18:37:08.215  INFO 6567 --- [main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2020-03-26 18:37:08.217  INFO 6567 --- [main] org.hibernate.cfg.Environment            : HHH000021: Bytecode provider name : javassist
2020-03-26 18:37:08.288  INFO 6567 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2020-03-26 18:37:08.716  INFO 6567 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5InnoDBDialect
2020-03-26 18:37:09.550  INFO 6567 --- [main] o.h.tool.hbm2ddl.SchemaValidator         : HHH000229: Running schema validator
2020-03-26 18:37:10.001  INFO 6567 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'onesaitPlatform-masterdb'
2020-03-26 18:37:10.661  INFO 6567 --- [main] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2020-03-26 18:37:11.042  INFO 6567 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded tenant multiTenantConnectionProvider
2020-03-26 18:37:11.058  INFO 6567 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded tenant currentTenantIdentifierResolver
2020-03-26 18:37:11.063  INFO 6567 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : tenantEntityManagerFactory setting up!
2020-03-26 18:37:11.064  INFO 6567 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded tenant jpaVendorAdapter
2020-03-26 18:37:11.071  INFO 6567 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : tenantEntityManagerFactory set up successfully!
2020-03-26 18:37:11.241  INFO 6567 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'onesaitplatform'
2020-03-26 18:37:11.241  INFO 6567 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: onesaitplatform
	...]
2020-03-26 18:37:11.286  INFO 6567 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded master transaction manager
2020-03-26 18:37:11.582  INFO 6567 --- [main] c.m.o.p.multitenant.util.DataSourceUtil  : Registering tenant datasource org.apache.tomcat.jdbc.pool.DataSource@57ab4b33{ConnectionPool[defaultAutoCommit=null; defaultReadOnly=null; defaultTransactionIsolation=-1; defaultCatalog=null; driverClassName=com.mysql.jdbc.Driver; maxActive=30; maxIdle=5; minIdle=5; initialSize=10; maxWait=10000; testOnBorrow=true; testOnReturn=false; timeBetweenEvictionRunsMillis=5000; numTestsPerEvictionRun=0; minEvictableIdleTimeMillis=6000; testWhileIdle=true; testOnConnect=false; password=********; url=jdbc:mysql://localhost:3306/onesaitplatform_config?useUnicode=true&characterEncoding=UTF-8&allowMultiQueries=true&useSSL=false&autoReconnect=true; username=root; validationQuery=SELECT 1; validationQueryTimeout=-1; validatorClassName=null; validationInterval=3000; accessToUnderlyingConnectionAllowed=true; removeAbandoned=true; removeAbandonedTimeout=60; logAbandoned=false; connectionProperties=null; initSQL=null; jdbcInterceptors=null; jmxEnabled=true; fairQueue=true; useEquals=true; abandonWhenPercentageFull=0; maxAge=0; useLock=false; dataSource=null; dataSourceJNDI=null; suspectTimeout=0; alternateUsernameAllowed=false; commitOnReturn=false; rollbackOnReturn=false; useDisposableConnectionFacade=true; logValidationErrors=false; propagateInterruptState=false; ignoreExceptionOnPreLoad=false; useStatementFacade=true; }
2020-03-26 18:37:11.646  INFO 6567 --- [main] c.m.o.p.multitenant.util.DataSourceUtil  : Registering tenant datasource org.apache.tomcat.jdbc.pool.DataSource@43b2e7db{ConnectionPool[defaultAutoCommit=null; defaultReadOnly=null; defaultTransactionIsolation=-1; defaultCatalog=null; driverClassName=com.mysql.jdbc.Driver; maxActive=30; maxIdle=5; minIdle=5; initialSize=10; maxWait=10000; testOnBorrow=true; testOnReturn=false; timeBetweenEvictionRunsMillis=5000; numTestsPerEvictionRun=0; minEvictableIdleTimeMillis=6000; testWhileIdle=true; testOnConnect=false; password=********; url=jdbc:mysql://localhost:3306/onesaitplatform_config?useUnicode=true&characterEncoding=UTF-8&allowMultiQueries=true&useSSL=false&autoReconnect=true; username=root; validationQuery=SELECT 1; validationQueryTimeout=-1; validatorClassName=null; validationInterval=3000; accessToUnderlyingConnectionAllowed=true; removeAbandoned=true; removeAbandonedTimeout=60; logAbandoned=false; connectionProperties=null; initSQL=null; jdbcInterceptors=null; jmxEnabled=true; fairQueue=true; useEquals=true; abandonWhenPercentageFull=0; maxAge=0; useLock=false; dataSource=null; dataSourceJNDI=null; suspectTimeout=0; alternateUsernameAllowed=false; commitOnReturn=false; rollbackOnReturn=false; useDisposableConnectionFacade=true; logValidationErrors=false; propagateInterruptState=false; ignoreExceptionOnPreLoad=false; useStatementFacade=true; }
2020-03-26 18:37:11.688  INFO 6567 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5InnoDBDialect
2020-03-26 18:37:12.976  INFO 6567 --- [main] o.h.tool.hbm2ddl.SchemaValidator         : HHH000229: Running schema validator
2020-03-26 18:37:13.082  INFO 6567 --- [main] c.m.o.p.multitenant.util.DataSourceUtil  : Registering tenant datasource org.apache.tomcat.jdbc.pool.DataSource@5308b244{ConnectionPool[defaultAutoCommit=null; defaultReadOnly=null; defaultTransactionIsolation=-1; defaultCatalog=null; driverClassName=com.mysql.jdbc.Driver; maxActive=30; maxIdle=5; minIdle=5; initialSize=10; maxWait=10000; testOnBorrow=true; testOnReturn=false; timeBetweenEvictionRunsMillis=5000; numTestsPerEvictionRun=0; minEvictableIdleTimeMillis=6000; testWhileIdle=true; testOnConnect=false; password=********; url=jdbc:mysql://localhost:3306/onesaitplatform_config?useUnicode=true&characterEncoding=UTF-8&allowMultiQueries=true&useSSL=false&autoReconnect=true; username=root; validationQuery=SELECT 1; validationQueryTimeout=-1; validatorClassName=null; validationInterval=3000; accessToUnderlyingConnectionAllowed=true; removeAbandoned=true; removeAbandonedTimeout=60; logAbandoned=false; connectionProperties=null; initSQL=null; jdbcInterceptors=null; jmxEnabled=true; fairQueue=true; useEquals=true; abandonWhenPercentageFull=0; maxAge=0; useLock=false; dataSource=null; dataSourceJNDI=null; suspectTimeout=0; alternateUsernameAllowed=false; commitOnReturn=false; rollbackOnReturn=false; useDisposableConnectionFacade=true; logValidationErrors=false; propagateInterruptState=false; ignoreExceptionOnPreLoad=false; useStatementFacade=true; }
2020-03-26 18:37:15.877  INFO 6567 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'onesaitplatform'
2020-03-26 18:37:15.997  INFO 6567 --- [main] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2020-03-26 18:37:16.125  INFO 6567 --- [main] c.m.azure.documentdb.DocumentClient      : Initializing DocumentClient with serviceEndpoint [https://onesait-test.documents.azure.com:443/], ConnectionPolicy [ConnectionPolicy [requestTimeout=60, directRequestTimeout5, mediaRequestTimeout=300, connectionMode=Gateway, mediaReadMode=Buffered, maxPoolSize=1200, idleConnectionTimeout=60, userAgentSuffix=, retryOptions=com.microsoft.azure.documentdb.RetryOptions@64f0271e, enableEndpointDiscovery=true, preferredLocations=null, usingMultipleWriteLocations=false, handleServiceUnavailableFromProxy=false]], ConsistencyLevel [Eventual]
2020-03-26 18:37:17.250  INFO 6567 --- [main] c.m.o.p.commons.kafka.KafkaService       : Kafka configuration with no security applied
2020-03-26 18:37:21.082  INFO 6567 --- [main] c.m.o.p.config.ConfigDBMasterConfig      : Loaded tenant transactionManager
2020-03-26 18:37:22.535  INFO 6567 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@432038ec: startup date [Thu Mar 26 18:37:04 CET 2020]; root of context hierarchy
2020-03-26 18:37:22.777  INFO 6567 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2020-03-26 18:37:22.779  INFO 6567 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2020-03-26 18:37:22.999  INFO 6567 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2020-03-26 18:37:22.999  INFO 6567 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2020-03-26 18:37:23.103  INFO 6567 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2020-03-26 18:37:24.016  INFO 6567 --- [main] b.a.s.AuthenticationManagerConfiguration : 

Using default security password: f49c31a3-9d2b-4abf-bfdc-5d8e7d2e862b

2020-03-26 18:37:24.128  INFO 6567 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/css/**'], Ant [pattern='/js/**'], Ant [pattern='/images/**'], Ant [pattern='/webjars/**'], Ant [pattern='/**/favicon.ico'], Ant [pattern='/error']]], []
2020-03-26 18:37:24.276  INFO 6567 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.boot.autoconfigure.security.SpringBootWebSecurityConfiguration$ApplicationNoWebSecurityConfigurerAdapter$1@55307965, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@674c1672, org.springframework.security.web.context.SecurityContextPersistenceFilter@3c3d53ff, org.springframework.security.web.header.HeaderWriterFilter@77db84cf, org.springframework.security.web.csrf.CsrfFilter@72621df0, org.springframework.security.web.authentication.logout.LogoutFilter@4ead0ae1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1c97ede3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@43caeb40, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4190f278, org.springframework.security.web.session.SessionManagementFilter@6492f863, org.springframework.security.web.access.ExceptionTranslationFilter@421e8b29]
2020-03-26 18:37:24.684  INFO 6567 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 2147483647
2020-03-26 18:37:24.706  INFO 6567 --- [main] c.m.o.platform.persistence.CosmosDBTest  : Started CosmosDBTest in 20.943 seconds (JVM running for 21.752)
2020-03-26 18:37:24.937  WARN 6567 --- [main] c.m.a.d.internal.ServiceJNIWrapper       : 'Mac OS X' with 'x86_64' system is not compatible with native library. JNI not loaded.
2020-03-26 18:37:25.416 ERROR 6567 --- [pool-5-thread-3] c.m.a.d.b.internal.BatchUpdater          : pki 0 failed to update mini-batch. Exception was Message: {"Errors":["Encountered exception while executing function. Exception = Error: {\"errors\":[{\"severity\":\"Error\",\"location\":{\"start\":90,\"end\":97},\"code\":\"SC2001\",\"message\":\"Identifier 'borough' could not be resolved.\"}]}\r\nStack trace: Error: {\"errors\":[{\"severity\":\"Error\",\"location\":{\"start\":90,\"end\":97},\"code\":\"SC2001\",\"message\":\"Identifier 'borough' could not be resolved.\"}]}\n   at queryCallback (script.js:5270:26)\n   at Anonymous function (script.js:614:29)"]}
ActivityId: aa42dc49-bb22-42bb-8399-2fc688f66906, Request URI: /apps/919f03de-8bbf-4ea1-ad94-ca78b0bb1f81/services/3bbc7d5a-da6e-4675-a45e-c36e55530e87/partitions/445789f4-134e-4900-98ac-7083647369ec/replicas/132290727012427261p/, RequestStats: 
RequestStartTime: 2020-03-26T17:37:25.3805742Z, RequestEndTime: 2020-03-26T17:37:25.3906290Z,  Number of regions attempted:1
ResponseTime: 2020-03-26T17:37:25.3906290Z, StoreResult: StorePhysicalAddress: rntbd://am4prdddc11-docdb-2.documents.azure.com:14368/apps/919f03de-8bbf-4ea1-ad94-ca78b0bb1f81/services/3bbc7d5a-da6e-4675-a45e-c36e55530e87/partitions/445789f4-134e-4900-98ac-7083647369ec/replicas/132290727012427261p/, LSN: 111, GlobalCommittedLsn: 111, PartitionKeyRangeId: 0, IsValid: True, StatusCode: 400, SubStatusCode: 400, RequestCharge: 2.33, ItemLSN: -1, SessionToken: -1#111, UsingLocalLSN: False, TransportException: null, ResourceType: StoredProcedure, OperationType: ExecuteJavaScript
, SDK: Microsoft.Azure.Documents.Common/2.10.0, StatusCode: BadRequest. Status code was 400

com.microsoft.azure.documentdb.DocumentClientException: Message: {"Errors":["Encountered exception while executing function. Exception = Error: {\"errors\":[{\"severity\":\"Error\",\"location\":{\"start\":90,\"end\":97},\"code\":\"SC2001\",\"message\":\"Identifier 'borough' could not be resolved.\"}]}\r\nStack trace: Error: {\"errors\":[{\"severity\":\"Error\",\"location\":{\"start\":90,\"end\":97},\"code\":\"SC2001\",\"message\":\"Identifier 'borough' could not be resolved.\"}]}\n   at queryCallback (script.js:5270:26)\n   at Anonymous function (script.js:614:29)"]}
ActivityId: aa42dc49-bb22-42bb-8399-2fc688f66906, Request URI: /apps/919f03de-8bbf-4ea1-ad94-ca78b0bb1f81/services/3bbc7d5a-da6e-4675-a45e-c36e55530e87/partitions/445789f4-134e-4900-98ac-7083647369ec/replicas/132290727012427261p/, RequestStats: 
RequestStartTime: 2020-03-26T17:37:25.3805742Z, RequestEndTime: 2020-03-26T17:37:25.3906290Z,  Number of regions attempted:1
ResponseTime: 2020-03-26T17:37:25.3906290Z, StoreResult: StorePhysicalAddress: rntbd://am4prdddc11-docdb-2.documents.azure.com:14368/apps/919f03de-8bbf-4ea1-ad94-ca78b0bb1f81/services/3bbc7d5a-da6e-4675-a45e-c36e55530e87/partitions/445789f4-134e-4900-98ac-7083647369ec/replicas/132290727012427261p/, LSN: 111, GlobalCommittedLsn: 111, PartitionKeyRangeId: 0, IsValid: True, StatusCode: 400, SubStatusCode: 400, RequestCharge: 2.33, ItemLSN: -1, SessionToken: -1#111, UsingLocalLSN: False, TransportException: null, ResourceType: StoredProcedure, OperationType: ExecuteJavaScript
, SDK: Microsoft.Azure.Documents.Common/2.10.0, StatusCode: BadRequest
	at com.microsoft.azure.documentdb.internal.ErrorUtils.maybeThrowException(ErrorUtils.java:74) ~[azure-documentdb-2.4.7.jar:na]
	at com.microsoft.azure.documentdb.internal.GatewayProxy.performPostRequest(GatewayProxy.java:284) ~[azure-documentdb-2.4.7.jar:na]
	at com.microsoft.azure.documentdb.internal.GatewayProxy.doExecute(GatewayProxy.java:108) ~[azure-documentdb-2.4.7.jar:na]
	at com.microsoft.azure.documentdb.internal.GatewayProxy.processMessage(GatewayProxy.java:360) ~[azure-documentdb-2.4.7.jar:na]
	at com.microsoft.azure.documentdb.DocumentClient$5.apply(DocumentClient.java:3037) ~[azure-documentdb-2.4.7.jar:na]
	at com.microsoft.azure.documentdb.internal.RetryUtility.executeDocumentClientRequest(RetryUtility.java:73) ~[azure-documentdb-2.4.7.jar:na]
	at com.microsoft.azure.documentdb.DocumentClient.doCreate(DocumentClient.java:3042) ~[azure-documentdb-2.4.7.jar:na]
	at com.microsoft.azure.documentdb.DocumentClient.executeStoredProcedure(DocumentClient.java:1571) ~[azure-documentdb-2.4.7.jar:na]
	at com.microsoft.azure.documentdb.bulkexecutor.internal.BatchUpdater$1.call(BatchUpdater.java:174) [documentdb-bulkexecutor-2.9.3.jar:na]
	at com.microsoft.azure.documentdb.bulkexecutor.internal.BatchUpdater$1.call(BatchUpdater.java:148) [documentdb-bulkexecutor-2.9.3.jar:na]
	at com.microsoft.azure.documentdb.repackaged.com.google.common.util.concurrent.TrustedListenableFutureTask$TrustedFutureInterruptibleTask.runInterruptibly(TrustedListenableFutureTask.java:125) [documentdb-bulkexecutor-2.9.3.jar:na]
	at com.microsoft.azure.documentdb.repackaged.com.google.common.util.concurrent.InterruptibleTask.run(InterruptibleTask.java:57) [documentdb-bulkexecutor-2.9.3.jar:na]
	at com.microsoft.azure.documentdb.repackaged.com.google.common.util.concurrent.TrustedListenableFutureTask.run(TrustedListenableFutureTask.java:78) [documentdb-bulkexecutor-2.9.3.jar:na]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_121]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_121]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_121]

2020-03-26 18:37:26.269  INFO 6567 --- [Thread-5] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@432038ec: startup date [Thu Mar 26 18:37:04 CET 2020]; root of context hierarchy
2020-03-26 18:37:26.275  INFO 6567 --- [Thread-5] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 2147483647
2020-03-26 18:37:26.276  INFO 6567 --- [Thread-5] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 0
2020-03-26 18:37:26.303  INFO 6567 --- [Thread-5] c.m.azure.documentdb.DocumentClient      : Closing DocumentClient
2020-03-26 18:37:26.349  INFO 6567 --- [Thread-5] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'onesaitplatform'
2020-03-26 18:37:26.352  INFO 6567 --- [Thread-5] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'onesaitPlatform-masterdb'
