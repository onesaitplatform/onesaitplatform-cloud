webpackJsonp([8],{0:function(t,e,r){(function(t){"use strict";var e=r(1),s=e.module("sba-applications-trace",["sba-applications"]);t.sbaModules.push(s.name),s.controller("traceCtrl",r(121)),s.component("sbaTrace",r(120)),r(37),s.config(["$stateProvider",function(t){t.state("applications.trace",{url:"/trace",templateUrl:"applications-trace/views/trace.html",controller:"traceCtrl"})}]),s.run(["ApplicationViews","$sce",function(t,e){t.register({order:60,title:e.trustAsHtml('<i class="fa fa-eye fa-fw"></i>Trace'),state:"applications.trace"})}])}).call(e,function(){return this}())},36:function(t,e){},37:function(t,e){},120:function(t,e,r){"use strict";r(36),t.exports={bindings:{trace:"<value"},controller:function(){var t=this;t.show=!1,t.toggle=function(){t.show=!t.show},t.getStatusClass=function(){if(t.trace.info.headers.response){var e=parseInt(t.trace.info.headers.response.status);return"http-"+Math.floor(e/100)+"xx"}return"unknown"}},template:r(161)}},121:function(t,e){"use strict";t.exports=["$scope","application","$interval",function(t,e,r){"ngInject";t.traces=[],t.refreshInterval=3,t.refresher=null,t.refresh=function(){e.getTraces().then(function(e){var r=e.data[e.data.length-1],s=t.traces.filter(function(t){return t.timestamp<r.timestamp});t.traces=e.data.concat(s)}).catch(function(e){t.error=e.data})},t.start=function(){t.refresher=r(function(){t.refresh()},1e3*t.refreshInterval)},t.stop=function(){null!==t.refresher&&(r.cancel(t.refresher),t.refresher=null)},t.toggleAutoRefresh=function(){null===t.refresher?t.start():t.stop()},t.$on("$destroy",function(){t.stop()}),t.refresh()}]},161:function(t,e){t.exports='<div class="trace-event" ng-class="$ctrl.getStatusClass()">\n  <div class="header" ng-click="$ctrl.toggle()">\n    <div class="time">{{$ctrl.trace.timestamp | date:\'HH:mm:ss.sss\'}}\n      <br/><small class="muted">{{$ctrl.trace.timestamp | date:\'dd.MM.yyyy\'}}</small></div>\n    <div class="title">\n      <span class="status">{{$ctrl.trace.info.headers.response.status || \'???\' }}</span>\n      <span class="muted"> - {{$ctrl.trace.info.method}}</span> {{$ctrl.trace.info.path}}\n    </div>\n  </div>\n  <pre ng-show="$ctrl.show">{{$ctrl.trace.info | json }}</pre>\n</div>'}});